/* REXX Look at an ISPF table of SMS class data                */
parse upper arg tablname . ;
if tablname = "" then exit 0;
true  = 1;
false = 0;
eof = false;
null = "";
uid = userid();
address "ISPEXEC";
dsname = uid".USER.CNTLLIB";
address "TSO" "ALLOC F(DDDATA) DA('"dsname"(CLASDATA)') OLD";
address "TSO" "ALLOC F(DDMGMT) DA('"dsname"(CLASMGMT)') OLD";
address "TSO" "ALLOC F(DDSTOR) DA('"dsname"(CLASSTOR)') OLD";
address "TSO" "ALLOC F(DDSTGP) DA('"dsname"(CLASSTGP)') OLD";
"TBTOP  DATACLAS";
i = 0;
do while (¬eof);
   "TBSKIP DATACLAS";
   "TBGET  DATACLAS";
    if rc¬=0 then do;
         eof = true;
         iterate;
         end;
    i = i+1;
    outrec.i=left("Verb:"left(zctverb,9)"Trunc:"left(zcttrunc,2)|| ,
         "Act:"zctact,80);
end;
address "TSO" "EXECIO * DISKW DDDATA (FINIS STEM OUTREC.";
eof = false;
exit 0;
