1**********************************************************************
 *                                                          PAGE  1   *
 *                                                                    *
 *                                                                    *
 * NOTE: THERE IS AN NEWSLETTER TO THIS DOCUMENTATION WHICH YOU       *
 *       WILL FIND AT THE END OF THIS MEMBER.                         *
 *       FOR JCL TO EXECUTE NCXPDSCN SEE THE PROCEDURE SPECIFICATION  *
 *       IN ISD INFO.                                                 *
 *       THIS MEMBER IS RATHER DIFFICULT TO BROWSE. YOU ARE           *
 *       RECOMMENDED TO READ THE ISD INFO LISTING OF THIS MEMBER.     *
 *                                                                    *
 * CHANGE HISTORY:                                                    *
 * 19 MAR 82 RH  : CREATED.                                           *
 * 19 JUL 82 RH  : UPDATED MAIN PART OF TEXT WITH AMENDMENT #1.       *
 * 05 NOV 82 RH  : UPDATED FOR NEW ABEND CODES.                       *
 * 12 NOV 82 RH  : UPDATED FOR EXIT FACILITY AND GENERALLY REWRITTEN. *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                 P A R T I T I O N E D   D A T A S E T              *
 *                 _____________________________________              *
 *                                                                    *
 *                                                                    *
 *                  U T I L I T Y    N C X P D S C N                  *
 *                  ________________________________                  *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                       INVENTOR:     P.LARRETT      *
 *                                                      05.01.81      *
 *                                                                    *
 **********************************************************************
1**********************************************************************
 *                                                                    *
 *     1     FUNCTIONS                                      PAGE  2   *
 *           ---------                                                *
 *            THIS PROGRAM WILL PERFORM SEVERAL USEFUL FUNCTIONS ON   *
 *            AN 80 BYTE CARD-IMAGE PARTITIONED DATASET (PDS).        *
 *                                                                    *
 *     1.1   TEXT SCAN                                                *
 *           _________                                                *
 *                                                                    *
 *            SCAN ALL OR SOME OF THE MEMBERS OF A PDS FOR THE        *
 *            OCCURRENCES OF UP TO 40 USER-SPECIFIED CHARACTER        *
 *            STRINGS OF UP TO 31 CHARACTERS. CHARACTER STRINGS MAY   *
 *            CONTAIN ANY VALID EBCDIC CHARACTERS.                    *
 *                                                                    *
 *     1.2   MEMBER UNLOAD                                            *
 *           _____________                                            *
 *                                                                    *
 *            UNLOAD ALL OR SOME OF THE MEMBERS OF A PDS TO A         *
 *            SEQUENTIAL DATASET SUITABLE FOR INPUT TO THE IBM        *
 *            UTILITY 'IEBUPDTE' AS THE DATASET DDNAME=SYSIN. MEMBERS *
 *            ARE SEPARATED BY RECORDS IN THE FORMAT:                 *
 *                                                                    *
 *                                                                    *
 *                ./ ADD NAME=MEMBER                                  *
 *                                                                    *
 *             NO RENUMBERING IS PERFORMED.                           *
 *                                                                    *
 *                                                                    *
 *     1.3   DIRECTORY LISTING                                        *
 *           _________________                                        *
 *                                                                    *
 *            LIST ALL OR PART OF A PDS DIRECTORY. ONLY THE MEMBER    *
 *            NAMES ARE LISTED; NO TTR OR USER DATA IS LISTED.        *
 *                                                                    *
 *                                                                    *
 *      1.4  MEMBER SELECTION                                         *
 *           ----------------                                         *
 *                                                                    *
 *            THE SELECTION OF MEMBERS TO BE PROCESSED MAY BE BY THE  *
 *            FOLLOWING CRITERIA:                                     *
 *                                                                    *
 *            GENERIC - THE MEMBERS ARE IDENTIFIED BY A PARTICULAR    *
 *                      PREFIX.                                       *
 *                                                                    *
 *            SPECIFIC - THE MEMBERS ARE IDENTIFIED BY NAME.          *
 *                                                                    *
 *            FULL FILE - ALL MEMBERS IN A PDS ARE PROCESSED.         *
 *                                                                    *
 *      1.5  EXITS                                                    *
 *           -----                                                    *
 *                                                                    *
 *           PROCESSING MAY BE FURTHER CONTROLLED BY TWO EXITS:       *
 *                                                                    *
 *           EXIT 0 MAY BE USED TO REJECT MEMBERS FROM PROCESSING.    *
 *                                                                    *
 *           EXIT 1 MAY BE USED TO REJECT RECORDS FROM PROCESSING.    *
 *                                                                    *
 *                                                                    *
 **********************************************************************
1**********************************************************************
 *                                                                    *
 *     2     PARAMETER OPTIONS                              PAGE  3   *
 *           -----------------                                        *
 *                                                                    *
 *                                                                    *
 *     2.1   OVERVIEW                                                 *
 *           ________                                                 *
 *                                                                    *
 *                                                                    *
 *             PROCESSING OPTIONS ARE SPECIFIED IN THE PROGRAM        *
 *            PARAMETER ON THE EXEC JCL STATEMENT. EACH OPTION IS     *
 *            DESIGNATED A SINGLE CHARACTER:                          *
 *             EG:               PARM='C,K,L'                         *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *     2.2   TEXT SCAN OUTPUT                                         *
 *           ________________                                         *
 *                                                                    *
 *                                                                    *
 *             THERE ARE TWO OPTIONS DICTATING HOW OUTPUT FROM THE    *
 *            TEXT SCAN FACILITY IS PRESENTED; THE LAYOUT OF THE      *
 *            FILES PRODUCED IS DESCRIBED IN FULL IN '4.2  OUTPUT     *
 *            SCAN/CROSS-REFERENCE FILES'. ESSENTIALLY, THE FIRST     *
 *            PROVIDES A CARD (I)MAGE OF ANY RECORD THAT SATISFIES    *
 *            THE SELECTION CRITERIA; THE SECOND PROVIDES A FORMATTED *
 *            RECORD THAT ASSUMES A (K)EYWORD TYPE INPUT THAT         *
 *            REQUIRES A DATA OPERAND. EXAMPLES OF THIS SECOND TYPE   *
 *            MIGHT BE 'DSN' IN A JCL PROC OR 'COPY' IN A COBOL       *
 *            PROGRAM.                                                *
 *                                                                    *
 *                 A)  IMAGE OUTPUT                                   *
 *                       THE CHARACTER 'I' SPECIFIES TEXT SCAN OUTPUT *
 *                      TO BE IN IMAGE FORM                           *
 *                                                                    *
 *                 B)  FORMATTED OUTPUT                               *
 *                       THE CHARACTER 'K' SPECIFIES TEXT SCAN OUTPUT *
 *                      TO BE IN A FORMATTED LAYOUT.                  *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *     2.3   MEMBER SELECTION                                         *
 *           ________________                                         *
 *                                                                    *
 *                                                                    *
 *             MEMBERS MAY BE SELECTED IN THREE MODES :               *
 *                                                                    *
 *                 A)  FULL FILE                                      *
 *                                                                    *
 *                 B)  SELECTED MEMBERS AS SPECIFIED ON CARD INPUT    *
 *                                                                    *
 *                 C)  SELECTED MEMBERS AS SPECIFIED BY A SINGLE      *
 *                     'GENERIC' CRITERION.                           *
 *                                                                    *
 **********************************************************************
1**********************************************************************
 *                                                                    *
 *                                                          PAGE 4    *
 *                                                                    *
 *     2.3   MEMBER SELECTION  (CONTD)                                *
 *           ________________                                         *
 *                                                                    *
 *                                                                    *
 *               IN THE FIRST INSTANCE, EVERY MEMBER IN THE           *
 *              SPECIFIED DATASET IS PROCESSED; IN THE SECOND,        *
 *              MEMBER NAMES ARE SPECIFIED ON CARDS. IN THE THIRD,    *
 *              THE PARTITIONED DATASET IS SEARCHED FOR MEMBERS       *
 *              SATISFYING A 'GENERIC' SELECTION CRITERION.           *
 *                                                                    *
 *               PARAMETER OPTIONS FOR A), B), AND C) ARE 'F',        *
 *              'C' AND 'G' RESPECTIVELY.                             *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *     2.4   UNLOAD                                                   *
 *           ______                                                   *
 *                                                                    *
 *                                                                    *
 *               EACH MEMBER SELECTED MAY BE UNLOADED TO A SEQUENTIAL *
 *              FILE OF 80-BYTE RECORDS IF REQUIRED. THE CODE USED TO *
 *              SPECIFY THIS OPTION IS 'U'.                           *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *     2.5   DIRECTORY LIST                                           *
 *           ______________                                           *
 *                                                                    *
 *                                                                    *
 *               A DIRECTORY LIST OF MEMBER NAMES ACCESSED ACCORDING  *
 *              TO THE MEMBER SELECTION CRITERIA MAY OPTIONALLY BE    *
 *              PRODUCED. THE CODE USED TO SPECIFY THIS OPTION IS 'L'.*
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *     2.6   SUMMARY                                                  *
 *           _______                                                  *
 *                                                                    *
 *                                                                    *
 *            PARAMETER CODE       FUNCTION                     NOTES *
 *            ______________       ________                     ----- *
 *                                                                    *
 *                 C           MEMBER SELECTION - CARD INPUT        1 *
 *                 F           MEMBER SELECTION - FULL FILE         1 *
 *                 G           MEMBER SELECTION - GENERIC CRITERION 1 *
 *                 I           TEXT SCAN - IMAGE OUTPUT             2 *
 *                 K           TEXT SCAN - FORMATTED OUTPUT         2 *
 *                 L           DIRECTORY LISTING                      *
 *                 U           UNLOAD                                 *
 *                                                                    *
 *               1  -  MUTUALLY EXCLUSIVE BUT ONE MUST BE SPECIFIED   *
 *               2  -  MUTUALLY EXCLUSIVE AND OPTIONAL; DEFAULT IS    *
 *                     NO TEXT SCAN                                   *
 *                                                                    *
 *                                                                    *
 **********************************************************************
1**********************************************************************
 *                                                                    *
 *                                                          PAGE 5    *
 *                                                                    *
 *     2.7   EXITS                                                    *
 *           _____                                                    *
 *                                                                    *
 *                                                                    *
 *           THE NAMES OF THE EXITS ARE SPECIFIED IN THE PROGRAM      *
 *           PARAMETER  WITH THE PROCESSING OPTIONS. THERE IS NO      *
 *           RESTRICTION ON THE ORDER IN WHICH THEY ARE SPECIFIED.    *
 *                                                                    *
 *           THE FORMAT OF THE EXIT SPECIFICATION IS:                 *
 *                                                                    *
 *           E0= | E1= FOLLOWED BY THE NAME OF THE EXIT. AN EXIT NAME *
 *           OF 'NO' IS EQUIVALENT TO NOT SPECIFYING THAT EXIT.       *
 *                                                                    *
 *           EG: PARM='F,I,E0=NCZ93401' PARM='G,E1=NCZ93402,K'        *
 *                                                                    *
 *     2.8   EXIT 0                                                   *
 *           ______                                                   *
 *                                                                    *
 *                                                                    *
 *           INVOKED - BEFORE A MEMBER IS PROCESSED                   *
 *                                                                    *
 *           LINKAGE - STANDARD OS - PARAMETER 1 -> MEMBER NAME       *
 *                                                                    *
 *                     RETURN CODE - 0   = CONTINUE                   *
 *                                  ¬0   = DO NOT PROCESS THIS MEMBER *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *     2.9   EXIT 1                                                   *
 *           ______                                                   *
 *                                                                    *
 *                                                                    *
 *           INVOKED - BEFORE A RECORD IS PROCESSED                   *
 *                                                                    *
 *           LINKAGE - STANDARD OS - PARAMETER 1 -> RECORD AREA       *
 *                                                                    *
 *                     RETURN CODE - 0   = CONTINUE                   *
 *                                  ¬0   = DO NOT PROCESS THIS RECORD *
 *                                                                    *
 *                                                                    *
 *     2.10  AVAILABLE EXITS                                          *
 *           ---------------                                          *
 *                                                                    *
 *           NCZ93401 - EXIT 1 TO IGNORE COMMENTS IN COBOL SCAN       *
 *                                                                    *
 *           NCZ93402 - EXIT 1 TO CONFINE COBOL SCAN TO DATA DIVISION *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 **********************************************************************
1**********************************************************************
 *                                                                    *
 *     3     INPUT                                          PAGE 6    *
 *           -----                                                    *
 *                                                                    *
 *     3.1   OVERVIEW                                                 *
 *           ________                                                 *
 *                                                                    *
 *                                                                    *
 *              PRIME INPUT TO THE UTILITY CONSISTS OF A PARTITIONED  *
 *             DATASET CONTAINING 80-BYTE RECORDS BLOCKED TO ANY      *
 *             SIZE. THE NEXT TWO SECTIONS COVER THE USER SUPPLIED    *
 *             SPECIFICATIONS.                                        *
 *                                                                    *
 *                                                                    *
 *     3.2   CHARACTER STRING                                         *
 *           ________________                                         *
 *                                                                    *
 *                                                                    *
 *              A)  CHARACTER STRING CARDS ARE SUPPLIED VIA THE       *
 *                 DATASET DDNAME=CARDIN1 AS 80-BYTE RECORDS. EACH    *
 *                 CHARACTER STRING MAY BE UP TO 31 CHARACTERS IN     *
 *                 LENGTH.                                            *
 *                                                                    *
 *                                                                    *
 *              B)  UP TO 40 CHARACTER STRINGS MAY BE SUPPLIED.       *
 *                                                                    *
 *              C)  CHARACTER STRING DATA MUST BEGIN IN COLUMN 1.     *
 *                 DATA ON A SINGLE CARD IS DELIMITED BY A SINGLE     *
 *                 SPACE; MULTIPLE STRINGS ON A SINGLE CARD MAY BE    *
 *                 ENTERED SEPARATED BY COMMAS. FOR EXAMPLE, THE      *
 *                 CARD                                               *
 *                                                                    *
 *                   DSN,DD,SPACE                                     *
 *                                                                    *
 *                 IS EQUIVALENT TO THE CARDS                         *
 *                                                                    *
 *                   DSN                                              *
 *                   DD                                               *
 *                   SPACE                                            *
 *                                                                    *
 *              D)  FOR STRING CONTAINING EMBEDDED SPACES OR COMMAS   *
 *                 A SLIGHTLY DIFFERENT FORMAT IS USED. ANY STRING    *
 *                 MAY BE PRECEDED BY AN EQUAL SIGN (=) AND ENCLOSED  *
 *                 BY ANY DELIMITER EXCEPT FOR SPACE OR COMMA; ANY    *
 *                 OF THE FOLLOWING ARE EQUIVALENT TO THE CARDS       *
 *                 LISTED ABOVE :                                     *
 *                                                                    *
 *                   ='DSN',='DD',='SPACE'                            *
 *                   DSN,=/DD/,SPACE                                  *
 *                   =*DSN*,=IDDI,=6SPACE6                            *
 *                                                                    *
 *                  NOTE THAT COMMAS ARE STILL USED TO SEPARATE THE   *
 *                 ENCLOSED STRINGS, AND THAT THE TWO FORMATS ARE     *
 *                 FREELY INTERCHANGEABLE.                            *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 **********************************************************************
1**********************************************************************
 *                                                                    *
 *                                                          PAGE 7    *
 *                                                                    *
 *     3.3   MEMBER SELECTION                                         *
 *           ________________                                         *
 *                                                                    *
 *                                                                    *
 *              A)  MEMBER SELECTION CARDS ARE SUPPLIED VIA THE       *
 *                 DATASET DDNAME=CARDIN2. IF THE PARAMETER OPTION    *
 *                 'F' IS SPECIFIED, NO CARDS ARE REQUIRED.           *
 *                                                                    *
 *              B)  IF THE PARAMETER OPTION 'C' IS SPECIFIED, EACH    *
 *                 MEMBER TO BE INSPECTED MUST BE SPECIFIED IN        *
 *                 COLUMNS 1-8 ON A SEPARATE CARD. THERE IS NO LIMIT  *
 *                 TO THE NUMBER OF MEMBER NAMES THAT MAY BE          *
 *                 SUPPLIED.                                          *
 *                                                                    *
 *              C)  IF THE PARAMETER OPTION 'G' IS SPECIFIED, A       *
 *                 SINGLE CARD DEFINING THE PREFIX OF THE REQUIRED    *
 *                 MEMBERS BEGINNING IN COLUMN 1 AND CONSISTING OF    *
 *                 UP TO 8 CHARACTERS MUST BE SUPPLIED. SECOND AND    *
 *                 SUBSEQUENT CARDS WILL BE IGNORED. MEMBERS SELECTED *
 *                 WILL BE THOSE HAVING A MATCH ON THE NUMBER OF      *
 *                 SIGNIFICANT CHARACTERS CODED; THE PREFIX SUPPLIED  *
 *                 ON THE CARD INPUT WILL BE DELIMITED BY A SPACE.    *
 *                                                                    *
 *                  FOR EXAMPLE, THE INPUT                            *
 *                                                                    *
 *                    NCZ                                             *
 *                                                                    *
 *                 WILL EXTRACT ALL MEMBERS BEGINNING WITH THE        *
 *                 CHARACTERS 'NCZ'; THE INPUT                        *
 *                                                                    *
 *                    NCZ610                                          *
 *                                                                    *
 *                 WILL EXTRACT ALL THOSE BEGINNING 'NCZ610'.         *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 **********************************************************************
1**********************************************************************
 *                                                                    *
 *     4     OUTPUT                                         PAGE 8    *
 *           ------                                                   *
 *                                                                    *
 *     4.1   OVERVIEW                                                 *
 *           ________                                                 *
 *                                                                    *
 *               OUTPUT IS DIRECTED TO THREE FILES SPECIFIED BY THE   *
 *              FOLLOWING DD STATEMENTS:                              *
 *                                                                    *
 *              XREFL - CROSS REFERENCE / SCAN                        *
 *                                                                    *
 *              SEQFL - UNLOADED MEMBERS                              *
 *                                                                    *
 *              LIST  - PROCESSING REPORT                             *
 *                                                                    *
 *     4.2   SCAN / CROSS-REFERENCE FILES                             *
 *           ____________________________                             *
 *                                                                    *
 *               IF EITHER OF THE PARAMETER OPTIONS 'K' OR 'I' IS     *
 *              SPECIFIED, A SEQUENTIAL FILE OF 80-BYTE RECORDS       *
 *              (DDNAME=XREFL) WILL BE CREATED. A RECORD WILL BE      *
 *              WRITTEN TO THE FILE WHEN A MATCHING CHARACTER STRING  *
 *              TO ONE OF THOSE SPECIFIED IN CARDIN1 IS DETECTED      *
 *              WITHIN THE PARTITIONED DATASET MEMBER BEING           *
 *              INSPECTED. THE PRECISE ACTION THEN TAKEN DEPENDS ON   *
 *              THE OPTION SPECIFIED.                                 *
 *                                                                    *
 *              4.2.1  IMAGE OPTION                                   *
 *                                                                    *
 *                     IF THE PARAMETER OPTION IS 'I', THE FOLLOWING  *
 *                    PROCESS IS EXECUTED :                           *
 *                                                                    *
 *                       A)  THE MEMBER NAME IS PLACED IN COLUMNS     *
 *                           73-80 OF THE SELECTED RECORD             *
 *                       B)  THE SELECTED RECORD IS WRITTEN UNCHANGED *
 *                           TO THE SCAN OUTPUT FILE                  *
 *                       C)  THE NEXT 80-BYTE RECORD OF THE DATASET   *
 *                           MEMBER IS READ.                          *
 *                                                                    *
 *              4.2.2  KEYWORD / FORMATTED OPTION                     *
 *                                                                    *
 *                     IF THE PARAMETER OPTION IS 'K', THE FOLLOWING  *
 *                    PROCESS IS EXECUTED :                           *
 *                                                                    *
 *                       A)  THE MEMBER NAME IS PLACED IN COLUMNS     *
 *                           73-80 OF THE SELECTED RECORD             *
 *                       B)  THE CHARACTER STRING ON WHICH THE        *
 *                           MATCH WAS OBTAINED IS PLACED IN COLUMNS  *
 *                           1-31                                     *
 *                       C)  THE PORTION OF THE SELECTED RECORD       *
 *                           IMMEDIATELY FOLLOWING THE MATCHED        *
 *                           CHARACTER STRING IS INSPECTED FOR ANY OF *
 *                           THE CHARACTERS &, @, $, # OR ANY ALPHA.  *
 *                           IF NONE IS FOUND THE RECORD IS WRITTEN   *
 *                           AS SPECIFIED IN A) AND B) ABOVE WITH     *
 *                           SPACES FILLING COLUMNS 32-72.            *
 **********************************************************************
1**********************************************************************
 *                                                                    *
 *                                                          PAGE 9    *
 *                                                                    *
 *     4.2   SCAN / CROSS-REFERENCE FILES   (CONTD)                   *
 *           ____________________________                             *
 *                                                                    *
 *                                                                    *
 *              4.2.2  KEYWORD / FORMATTED OPTION   (CONTD)           *
 *                                                                    *
 *                                                                    *
 *                       D)  IF ONE OF THE ABOVE CHARACTERS IS        *
 *                           FOUND, THE LINE IS NEXT INSPECTED FOR    *
 *                           A DELIMITING COMMA OR SPACE. THE         *
 *                           CHARACTERS FROM THE &, @, $, # OR ALPHA  *
 *                           TO THE DELIMITING COMMA OR SPACE         *
 *                           (EXCLUDING THE FINAL DELIMITER) ARE      *
 *                           PLACED IN COLUMNS 32-72 AND THE RECORD   *
 *                           WRITTEN                                  *
 *                       E)  THE SEARCH FOR MATCHING CHARACTER STRING *
 *                           IS RESUMED ON THE SAME RECORD FROM THE   *
 *                           SECOND CHARACTER OF THE STRING DETECTED. *
 *                           THIS MEANS THAT MULTIPLE RECORDS MAY BE  *
 *                           GENERATED FROM A SINGLE RECORD WITHIN A  *
 *                           PARTITIONED DATASET MEMBER; IT ALSO      *
 *                           MEANS, HOWEVER, THAT A CHARACTER STRING  *
 *                           MATCH ON MEMBER DATA PRECLUDES A         *
 *                           RECOMPARE AGAINST A SECOND STRING. FOR   *
 *                           EXAMPLE, FOR CARDIN1 INPUT               *
 *                             SORT,SORTLIB                           *
 *                           ONLY ONE RECORD WILL BE GENERATED FROM   *
 *                           A MEMBER RECORD CONTAINING THE           *
 *                           CHARACTERS 'SORTLIB'; THIS RECORD WILL   *
 *                           HAVE THE CHARACTERS 'SORTLIB' IN COLUMNS *
 *                           1-7. THE CODING OF CARDIN1 AS            *
 *                             SORTLIB,SORT                           *
 *                           WILL GENERATE EXACTLY THE SAME OUTPUT    *
 *                           WITH FEWER COMPARES, EXCEPT THAT THE     *
 *                           RECORD CONTAINING 'SORTLIB' WILL NOW BE  *
 *                           PREFIXED 'SORT' IN COLUMNS 1-4. IT IS    *
 *                           NOW APPARENT THEREFORE THAT              *
 *                             1) THE CODING OF SORTLIB,SORT IS       *
 *                                IDENTICAL TO SIMPLY CODING SORT  AS *
 *                             2) COMPARISION FOR ITEMS WITH A COMMON *
 *                                LEADING STRING ARE EXECUTED IN THE  *
 *                                REVERSE ORDER TO THAT IN WHICH THEY *
 *                                ARE SUPPLIED.                       *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 **********************************************************************
1**********************************************************************
 *                                                                    *
 *                                                          PAGE 10   *
 *                                                                    *
 *     4.3   UNLOADED DATA                                            *
 *           _____________                                            *
 *                                                                    *
 *                                                                    *
 *               MEMBERS UNLOADED FROM THE PARTITIONED DATASET ARE    *
 *              WRITTEN TO THE FILE DDNAME=SEQFL AS 80-BYTE RECORDS.  *
 *              EACH RECORD IS WRITTEN UNCHANGED; MEMBERS ARE         *
 *              SEPARATED BY CARDS OF THE FORM                        *
 *                                                                    *
 *                  ./ ADD NAME=MEMBER                                *
 *                                                                    *
 *               IT SHOULD BE NOTED THAT EACH MEMBER SPECIFIED VIA    *
 *              THE MEMBER SELECTION CRITERIA WILL BE UNLOADED IF     *
 *              VIA DDNAME=CARDIN2 FOR TEXT SCANNING WILL NOT ALTER   *
 *              THE CONTENTS OF THE UNLOADED FILE; ANY SUCH SELECTIVE *
 *              UNLOAD MUST BE PERFORMED IN TWO PASSES. FOR EXAMPLE,  *
 *              TO UNLOAD ONLY THOSE MEMBERS OF A PARTITIONED DATASET *
 *              CONTAINING THE CHARACTERS 0814 WOULD REQUIRE TWO      *
 *              EXECUTIONS :                                          *
 *                                                                    *
 *                 A)  PARM='F,I'                                     *
 *                     CARDIN1   0814                                 *
 *                 B)  PARM='C,U'                                     *
 *                     CARDIN2   MEMBERS IDENTIFIED BY A)             *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *     4.4   DIRECTORY LISTING                                        *
 *           _________________                                        *
 *                                                                    *
 *                                                                    *
 *               THE DIRECTORY LISTING (DDNAME=LIST) IS A PRINT FILE  *
 *              OF 133-BYTE RECORDS PREFIXED WITH ASA FORTRAN CONTROL *
 *              CHARACTERS. A TWO LINE HEADING IDENTIFIES THE         *
 *              SELECTION BEING PRINTED. EACH LINE ON THE REPORT      *
 *              CONSISTS ONLY OF THE MEMBER NAMES.                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *     4.5   ERROR / PARAMETER REPORTS                                *
 *           _________________________                                *
 *                                                                    *
 *                                                                    *
 *               REGARDLESS OF WHETHER THE LIST OPTION 'L' IS         *
 *              SPECIFIED, A SINGLE PAGE REPORT IS WRITTEN TO THE     *
 *              LIST FILE SUMMARISING THE OPTIONS IN EFFECT FOR THE   *
 *              RUN. THESE ARE                                        *
 *                                                                    *
 *                 A)  TEXT SCAN OPTIONS                              *
 *                 B)  MEMBER UNLOAD OPTIONS                          *
 *                 C)  LISTING OPTIONS                                *
 *                 D)  CHARACTER STRING INPUT                         *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 **********************************************************************
1**********************************************************************
 *                                                                    *
 *                                                          PAGE 11   *
 *                                                                    *
 *     4.5   ERROR / PARAMETER REPORTS                                *
 *           _________________________                                *
 *                                                                    *
 *                                                                    *
 *               THE REPORT DOES NOT PRINT ANY DATA FROM THE MEMBER   *
 *              SELECTION INPUT (DDNAME=CARDIN2); VISIBILITY TO       *
 *              MEMBERS PROCESSED MUST BE OBTAINED VIA THE DIRECTORY  *
 *              LISTING (OPTION 'L').                                 *
 *               IN CERTAIN INSTANCES THE UTILITY WILL DEEM THAT      *
 *              PARAMETER INPUT IS IN ERRROR; PROCESSING WILL STOP    *
 *              WITH AN ABEND CODE CODE IN THESE INSTANCES.           *
 *              VALUES ARE :                                          *
 *                                                                    *
 *                0100 : NO PARAMETER SUPPLIED                        *
 *                0101 : CARD AND GENERIC MEMBER SELECTION SPECIFIED  *
 *                0102 : FORMATTED AND IMAGE TEXT OUTPUT SPECIFIED    *
 *                0103 : SYNTAX ERROR IN CHARACTER STRING PREFIXED BY *
 *                       '='                                          *
 *                0104 : INVALID EXIT NAME.                           *
 *                0152 : INCORRECTLY SPECIFIED GENERIC MEMBER PREFIX. *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 **********************************************************************
1**********************************************************************
 *                                                                    *
 *     5     JCL                                            PAGE 12   *
 *           ---                                                      *
 *                                                                    *
 *                                                                    *
 *     5.1   PROCEDURE LISTING (FOR EXAMPLE ONLY)                     *
 *           -----------------                                        *
 *                                                                    *
 *                                                                    *
 *             //NCXPDSCN PROC PRE=MAC1,                              *
 *             //             DSN=,                                   *
 *             //             OPT=,                                   *
 *             //             PGM01=NCXPDSCN,                         *
 *             //             SOUT='*'                                *
 *             //******************************************************
 *             //***********  SCAN SELECTED PARTITIONED DATASET *******
 *             //******************************************************
 *             //PDSCN01 EXEC PGM=&PGM01,                             *
 *             //             PARM='&OPT'                             *
 *             //STEPLIB   DD DSN=&PRE..LOAD,DISP=SHR                 *
 *             //PDSDIR    DD DSN=&DSN,DISP=SHR                       *
 *             //PDS       DD DSN=&DSN,DISP=SHR                       *
 *             //CARDIN1   DD DDNAME=CARDIN1                          *
 *             //CARDIN2   DD DDNAME=CARDIN2                          *
 *             //SEQFL     DD UNIT=SYSDA,                             *
 *             //             DISP=(,PASS),                           *
 *             //             SPACE=(CYL,(1,1)),                      *
 *             //             DCB=(RECFM=FB,LRECL=80,BLKSIZE=6160)    *
 *             //XREFL     DD UNIT=SYSDA,                             *
 *             //             DISP=(,PASS),                           *
 *             //             SPACE=(CYL,(1,1)),                      *
 *             //             DCB=(RECFM=FB,LRECL=80,BLKSIZE=6160)    *
 *             //LIST      DD SYSOUT=&SOUT,DCB=BLKSIZE=1995           *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 **********************************************************************
1**********************************************************************
 *                                                                    *
 *     6     EXAMPLES                                       PAGE 13   *
 *           --------                                                 *
 *                                                                    *
 *     6.1   SUMMARY OF EXAMPLES                                      *
 *           ___________________                                      *
 *                                                                    *
 *                                                                    *
 *               FOUR EXAMPLES ARE PROVIDED :                         *
 *                                                                    *
 *                 A)  COPY CROSS-REFERENCE FOR ALL MEMBERS ON A PDS  *
 *                     BEGINNING NCX610                               *
 *                                                                    *
 *                        IN THIS EXAMPLE                             *
 *                            PARM='G,K,L'                            *
 *                            CARDIN1 : COPY                          *
 *                            CARDIN2 : NCX610                        *
 *                                                                    *
 *                        THE OUTPUT FILE DDNAME=XREFL WAS THEN       *
 *                       SORTED :                                     *
 *                            SORT FIELDS=(32,8,CH,A,73,8,CH,A)       *
 *                       AND PRINTED USING THE IBM UTILITY IEBPTPCH   *
 *                                                                    *
 *                                                                    *
 *                 B)  DSN LISTING FOR J.C.L. PROCEDURES NCVC7E00,    *
 *                     NCVC7E01, AND NCVC7E50                         *
 *                                                                    *
 *                        IN THIS EXAMPLE                             *
 *                            PARM='C,K'                              *
 *                            CARDIN1 : DSN                           *
 *                            CARDIN2 : NCVC7E00                      *
 *                                      NCVC7E01                      *
 *                                      NCVC7E50                      *
 *                                                                    *
 *                        THE SORT AND PRINT PROCEDURE USED IN A)     *
 *                       WAS FOLLOWED.                                *
 *                                                                    *
 *                                                                    *
 *                 C)  SEARCH OF CONTROL LIBRARY FOR CHARACTERS 0887  *
 *                     (FULL FILE)                                    *
 *                                                                    *
 *                        IN THIS EXAMPLE                             *
 *                            PARM='F,I'                              *
 *                            CARDIN1 : 0887                          *
 *                                                                    *
 *                        THE IBM UTILITY IEBPTPCH WAS USED TO PRINT  *
 *                       THE FILE DDNAME=XREFL IN THE SEQUENCE IN     *
 *                       WHICH IT WAS CREATED.                        *
 *                                                                    *
 *                                                                    *
 *                 D)  UNLOAD OF ALL MEMBERS BEGINNING NCVC7          *
 *                                                                    *
 *                        IN THIS EXAMPLE                             *
 *                            PARM='G,U,L'                            *
 *                            CARDIN2 : NCVC7                         *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 **********************************************************************
1**********************************************************************
 *                                                                    *
 * EXAMPLE A                                                PAGE  14  *
 *                                                                    *
 * PROGRAM : NCXPDSCN        * PARTITIONED DATASET UTILITY            *
 * REPORT  : NCXPDSCN-A       * INPUT PARAMETER LISTING *             *
 *                     -----------------------------------------      *
 *                 TEXT   :             FORMAT                        *
 *                 ----                                               *
 *                 MEMBER :                GENERIC                    *
 *                 ------                                             *
 *                 OTHER  :              LIST                         *
 *                 -----                                              *
 *         * INPUT CHARACTER STRINGS *                                *
 *         ---------------------------                                *
 *              COPY                                                  *
 *                                                                    *
 *                                                                    *
 * PROGRAM : NCXPDSCN         * PARTITIONED DATASET UTILITY *         *
 * REPORT  : NCXPDSCN-B    * DIRECTORY LISTING FOR SELECTION=NCX610   *
 *                         -----------------------------------------  *
 *                                                NCX610C7            *
 *                                                NCX610X1            *
 *                                                NCX610X2            *
 *                                                NCX610X3            *
 *                                                NCX610X4            *
 *                                                NCX61004            *
 *                                                NCX61005            *
 *                                                NCX61006            *
 *                                                NCX61008            *
 *                                                NCX61009            *
 *                                                NCX61089            *
 *                                                NCX61090            *
 *                                                NCX61091            *
 *                                                NCX61092            *
 *                                                NCX61093            *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *    COPY             NCSSSAS.                          NCX610X1     *
 *    COPY             NCV800C7.                         NCX610C7     *
 *    COPY             NCV800C7.                         NCX610X1     *
 *    COPY             NCV800C7.                         NCX61089     *
 *    COPY             NCV800C7.                         NCX61090     *
 *    COPY             NCV801C7.                         NCX610C7     *
 *    COPY             NCV824C5.                         NCX610X1     *
 *    COPY             NCV824C5.                         NCX61089     *
 *    COPY             NCV824C5.                         NCX61090     *
 *    COPY             NCV850C5.                         NCX610X1     *
 *    COPY             NCV850C5.                         NCX61089     *
 *    COPY             NCV850C5.                         NCX61090     *
 *    COPY             NCV851C5.                         NCX610X1     *
 *    COPY             NCV851C5.                         NCX61089     *
 *    COPY             NCV851C5.                         NCX61090     *
 *    COPY             NCV853C5.                         NCX610X1     *
 *    COPY             NCV853C5.                         NCX61089     *
 *    COPY             NCV853C5.                         NCX61090     *
 *                                                                    *
 *                                                                    *
 **********************************************************************
1**********************************************************************
 *                                                                    *
 * EXAMPLE B                                                PAGE  15  *
 *                                                                    *
 * PROGRAM : NCXPDSCN        * PARTITIONED DATASET UTILITY            *
 * REPORT  : NCXPDSCN-A       * INPUT PARAMETER LISTING *             *
 *                     -----------------------------------------      *
 *                 TEXT   :             FORMAT                        *
 *                 ----                                               *
 *                 MEMBER :           CARD                            *
 *                 ------                                             *
 *                 OTHER  :                                           *
 *                 -----                                              *
 *          * INPUT CHARACTER STRINGS *                               *
 *          ---------------------------                               *
 *               DSN                                                  *
 *                                                                    *
 *    DSN                      &&NCVPSLG1                   NCVC7E50  *
 *    DSN                      &&NCVPSS01                   NCVC7E00  *
 *    DSN                      &&NCVPSS01                   NCVC7E00  *
 *    DSN                      &&NCVPSS02                   NCVC7E00  *
 *    DSN                      &&NCVPSS02                   NCVC7E00  *
 *    DSN                      &&NCVPSS03                   NCVC7E00  *
 *    DSN                      &&NCVPSS03                   NCVC7E00  *
 *    DSN                      &&NCVPSS07                   NCVC7E00  *
 *    DSN                      &&NCVPSS07                   NCVC7E00  *
 *    DSN                      &&NCVPSS04                   NCVC7E00  *
 *    DSN                      &&NCVPSS04                   NCVC7E00  *
 *    DSN                      &&NCVPSS01                   NCVC7E01  *
 *    DSN                      &&NCVPSS01                   NCVC7E01  *
 *    DSN                      &&NCVPSS02                   NCVC7E01  *
 *    DSN                      &&NCVPSS02                   NCVC7E01  *
 *    DSN                      &&NCVPSS03                   NCVC7E01  *
 *    DSN                      &&NCVPSS03                   NCVC7E01  *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 **********************************************************************
1**********************************************************************
 *                                                                    *
 * EXAMPLE C                                                PAGE  16  *
 *                                                                    *
 * PROGRAM : NCXPDSCN        * PARTITIONED DATASET UTILITY            *
 * REPORT  : NCXPDSCN-A       * INPUT PARAMETER LISTING *             *
 *                     -----------------------------------------      *
 *                 TEXT   :       IMAGE                               *
 *                 ----                                               *
 *                 MEMBER :       ALL                                 *
 *                 ------                                             *
 *                 OTHER  :                                           *
 *                 -----                                              *
 *         * INPUT CHARACTER STRINGS *                                *
 *         ---------------------------                                *
 *               0887                                                 *
 *                                                                    *
 *                                                                    *
 *  00B0887                                       0814       NCWRIMHD *
 *  L  00420     FILL02         V0887                        NCW19908 *
 *  L  00420     IDLOC          V0887                        NCW19915 *
 *  L  00420     IDLOC          V0887                        NCW19916 *
 *  L  00420     IDLOC          V0887                        NCW19917 *
 *  0887                                                     NCW61201 *
 *  00B0887                                   00300          NCX21120 *
 *  00B0887                                   00300          NCX80001 *
 *  00B0887010178TMRP                                        TRIMSHDR *
 *  00B0887010178S                                           TRMS1502 *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 **********************************************************************
1**********************************************************************
 *                                                                    *
 * EXAMPLE D                                                PAGE  17  *
 *                                                                    *
 * PROGRAM : NCXPDSCN        * PARTITIONED DATASET UTILITY            *
 * REPORT  : NCXPDSCN-A       * INPUT PARAMETER LISTING *             *
 *                     -----------------------------------------      *
 *                 TEXT   :       IMAGE                               *
 *                 ----                                               *
 *                 MEMBER :                GENERIC                    *
 *                 ------                                             *
 *                 OTHER  :       UNLOAD LIST                         *
 *                 -----                                              *
 *                                                                    *
 *                                                                    *
 *  PROGRAM : NCXPDSCN        * PARTITIONED DATASET UTILITY *         *
 *  REPORT  : NCXPDSCN-B     * DIRECTORY LISTING FOR SELECTION=NCVC7  *
 *                          ----------------------------------------- *
 *                                                NCVC7DTL            *
 *                                                NCVC7E00            *
 *                                                NCVC7E01            *
 *                                                NCVC7E50            *
 *                                                NCVC7E51            *
 *                                                NCVC7E60            *
 *                                                NCVC7E61            *
 *                                                NCVC7E62            *
 *                                                NCVC7E64            *
 *                                                NCVC7E72            *
 *                                                NCVC7E73            *
 *                                                NCVC7E74            *
 *                                                NCVC7E94            *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 * ./ ADD NAME=NCVC7DTL                                               *
 * //NCVC7DTL PROC NXX=,                                  00010000    *
 * //          COND0='(0,LT)',                            00020000    *
 * //          IMZLIB='IMZ.LOAD',                         00030000    *
 * //          IMSLIB='IMS.LOAD',                         00040000    *
 * //          PSBLIB='IMS.PSBLIB',                       00050000    *
 * //          DBDLIB='IMS.DBDLIB',                       00060000    *
 * //          PGMIMS=DFSRRC00,                           00070000    *
 * //          PGM010=DFSDDLT0,                           00080000    *
 * //          REGN010=258K,                              00090000    *
 * //          PSB010=                                    00100000    *
 * //STEP010 EXEC PGM=&PGMIMS,PARM='DLI,&PGM010,&PSB010', 00110000    *
 * //          COND=&COND0,REGION=&REGN010                00120000    *
 * //STEPLIB DD DSN=&IMZLIB,DISP=SHR                      00130000    *
 * //      DD  DSN=&IMSLIB,DISP=SHR                       00140000    *
 * //IMS   DD  DSN=&PSBLIB,DISP=SHR                       00150000    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 **********************************************************************
1**********************************************************************
 *                                                                    *
 * TO :  R.HICKEN                                            TNL 1    *
 *                                                           _____    *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 * FROM : P.LARRETT                                                   *
 *                                                                    *
 * DATE : JAN 25, 1982                                                *
 *                                                                    *
 * SUBJECT :    PARTITIONED DATASET UTILITY NCXPDSCN                  *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 *      A NUMBER OF ENHANCEMENTS HAVE BEEN APPLIED TO THIS PROGRAM    *
 *     TO REMOVE CERTAIN DEFICIENCIES. A LIST OF THE CHANGES APPLIED  *
 *     DURING THE LAST 6 MONTHS FOLLOWS.                              *
 *                                                                    *
 *                                                                    *
 *        1.   SELECTIVE FILE OPENING                                 *
 *                                                                    *
 *              IN GENERAL, ONLY THOSE FILES ACTUALLY REQUIRED BY     *
 *             THE UTILITY TO PROCESS THE OPTIONS IN EFFECT WILL BE   *
 *             OPENED. ONE IMPLICATION IS THAT DIRECTORIES OF         *
 *             PARTITIONED DATASETS OTHER THAN (RECFM=FB,LRECL=80)    *
 *             MAY BE PROCESSED AS LONG AS PARAMETER OPTIONS U, K AND *
 *             I ARE NOT SPECIFIED.                                   *
 *                                                                    *
 *                                                                    *
 *        2.   HEADING CHANGE                                         *
 *                                                                    *
 *              WHEN THE FULL FILE MEMBER SELECTION IS IN EFFECT, THE *
 *             LITERAL 'FILE' WILL NO LONGER APPEAR AS THE            *
 *             'SELECTION' IN THE REPORT HEADINGS. INSTEAD, THE       *
 *             FULL DATASET NAME WILL BE PRINTED.                     *
 *                                                                    *
 *                                                                    *
 *        3.   NEW PARAMETER OPTION                                   *
 *                                                                    *
 *              A NEW PARAMETER OPTION IS NOW AVAILABLE TO SUPPORT    *
 *             EXERCISES INVOLVING THE USE OF MORE THAN ONE           *
 *             PARTITIONED DATASET. SPECIFICATION OF THE OPTION 'D'   *
 *             IN PLACE OF THE OPTION 'L' WILL CAUSE THE DDNAME=LIST  *
 *             DATASET TO WRITTEN WITH THE DSNAME OF THE PDS APPENDED *
 *             TO EACH LINE (COLUMN 89 ONWARDS); HEADINGS WILL BE     *
 *             SUPPRESSED. BY WRITING THE LIST DATASET TO DISK, AND   *
 *             REITERATING THE PROCESS FOR MULTIPLE PARTITIONED       *
 *             DATASETS WITH DISP=MOD ON THE LIST OUTPUT, A FILE      *
 *             OF MEMBER BY DSN INFORMATION MAY BE ASSEMBLED.         *
 *              IT SHOULD BE NOTED THAT THE OPTIONS IN EFFECT PORTION *
 *             OF THE OUTPUT IS STILL PRODUCED AT THE HEAD OF THE     *
 *             REPORT. A MODIFICATION IS PLANNED TO SEPARATE THE TWO  *
 *             PORTIONS OF THE LIST OUTPUT ON TO SEPARATE DDS TO      *
 *             FACILITATE THE REMOVAL OF SUPERFLUOUS DATA FROM THE    *
 *             DSN LABELLED OUTPUT.                                   *
 *                                                                    *
 *                                                                    *
 *                                                                    *
 **********************************************************************
