*
*  Compiled by DCC Version 1.00.50
*           on Tue Aug  3 15:16:49 1999
*
@CRT0    ALIAS C'@crt0'
         EXTRN @CRT0
*
@CODE    ALIAS C'@GREP'
@CODE    CSECT
__s$F    ALIAS C'__sF'
         EXTRN __s$F
fclose   ALIAS C'fclose'
         EXTRN fclose
fgets    ALIAS C'fgets'
         EXTRN fgets
fopen    ALIAS C'fopen'
         EXTRN fopen
fprintf  ALIAS C'fprintf'
         EXTRN fprintf
printf   ALIAS C'printf'
         EXTRN printf
exit     ALIAS C'exit'
         EXTRN exit
__tolower ALIAS X'7C7CF29396A68599'
         EXTRN __tolower
*
*
*
main     ALIAS C'main'
main     DCCPRLG CINDEX=168,BASER=12,FRAME=136,ENTRY=YES
         ST    1,80(0,13)  ; Save ptr to incoming parm block
* ******* End of Prologue
* *
* ***      register char *p;
* ***      register int c, i;
* ***      int gotpattern;
* ***
* ***   FILE *f;
* ***
* ***   if (argc <= 1)
         L     2,0(0,1)    ; argc
         C     2,@lit_168_1
         BH    @L0
* ***         usage("No arguments");
         LA    3,@lit_168_2
         ST    3,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_168_3 ; usage
         BALR  14,15
* ***      if (argc == 2 && argvÝ1¨Ý0¨ == '?' && argvÝ1¨Ý1¨ == 0) {
@L0      DS    0H
         L     2,80(0,13)
         L     3,0(0,2)    ; argc
         C     3,@lit_168_4
         BNE   @L1
         L     4,4(0,2)    ; argv
         LA    4,4(0,4)
         L     5,0(0,4)
         LA    5,0(0,5)
         CLI   0(5),111
         BNE   @L1
@@gen_label2 DS 0H
         L     2,80(0,13)
         L     3,4(0,2)    ; argv
         LA    3,4(0,3)
         L     4,0(0,3)
         LA    4,1(0,4)
         CLI   0(4),0
         BNE   @L1
@@gen_label4 DS 0H
* ***         help(documentation);
         L     2,@lit_168_5
         ST    2,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_168_7 ; help
         BALR  14,15
* ***         help(patdoc);
         LA    3,44(0,2)   ; patdoc
         ST    3,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_168_7 ; help
         BALR  14,15
* ***         return 1;
         LA    15,1(0,0)
         B     @ret_lab_168
         DS    0F
@lit_168_1 DC  F'1' 0x00000001
@FRAMESIZE_168 DC F'136'
@lit_168_3 DC  A(usage)
@lit_168_2 DC  XL8'D59640819987A494' No.argum
           DC  XL5'8595A3A200' ents.
         DC    X'00'
@lit_168_4 DC  F'2' 0x00000002
@lit_168_7 DC  A(help)
@lit_168_5 DC  A(@DATA)
@lit_168_21 DC XL8'E495929596A69540' Unknown.
            DC XL5'8693818700' flag.
         DC    X'00'
@lit_168_24 DC F'111' 0x0000006f
@lit_168_23 DC A(__tolower)
@lit_168_25 DC F'131' 0x00000083
@lit_168_26 DC F'132' 0x00000084
@lit_168_27 DC F'134' 0x00000086
@lit_168_28 DC F'149' 0x00000095
@lit_168_29 DC F'165' 0x000000a5
@lit_168_30 DC F'195' 0x000000c3
@lit_168_31 DC F'196' 0x000000c4
@lit_168_32 DC F'198' 0x000000c6
@lit_168_33 DC F'213' 0x000000d5
@lit_168_34 DC F'229' 0x000000e5
@lit_168_36 DC A(compile)
@lit_168_40 DC XL8'D596409781A3A385' No.patte
            DC XL3'999500' rn.
         DC    X'00'
@lit_168_44 DC A(grep)
@lit_168_43 DC A(__s$F)
@lit_168_48 DC A(fopen)
@lit_168_47 DC XL2'9900' r.
@lit_168_49 DC A(cant)
@lit_168_51 DC A(fclose)
* ***         }
* ***      nfile = argc-1;
@L1      DS    0H
         L     2,@lit_168_5
         L     3,80(0,13)
         L     4,0(0,3)    ; argc
         BCTR  4,0
         ST    4,180(0,2)  ; nfile
* ***      gotpattern = 0;
         LA    5,0(0,0)
         ST    5,116(0,13) ; gotpattern
* ***      for (i=1; i < argc; ++i) {
         LA    6,1(0,0)
         ST    6,112(0,13) ; i
         B     @L3
@L2      DS    0H
* ***         p = argvÝi¨;
         L     2,112(0,13) ; i
         L     3,80(0,13)
         L     4,4(0,3)    ; argv
         SLL   2,2(0)
         LA    5,0(2,4)
         L     2,0(0,5)
         ST    2,104(0,13) ; p
* ***         if (*p == '-') {
         CLI   0(2),96
         BNE   @L6
* ***            ++p;
         LA    2,1(0,2)
         ST    2,104(0,13) ; p
* ***            while (c = *p++) {
         B     @L8
@L7      DS    0H
* ***               switch(__tolower(c)) {
         B     @L11
* ***
* ***   case '?':
* ***                  help(documentation);
@L13     DS    0H
         L     2,@lit_168_5
         ST    2,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_168_7 ; help
         BALR  14,15
* ***                  break;
         B     @L8
* ***
* ***   case 'C':
* ***               case 'c':
         B     @L15
@L14     DS    0H
* ***                  ++cflag;
@L15     DS    0H
         L     2,@lit_168_5
         L     3,164(0,2)  ; cflag
         A     3,@lit_168_1
         ST    3,164(0,2)  ; cflag
* ***                  break;
         B     @L8
* ***
* ***   case 'D':
* ***               case 'd':
         B     @L17
@L16     DS    0H
* ***                  ++debug;
@L17     DS    0H
         L     2,@lit_168_5
         L     3,184(0,2)  ; debug
         A     3,@lit_168_1
         ST    3,184(0,2)  ; debug
* ***                  break;
         B     @L8
* ***
* ***   case 'F':
* ***               case 'f':
         B     @L19
@L18     DS    0H
* ***                  ++fflag;
@L19     DS    0H
         L     2,@lit_168_5
         L     3,168(0,2)  ; fflag
         A     3,@lit_168_1
         ST    3,168(0,2)  ; fflag
* ***                  break;
         B     @L8
* ***
* ***   case 'n':
* ***               case 'N':
         B     @L21
@L20     DS    0H
* ***                  ++nflag;
@L21     DS    0H
         L     2,@lit_168_5
         L     3,172(0,2)  ; nflag
         A     3,@lit_168_1
         ST    3,172(0,2)  ; nflag
* ***                  break;
         B     @L8
* ***
* ***   case 'v':
* ***               case 'V':
         B     @L23
@L22     DS    0H
* ***                  ++vflag;
@L23     DS    0H
         L     2,@lit_168_5
         L     3,176(0,2)  ; vflag
         A     3,@lit_168_1
         ST    3,176(0,2)  ; vflag
* ***                  break;
         B     @L8
* ***
* ***   default:
* ***                  usage("Unknown flag");
@L24     DS    0H
         LA    2,@lit_168_21
         ST    2,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_168_3 ; usage
         BALR  14,15
* ***               }
* ***            }
         B     @L8
@L11     DS    0H
         MVC   128(4,13),108(13)
         LA    1,128(0,13)
         L     15,@lit_168_23 ; __tolower
         BALR  14,15
         C     15,@lit_168_24
         BL    @L24
         BE    @L13
         C     15,@lit_168_25
         BE    @L15
         C     15,@lit_168_26
         BE    @L17
         C     15,@lit_168_27
         BE    @L19
         C     15,@lit_168_28
         BE    @L21
         C     15,@lit_168_29
         BE    @L23
         C     15,@lit_168_30
         BE    @L15
         C     15,@lit_168_31
         BE    @L17
         C     15,@lit_168_32
         BE    @L19
         C     15,@lit_168_33
         BE    @L21
         C     15,@lit_168_34
         BE    @L23
         B     @L24
@L12     DS    0H
* ***            argvÝi¨ = 0;
@L8      DS    0H
         L     2,104(0,13) ; p
         LR    3,2
         LA    2,1(0,2)
         ST    2,104(0,13) ; p
         LA    4,0(0,0)
         IC    4,0(0,3)
         ST    4,108(0,13) ; c
         LTR   4,4
         BNZ   @L11
         L     3,112(0,13) ; i
         L     5,80(0,13)
         L     6,4(0,5)    ; argv
         SLL   3,2(0)
         LA    7,0(3,6)
         LA    3,0(0,0)
         ST    3,0(0,7)
* ***            --nfile;
         L     2,@lit_168_5
         L     3,180(0,2)  ; nfile
         BCTR  3,0
         ST    3,180(0,2)  ; nfile
* ***         } else if (!gotpattern) {
         B     @L25
@L6      DS    0H
         L     2,116(0,13) ; gotpattern
         LTR   2,2
         BNZ   @L25
* ***            compile(p);
         L     3,104(0,13) ; p
         ST    3,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_168_36 ; compile
         BALR  14,15
* ***            argvÝi¨ = 0;
         L     2,112(0,13) ; i
         L     3,80(0,13)
         L     4,4(0,3)    ; argv
         SLL   2,2(0)
         LA    5,0(2,4)
         LA    2,0(0,0)
         ST    2,0(0,5)
* ***            ++gotpattern;
         L     2,116(0,13) ; gotpattern
         A     2,@lit_168_1
         ST    2,116(0,13) ; gotpattern
* ***            --nfile;
         L     4,@lit_168_5
         L     5,180(0,4)  ; nfile
         BCTR  5,0
         ST    5,180(0,4)  ; nfile
* ***         }
* ***      }
@L25     DS    0H
* ***      if (!gotpattern)
         L     2,112(0,13) ; i
         A     2,@lit_168_1
         ST    2,112(0,13) ; i
@L3      DS    0H
         L     2,112(0,13) ; i
         L     3,80(0,13)
         C     2,0(0,3)
         BL    @L2
         L     4,116(0,13) ; gotpattern
         LTR   4,4
         BNZ   @L27
* ***         usage("No pattern");
         LA    5,@lit_168_40
         ST    5,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_168_3 ; usage
         BALR  14,15
* ***      if (nfile == 0)
@L27     DS    0H
         L     2,@lit_168_5
         L     3,180(0,2)  ; nfile
         LTR   3,3
         BNE   @L28
* ***         grep((&__sFÝ0¨), 0);
         L     4,@lit_168_43
         ST    4,128(0,13)
         LA    4,0(0,0)
         ST    4,132(0,13)
         LA    1,128(0,13)
         L     15,@lit_168_44 ; grep
         BALR  14,15
* ***      else {
         B     @L29
@L28     DS    0H
* ***         fflag = fflag ¬ (nfile > 0);
         L     2,@lit_168_5
         L     3,180(0,2)  ; nfile
         LTR   3,3
         BNH   @@gen_label12
         LA    4,1(0,0)
         B     @@gen_label13
@@gen_label12 DS 0H
         LA    4,0(0,0)
@@gen_label13 DS 0H
         L     2,@lit_168_5
         X     4,168(0,2)
         ST    4,168(0,2)  ; fflag
* ***         for (i=1; i < argc; ++i) {
         LA    3,1(0,0)
         ST    3,112(0,13) ; i
         B     @L31
@L30     DS    0H
* ***            if (p = argvÝi¨) {
         L     2,112(0,13) ; i
         L     3,80(0,13)
         L     4,4(0,3)    ; argv
         SLL   2,2(0)
         LA    5,0(2,4)
         L     2,0(0,5)
         ST    2,104(0,13) ; p
         LTR   2,2
         BZ    @L34
* ***               if ((f=fopen(p, "r")) == 0)
         ST    2,128(0,13)
         LA    5,@lit_168_47
         ST    5,132(0,13)
         LA    1,128(0,13)
         L     15,@lit_168_48 ; fopen
         BALR  14,15
         ST    15,120(0,13) ; f
         LTR   15,15
         BNE   @L35
* ***                  cant(p);
         L     2,104(0,13) ; p
         ST    2,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_168_49 ; cant
         BALR  14,15
* ***               else {
         B     @L34
@L35     DS    0H
* ***                  grep(f, p);
         L     2,120(0,13) ; f
         ST    2,128(0,13)
         L     3,104(0,13) ; p
         ST    3,132(0,13)
         LA    1,128(0,13)
         L     15,@lit_168_44 ; grep
         BALR  14,15
* ***                  fclose(f);
         L     2,120(0,13) ; f
         ST    2,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_168_51 ; fclose
         BALR  14,15
* ***               }
* ***            }
         B     @L34
@L36     DS    0H
* ***         }
@L34     DS    0H
* ***      }
         L     2,112(0,13) ; i
         A     2,@lit_168_1
         ST    2,112(0,13) ; i
@L31     DS    0H
         L     2,112(0,13) ; i
         L     3,80(0,13)
         C     2,0(0,3)
         BL    @L30
* ***      return 0;
@L29     DS    0H
         LA    15,0(0,0)
         B     @ret_lab_168
* ***   }
@ret_lab_168 DS 0H
* * **** Start of Epilogue
         DCCEPIL
* * **** End of Epilogue
*
*   DSECT for automatic variables in "main"
*      (FUNCTION #168)
*
@AUTO#main DSECT
         DS    XL104
main#p#0 DS    1A
main#c#0 DS    1F
main#i#0 DS    1F
main#gotpattern#0 DS 1F
main#f#0 DS    1A
*
@CODE    CSECT
*
*
*
file     ALIAS C'file'
file     DCCPRLG CINDEX=174,BASER=12,FRAME=104,ENTRY=YES
         ST    1,80(0,13)  ; Save ptr to incoming parm block
* ******* End of Prologue
* *
* ***      printf("File %s:\n", s);
         LA    2,@lit_174_54
         ST    2,96(0,13)
         L     2,0(0,1)    ; s
         ST    2,100(0,13)
         LA    1,96(0,13)
         L     15,@lit_174_55 ; printf
         BALR  14,15
* ***   }
@ret_lab_174 DS 0H
* * **** Start of Epilogue
         DCCEPIL
* * **** End of Epilogue
         DS    0F
@lit_174_55 DC A(printf)
@lit_174_54 DC XL8'C6899385406CA27A' File..s.
            DC XL2'1500' ..
@FRAMESIZE_174 DC F'104'
*
*   DSECT for automatic variables in "file"
*      (FUNCTION #174)
*
@AUTO#file DSECT
         DS    XL96
*
@CODE    CSECT
*
*
*
cant     ALIAS C'cant'
cant     DCCPRLG CINDEX=173,BASER=12,FRAME=112,ENTRY=YES
         ST    1,80(0,13)  ; Save ptr to incoming parm block
* ******* End of Prologue
* *
* ***      fprintf((&__sFÝ2¨), "%s: cannot open\n", s);
         L     2,@lit_173_57
         LA    2,176(0,2)
         ST    2,96(0,13)
         LA    2,@lit_173_58
         ST    2,100(0,13)
         L     2,0(0,1)    ; s
         ST    2,104(0,13)
         LA    1,96(0,13)
         L     15,@lit_173_59 ; fprintf
         BALR  14,15
* ***   }
@ret_lab_173 DS 0H
* * **** Start of Epilogue
         DCCEPIL
* * **** End of Epilogue
         DS    0F
@lit_173_59 DC A(fprintf)
@lit_173_58 DC XL8'6CA27A4083819595' .s..cann
            DC XL8'96A3409697859515' ot.open.
            DC X'00' .
         DC    X'00'
@lit_173_57 DC A(__s$F)
@FRAMESIZE_173 DC F'112'
*
*   DSECT for automatic variables in "cant"
*      (FUNCTION #173)
*
@AUTO#cant DSECT
         DS    XL96
*
@CODE    CSECT
*
*
*
help     ALIAS C'help'
help     DCCPRLG CINDEX=170,BASER=12,FRAME=112,ENTRY=YES
         ST    1,80(0,13)  ; Save ptr to incoming parm block
* ******* End of Prologue
* *
* ***      register char **dp;
* ***
* ***   for (dp = hp; *dp; ++dp)
         L     2,0(0,1)    ; hp
         ST    2,96(0,13)  ; dp
* ***         printf("%s\n", *dp);
         B     @L38
         DS    0F
@FRAMESIZE_170 DC F'112'
@lit_170_62 DC A(printf)
@lit_170_61 DC XL4'6CA21500' .s..
@L37     DS    0H
         LA    2,@lit_170_61
         ST    2,104(0,13)
         L     2,96(0,13)  ; dp
         L     3,0(0,2)
         ST    3,108(0,13)
         LA    1,104(0,13)
         L     15,@lit_170_62 ; printf
         BALR  14,15
* ***   }
         L     2,96(0,13)  ; dp
         LA    2,4(0,2)
         ST    2,96(0,13)  ; dp
@L38     DS    0H
         L     2,96(0,13)  ; dp
         L     3,0(0,2)
         LTR   3,3
         BNZ   @L37
@ret_lab_170 DS 0H
* * **** Start of Epilogue
         DCCEPIL
* * **** End of Epilogue
*
*   DSECT for automatic variables in "help"
*      (FUNCTION #170)
*
@AUTO#help DSECT
         DS    XL96
help#dp#0 DS   1A
*
@CODE    CSECT
*
*
*
usage    ALIAS C'usage'
usage    DCCPRLG CINDEX=169,BASER=12,FRAME=112,ENTRY=YES
         ST    1,80(0,13)  ; Save ptr to incoming parm block
* ******* End of Prologue
* *
* ***      fprintf((&__sFÝ2¨), "?GREP-E-%s\n", s);
         L     2,@lit_169_67
         LA    2,176(0,2)
         ST    2,96(0,13)
         LA    2,@lit_169_65
         ST    2,100(0,13)
         L     2,0(0,1)    ; s
         ST    2,104(0,13)
         LA    1,96(0,13)
         L     15,@lit_169_69 ; fprintf
         BALR  14,15
* ***      fprintf((&__sFÝ2¨),
         L     2,@lit_169_67
         LA    2,176(0,2)
         ST    2,96(0,13)
* ***         "Usage: grep Ý-cfnv¨ pattern Ýfile ...¨.  grep ? for hel\
* p\n");
         LA    2,@lit_169_68
         ST    2,100(0,13)
         LA    1,96(0,13)
         L     15,@lit_169_69 ; fprintf
         BALR  14,15
* ***      exit(1);
         LA    2,1(0,0)
         ST    2,96(0,13)
         LA    1,96(0,13)
         L     15,@lit_169_70 ; exit
         BALR  14,15
* ***   }
@ret_lab_169 DS 0H
* * **** Start of Epilogue
         DCCEPIL
* * **** End of Epilogue
         DS    0F
@lit_169_70 DC A(exit)
@lit_169_69 DC A(fprintf)
@lit_169_68 DC XL8'E4A28187857A4087' Usage..g
            DC XL8'99859740AD608386' rep...cf
            DC XL8'95A5BD409781A3A3' nv..patt
            DC XL8'85999540AD868993' ern..fil
            DC XL8'85404B4B4BBD4B40' e.......
            DC XL8'4087998597406F40' .grep...
            DC XL8'8696994088859397' for.help
            DC XL2'1500' ..
@lit_169_67 DC A(__s$F)
@lit_169_65 DC XL8'6FC7D9C5D760C560' .GREP.E.
            DC XL4'6CA21500' .s..
@FRAMESIZE_169 DC F'112'
*
*   DSECT for automatic variables in "usage"
*      (FUNCTION #169)
*
@AUTO#usage DSECT
         DS    XL96
*
@CODE    CSECT
*
*
*
compile  ALIAS C'compile'
compile  DCCPRLG CINDEX=171,BASER=12,FRAME=144,ENTRY=YES
         ST    1,80(0,13)  ; Save ptr to incoming parm block
* ******* End of Prologue
* *
* ***      register char *s;
* ***      register char *lp;
* ***      register int c;
* ***      int o;
* ***      char *spp;
* ***
* ***   s = source;
         L     2,0(0,1)    ; source
         ST    2,104(0,13) ; s
* ***      if (debug)
         L     3,@lit_171_72
         L     4,184(0,3)  ; debug
         LTR   4,4
         BZ    @L41
* ***         printf("Pattern = \"%s\"\n", s);
         LA    5,@lit_171_73
         ST    5,128(0,13)
         ST    2,132(0,13)
         LA    1,128(0,13)
         L     15,@lit_171_74 ; printf
         BALR  14,15
* ***      pp = pbuf;
@L41     DS    0H
         L     2,@lit_171_72
         LA    3,704(0,2)  ; pbuf
         ST    3,188(0,2)  ; pp
* ***      while (c = *s++) {
         B     @L43
         DS    0F
@lit_171_72 DC A(@DATA)
@FRAMESIZE_171 DC F'144'
@lit_171_74 DC A(printf)
@lit_171_73 DC XL8'D781A3A385999540' Pattern.
            DC XL8'7E407F6CA27F1500' ....s...
@lit_171_76 DC F'92' 0x0000005c
@lit_171_77 DC F'78' 0x0000004e
@lit_171_78 DC F'96' 0x00000060
@lit_171_81 DC F'2' 0x00000002
@lit_171_80 DC F'-1' 0xffffffff
@lit_171_82 DC F'3' 0x00000003
@lit_171_83 DC F'7' 0x00000007
@lit_171_84 DC F'8' 0x00000008
@lit_171_85 DC F'9' 0x00000009
@lit_171_87 DC A(badpat)
@lit_171_86 DC XL8'C993938587819340' Illegal.
            DC XL8'968383A499998195' occurran
            DC XL7'83854096974B00' ce.op..
         DC    X'00'
@lit_171_89 DC A(store)
@lit_171_101 DC A(cclass)
@lit_171_106 DC XL8'E495929596A69540' Unknown.
             DC XL7'7A40A3A8978500' ..type.
         DC    X'00'
@lit_171_109 DC F'64' 0x00000040
@lit_171_108 DC A(__tolower)
@lit_171_110 DC F'129' 0x00000081
@lit_171_111 DC F'132' 0x00000084
@lit_171_112 DC F'149' 0x00000095
@lit_171_113 DC F'193' 0x000000c1
@lit_171_114 DC F'196' 0x000000c4
@lit_171_115 DC F'213' 0x000000d5
@lit_171_116 DC XL8'D596407A40A3A897' No...typ
             DC XL2'8500' e.
@lit_171_121 DC F'75' 0x0000004b
@lit_171_122 DC F'91' 0x0000005b
@lit_171_123 DC F'95' 0x0000005f
@lit_171_124 DC F'122' 0x0000007a
@lit_171_125 DC F'173' 0x000000ad
@lit_171_126 DC F'224' 0x000000e0
@lit_171_130 DC F'255' 0x000000ff
@lit_171_132 DC XL5'E06C964000' ..o..
         DC    X'00'
@lit_171_134 DC XL4'6C834000' .c..
@lit_171_137 DC XL2'1500' ..
@L42     DS    0H
* ***               # 244
* ***   if (c == '*' || c == '+' || c == '-') {
         L     2,112(0,13) ; c
         C     2,@lit_171_76
         BE    @@gen_label21
         C     2,@lit_171_77
         BE    @@gen_label21
@@gen_label20 DS 0H
         L     2,112(0,13) ; c
         C     2,@lit_171_78
         BNE   @L46
@@gen_label21 DS 0H
* ***            if (pp == pbuf ||
* ***                 (o=ppÝ-1¨) == 2 ||
* ***                 o == 3 ||
* ***                 o == 7 ||
* ***                 o == 8 ||
* ***                 o == 9)
         L     2,@lit_171_72
         L     3,188(0,2)  ; pp
         LA    4,704(0,2)  ; pbuf
         CR    3,4
         BE    @@gen_label31
         AL    3,@lit_171_80
         LA    4,0(0,0)
         IC    4,0(0,3)
         ST    4,116(0,13) ; o
         C     4,@lit_171_81
         BE    @@gen_label31
@@gen_label24 DS 0H
         L     2,116(0,13) ; o
         C     2,@lit_171_82
         BE    @@gen_label31
@@gen_label26 DS 0H
         L     2,116(0,13) ; o
         C     2,@lit_171_83
         BE    @@gen_label31
@@gen_label28 DS 0H
         L     2,116(0,13) ; o
         C     2,@lit_171_84
         BE    @@gen_label31
@@gen_label30 DS 0H
         L     2,116(0,13) ; o
         C     2,@lit_171_85
         BNE   @L47
@@gen_label31 DS 0H
* ***               badpat("Illegal occurrance op.", source, s);
         LA    2,@lit_171_86
         ST    2,128(0,13)
         L     2,80(0,13)
         L     3,0(0,2)    ; source
         ST    3,132(0,13)
         L     4,104(0,13) ; s
         ST    4,136(0,13)
         LA    1,128(0,13)
         L     15,@lit_171_87 ; badpat
         BALR  14,15
* ***            store(15);
@L47     DS    0H
         LA    2,15(0,0)
         ST    2,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_171_89 ; store
         BALR  14,15
* ***            store(15);
         LA    2,15(0,0)
         ST    2,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_171_89 ; store
         BALR  14,15
* ***            spp = pp;
         L     2,@lit_171_72
         L     3,188(0,2)  ; pp
         ST    3,120(0,13) ; spp
* ***            while (--pp > lp)
         B     @L49
@L48     DS    0H
         L     2,@lit_171_72
         L     3,188(0,2)  ; pp
         LR    4,3
         AL    4,@lit_171_80
         IC    5,0(0,4)
         STC   5,0(0,3)    ; pp
* ***            *pp = (c == '*') ? 7 :
@L49     DS    0H
* ***               *pp = ppÝ-1¨;
         L     2,@lit_171_72
         L     3,188(0,2)  ; pp
         BCTR  3,0
         ST    3,188(0,2)  ; pp
         L     4,108(0,13) ; lp
         CR    3,4
         BH    @L48
         L     5,112(0,13) ; c
         C     5,@lit_171_76
         BNE   @@gen_label35
* ***               (c == '-') ? 9 : 8;
         LA    6,7(0,0)
         B     @@gen_label36
@@gen_label35 DS 0H
         L     2,112(0,13) ; c
         C     2,@lit_171_78
         BNE   @@gen_label38
         LA    3,9(0,0)
         B     @@gen_label39
@@gen_label38 DS 0H
         LA    2,8(0,0)
         LR    3,2
@@gen_label39 DS 0H
         LR    6,3
@@gen_label36 DS 0H
         L     2,@lit_171_72
         L     3,188(0,2)  ; pp
         STC   6,0(0,3)    ; pp
* ***            pp = spp;
         L     4,120(0,13) ; spp
         ST    4,188(0,2)  ; pp
* ***            continue;
         B     @L43
* ***         }
* ***               # 265
* ***   lp = pp;
@L46     DS    0H
         L     2,@lit_171_72
         L     3,188(0,2)  ; pp
         ST    3,108(0,13) ; lp
* ***         switch(c) {
         B     @L52
* ***
* ***   case '¬':
* ***            store(2);
@L54     DS    0H
         LA    2,2(0,0)
         ST    2,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_171_89 ; store
         BALR  14,15
* ***            break;
         B     @L43
* ***
* ***   case '$':
* ***            store(3);
@L55     DS    0H
         LA    2,3(0,0)
         ST    2,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_171_89 ; store
         BALR  14,15
* ***            break;
         B     @L43
* ***
* ***   case '.':
* ***            store(4);
@L56     DS    0H
         LA    2,4(0,0)
         ST    2,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_171_89 ; store
         BALR  14,15
* ***            break;
         B     @L43
* ***
* ***   case 'Ý':
* ***            s = cclass(source, s);
@L57     DS    0H
         L     2,80(0,13)
         L     3,0(0,2)    ; source
         ST    3,128(0,13)
         L     4,104(0,13) ; s
         ST    4,132(0,13)
         LA    1,128(0,13)
         L     15,@lit_171_101 ; cclass
         BALR  14,15
         ST    15,104(0,13) ; s
* ***            break;
         B     @L43
* ***
* ***   case ':':
* ***            if (*s) {
@L58     DS    0H
         L     2,104(0,13) ; s
         TM    0(2),255
         BZ    @L59
* ***               switch(__tolower(c = *s++)) {
         B     @L60
* ***
* ***   case 'a':
* ***               case 'A':
         B     @L63
@L62     DS    0H
* ***                  store(10);
@L63     DS    0H
         LA    2,10(0,0)
         ST    2,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_171_89 ; store
         BALR  14,15
* ***                  break;
         B     @L43
* ***
* ***   case 'd':
* ***               case 'D':
         B     @L65
@L64     DS    0H
* ***                  store(11);
@L65     DS    0H
         LA    2,11(0,0)
         ST    2,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_171_89 ; store
         BALR  14,15
* ***                  break;
         B     @L43
* ***
* ***   case 'n':
* ***               case 'N':
         B     @L67
@L66     DS    0H
* ***                  store(12);
@L67     DS    0H
         LA    2,12(0,0)
         ST    2,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_171_89 ; store
         BALR  14,15
* ***                  break;
         B     @L43
* ***
* ***   case ' ':
* ***                  store(13);
@L68     DS    0H
         LA    2,13(0,0)
         ST    2,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_171_89 ; store
         BALR  14,15
* ***                  break;
         B     @L43
* ***
* ***   default:
* ***                  badpat("Unknown : type", source, s);
@L69     DS    0H
         LA    2,@lit_171_106
         ST    2,128(0,13)
         L     2,80(0,13)
         L     3,0(0,2)    ; source
         ST    3,132(0,13)
         L     4,104(0,13) ; s
         ST    4,136(0,13)
         LA    1,128(0,13)
         L     15,@lit_171_87 ; badpat
         BALR  14,15
* ***
* ***   }
* ***               break;
         B     @L43
@L60     DS    0H
         L     2,104(0,13) ; s
         LR    3,2
         LA    2,1(0,2)
         ST    2,104(0,13) ; s
         LA    4,0(0,0)
         IC    4,0(0,3)
         ST    4,112(0,13) ; c
         ST    4,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_171_108 ; __tolower
         BALR  14,15
         C     15,@lit_171_109
         BL    @L69
         BE    @L68
         C     15,@lit_171_110
         BE    @L63
         C     15,@lit_171_111
         BE    @L65
         C     15,@lit_171_112
         BE    @L67
         C     15,@lit_171_113
         BE    @L63
         C     15,@lit_171_114
         BE    @L65
         C     15,@lit_171_115
         BE    @L67
         B     @L69
* ***            }
* ***            else badpat("No : type", source, s);
         B     @L71
@L59     DS    0H
         LA    2,@lit_171_116
         ST    2,128(0,13)
         L     2,80(0,13)
         L     3,0(0,2)    ; source
         ST    3,132(0,13)
         L     4,104(0,13) ; s
         ST    4,136(0,13)
         LA    1,128(0,13)
         L     15,@lit_171_87 ; badpat
         BALR  14,15
* ***
* ***   case '\\':
         B     @L71
@L70     DS    0H
* ***            if (*s)
@L71     DS    0H
         L     2,104(0,13) ; s
         TM    0(2),255
         BZ    @L73
* ***               c = *s++;
         LR    3,2
         LA    2,1(0,2)
         ST    2,104(0,13) ; s
         LA    4,0(0,0)
         IC    4,0(0,3)
         ST    4,112(0,13) ; c
* ***
* ***   default:
         B     @L73
@L72     DS    0H
* ***            store(1);
@L73     DS    0H
         LA    2,1(0,0)
         ST    2,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_171_89 ; store
         BALR  14,15
* ***            store(__tolower(c));
         MVC   128(4,13),112(13)
         LA    1,128(0,13)
         L     15,@lit_171_108 ; __tolower
         BALR  14,15
         ST    15,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_171_89 ; store
         BALR  14,15
* ***         }
* ***      }
         B     @L43
@L52     DS    0H
         L     2,112(0,13) ; c
         C     2,@lit_171_121
         BL    @L73
         BE    @L56
         C     2,@lit_171_122
         BE    @L55
         C     2,@lit_171_123
         BE    @L54
         C     2,@lit_171_124
         BE    @L58
         C     2,@lit_171_125
         BE    @L57
         C     2,@lit_171_126
         BE    @L71
         B     @L73
@L53     DS    0H
* ***      store(15);
@L43     DS    0H
         L     2,104(0,13) ; s
         LR    3,2
         LA    2,1(0,2)
         ST    2,104(0,13) ; s
         LA    4,0(0,0)
         IC    4,0(0,3)
         ST    4,112(0,13) ; c
         LTR   4,4
         BNZ   @L42
         LA    3,15(0,0)
         ST    3,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_171_89 ; store
         BALR  14,15
* ***      store(0);
         LA    2,0(0,0)
         ST    2,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_171_89 ; store
         BALR  14,15
* ***      if (debug) {
         L     2,@lit_171_72
         L     3,184(0,2)  ; debug
         LTR   3,3
         BZ    @ret_lab_171
* ***         for (lp = pbuf; lp < pp;) {
         LA    4,704(0,2)  ; pbuf
         ST    4,108(0,13) ; lp
         B     @L76
@L75     DS    0H
* ***            if ((c = (*lp++ & 0377)) < ' ')
         L     2,108(0,13) ; lp
         LR    3,2
         LA    2,1(0,2)
         ST    2,108(0,13) ; lp
         LA    4,0(0,0)
         IC    4,0(0,3)
         N     4,@lit_171_130
         ST    4,112(0,13) ; c
         C     4,@lit_171_109
         BNL   @L79
* ***               printf("\\%o ", c);
         LA    3,@lit_171_132
         ST    3,128(0,13)
         MVC   132(4,13),112(13)
         LA    1,128(0,13)
         L     15,@lit_171_74 ; printf
         BALR  14,15
* ***            else printf("%c ", c);
         B     @L76
@L79     DS    0H
         LA    2,@lit_171_134
         ST    2,128(0,13)
         MVC   132(4,13),112(13)
         LA    1,128(0,13)
         L     15,@lit_171_74 ; printf
         BALR  14,15
* ***           }
         B     @L76
@L80     DS    0H
* ***           printf("\n");
@L76     DS    0H
         L     2,108(0,13) ; lp
         L     3,@lit_171_72
         L     4,188(0,3)  ; pp
         CR    2,4
         BL    @L75
         LA    5,@lit_171_137
         ST    5,128(0,13)
         LA    1,128(0,13)
         L     15,@lit_171_74 ; printf
         BALR  14,15
* ***      }
* ***   }
@ret_lab_171 DS 0H
* * **** Start of Epilogue
         DCCEPIL
* * **** End of Epilogue
*
*   DSECT for automatic variables in "compile"
*      (FUNCTION #171)
*
@AUTO#compile DSECT
         DS    XL104
compile#s#0 DS 1A
compile#lp#0 DS 1A
compile#c#0 DS 1F
compile#o#0 DS 1F
compile#spp#0 DS 1A
*
@CODE    CSECT
*
*
*
cclass   ALIAS C'cclass'
cclass   DCCPRLG CINDEX=166,BASER=12,FRAME=128,ENTRY=YES
         ST    1,80(0,13)  ; Save ptr to incoming parm block
* ******* End of Prologue
* *
* ***      register char *s;
* ***      register char *cp;
* ***      register int c;
* ***      int o;
* ***
* ***   s = src;
         L     2,4(0,1)    ; src
         ST    2,96(0,13)  ; s
* ***      o = 5;
         LA    3,5(0,0)
         ST    3,108(0,13) ; o
* ***      if (*s == '¬') {
         CLI   0(2),95
         BNE   @L81
* ***         ++s;
         LA    2,1(0,2)
         ST    2,96(0,13)  ; s
* ***         o = 6;
         LA    4,6(0,0)
         ST    4,108(0,13) ; o
* ***      }
* ***      store(o);
@L81     DS    0H
         MVC   112(4,13),108(13)
         LA    1,112(0,13)
         L     15,@lit_166_142 ; store
         BALR  14,15
* ***      cp = pp;
         L     2,@lit_166_141
         L     3,188(0,2)  ; pp
         ST    3,100(0,13) ; cp
* ***      store(0);
         LA    4,0(0,0)
         ST    4,112(0,13)
         LA    1,112(0,13)
         L     15,@lit_166_142 ; store
         BALR  14,15
* ***      while ((c = *s++) && c!='¨') {
         B     @L83
         DS    0F
@FRAMESIZE_166 DC F'128'
@lit_166_142 DC A(store)
@lit_166_141 DC A(@DATA)
@lit_166_143 DC F'224' 0x000000e0
@lit_166_145 DC A(badpat)
@lit_166_144 DC XL8'C39381A2A240A385' Class.te
             DC XL8'9994899581A385A2' rminates
             DC XL7'4082818493A800' .badly.
         DC    X'00'
@lit_166_146 DC A(__tolower)
@lit_166_148 DC F'96' 0x00000060
@lit_166_150 DC F'1' 0x00000001
@lit_166_153 DC F'-1' 0xffffffff
@lit_166_159 DC F'189' 0x000000bd
@lit_166_161 DC XL8'E495A38599948995' Untermin
             DC XL8'81A3858440839381' ated.cla
             DC XL3'A2A200' ss.
         DC    X'00'
@lit_166_164 DC F'256' 0x00000100
@lit_166_165 DC XL8'C39381A2A240A396' Class.to
             DC XL8'9640938199878500' o.large.
@lit_166_167 DC XL8'C59497A3A8408393' Empty.cl
             DC XL4'81A2A200' ass.
@L82     DS    0H
* ***         if (c == '\\') {
         L     2,104(0,13) ; c
         C     2,@lit_166_143
         BNE   @L86
* ***            if ((c = *s++) == '\0')
         L     3,96(0,13)  ; s
         LR    4,3
         LA    3,1(0,3)
         ST    3,96(0,13)  ; s
         LA    5,0(0,0)
         IC    5,0(0,4)
         ST    5,104(0,13) ; c
         LTR   5,5
         BNE   @L87
* ***               badpat("Class terminates badly", source, s);
         LA    2,@lit_166_144
         ST    2,112(0,13)
         L     2,80(0,13)
         L     4,0(0,2)    ; source
         ST    4,116(0,13)
         ST    3,120(0,13)
         LA    1,112(0,13)
         L     15,@lit_166_145 ; badpat
         BALR  14,15
* ***            else store(__tolower(c));
         B     @L83
@L87     DS    0H
         MVC   112(4,13),104(13)
         LA    1,112(0,13)
         L     15,@lit_166_146 ; __tolower
         BALR  14,15
         ST    15,112(0,13)
         LA    1,112(0,13)
         L     15,@lit_166_142 ; store
         BALR  14,15
* ***         }
         B     @L83
@L88     DS    0H
* ***         else if (c == '-' &&
         B     @L83
@L86     DS    0H
* ***               (pp - cp) > 1 && *s != '¨' && *s != '\0') {
         L     2,104(0,13) ; c
         C     2,@lit_166_148
         BNE   @L90
         L     3,@lit_166_141
         L     4,188(0,3)  ; pp
         L     5,100(0,13) ; cp
         SLR   4,5
         C     4,@lit_166_150
         BNH   @L90
@@gen_label50 DS 0H
         L     2,96(0,13)  ; s
         CLI   0(2),189
         BE    @L90
@@gen_label52 DS 0H
         L     2,96(0,13)  ; s
         CLI   0(2),0
         BE    @L90
@@gen_label54 DS 0H
* ***            c = ppÝ-1¨;
         L     2,@lit_166_141
         L     3,188(0,2)  ; pp
         AL    3,@lit_166_153
         LA    4,0(0,0)
         IC    4,0(0,3)
         ST    4,104(0,13) ; c
* ***            ppÝ-1¨ = 14;
         L     3,188(0,2)  ; pp
         AL    3,@lit_166_153
         LA    5,14(0,0)
         STC   5,0(0,3)
* ***            store(c);
         MVC   112(4,13),104(13)
         LA    1,112(0,13)
         L     15,@lit_166_142 ; store
         BALR  14,15
* ***            c = *s++;
         L     3,96(0,13)  ; s
         LR    4,3
         LA    3,1(0,3)
         ST    3,96(0,13)  ; s
         LA    5,0(0,0)
         IC    5,0(0,4)
         ST    5,104(0,13) ; c
* ***            store(__tolower(c));
         MVC   112(4,13),104(13)
         LA    1,112(0,13)
         L     15,@lit_166_146 ; __tolower
         BALR  14,15
         ST    15,112(0,13)
         LA    1,112(0,13)
         L     15,@lit_166_142 ; store
         BALR  14,15
* ***         }
* ***         else {
         B     @L83
@L90     DS    0H
* ***            store(__tolower(c));
         MVC   112(4,13),104(13)
         LA    1,112(0,13)
         L     15,@lit_166_146 ; __tolower
         BALR  14,15
         ST    15,112(0,13)
         LA    1,112(0,13)
         L     15,@lit_166_142 ; store
         BALR  14,15
* ***         }
* ***      }
         B     @L83
@L89     DS    0H
* ***      if (c != '¨')
@L83     DS    0H
         L     2,96(0,13)  ; s
         LR    3,2
         LA    2,1(0,2)
         ST    2,96(0,13)  ; s
         LA    4,0(0,0)
         IC    4,0(0,3)
         ST    4,104(0,13) ; c
         LTR   4,4
         BZ    @@gen_label56
         C     4,@lit_166_159
         BNE   @L82
@@gen_label56 DS 0H
         L     2,104(0,13) ; c
         C     2,@lit_166_159
         BE    @L92
* ***         badpat("Unterminated class", source, s);
         LA    3,@lit_166_161
         ST    3,112(0,13)
         L     3,80(0,13)
         L     4,0(0,3)    ; source
         ST    4,116(0,13)
         L     5,96(0,13)  ; s
         ST    5,120(0,13)
         LA    1,112(0,13)
         L     15,@lit_166_145 ; badpat
         BALR  14,15
* ***      if ((c = (pp - cp)) >= 256)
@L92     DS    0H
         L     2,@lit_166_141
         L     3,188(0,2)  ; pp
         L     4,100(0,13) ; cp
         SLR   3,4
         ST    3,104(0,13) ; c
         C     3,@lit_166_164
         BL    @L93
* ***         badpat("Class too large", source, s);
         LA    5,@lit_166_165
         ST    5,112(0,13)
         L     5,80(0,13)
         L     6,0(0,5)    ; source
         ST    6,116(0,13)
         L     7,96(0,13)  ; s
         ST    7,120(0,13)
         LA    1,112(0,13)
         L     15,@lit_166_145 ; badpat
         BALR  14,15
* ***      if (c == 0)
@L93     DS    0H
         L     2,104(0,13) ; c
         LTR   2,2
         BNE   @L94
* ***         badpat("Empty class", source, s);
         LA    3,@lit_166_167
         ST    3,112(0,13)
         L     3,80(0,13)
         L     4,0(0,3)    ; source
         ST    4,116(0,13)
         L     5,96(0,13)  ; s
         ST    5,120(0,13)
         LA    1,112(0,13)
         L     15,@lit_166_145 ; badpat
         BALR  14,15
* ***      *cp = c;
@L94     DS    0H
         L     2,100(0,13) ; cp
         L     3,104(0,13) ; c
         STC   3,0(0,2)    ; cp
* ***      return(s);
         L     4,96(0,13)  ; s
         LR    15,4
         B     @ret_lab_166
* ***   }
@ret_lab_166 DS 0H
* * **** Start of Epilogue
         DCCEPIL
* * **** End of Epilogue
*
*   DSECT for automatic variables in "cclass"
*      (FUNCTION #166)
*
@AUTO#cclass DSECT
         DS    XL96
cclass#s#0 DS  1A
cclass#cp#0 DS 1A
cclass#c#0 DS  1F
cclass#o#0 DS  1F
*
@CODE    CSECT
*
*
*
store    ALIAS C'store'
store    DCCPRLG CINDEX=176,BASER=12,FRAME=104,ENTRY=YES
         ST    1,80(0,13)  ; Save ptr to incoming parm block
* ******* End of Prologue
* *
* ***      if (pp >= &pbufÝ256¨)
         L     2,@lit_176_170
         L     3,188(0,2)  ; pp
         LA    4,704(0,2)  ; pbuf
         LA    4,256(0,4)
         CR    3,4
         BL    @L95
* ***         error("Pattern too complex\n");
         LA    4,@lit_176_171
         ST    4,96(0,13)
         LA    1,96(0,13)
         L     15,@lit_176_172 ; error
         BALR  14,15
* ***      *pp++ = op;
@L95     DS    0H
         L     2,@lit_176_170
         L     3,188(0,2)  ; pp
         LR    4,3
         LA    3,1(0,3)
         ST    3,188(0,2)  ; pp
         L     5,80(0,13)
         L     6,0(0,5)    ; op
         STC   6,0(0,4)
* ***   }
@ret_lab_176 DS 0H
* * **** Start of Epilogue
         DCCEPIL
* * **** End of Epilogue
         DS    0F
@lit_176_170 DC A(@DATA)
@FRAMESIZE_176 DC F'104'
@lit_176_172 DC A(error)
@lit_176_171 DC XL8'D781A3A385999540' Pattern.
             DC XL8'A396964083969497' too.comp
             DC XL5'9385A71500' lex..
         DC    X'00'
*
*   DSECT for automatic variables in "store"
*      (FUNCTION #176)
*
@AUTO#store DSECT
         DS    XL96
*
@CODE    CSECT
*
*
*
badpat   ALIAS C'badpat'
badpat   DCCPRLG CINDEX=175,BASER=12,FRAME=112,ENTRY=YES
         ST    1,80(0,13)  ; Save ptr to incoming parm block
* ******* End of Prologue
* *
* ***      fprintf((&__sFÝ2¨), "-GREP-E-%s, pattern is\"%s\"\n", messa\
* ge, source);
         L     2,@lit_175_178
         LA    2,176(0,2)
         ST    2,96(0,13)
         LA    2,@lit_175_176
         ST    2,100(0,13)
         L     2,0(0,1)    ; message
         ST    2,104(0,13)
         L     3,4(0,1)    ; source
         ST    3,108(0,13)
         LA    1,96(0,13)
         L     15,@lit_175_181 ; fprintf
         BALR  14,15
* ***      fprintf((&__sFÝ2¨), "-GREP-E-Stopped at byte %d, '%c'\n",
         L     2,@lit_175_178
         LA    2,176(0,2)
         ST    2,96(0,13)
         LA    2,@lit_175_179
         ST    2,100(0,13)
* ***            stop-source, stopÝ-1¨);
         L     2,80(0,13)
         L     3,8(0,2)    ; stop
         L     4,4(0,2)    ; source
         SLR   3,4
         ST    3,104(0,13)
         L     3,8(0,2)    ; stop
         AL    3,@lit_175_180
         LA    5,0(0,0)
         IC    5,0(0,3)
         ST    5,108(0,13)
         LA    1,96(0,13)
         L     15,@lit_175_181 ; fprintf
         BALR  14,15
* ***      error("?GREP-E-Bad pattern\n");
         LA    3,@lit_175_182
         ST    3,96(0,13)
         LA    1,96(0,13)
         L     15,@lit_175_183 ; error
         BALR  14,15
* ***   }
@ret_lab_175 DS 0H
* * **** Start of Epilogue
         DCCEPIL
* * **** End of Epilogue
         DS    0F
@lit_175_183 DC A(error)
@lit_175_182 DC XL8'6FC7D9C5D760C560' .GREP.E.
             DC XL8'C28184409781A3A3' Bad.patt
             DC XL5'8599951500' ern..
         DC    X'00'
@lit_175_181 DC A(fprintf)
@lit_175_180 DC F'-1' 0xffffffff
@lit_175_179 DC XL8'60C7D9C5D760C560' .GREP.E.
             DC XL8'E2A3969797858440' Stopped.
             DC XL8'81A34082A8A38540' at.byte.
             DC XL8'6C846B407D6C837D' .d....c.
             DC XL2'1500' ..
@lit_175_178 DC A(__s$F)
@lit_175_176 DC XL8'60C7D9C5D760C560' .GREP.E.
             DC XL8'6CA26B409781A3A3' .s..patt
             DC XL8'8599954089A27F6C' ern.is..
             DC XL4'A27F1500' s...
@FRAMESIZE_175 DC F'112'
*
*   DSECT for automatic variables in "badpat"
*      (FUNCTION #175)
*
@AUTO#badpat DSECT
         DS    XL96
*
@CODE    CSECT
*
*
*
grep     ALIAS C'grep'
grep     DCCPRLG CINDEX=172,BASER=12,FRAME=128,ENTRY=YES
         ST    1,80(0,13)  ; Save ptr to incoming parm block
* ******* End of Prologue
* *
* ***      register int lno, count, m;
* ***
* ***   lno = 0;
         LA    2,0(0,0)
         ST    2,96(0,13)  ; lno
* ***      count = 0;
         LA    3,0(0,0)
         ST    3,100(0,13) ; count
* ***      while (fgets(lbuf, 512, fp)) {
         B     @L97
         DS    0F
@FRAMESIZE_172 DC F'128'
@lit_172_186 DC A(match)
@lit_172_185 DC F'1' 0x00000001
@lit_172_187 DC A(@DATA)
@lit_172_191 DC A(file)
@lit_172_194 DC A(printf)
@lit_172_193 DC XL4'6C840500' .d..
@lit_172_195 DC XL3'6CA200' .s.
         DC    X'00'
@lit_172_199 DC A(fgets)
@lit_172_201 DC XL4'6C841500' .d..
@L96     DS    0H
* ***         ++lno;
         L     2,96(0,13)  ; lno
         A     2,@lit_172_185
         ST    2,96(0,13)  ; lno
* ***         m = match();
         L     15,@lit_172_186 ; match
         BALR  14,15
         ST    15,104(0,13) ; m
* ***         if ((m && !vflag) || (!m && vflag)) {
         LTR   15,15
         BZ    @@gen_label62
         L     2,@lit_172_187
         L     3,176(0,2)  ; vflag
         LTR   3,3
         BZ    @@gen_label63
@@gen_label62 DS 0H
         L     2,104(0,13) ; m
         LTR   2,2
         BNZ   @L97
         L     3,@lit_172_187
         L     4,176(0,3)  ; vflag
         LTR   4,4
         BZ    @L97
@@gen_label63 DS 0H
* ***            ++count;
         L     2,100(0,13) ; count
         A     2,@lit_172_185
         ST    2,100(0,13) ; count
* ***            if (!cflag) {
         L     3,@lit_172_187
         L     4,164(0,3)  ; cflag
         LTR   4,4
         BNZ   @L97
* ***               if (fflag && fn) {
         L     5,168(0,3)  ; fflag
         LTR   5,5
         BZ    @L102
         L     6,80(0,13)
         L     7,4(0,6)    ; fn
         LTR   7,7
         BZ    @L102
@@gen_label69 DS 0H
* ***                  file(fn);
         L     2,80(0,13)
         L     3,4(0,2)    ; fn
         ST    3,112(0,13)
         LA    1,112(0,13)
         L     15,@lit_172_191 ; file
         BALR  14,15
* ***                  fn = 0;
         LA    3,0(0,0)
         ST    3,4(0,2)    ; fn
* ***               }
* ***               if (nflag)
@L102    DS    0H
         L     2,@lit_172_187
         L     3,172(0,2)  ; nflag
         LTR   3,3
         BZ    @L103
* ***                  printf("%d\t", lno);
         LA    4,@lit_172_193
         ST    4,112(0,13)
         MVC   116(4,13),96(13)
         LA    1,112(0,13)
         L     15,@lit_172_194 ; printf
         BALR  14,15
* ***
* ***   printf("%s", lbuf);
@L103    DS    0H
         LA    2,@lit_172_195
         ST    2,112(0,13)
         L     2,@lit_172_187
         LA    3,192(0,2)  ; lbuf
         ST    3,116(0,13)
         LA    1,112(0,13)
         L     15,@lit_172_194 ; printf
         BALR  14,15
* ***            }
* ***         }
         B     @L97
@L101    DS    0H
* ***      }
         B     @L97
@L100    DS    0H
* ***      if (cflag) {
@L97     DS    0H
         L     2,@lit_172_187
         LA    3,192(0,2)  ; lbuf
         ST    3,112(0,13)
         LA    3,512(0,0)
         ST    3,116(0,13)
         L     3,80(0,13)
         L     4,0(0,3)    ; fp
         ST    4,120(0,13)
         LA    1,112(0,13)
         L     15,@lit_172_199 ; fgets
         BALR  14,15
         LTR   15,15
         BNZ   @L96
         L     4,164(0,2)  ; cflag
         LTR   4,4
         BZ    @ret_lab_172
* ***         if (fflag && fn)
         L     5,168(0,2)  ; fflag
         LTR   5,5
         BZ    @L105
         L     6,4(0,3)    ; fn
         LTR   6,6
         BZ    @L105
@@gen_label75 DS 0H
* ***            file(fn);
         L     2,80(0,13)
         L     3,4(0,2)    ; fn
         ST    3,112(0,13)
         LA    1,112(0,13)
         L     15,@lit_172_191 ; file
         BALR  14,15
* ***         printf("%d\n", count);
@L105    DS    0H
         LA    2,@lit_172_201
         ST    2,112(0,13)
         MVC   116(4,13),100(13)
         LA    1,112(0,13)
         L     15,@lit_172_194 ; printf
         BALR  14,15
* ***      }
* ***   }
@ret_lab_172 DS 0H
* * **** Start of Epilogue
         DCCEPIL
* * **** End of Epilogue
*
*   DSECT for automatic variables in "grep"
*      (FUNCTION #172)
*
@AUTO#grep DSECT
         DS    XL96
grep#lno#0 DS  1F
grep#count#0 DS 1F
grep#m#0 DS    1F
*
@CODE    CSECT
*
*
*
match    ALIAS C'match'
match    DCCPRLG CINDEX=178,BASER=12,FRAME=104,ENTRY=YES
* ******* End of Prologue
* *
* ***      register char *l;
* ***
* ***   for (l = lbuf; *l; ++l) {
         L     2,@lit_178_204
         LA    3,192(0,2)  ; lbuf
         ST    3,88(0,13)  ; l
         B     @L107
         DS    0F
@lit_178_204 DC A(@DATA)
@FRAMESIZE_178 DC F'104'
@lit_178_206 DC A(pmatch)
@L106    DS    0H
* ***         if (pmatch(l, pbuf))
         L     2,88(0,13)  ; l
         ST    2,96(0,13)
         L     3,@lit_178_204
         LA    4,704(0,3)  ; pbuf
         ST    4,100(0,13)
         LA    1,96(0,13)
         L     15,@lit_178_206 ; pmatch
         BALR  14,15
         LTR   15,15
         BZ    @L110
* ***            return(1);
         LA    15,1(0,0)
         B     @ret_lab_178
* ***      }
@L110    DS    0H
* ***      return(0);
         L     2,88(0,13)  ; l
         LA    2,1(0,2)
         ST    2,88(0,13)  ; l
@L107    DS    0H
         L     2,88(0,13)  ; l
         TM    0(2),255
         BNZ   @L106
         LA    15,0(0,0)
         B     @ret_lab_178
* ***   }
@ret_lab_178 DS 0H
* * **** Start of Epilogue
         DCCEPIL
* * **** End of Epilogue
*
*   DSECT for automatic variables in "match"
*      (FUNCTION #178)
*
@AUTO#match DSECT
         DS    XL88
match#l#0 DS   1A
*
@CODE    CSECT
*
*
*
pmatch   ALIAS C'pmatch'
pmatch   DCCPRLG CINDEX=167,BASER=12,FRAME=160,ENTRY=YES
         ST    1,80(0,13)  ; Save ptr to incoming parm block
* ******* End of Prologue
* *
* ***      register char *l;
* ***      register char *p;
* ***      register char c;
* ***      char *e;
* ***      int op;
* ***      int n;
* ***      char *are;
* ***
* ***   l = line;
         L     2,0(0,1)    ; line
         ST    2,104(0,13) ; l
* ***      if (debug > 1)
         L     3,@lit_167_208
         L     4,184(0,3)  ; debug
         C     4,@lit_167_209
         BNH   @L111
* ***         printf("pmatch(\"%s\")\n", line);
         LA    5,@lit_167_210
         ST    5,136(0,13)
         ST    2,140(0,13)
         LA    1,136(0,13)
         L     15,@lit_167_211 ; printf
         BALR  14,15
* ***      p = pattern;
@L111    DS    0H
         L     2,80(0,13)
         L     3,4(0,2)    ; pattern
         ST    3,108(0,13) ; p
* ***      while ((op = *p++) != 15) {
         B     @L113
         DS    0F
@lit_167_209 DC F'1' 0x00000001
@lit_167_208 DC A(@DATA)
@FRAMESIZE_167 DC F'160'
@lit_167_211 DC A(printf)
@lit_167_210 DC XL8'979481A383884D7F' pmatch..
             DC XL6'6CA27F5D1500' .s....
@lit_167_214 DC XL8'82A8A385AD6C84BD' byte..d.
             DC XL8'407E40F06C966B40' ...0.o..
             DC XL8'7D6C837D6B409697' ..c...op
             DC XL8'407E40F06C961500' ...0.o..
@lit_167_216 DC A(__tolower)
@lit_region_diff_167_1_2 DC A(@REGION_167_2-@REGION_167_1)
@lit_167_219 DC F'240' 0x000000f0
@lit_167_218 DC F'0' 0x00000000
@lit_167_221 DC F'249' 0x000000f9
@lit_167_224 DC F'129' 0x00000081
@lit_167_226 DC F'169' 0x000000a9
@lit_167_238 DC F'64' 0x00000040
@lit_167_240 DC F'255' 0x000000ff
@lit_167_243 DC F'-2' 0xfffffffe
@lit_167_241 DC F'2' 0x00000002
@lit_167_245 DC F'-1' 0xffffffff
@lit_167_248 DC F'5' 0x00000005
@lit_167_252 DC A(pmatch)
@lit_167_259 DC A(error)
@lit_167_258 DC XL8'C381959596A34088' Cannot.h
             DC XL8'8197978595406060' appen...
             DC XL8'409481A383881500' .match..
@lit_167_256 DC XL8'C281844096974083' Bad.op.c
             DC XL8'968485406C841500' ode..d..
@lit_167_261 DC F'13' 0x0000000d
@lit_167_264 DC F'15' 0x0000000f
@L112    DS    0H
* ***         if (debug > 1)
         L     2,@lit_167_208
         L     3,184(0,2)  ; debug
         C     3,@lit_167_209
         BNH   @L117
* ***            printf("byteÝ%d¨ = 0%o, '%c', op = 0%o\n",
         LA    4,@lit_167_214
         ST    4,136(0,13)
* ***                  l-line, *l, *l, op);
         L     4,104(0,13) ; l
         L     5,80(0,13)
         L     6,0(0,5)    ; line
         SLR   4,6
         ST    4,140(0,13)
         L     4,104(0,13) ; l
         LA    7,0(0,0)
         IC    7,0(0,4)
         ST    7,144(0,13)
         LA    7,0(0,0)
         IC    7,0(0,4)
         ST    7,148(0,13)
         MVC   152(4,13),120(13)
         LA    1,136(0,13)
         L     15,@lit_167_211 ; printf
         BALR  14,15
* ***         switch(op) {
         B     @L117
* ***
* ***   case 1:
* ***            if (__tolower(*l++) != *p++)
@L119    DS    0H
         L     2,104(0,13) ; l
         LR    3,2
         LA    2,1(0,2)
         ST    2,104(0,13) ; l
         LA    4,0(0,0)
         IC    4,0(0,3)
         ST    4,136(0,13)
         LA    1,136(0,13)
         L     15,@lit_167_216 ; __tolower
         BALR  14,15
         L     2,108(0,13) ; p
         LR    3,2
         LA    2,1(0,2)
         ST    2,108(0,13) ; p
         LA    4,0(0,0)
         IC    4,0(0,3)
         CR    15,4
         BE    @L113
* ***               return(0);
         LA    3,0(0,0)
         LR    15,3
         AL    12,@lit_region_diff_167_1_2
         DROP  12
         USING @REGION_167_2,12
         B     @ret_lab_167
         DROP  12
         USING @REGION_167_1,12
* ***            break;
         B     @L113
* ***
* ***   case 2:
* ***            if (l != lbuf)
@L121    DS    0H
         L     2,104(0,13) ; l
         L     3,@lit_167_208
         LA    4,192(0,3)  ; lbuf
         CR    2,4
         BE    @L113
* ***               return(0);
         LA    4,0(0,0)
         LR    15,4
         AL    12,@lit_region_diff_167_1_2
         DROP  12
         USING @REGION_167_2,12
         B     @ret_lab_167
         DROP  12
         USING @REGION_167_1,12
* ***            break;
         B     @L113
* ***
* ***   case 3:
* ***            if (*l != '\0')
@L123    DS    0H
         L     2,104(0,13) ; l
         CLI   0(2),0
         BE    @L113
* ***               return(0);
         LA    3,0(0,0)
         LR    15,3
         AL    12,@lit_region_diff_167_1_2
         DROP  12
         USING @REGION_167_2,12
         B     @ret_lab_167
         DROP  12
         USING @REGION_167_1,12
* ***            break;
         B     @L113
* ***
* ***   case 4:
* ***            if (*l++ == '\0')
@L125    DS    0H
         L     2,104(0,13) ; l
         LR    3,2
         LA    2,1(0,2)
         ST    2,104(0,13) ; l
         CLI   0(3),0
         BNE   @L113
* ***               return(0);
         LA    3,0(0,0)
         LR    15,3
         AL    12,@lit_region_diff_167_1_2
         DROP  12
         USING @REGION_167_2,12
         B     @ret_lab_167
         DROP  12
         USING @REGION_167_1,12
* ***            break;
         B     @L113
* ***
* ***   case 11:
* ***            if ((c = *l++) < '0' || (c > '9'))
@L127    DS    0H
         L     2,104(0,13) ; l
         LR    3,2
         LA    2,1(0,2)
         ST    2,104(0,13) ; l
         IC    4,0(0,3)
         STC   4,112(0,13) ; c
         ICM   4,B'1110',@lit_167_218
         C     4,@lit_167_219
         BL    @@gen_label85
         IC    3,112(0,13) ; c
         ICM   3,B'1110',@lit_167_218
         C     3,@lit_167_221
         BNH   @L113
@@gen_label85 DS 0H
* ***               return(0);
         LA    2,0(0,0)
         LR    15,2
         AL    12,@lit_region_diff_167_1_2
         DROP  12
         USING @REGION_167_2,12
         B     @ret_lab_167
         DROP  12
         USING @REGION_167_1,12
* ***            break;
         B     @L113
* ***
* ***   case 10:
* ***            c = __tolower(*l++);
@L129    DS    0H
         L     2,104(0,13) ; l
         LR    3,2
         LA    2,1(0,2)
         ST    2,104(0,13) ; l
         LA    4,0(0,0)
         IC    4,0(0,3)
         ST    4,136(0,13)
         LA    1,136(0,13)
         L     15,@lit_167_216 ; __tolower
         BALR  14,15
         STC   15,112(0,13) ; c
* ***            if (c < 'a' || c > 'z')
         IC    2,112(0,13) ; c
         ICM   2,B'1110',@lit_167_218
         C     2,@lit_167_224
         BL    @@gen_label87
         IC    2,112(0,13) ; c
         ICM   2,B'1110',@lit_167_218
         C     2,@lit_167_226
         BNH   @L113
@@gen_label87 DS 0H
* ***               return(0);
         LA    2,0(0,0)
         LR    15,2
         AL    12,@lit_region_diff_167_1_2
         DROP  12
         USING @REGION_167_2,12
         B     @ret_lab_167
         DROP  12
         USING @REGION_167_1,12
* ***            break;
         B     @L113
* ***
* ***   case 12:
* ***            c = __tolower(*l++);
@L131    DS    0H
         L     2,104(0,13) ; l
         LR    3,2
         LA    2,1(0,2)
         ST    2,104(0,13) ; l
         LA    4,0(0,0)
         IC    4,0(0,3)
         ST    4,136(0,13)
         LA    1,136(0,13)
         L     15,@lit_167_216 ; __tolower
         BALR  14,15
         STC   15,112(0,13) ; c
* ***            if (c >= 'a' && c <= 'z')
         IC    2,112(0,13) ; c
         ICM   2,B'1110',@lit_167_218
         C     2,@lit_167_224
         BL    @L132
         IC    2,112(0,13) ; c
         ICM   2,B'1110',@lit_167_218
         C     2,@lit_167_226
         BNH   @L113
         B     @L132
@@gen_label90 DS 0H
* ***               break;
         B     @L113
* ***            else if (c < '0' || c > '9')
         B     @L113
@L132    DS    0H
         IC    2,112(0,13) ; c
         ICM   2,B'1110',@lit_167_218
         C     2,@lit_167_219
         BL    @@gen_label92
         IC    2,112(0,13) ; c
         ICM   2,B'1110',@lit_167_218
         C     2,@lit_167_221
         BNH   @L113
@@gen_label92 DS 0H
* ***               return(0);
         LA    2,0(0,0)
         LR    15,2
         AL    12,@lit_region_diff_167_1_2
         DROP  12
         USING @REGION_167_2,12
         B     @ret_lab_167
         DROP  12
         USING @REGION_167_1,12
* ***            break;
         B     @L113
* ***
* ***   case 13:
* ***            c = *l++;
@L135    DS    0H
         L     2,104(0,13) ; l
         LR    3,2
         LA    2,1(0,2)
         ST    2,104(0,13) ; l
         IC    4,0(0,3)
         STC   4,112(0,13) ; c
* ***            if (c == 0 || c > ' ')
         IC    3,112(0,13) ; c
         ICM   3,B'1110',@lit_167_218
         LTR   3,3
         BE    @@gen_label94
         IC    3,112(0,13) ; c
         ICM   3,B'1110',@lit_167_218
         C     3,@lit_167_238
         BNH   @L113
@@gen_label94 DS 0H
* ***               return(0);
         LA    2,0(0,0)
         LR    15,2
         AL    12,@lit_region_diff_167_1_2
         DROP  12
         USING @REGION_167_2,12
         B     @ret_lab_167
         DROP  12
         USING @REGION_167_1,12
* ***            break;
         B     @L113
* ***
* ***   case 5:
* ***         case 6:
         B     @L138
@L137    DS    0H
* ***            c = __tolower(*l++);
@L138    DS    0H
         L     2,104(0,13) ; l
         LR    3,2
         LA    2,1(0,2)
         ST    2,104(0,13) ; l
         LA    4,0(0,0)
         IC    4,0(0,3)
         ST    4,136(0,13)
         LA    1,136(0,13)
         L     15,@lit_167_216 ; __tolower
         BALR  14,15
         STC   15,112(0,13) ; c
* ***            n = *p++ & 0377;
         L     2,108(0,13) ; p
         LR    3,2
         LA    2,1(0,2)
         ST    2,108(0,13) ; p
         LA    4,0(0,0)
         IC    4,0(0,3)
         N     4,@lit_167_240
         ST    4,124(0,13) ; n
* ***            do {
@L139    DS    0H
* ***               if (*p == 14) {
         L     2,108(0,13) ; p
         CLI   0(2),14
         BNE   @L142
* ***                  p += 3;
         LA    2,3(0,2)
         ST    2,108(0,13) ; p
* ***                  n -= 2;
         L     3,124(0,13) ; n
         S     3,@lit_167_241
         ST    3,124(0,13) ; n
* ***                  if (c >= pÝ-2¨ && c <= pÝ-1¨)
         IC    4,112(0,13) ; c
         ICM   4,B'1110',@lit_167_218
         AL    2,@lit_167_243
         LA    5,0(0,0)
         IC    5,0(0,2)
         CR    4,5
         BL    @L144
         IC    2,112(0,13) ; c
         ICM   2,B'1110',@lit_167_218
         L     4,108(0,13) ; p
         AL    4,@lit_167_245
         LA    5,0(0,0)
         IC    5,0(0,4)
         CR    2,5
         BNH   @L140
         B     @L144
@@gen_label98 DS 0H
* ***                     break;
         B     @L140
* ***               }
         B     @L144
@L143    DS    0H
* ***               else if (c == *p++)
         B     @L144
@L142    DS    0H
         L     2,108(0,13) ; p
         LR    3,2
         LA    2,1(0,2)
         ST    2,108(0,13) ; p
         IC    4,112(0,13) ; c
         ICM   4,B'1110',@lit_167_218
         LA    5,0(0,0)
         IC    5,0(0,3)
         CR    4,5
         BNE   @L144
* ***                  break;
         B     @L140
* ***            } while (--n > 1);
@L144    DS    0H
         L     2,124(0,13) ; n
         BCTR  2,0
         ST    2,124(0,13) ; n
         C     2,@lit_167_209
         BH    @L139
@L140    DS    0H
* ***            if ((op == 5) == (n <= 1))
         L     2,120(0,13) ; op
         C     2,@lit_167_248
         BNE   @@gen_label102
         LA    3,1(0,0)
         B     @@gen_label103
@@gen_label102 DS 0H
         LA    3,0(0,0)
@@gen_label103 DS 0H
         L     2,124(0,13) ; n
         C     2,@lit_167_209
         BH    @@gen_label104
         LA    4,1(0,0)
         B     @@gen_label105
@@gen_label104 DS 0H
         LA    4,0(0,0)
@@gen_label105 DS 0H
         CR    3,4
         BNE   @L146
* ***               return(0);
         LA    2,0(0,0)
         LR    15,2
         AL    12,@lit_region_diff_167_1_2
         DROP  12
         USING @REGION_167_2,12
         B     @ret_lab_167
         DROP  12
         USING @REGION_167_1,12
* ***            if (op == 5)
@L146    DS    0H
         L     2,120(0,13) ; op
         C     2,@lit_167_248
         BNE   @L113
* ***               p += n - 2;
         L     3,108(0,13) ; p
         L     4,124(0,13) ; n
         S     4,@lit_167_241
         LA    3,0(3,4)
         ST    3,108(0,13) ; p
* ***            break;
         B     @L113
* ***
* ***   case 9:
* ***            e = pmatch(l, p);
@L148    DS    0H
         L     2,104(0,13) ; l
         ST    2,136(0,13)
         L     3,108(0,13) ; p
         ST    3,140(0,13)
         LA    1,136(0,13)
         L     15,@lit_167_252 ; pmatch
         BALR  14,15
         ST    15,116(0,13) ; e
* ***            while (*p++ != 15);
         B     @L150
@L149    DS    0H
* ***            if (e)
@L150    DS    0H
         L     2,108(0,13) ; p
         LR    3,2
         LA    2,1(0,2)
         ST    2,108(0,13) ; p
         CLI   0(3),15
         BNE   @L150
         L     3,116(0,13) ; e
         LTR   3,3
         BZ    @L113
* ***               l = e;
         ST    3,104(0,13) ; l
* ***            break;
         B     @L113
* ***
* ***   case 8:
* ***            if ((l = pmatch(l, p)) == 0)
@L154    DS    0H
         L     2,104(0,13) ; l
         ST    2,136(0,13)
         L     3,108(0,13) ; p
         ST    3,140(0,13)
         LA    1,136(0,13)
         L     15,@lit_167_252 ; pmatch
         BALR  14,15
         ST    15,104(0,13) ; l
         LTR   15,15
         BNE   @L156
* ***               return(0);
         LA    2,0(0,0)
         LR    15,2
         AL    12,@lit_region_diff_167_1_2
         DROP  12
         USING @REGION_167_2,12
         B     @ret_lab_167
         DROP  12
         USING @REGION_167_1,12
* ***         case 7:
         B     @L156
@L155    DS    0H
* ***            are = l;
@L156    DS    0H
         L     2,104(0,13) ; l
         ST    2,128(0,13) ; are
* ***            while (*l && (e = pmatch(l, p)))
         B     @L158
@L157    DS    0H
         L     2,116(0,13) ; e
         ST    2,104(0,13) ; l
* ***            while (*p++ != 15);
@L158    DS    0H
         L     2,104(0,13) ; l
         TM    0(2),255
         BZ    @L162
         ST    2,136(0,13)
         L     3,108(0,13) ; p
         ST    3,140(0,13)
         LA    1,136(0,13)
         L     15,@lit_167_252 ; pmatch
         BALR  14,15
         ST    15,116(0,13) ; e
         LTR   15,15
         BNZ   @L157
         B     @L162
@@gen_label111 DS 0H
* ***               l = e;
         B     @L162
@L161    DS    0H
* ***            while (l >= are) {
@L162    DS    0H
         L     2,108(0,13) ; p
         LR    3,2
         LA    2,1(0,2)
         ST    2,108(0,13) ; p
         CLI   0(3),15
         BNE   @L162
         B     @L166
@L165    DS    0H
* ***               if (e = pmatch(l, p))
         L     2,104(0,13) ; l
         ST    2,136(0,13)
         L     3,108(0,13) ; p
         ST    3,140(0,13)
         LA    1,136(0,13)
         L     15,@lit_167_252 ; pmatch
         BALR  14,15
         ST    15,116(0,13) ; e
         LTR   15,15
         BZ    @L169
* ***                  return(e);
         AL    12,@lit_region_diff_167_1_2
         DROP  12
         USING @REGION_167_2,12
         B     @ret_lab_167
         DROP  12
         USING @REGION_167_1,12
* ***               --l;
@L169    DS    0H
         L     2,104(0,13) ; l
         BCTR  2,0
         ST    2,104(0,13) ; l
* ***            }
* ***            return(0);
@L166    DS    0H
         L     2,104(0,13) ; l
         L     3,128(0,13) ; are
         CR    2,3
         BNL   @L165
         LA    4,0(0,0)
         LR    15,4
         AL    12,@lit_region_diff_167_1_2
         DROP  12
         USING @REGION_167_2,12
         B     @ret_lab_167
         DROP  12
         USING @REGION_167_1,12
* ***
* ***   default:
* ***            printf("Bad op code %d\n", op);
@L170    DS    0H
         LA    2,@lit_167_256
         ST    2,136(0,13)
         MVC   140(4,13),120(13)
         LA    1,136(0,13)
         L     15,@lit_167_211 ; printf
         BALR  14,15
* ***            error("Cannot happen -- match\n");
         LA    2,@lit_167_258
         ST    2,136(0,13)
         LA    1,136(0,13)
         L     15,@lit_167_259 ; error
         BALR  14,15
* ***         }
* ***      }
         B     @L113
@L117    DS    0H
         L     2,120(0,13) ; op
         C     2,@lit_167_209
         BL    @L170
         C     2,@lit_167_261
         BH    @L170
         S     2,@lit_167_209
         SLL   2,3(0)
         LA    3,@@gen_label116
         BC    15,0(3,2)
@@gen_label116 DS    0H
         B     @L119
         DC    XL4'00000000'
         B     @L121
         DC    XL4'00000000'
         B     @L123
         DC    XL4'00000000'
         B     @L125
         DC    XL4'00000000'
         B     @L137
         DC    XL4'00000000'
         B     @L138
         DC    XL4'00000000'
         B     @L156
         DC    XL4'00000000'
         B     @L154
         DC    XL4'00000000'
         B     @L148
         DC    XL4'00000000'
         B     @L129
         DC    XL4'00000000'
         B     @L127
         DC    XL4'00000000'
         B     @L131
         DC    XL4'00000000'
         B     @L135
         DC    XL4'00000000'
@L118    DS    0H
* ***      return(l);
@L113    DS    0H
         L     2,108(0,13) ; p
         LR    3,2
         LA    2,1(0,2)
         ST    2,108(0,13) ; p
         LA    4,0(0,0)
         IC    4,0(0,3)
         ST    4,120(0,13) ; op
         C     4,@lit_167_264
         BNE   @L112
         L     3,104(0,13) ; l
         LR    15,3
         AL    12,@lit_region_diff_167_1_2
         DROP  12
         USING @REGION_167_2,12
         B     @ret_lab_167
         DROP  12
         USING @REGION_167_1,12
* ***   }
         AL    12,@lit_region_diff_167_1_2
         DROP  12
         USING @REGION_167_2,12
         B     @ret_lab_167
         DROP  12
         USING @REGION_167_1,12
@REGION_167_2 DS 0H
         DROP  12
         USING @REGION_167_2,12
@ret_lab_167 DS 0H
* * **** Start of Epilogue
         DCCEPIL
* * **** End of Epilogue
*
*   DSECT for automatic variables in "pmatch"
*      (FUNCTION #167)
*
@AUTO#pmatch DSECT
         DS    XL104
pmatch#l#0 DS  1A
pmatch#p#0 DS  1A
pmatch#c#0 DS  1CL1
         ORG   @AUTO#pmatch+116
pmatch#e#0 DS  1A
pmatch#op#0 DS 1F
pmatch#n#0 DS  1F
pmatch#are#0 DS 1A
*
@CODE    CSECT
*
*
*
error    ALIAS C'error'
error    DCCPRLG CINDEX=177,BASER=12,FRAME=112,ENTRY=YES
         ST    1,80(0,13)  ; Save ptr to incoming parm block
* ******* End of Prologue
* *
* ***      fprintf((&__sFÝ2¨), "%s", s);
         L     2,@lit_177_280
         LA    2,176(0,2)
         ST    2,96(0,13)
         LA    2,@lit_177_281
         ST    2,100(0,13)
         L     2,0(0,1)    ; s
         ST    2,104(0,13)
         LA    1,96(0,13)
         L     15,@lit_177_282 ; fprintf
         BALR  14,15
* ***      exit(1);
         LA    2,1(0,0)
         ST    2,96(0,13)
         LA    1,96(0,13)
         L     15,@lit_177_283 ; exit
         BALR  14,15
* ***   }
@ret_lab_177 DS 0H
* * **** Start of Epilogue
         DCCEPIL
* * **** End of Epilogue
         DS    0F
@lit_177_283 DC A(exit)
@lit_177_282 DC A(fprintf)
@lit_177_281 DC XL3'6CA200' .s.
         DC    X'00'
@lit_177_280 DC A(__s$F)
@FRAMESIZE_177 DC F'112'
*
*   DSECT for automatic variables in "error"
*      (FUNCTION #177)
*
@AUTO#error DSECT
         DS    XL96
*
@CODE    CSECT
*
*  data section
*
@DATA    ALIAS C'@grep'
@DATA    CSECT
@DATA    RMODE ANY
@DATA    AMODE ANY
documentation ALIAS C'documentation'
         ENTRY documentation
patdoc   ALIAS C'patdoc'
         ENTRY patdoc
cflag    ALIAS C'cflag'
         ENTRY cflag
fflag    ALIAS C'fflag'
         ENTRY fflag
nflag    ALIAS C'nflag'
         ENTRY nflag
vflag    ALIAS C'vflag'
         ENTRY vflag
nfile    ALIAS C'nfile'
         ENTRY nfile
debug    ALIAS C'debug'
         ENTRY debug
pp       ALIAS C'pp'
         ENTRY pp
lbuf     ALIAS C'lbuf'
         ENTRY lbuf
pbuf     ALIAS C'pbuf'
         ENTRY pbuf
documentation DC    A(@strings@+0)
         DC    A(@strings@+54)
         DC    A(@strings@+100)
         DC    A(@strings@+146)
         DC    A(@strings@+199)
         DC    A(@strings@+263)
         DC    A(@strings@+316)
         DC    A(@strings@+358)
         DC    A(@strings@+392)
         DC    A(@strings@+453)
         DC    4X'00'
patdoc   DC    A(@strings@+522)
         DC    A(@strings@+592)
         DC    A(@strings@+665)
         DC    A(@strings@+716)
         DC    A(@strings@+791)
         DC    A(@strings@+863)
         DC    A(@strings@+929)
         DC    A(@strings@+957)
         DC    A(@strings@+1033)
         DC    A(@strings@+1090)
         DC    A(@strings@+1162)
         DC    A(@strings@+1233)
         DC    A(@strings@+1301)
         DC    A(@strings@+1354)
         DC    A(@strings@+1420)
         DC    A(@strings@+1483)
         DC    A(@strings@+1502)
         DC    A(@strings@+1567)
         DC    A(@strings@+1631)
         DC    A(@strings@+1696)
         DC    A(@strings@+1719)
         DC    A(@strings@+1788)
         DC    A(@strings@+1854)
         DC    A(@strings@+1922)
         DC    A(@strings@+1986)
         DC    A(@strings@+2049)
         DC    A(@strings@+2115)
         DC    A(@strings@+2180)
         DC    A(@strings@+2241)
         DC    4X'00'
cflag    DC    4X'00'
fflag    DC    4X'00'
nflag    DC    4X'00'
vflag    DC    4X'00'
nfile    DC    4X'00'
debug    DC    4X'00'
pp       DC    4X'00'
lbuf     DC    512X'00'
pbuf     DC    256X'00'
@strings@ DS   0H
         DC    X'8799859740A2858199838885A2408140' grep.searches.a.
         DC    X'86899385408696994081408789A58595' file.for.a.given
         DC    X'409781A3A38599954B4040C5A78583A4' .pattern...Execu
         DC    X'A3854082A8004040408799859740AD86' te.by....grep..f
         DC    X'938187A2BD40998587A49381996D85A7' lags..regular.ex
         DC    X'979985A2A289969540868993856D9389' pression.file.li
         DC    X'A2A31500C6938187A24081998540A289' st..Flags.are.si
         DC    X'9587938540838881998183A38599A240' ngle.characters.
         DC    X'9799858385858485844082A8407D607D' preceeded.by....
         DC    X'7A004040406083404040404040D69593' ......c......Onl
         DC    X'A84081408396A495A3409686409481A3' y.a.count.of.mat
         DC    X'83888995874093899585A24089A24097' ching.lines.is.p
         DC    X'998995A3858400404040608640404040' rinted.....f....
         DC    X'4040D7998995A3408689938540958194' ..Print.file.nam
         DC    X'8540869699409481A383888995874093' e.for.matching.l
         DC    X'899585A240A2A689A383886B40A28585' ines.switch..see
         DC    X'4082859396A600404040609540404040' .below.....n....
         DC    X'4040C581838840938995854089A24097' ..Each.line.is.p
         DC    X'99858385858485844082A84089A3A240' receeded.by.its.
         DC    X'938995854095A4948285990040404060' line.number.....
         DC    X'A5404040404040D69593A84097998995' v......Only.prin
         DC    X'A340959695609481A383888995874093' t.non.matching.l
         DC    X'899585A21500E3888540868993856D93' ines..The.file.l
         DC    X'89A2A34089A24081409389A2A3409686' ist.is.a.list.of
         DC    X'4086899385A24B0015E3888540868993' .files...The.fil
         DC    X'8540958194854089A240959699948193' e.name.is.normal
         DC    X'93A84097998995A3858440898640A388' ly.printed.if.th
         DC    X'8599854089A240814086899385408789' ere.is.a.file.gi
         DC    X'A585954B00E388854060864086938187' ven..The..f.flag
         DC    X'409985A58599A285A240A38889A24081' .reverses.this.a
         DC    X'83A3899695404D97998995A340958194' ction..print.nam
         DC    X'8540959640868993856B409596A34089' e.no.file..not.i
         DC    X'8640949699855D4B1500E38885409985' f.more....The.re
         DC    X'87A49381996D85A7979985A2A2899695' gular.expression
         DC    X'40848586899585A240A38885409781A3' .defines.the.pat
         DC    X'A385999540A39640A285819983884086' tern.to.search.f
         DC    X'96994B4040E497978599604081958400' or...Upper..and.
         DC    X'9396A68599608381A285408199854081' lower.case.are.a
         DC    X'93A681A8A240898795969985844B4040' lways.ignored...
         DC    X'C2938195924093899585A2409585A585' Blank.lines.neve
         DC    X'99409481A383884B4040E388854085A7' r.match...The.ex
         DC    X'979985A2A289969500A28896A4938440' pression.should.
         DC    X'82854098A496A3858440A39640979985' be.quoted.to.pre
         DC    X'A58595A34086899385609581948540A3' vent.file.name.t
         DC    X'998195A29381A38996954B00A7404040' ranslation..x...
         DC    X'404040C1954096998489958199A84083' ...An.ordinary.c
         DC    X'8881998183A38599404D9596A3409485' haracter..not.me
         DC    X'95A389969585844082859396A65D4094' ntioned.below..m
         DC    X'81A3838885A240A38881A34083888199' atches.that.char
         DC    X'8183A385994B007DE07D40404040E388' acter.........Th
         DC    X'854082818392A29381A2884098A496A3' e.backslash.quot
         DC    X'85A2408195A840838881998183A38599' es.any.character
         DC    X'4B40407FE05B7F409481A3838885A240' ........matches.
         DC    X'814084969393819960A28987954B007D' a.dollar.sign...
         DC    X'5F7D40404040C14083899983A4948693' ......A.circumfl
         DC    X'85A74081A340A3888540828587899595' ex.at.the.beginn
         DC    X'8995874096864081954085A7979985A2' ing.of.an.expres
         DC    X'A2899695409481A3838885A240A38885' sion.matches.the
         DC    X'00404040404040408285878995958995' ........beginnin
         DC    X'87409686408140938995854B007D5B7D' g.of.a.line.....
         DC    X'40404040C14084969393819960A28987' ....A.dollar.sig
         DC    X'954081A340A388854085958440968640' n.at.the.end.of.
         DC    X'81954085A7979985A2A2899695409481' an.expression.ma
         DC    X'A3838885A240A3888540859584409686' tches.the.end.of
         DC    X'408140938995854B007D4B7D40404040' .a.line.........
         DC    X'C140978599899684409481A3838885A2' A.period.matches
         DC    X'408195A840838881998183A385994085' .any.character.e
         DC    X'A7838597A3407F9585A660938995857F' xcept..new.line.
         DC    X'4B007D7A817D404040C1408396939695' ....a....A.colon
         DC    X'409481A3838885A2408140839381A2A2' .matches.a.class
         DC    X'40968640838881998183A38599A24084' .of.characters.d
         DC    X'85A28399898285844082A840A3888540' escribed.by.the.
         DC    X'8696939396A6899587007D7A847D4040' following...d...
         DC    X'404040838881998183A385994B40407F' ...character....
         DC    X'7A817F409481A3838885A2408195A840' .a..matches.any.
         DC    X'81939788818285A389836B407F7A847F' alphabetic....d.
         DC    X'409481A3838885A24084898789A3A26B' .matches.digits.
         DC    X'007D7A957D40404040407F7A957F4094' ...n........n..m
         DC    X'81A3838885A240819397888195A49485' atches.alphanume
         DC    X'998983A26B407F7A407F409481A38388' rics.......match
         DC    X'85A240A297818385A26B40A38182A26B' es.spaces..tabs.
         DC    X'40819584007D7A407D404040404096A3' .and..........ot
         DC    X'88859940839695A39996934083888199' her.control.char
         DC    X'8183A38599A26B40A2A483884081A240' acters..such.as.
         DC    X'9585A660938995854B007D5C7D404040' new.line........
         DC    X'40C1954085A7979985A2A28996954086' .An.expression.f
         DC    X'96939396A685844082A84081954081A2' ollowed.by.an.as
         DC    X'A3859989A292409481A3838885A240A9' terisk.matches.z
         DC    X'85999640969940949699850040404040' ero.or.more.....
         DC    X'404040968383A4999981958385A24096' ...occurrances.o
         DC    X'8640A38881A34085A7979985A2A28996' f.that.expressio
         DC    X'957A407F86965C7F409481A3838885A2' n...fo...matches
         DC    X'407F867F6B407F86967F004040404040' ..f....fo.......
         DC    X'40407F8696967F6B4085A3834B007D4E' ...foo...etc....
         DC    X'7D40404040C1954085A7979985A2A289' .....An.expressi
         DC    X'9695408696939396A685844082A84081' on.followed.by.a
         DC    X'409793A4A240A2898795409481A38388' .plus.sign.match
         DC    X'85A24096958540969940949699850040' es.one.or.more..
         DC    X'404040404040968383A4999981958385' ......occurrance
         DC    X'A240968640A38881A34085A7979985A2' s.of.that.expres
         DC    X'A28996957A407F86964E7F409481A383' sion...fo...matc
         DC    X'8885A2407F86967F6B4085A3834B007D' hes..fo...etc...
         DC    X'607D40404040C1954085A7979985A2A2' ......An.express
         DC    X'899695408696939396A685844082A840' ion.followed.by.
         DC    X'8140948995A4A240A2898795409697A3' a.minus.sign.opt
         DC    X'899695819393A8409481A3838885A200' ionally.matches.
         DC    X'40404040404040A388854085A7979985' .......the.expre
         DC    X'A2A28996954B007DADBD7D404040C140' ssion.........A.
         DC    X'A2A399899587408595839396A2858440' string.enclosed.
         DC    X'899540A298A481998540829981839285' in.square.bracke
         DC    X'A3A2409481A3838885A2408195A84083' ts.matches.any.c
         DC    X'8881998183A385994089950040404040' haracter.in.....
         DC    X'404040A38881A340A2A3998995876B40' ...that.string..
         DC    X'82A4A34095964096A3888599A24B4040' but.no.others...
         DC    X'C98640A3888540868999A2A340838881' If.the.first.cha
         DC    X'998183A3859940899540A38885004040' racter.in.the...
         DC    X'4040404040A2A3998995874089A24081' .....string.is.a
         DC    X'4083899983A494869385A76B40A38885' .circumflex..the
         DC    X'4085A7979985A2A2899695409481A383' .expression.matc
         DC    X'8885A2408195A840838881998183A385' hes.any.characte
         DC    X'99004040404040404085A7838597A340' r........except.
         DC    X'7F9585A660938995857F4081958440A3' .new.line..and.t
         DC    X'888540838881998183A38599A2408995' he.characters.in
         DC    X'40A3888540A2A3998995874B4040C696' .the.string...Fo
         DC    X'99004040404040404085A78194979385' r........example
         DC    X'6B407FADA7A8A9BD7F409481A3838885' ....xyz...matche
         DC    X'A2407FA7A77F40819584407FA9A8A77F' s..xx..and..zyx.
         DC    X'6B40A688899385407FAD5FA7A8A9BD7F' ..while....xyz..
         DC    X'00404040404040409481A3838885A240' ........matches.
         DC    X'7F8182837F4082A4A3409596A3407F81' .abc..but.not..a
         DC    X'A7827F4B4040C1409981958785409686' xb....A.range.of
         DC    X'40838881998183A38599A2409481A840' .characters.may.
         DC    X'82850040404040404040A29785838986' be........specif
         DC    X'8985844082A840A3A696408388819981' ied.by.two.chara
         DC    X'83A38599A240A28597819981A3858440' cters.separated.
         DC    X'82A8407F607F4B4040D596A38540A388' by.......Note.th
         DC    X'81A36B0040404040404040AD8160A9BD' at..........a.z.
         DC    X'409481A3838885A24081939788818285' .matches.alphabe
         DC    X'A38983A26B40A68889938540ADA96081' tics..while..z.a
         DC    X'BD409585A58599409481A3838885A24B' ..never.matches.
         DC    X'00E38885408396958381A3859581A389' .The.concatenati
         DC    X'969540968640998587A49381994085A7' on.of.regular.ex
         DC    X'979985A2A2899695A24089A240814099' pressions.is.a.r
         DC    X'8587A49381994085A7979985A2A28996' egular.expressio
         DC    X'954B00'                           n..
*
         END
