PROC 1 DA VOL()
CONTROL NOMSG
IF &VOL NE  THEN SET &VOL1 = VOL(&VOL)
SET &CLONEVOL = &VOL
ISPEXEC VPUT CLONEVOL PROFILE
 IF &DA = ? THEN DO
 ISPEXEC DISPLAY PANEL(CLONE)
 EXIT
 END
SET &CLONEDSN = &DA &VOL1
ISPEXEC VPUT CLONEDSN PROFILE
LISTDSI &DA
FREE F(MSGS1)
   SET &Q = &SUBSTR(1:2,&SYSTIME)
   SET &Q1 = &SUBSTR(4:5,&SYSTIME)
   SET &Q2 = &SUBSTR(7:8,&SYSTIME)
   SET &MSGS = &STR(MG&Q&Q1&Q2)
   SET &MDA = &STR(&SYSPREF..&MSGS)
  FREE ATTRLIST(ISPMSGS)
    ATTRIB ISPMSGS DSORG(PS) RECFM( F B ) +
      LRECL( 80 ) BLKSIZE( 80 )
       ALLOC DA('&MDA') SP (1,1) TRACKS USING (ISPMSGS) +
        F(MSGS1) NEW
 IF &SYSDSORG = PO THEN  +
 ISPEXEC EDIT DATASET('&MDA')   MACRO(CLONEP)
 IF &SYSDSORG = PS THEN  +
 ISPEXEC EDIT DATASET('&MDA')   MACRO(CLONES)
 IF &SYSDSORG ¬= PS AND &SYSDSORG ¬= PO THEN DO
      SET &ZEDSMSG = &STR(UNSUPPORTED DSORG)
      SET &ZEDLMSG = &STR(XCOPY COMMAND ONLY WORKS WHEN USED +
                          WITHIN A DATSET WITH DSORG PO OR PS)
      ISPEXEC SETMSG MSG(ISRZ001)
      EXIT CODE(12)
    END
 WRITENR KEEP DATASET '&MDA' ENTER "Y" TO SAVE "N" TO DELETE
 READ ANS
 IF &SUBSTR(1:1,&ANS) = Y THEN EXIT
 DELETE '&MDA'
