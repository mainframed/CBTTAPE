/******* IDCAMS FROM ISPF - USE WITH PANEL IDCAMP10
CONTROL  MSG
SET RCODE = 0
ERROR +
DO
 SET RCODE = &LASTCC
 IF  &RCODE = 400 THEN GOTO ENDER
 ELSE EXIT
END
DISPLAY: ISPEXEC  DISPLAY PANEL(IDCAMP10)
SET      &TESTCC = &LASTCC
IF       &TESTCC ¬= 0 THEN GOTO ENDER
IF       .&O     = . THEN SET &O = A
IF       .&FORM ¬= . THEN SET &VFORM = &STR(FORMS(&FORM))
IF       .&FCB  ¬= . THEN SET &VFCB  = &STR(FCB(&FCB))
IF       .&CPY  ¬= . THEN SET &VCPY  = &STR(COPIES(&CPY))
IF       .&DEST ¬= . THEN SET &VDEST = &STR(DEST(&DEST))
ISPEXEC  VGET (ZSCREEN) SHARED
ALLOC    FI(OUTTER) SYSOUT(&O) &VFORMS &VFCB &VCPY &VDEST REUSE +
         BLKSIZE(2004) LRECL(125) RECFM(V B A)
OPENFILE TMPPRIN&ZSCREEN INPUT
OPENFILE OUTTER OUTPUT
IF &ZSCREEN = 2 THEN GOTO GETTER2
GETTER:  GETFILE  TMPPRIN1
  IF       &LASTCC ¬= 0 THEN GOTO ENDER
  SET      OUTTER = &TMPPRIN1
  PUTFILE  OUTTER
  GOTO     GETTER
GETTER2: GETFILE  TMPPRIN2
  IF       &LASTCC ¬= 0 THEN GOTO ENDER
  SET      OUTTER = &TMPPRIN2
  PUTFILE  OUTTER
  GOTO     GETTER2
ENDER:   +
CLOSFILE TMPPRIN&ZSCREEN
CLOSFILE OUTTER
WRITE PRINT COMPLETED!
FREE     FI(OUTTER)
END
