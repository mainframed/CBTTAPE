         I N T R O D U C T I O N
            PRC-DULLES MODS, V4
              NOVEMBER 1988
--------------------------------------------------------INSERT 01/99
DALE VICK:  UPDATED DSPACE COMMAND (JAN 1999)          -INSERT 01/99
                                                       -INSERT 01/99
      DALE VICK                                        -INSERT 01/99
      USA GROUP, INC.                                  -INSERT 01/99
      11100 USA PARKWAY                                -INSERT 01/99
      MC: B131                                         -INSERT 01/99
      FISHERS, IN 46038-9203                           -INSERT 01/99
      WORK PHONE: (317) 578-6786                       -INSERT 01/99
      E-MAIL:           DVICK@USAGROUP.COM             -INSERT 01/99
--------------------------------------------------------INSERT 01/99

THESE PROGRAMS ARE IN THE PUBLIC DOMAIN.  NO WARRANTY IS GIVEN OR
IMPLIED BY PLANNING RESEARCH CORPORATION.  NO LIABILITY IS ASSUMED BY
PRC FOR ANY OF THE CODE IN THIS FILE.

THIS GROUCHY CAVEAT ASIDE, THE AUTHORS WILL BE HAPPY TO PROVIDE PHONE
SUPPORT TO ANYONE WISHING TO INSTALL A SELECTION FROM OUR BAG OF TRICKS.
WE ARE:
    CHARLIE PITTS   -  (703) 883-8566
    DICK SZIEDE     -  (703) 883-8551
    PARKE WATSON    -  (703) 883-8599
    WES KAKIGI      -  (703) 883-8569
    DAN RIGGS       -  (703) 883-8550
    KEN MATTHEWS    -  HAS PASSED ON TO SOME LUMBER COMPANY NEAR
                       BOSTON.  GOOD LUCK KEN!

PARKE AND CHARLIE GET TO HAVE MOST OF THE FUN AROUND HERE.  (THEY'VE
EASED ME INTO MANAGEMENT TO KEEP ME FROM SCREWING UP THE SYSTEM).
SOME HIGHLIGHTS OF WHAT WE'VE DONE ARE CHARLIE'S ACF2 INTERFACES,
PARKE'S TP ACCOUNTING, AND OF COURSE THE OL' I/O COUNT ZAP.
    ----- DICK SZIEDE, PRC 1988

**************************************************************

NOTES FOR VERSION 2 -- NEW STUFF JAN 1987:

1). THE LM023XX MEMBERS ARE SUPPLIED BY SAM GOLOB OF NEWSWEEK.  HE'S
MAINTAINING LM023 AS THE SP VERSION OF THE I/O COUNT ZAP.  I CALLOUSLY
OVERWROTE THE SP VERSION I WROTE AT G.E. WITH CHARLIE'S XA VERSION.
SORRY, SAM.  THE XA VERSION IS LM01601, ALSO IN THIS PDS.  SEE MEMBER
$$NWKDOC FOR SAM'S COMMENTS ON LM023.

2). PARKE HAS ENHANCED AUTOIPL TO ENQUE ON ITS STARTED TASK NAME TO
KEEP CONFUSED OPERATORS FROM STARTING THE SAME PROCESS TWICE.

3). ENQWAIT IS A CALLABLE SUBROUTINE THAT WILL POLL FOR A SPECIFIC
ENQ, AND RETURN WHEN SOMEBODY ELSE GETS IT.  CALLED FROM AUTOIPL,
IT ALLOWS AUTOIPL TO WAIT UNTIL SOMETHING COMES UP, BEFORE PROCEEDING
-- FROM PARKE.

**************************************************************

NOTES FOR VERSION 3 -- NEW STUFF APRIL 1987:

1). CHARLIE'S TAPE LABEL WRITER NOW PRINTS VOLUME SEQUENCE NUMBER
ON THE LABEL.  MOST OF OUR TAPE FILES ARE MULTI-VOLUME, SO THIS
HELPS.

2). PARKE'S FULL-SCREEN SAS INTERFACE IS ENHANCED TO MATCH SAS
5.16.  FSAS NOW RUNS UNDER ITS OWN ISPF APPLID, SO YOUR SAS
PF-KEY DEFINITIONS, AND ENTRY-PANEL VARIABLES WILL BE STORED IN
YOUR ISPF PROFILE.  THE EDIT INTERFACE NOW LOOKS LIKE A REGULAR
EDIT, WITH MEMBER SELECT 'N ALL.

3). PARKE'S FULL-SCREEN DSPACE.  GO FROM FREESPACE BY
DEVICE-TYPE, OR MOUNT ATTRIBUTE, OR PARTIAL SERIAL TO VTOC MAP
(VIA 3.4), TO DATASET BROWSE OR EDIT, ALL IN ONE SMOOTH SERIES OF
PANELS.

     (UPDATED BY DALE VICK -  JAN 99  - TO DO UCBSCAN TO FIND
      DEVICES WITH DYNAMIC UCB'S)

4). QALLOC AND QFLUSH ARE SOME TCAM UTILITIES FOR DEALING WITH TCAM
APPLICATIONS FROM TSO.

5). ISFUSER MAKES THE SDSF SECURITY EXIT USE ACF2.

6). LM00501 - MAKE JES2 RELOAD 6-LPI AFTER 8-LPI PRINTS.

7). THE CLIB COMMAND IS USED TO ADD A PRIVATE  CLIST
           LIBRARY TO SYSPROC.

8). REPLYTO - WILL RESPOND TO AN OUTSTANDING WTOR.
    WE USE IT TO SYNCH PROCESSING BETWEEN ADABAS AND
    THE ADABAS LOG UTILITY.
**************************************************************

**************************************************************

NOTES FOR VERSION 4 -- NEW STUFF NOVEMBER 1988;

1). LM01603 - THE I/O COUNT ZAP IS UPGRADED FOR DFP/2.
    THIS WORKS WITH XA 2.2, BUT DOESN'T PRODUCE COUNTS FOR CERTAIN
    DYNAMIC DEALLOCATION MESSAGES.  WE WILL FIX WHEN WE GET 2.3 -
    1ST QUARTER OF '89.

2). SITEID - PASS RETURN CODE BASED ON JES2 NODE ID FROM JCT.

3). PARKE'S SPY NOW SUPPORTS MVS 2.1.7, AND DYNAMIC CONSOLE.

4). WAIT - WAIT-A-BIT UTILITY FOR MVS.

5). DSNPOST - ACF2 POST.  ALLOW SDSF ACCESS TO SPOOL.

6). A FIX TO SID TO PREVENT OC4 WITH BAD PARM FIELD.

7). ENQWAIT NOW SUPPORTS LOOSLY-COUPLED GRS ENVIRONMENT.

8). ISFUSER IS UPDATED FOR NEW SDSF (HQX1102).

9). LM04202 - ZAPS TO NCCF TAF TO SUPPORT LARGE SCREEN SIZE.

10) JESXIT9 - OUR "LINES EXCEEDED" EXIT


**************************************************************


               C O N T E N T S

AC#VIOX  TITLE 'AC#VIOX -- ACF2 VIOLATION EXIT'
         ALLOWS A USER WITH "ACCOUNT" AUTHORITY TO CREATE AN ALIAS IN
         THE MASTER CATALOG, EVEN THOUGH HE DOESN'T HAVE "WRITE"
         PERMISSION.  THE ROUTINE CHECKS THE ACF2 VIOLATION TO DETERMINE
         WHETHER IT IS FROM VSAM CATALOG MANAGEMENT. IF SO, IT THEN
         CHECKS TO SEE WHETHER THE REQUEST IS TO DEFINE OR DELETE AN
         ALIAS. IF YES, IT CHECKS TO SEE IF THE USER HAS ACCOUNT
         AUTHORITY. IF ALL CONDITIONS MATCH, THE ACCESS IS ALLOWED.

ACFFTSUB TITLE 'ACFFTSUB -- FILE TAILOR AND AUTHORIZED JOB SUBMISSION'
         THIS ROUTINE PERFORMS THE FUNCTIONS OF ACF2'S ACFSUB PROGRAM.
         THE MAIN REASON TO HAVE THIS IS TO PERMIT A USER TO SUBMIT A
         JOB WHICH WILL DO THINGS THE USER WOULD NORMALLY NOT BE
         PERMITTED TO DO.  (TYPICALLY, A DATA-CONTROL CLERK SUBMITTING
         THE FDR BACKUPS).  THIS ROUTINE EXTENDS ACFSUB TO ALLOW A FINAL
         STEP OF FILE TAILORING BY ISPF SERVICES PRIOR TO THE SUBMISSION
         WHILE MAINTAINING SECURITY OVER PRODUCTION AND MAINTENANCE JCL.

         NORMALLY ACFSUB-LIKE ROUTINES WHICH ARE USED TO TRIGGER THE
         SUBAUTH LID ATTRIBUTE HAVE TO BE APF AUTHORIZED.  HOWEVER,
         THERE IS A RESTRICTION IN FORCE WITH ISPF/PDF V2R2M0 AND TSO/E
         WHICH PROHIBITS ANY APF AUTHORIZED PROGRAM OR COMMAND PROCESSOR
         FROM USING ANY ISPF SERVICES.  THE SUBAUTHX EXIT, ALSO IN THIS
         FILE, IS NECESSARY TO GET AROUND THIS RESTRICTION.

         THE USER SHOULD HAVE READ AUTHORITY FOR THE FILE TAILORING
         SKELETON LIBRARY. WRITE ACCESS TO THESE LIBRARIES SHOULD BE
         CONTROLLED.  ONLY PROPER JOBSTREAMS CAN BE SUBMITTED.  THE
         USER'S LEVEL OF MODIFICATION OF THE JOBSTREAMS IS LIMITED TO
         SETTING DIALOG VARIABLES FOR THE FILE TAILORING.

ADAEX2 - 'ADABAS USER EXIT 2.'
         THIS IS THE ADABAS SWITCH LOG EXIT. WE GET CONTROL FROM
         ADABAS WHEN A PROTECTION LOG OR COMMAND LOG SWITCH TAKES
         PLACE.  ADAEX2 DUMPS THE LOGS AS REQUIRED, AND TELLS
         ADABAS TO GET ON WITH PROCESSING.  **NOTE** OUR ADABAS
         LOG-DUMP UTILITY JCL CALLS THE "REPLYTO" PROGRAM ALSO IN
         THIS FILE, TO GIVE ADABAS THE GO-AHEAD.

ASMTOZAP - THE ORIGINAL HOWARD GILBERT VERSION.  ACCEPT NO SUBSTITUTES!
         THERE ARE OTHER ASMTOZAP PROGRAMS AROUND THAT WILL PRODUCE BAD
         ZAPS FROM THE CODE IN THIS FILE.

         THIS IS A UTILITY WHICH CONVERTS AN ASSEMBLER LISTING DATASET
         INTO A FORMATTED IMASPZAP INPUT DECK OR SMP PTF. IT IS USEFUL
         IN PREPARING, MAINTAINING, AND DOCUMENTING THOSE INSTALLATION
         MODIFICATIONS WHICH CANNOT BE INSTALLED EXECPT BY MODIFING IBM
         CODE. ONE CAN MAKE FREE USE OF MACROS, LITERALS, AND OTHER
         CONVENIENCE FEATURES IN PREPARING THE DECK. CONTROL CARDS IN
         SPECIAL ASSEMBLER COMMENT FORM PROVIDE FLEXABILITY IN
         MODIFICATION DESIGN AND CONTROL OVER OUTPUT.

AUTOIPL  TITLE 'A U T O M A T I C   I P L'
         THIS PROGRAM ISSUES OPERATOR COMMANDS READ FROM AN INPUT FILE.
         IT ALLOWS CONDITIONAL COMMAND EXECUTION, TIMED COMMAND
         SUBMISSION, AND PROGRAM INVOCATION.  THESE FUNCTIONS PERMIT THE
         PROGRAM TO BE USED FOR A FULLY AUTOMATED IPL PROCEDURE FOR THE
         SYSTEM.

BITENCOD TITLE ENCODE OR DECODE BITS INTO BYTES
         PROVIDES BIT TESTING AND BIT SETTING FOR HIGH-LEVEL LANGUAGES

         BITENCOD: THIS SUBROUTINE TAKES A SINGLE CHARACTER ARGUMENT
                   OF ONE BYTE, AND RETURNS EIGHT CHARACTERS OF
                   ONES OR ZEROS DEPENDING ON THE BITS SET IN THE
                   ARGUMENT.
         BITDECOD: THIS SUBROUTINE TAKESS EIGHT CHARACTERS OF
                   DATA AND RETURNS A SINGLE BYTE, THE BITS OF
                   WHICH ARE THE RIGHTMOST BITS OF EACH ARGUMENT
                   BYTE.  THUS IS  IS THE OPPOSITE OF BITENCODE.

CALENDAR - PRINT A CUSTOM CALENDAR FOR ANY YEAR: BIRTHDAYS, HOLIDAYS,
           AND EVENTS TO YOUR ORDER.

CLIB   --- CONCATENATE DATASET FIRST TO DDNAME '
         PURPOSE: PROVIDE TSO USER QUICK ACCESS TO PRIVATE CLIST
         METHOD:  USE SVC 99 TO DETERMINE THE DSNAMES OF ALL DATASETS
                  CONCATENATED TO  A PARTICULAR DDNAME.
                  REALLOCATE THE  ARGUMENT DSNAME IN FRONT OF ALL THE
                  OTHERS.

COMMAND  TITLE 'COMMAND - ISSUE SVC34 FOR PROBLEM PROGRAM'
         ALLOW COMMANDS TO BE ISSUED BY PROGRAM CONTROL EITHER THROUGH
         THE PARM FIELD OR BY A CALL FROM ANOTHER PROGRAM.
         NOT FULLY OPERATIONAL, BUT REQUIRED BY SPY.

DSPACE   -- LIST DISK FREESPACE AND EXTENTS.
          THIS IS THE GOOL OL' SHARE DSPACE COMMAND WITH
          CLEARER FIELD LABELS, AND USING PUTLINE INSTEAD OF TPUT SO
          IT CAN BE RUN FROM A CLIST.  THIS COMMAND IS USED BY PARKE'S
          FULL-SCREEN "FDSPACE" PANELS.

DOPROG  -- DOPROG/DOCP  (TSO) COMMAND PROCESSOR
          DOPROG AND DOCP IN THE SAME MODULE.   USE TO INVOKE A COMMAND
          PROCESSOR.  HAS A "TASKLIB" CAPABILITY.  THIS ISN'T JOE
          SCHINDLER'S "DOCP," WHICH IS A STAND-ALONE CP, RATHER, AN
          ALIAS OF DOPROG.   JOE USED TPUT-TGET TO PROMPT FOR THE
          COMMAND LINE, WHICH I DIDN'T LIKE.   THIS VERSION WILL TAKE A
          CP COMMAND LINE IN QUOTES, OR WILL PROMPT WITH PUTGET IF IT
          DOESN'T FIND ONE.  THUS IT CAN BE USED IN A CLIST.

DSIEX04 - NCCF'S OWN LOGGING FACILITY IS PRETTY USELESS.  THIS EXIT
          PROVIDES AN ALTERNATIVE.
          WE GET A LOOKSEE AT ALL NCCF TERMINAL INPUTS AND OUTPUTS
          BEFORE NCCF DOES ITS OWN LOGGING.  WE DECIDE WHAT'S IMPORTANT
          AND WRITE IT FOR POSTERITY.  YOU'LL PROBABLY WANT TO SUPPRESS
          MSGID NCCF/ IN YOUR MVS/XA MPF LIST.  NOTE THAT DSILOG TASK
          MUST BE ACTIVE FOR THIS EXIT TO BE INVOKED.

DSNPOST  TITLE 'DSNPOST - ACF2 DSN POST-PROCESSING EXIT.'
          THIS IS AN ACF2 DSN POST-PROCESSING EXIT. WE USE THIS EXIT
          TO OVERRIDE A PARTICULAR VIOLATION. WE ATTEMPTED TO LIMIT
          ACCESS TO THE JES2 SPOOL AND CHECKPOINT DATASETS FROM
          SDSF VIA ACF2'S PROGRAM PATHING FACILITY, BUT THE LIMITATIONS
          OF THIS FACILITY ESPECIALLY WITHIN  ISPF DIALOGS BECAME
          EVIDENT (YOU HAVE TO ACCURATELY DESCRIBE THE TASK AND RB
          CHAINS FOR EVERY DIALOG THAT WILL BE USED). THUS WE ATTEMPT
          TO OVERRIDE VIOLATIONS AGAINST THE JES2 DATASETS THAT ARE
          REALLY NORMAL SDSF ACCESSES.  WE CHECK FOR OPEN FOR INPUT
          ACCESSES TO FILES HASPCKPT OR HASPAC00, AND THEN CHECK FOR
          THE PRESENCE OF AN AUTHORIZED LIBRARY VERSION OF ISFJINIT.

DSNWAIT  TITLE 'DSNWAIT - WTO EXIT TO INFORM TSO USER OF DSN WAIT.'
      NAME - DSNWAIT - WTO EXIT TO INFORM A TSO USER THAT JOB IS
        WAITING FOR A DATASET.
      DESCRIPTION -
        WE GET CONTROL UPON ISSUANCE OF THE IEF099I WTO.  WE ISSUE
        AN OPERATOR SEND COMMAND TO INFORM THE TSO USER THAT HIS BATCH
        JOB IS WAITING FOR SOME DATASETS.  THE INTENT HERE IS TO ALERT
        THE PERSON WHO CAN DO SOMETHING ABOUT THE SITUATION, SUCH AS
        FREE THE DATASETS.  WE FIRST MAKE SURE THAT MSG IEF099I
        WAS ISSUED, THAT ACF2 IS ALIVE AND WELL, THAT WE'RE A JOB,
        AND THAT THE RESULTS OF OUR GQSCAN REQUEST FOR SYSDSN CONFLICTS
        IS COOL. THEN WE ISSUE A SEND COMMAND FOR THE FIRST THREE
        CONFLICTS THAT MEET THE FOLLOWING CONDITIONS:
          1). 1 TASK HOLDS THE RESOURCE.
          2). 1 TASK WAITS FOR THE RESOURCE.
          3). WE ARE THE TASK THE WAITS FOR THE RESOURCE.
          4). IT IS A TSO USER THAT HOLDS THE RESOURCE.
          5). THE ACF2 LIDS FOR THE HOLDER AND WAITER ARE THE SAME.
        WHILE IT IS ACKNOWLEDGED THAT THESE CRITERIA WILL ELIMINATE
        SOME OTHERWISE VALID CANDIDATES FROM CONSIDERATION, IT IS HOPED
        THAT THIS EXIT WILL OTHERWISE PROVE USEFUL IN MOST SITUATIONS.

      NOTE - WE MUST BE IN AN APF-AUTHORIZED LINKLIST LIBRARY.
        THE ACF2 SECURITY SYSTEM IS REQUIRED BY THIS EXIT.

      TO USE -
        SPECIFY IN AN MPFLSTXX MEMBER OF PARMLIB:
        IEF099I,SUP(NO),USEREXIT(DSNWAIT)

ENQWAIT  TITLE 'ENQWAIT - STIMER UNTIL SOMEONE ELSE GETS AN ENQ.'
          THIS PROGRAM WORKS IN CONJUNCTION WITH THE
          AUTOIPL PROGRAM.  WE STIMER UNTIL A TARGET JOB
          ACQUIRES A TARGET RESOURCE VIA AN ENQ REQUEST.
          THUS WE CAN ENSURE THAT AUTOIPL WILL NOT PROCEED
          UNTIL A PREVIOUS PROCESS IS READY FOR
          PROCESSING.

          FOR EXAMPLE, CONSIDER THE FOLLOWING AUTOIPL INPUT:
            S TPJOB,M=TCAM
            "ENQWAIT "JOB=TCAM,MAJOR=AUTOTCAM
            S MESS,M=

          THE "S MESS,M=" COMMAND WILL NOT PROCEED UNTIL
          TCAM ACQUIRES THE RESOURCE WHOSE MAJOR NAME IS
          AUTOTCAM.  WE STIMER EVERY 10 SECONDS FOR 5
          MINUTES TO CHECK ON STATUS.  IF ANYTHING IS
          FOUND THAT IS UNGOOD, WE ABEND WITH A S0C3.

        TO USE -

   EXEC PGM=ENQWAIT,PARM='MAJOR=MMMMMMMM,
                          ACTION=WAIT/ABEND,
                          CONTROL=E/S/ANY,
                          JOB=JJJJJJJJ,
                          MINOR=RRRRRRRR,
                          MSG=YES/NO,
                          NAME=NNNNNNNN,
                          SCOPE=STEP/SYSTEM/SYSTEMS/ANY,
                          SYSNAME=SSSSSSSS,
                          TIME=9999,
                          WANTENQ=HELD/NOTHELD'

           MAJ(OR)  = TEST FOR THIS ENQ QNAME BEING HELD:
                      MMMMMMMM = QNAME (1-8 CHARS).
           A(CTION) = DO THIS IF CONDITION IS'NT INITIALLY MET:
                      W(AIT): WAIT (DEFAULT) FOR TIME= SECONDS.
                      A(BEND): ABEND IMMEDIATELY. (WITH AN U123).
           C(ONTROL)= TEST FOR THIS ENQ RESOURCE CONTORL:
                      E(XC): EXCLUSIVE
                      S(HR): SHARED
                      A(NY): DON'T TEST CONTROL (DEFAULT).
           J(OB)    = TEST FOR THIS JOBNAME HOLDING RESOURCE:
                      MMMMMMMM = QNMAE (1-8 CHARS).
                      NOTE: A MASK IS ALLOWED - JOB=ABC*.
           MIN(OR)  = TEST FOR THIS ENQ RNAME BEING HELD:
                      RRRRRRRR = RNAME (1-44 CHARS).
                      NOTE: A MASK IS ALLOWED - MINOR=ABC*.
           MSG      = IF CONDITION IS'NT MET, NOTIFY ISSUER?
                      Y(ES): NOTIFY (DEFAULT).
                      N(O):  DON'T NOTIFY.
           N(AME)   = DESCRIPTIVE NAME PUT IN NOTIFCATION MSG.
                      NNNNNNNN = NAME (1-8 CHARS).
           S(COPE)  = TEST FOR THIS ENQ SCOPE:
                      S(TEP): WITHIN AN ADDRESS SPACE.
                      SYS(TEM): BETWEEN ADDRESS SPACES.
                      SYSTEMS: SHARED BETWEEN SYSTEMS.
                      SYSS:    ""
                      A(NY): DON'T TEST SCOPE (DEFAULT).
           SYS(NAME)= TEST FOR THIS SYSNAME HOLDING RESOURCE:
                      SSSSSSSS = SYSNAME (1-8 CHARS).
                      NOTE: THIS IS FOR GRS SUPPORT.
           T(IME)   = FOR ACTION=WAIT, ELAPSED SECONDS TO WAIT
                      BEFORE ABENDING:
                      NNNN = 1-9999 (DEFAULT=300).
                      NOTE: ROUNDED UP TO NEXT 5 SECOND INTREVAL.
           W(ANTENQ)= CONDITION TO BE MET BEFORE RETURNING CONTROL
                      H(ELD): ENQ MUST BE HELD (DEFAULT)
                      N(OTHELD): ENQ MUST NOT BE HELD.


FSAS    - A FULL SCREEN SAS FACILITY THAT USES THE ISPF EDITOR.
          NEEDS PANELS, CLISTS, MESSAGES AND CODE FOUND IN THIS PDS,
          THAT START FSAS....   ALSO NEEDS THE CLIST SELMEMBR, AND THE
          PANEL SELMEMP1.

JESXIT9 - TITLE 'JES2 EXIT9 - OUTPUT EXCEEDED EXIT.'
    DESCRIPTION -
      THIS IS THE OUTPUT EXCEEDED JES EXIT. OUR INSTALLATION DOES
      NOT BY DEFAULT CANCEL JOBS THAT EXCEED OUTPUT. THIS EXIT
      PROMPTS THE OPERATOR ABOUT EVERY 100,000 LINES EXCEEDED TO
      CANCEL THE JOB OR ALLOW THE JOB TO CONTINUE. THUS WE CAN
      PREVENT RUNAWAY JOBS FROM FILLING UP SPOOL SPACE.

HEX   TITLE ' BASE 16 ARITHMETIC '
          FOR THOSE WHO HAVN'T BLOWN THE $15 FOR A CASIO CM-100, HERE'S
          A LITTLE HELP.  THE IMPETUS FOR WRITING THIS PROGRAM COMES
          FROM THOSE FRUSTRATING HOURS SPENT FUMBLING WITH A DUMP ONLY
          TO DISCOVER THAT MY INABILITY TO FIND A SOLUTION STEMS FROM AN
          ARITHMETIC ERROR IN THE INITIAL STEPS.

IGC0022F TITLE 'IGC0022F,SVC 226, WRITE USER SMF RECORD'
          WRITE USER SMF RECORD FROM NON APF-AUTHORIZED PROGRAM.
          TYPICALLY, THE RECORD CONTAINS ACCOUNTING DATA FROM SUCH
          PACKAGES AS TELAGRAF, THAT REQUIRE THEIR OWN ACCOUNTING DATA.
          THE CALLER MUST PROVIDE A POINTER TO THE SMF RECORD IN
          REGISTER ONE.  SVC226 WILL VALIDATE THE ARGUMENTS, FILL IN THE
          STANDARD SMF HEADER AND DISPATCH THE RECORD WITH A SMFWTM
          MACRO.

IEFACTRT TITLE 'SMF JOB/STEP TERMINATION EXIT ROUTINE     '
          SMF EXIT ROUTINE PUTS JOB SUMMARY MESSAGES ON THE JOB LOG WITH
          STEP TERMINATION STATUS.  THIS IS THE SP IPO EXIT, DIDDLED TO
          WORK UNDER XA.

IEFUSI   'MEMLIMIT - IEFUSI EXIT TO SET REGION AND GETMAIN PARAMETERS
          AVOID 40D ABENDS WHEN USING A REGION GREATER THAN 32 MEG.
          SET LIMITS FOR REGION AND GETMAINS.  THE IEFUSI LIMIT FLAG IS
          SET ON IN THE VSM PARAMETER LIST. THIS ENABLES VSM LOGIC TO
          SET REGION AND GETMAIN LIMITS. NO SPECIFIC VALUES ARE SET.
          THIS EXIT ADDRESSES A PROBLEM WHICH CAUSES ADDRESS SPACES TO
          FAIL WHEN A V-FORM GETMAIN IS ISSUED WHICH GETS THE ENTIRE
          PRIVATE AREA BELOW THE 16M LINE. ITS PURPOSE IS TO RESERVE FOR
          SYSTEM USE (EG, ABTERM) A REASONABLE AMOUNT OF STORAGE.

IKJEFF10 TITLE 'IKJEFF10 - TSO/E SUBMIT EXIT ROUTINE.'
         WE USE THIS EXIT TO INSERT A COMMENT CARD AFTER EACH JOB CARD
         THAT NAMES THE JCL SOURCE DATASET.  THUS:
           //* SUBMITTED FROM ISPF EDIT OF USERID.TEST.CNTL(IEFBR14)
         THIS ALLOWS THE DEBUGGER TO RELATE A JCL LISTING BACK TO THE
         LIBRARY FROM WHICH THE JOB WAS SUBMITTED.

IKJEFF53 TITLE ' FIB INSTALLATION EXIT'
         VALIDITY CHECKS JOBNAME ON A CANCEL, OUTPUT OR STATUS FIB
         (FOREGROUND INITIATED BACKGROUND) COMMAND.  USES AN ACF2
         GENERALIZED RESOURCE RULE TEST, SO THE ACCESS RULES
         CAN BE CHANGED WITH ACF2 COMMANDS INSTEAD OF REASSEMBLY
         AND RELOAD OF IKJEFF53.

ISPFPRTO TITLE 'PRINTOFF SUBCOMMAND OF BROWSE & EDIT      '
         THIS CLIST, PLUS AN ENTRY IN THE ISPTLIB MEMBER, "ISPCMDS,"
         WILL PRINT THE DATASET BEING BROWSED OR EDITED, THUS:
         COMMAND ==> PRINTO
         INSTEAD OF:
         COMMAND ==> TSO PRINTO ENDLESS.GODDAM.DATASET.NAME
         NEEDS ISRBROBF AND ISREDDE REPLACEMENT PANELS IN THIS PDS.

ISFUSER  SDSF - ACF2 INTERFACE
         WITH THIS INTERFACE, SDSF AND OUTPUT OBEY THE SAME RULES --
         WHO CAN DO WHAT, AND WITH WHICH, AND TO WHOM?
         IKJEFF53 AND ISFUSER BOTH CHECK THE SAME ACF2 GRO RULES.

ISRPID TITLE 'ISRPID - FETCH THE CURRENT ISPF PANELID.'
         THIS ROUTINE RUNS UNDER THE ISPF DIALOG MANAGER AND RETURNS
         THE NAME OF THE CURRENT PANEL IN DIALOG VARIABLE PANELID.
         IT WAS DESIGNED FOR USE BY THE PRINTO SUBCOMMAND
         OF EDIT AND BROWSE, ALSO IN THIS FILE.

ISRUOL   A FULL SCREEN 3.8 REPLACEMENT THAT ALLOWS MANIPULATION
         OF JOBS/SYSOUT WITHOUT THE HASSLE OF AWKWARD "JOB(JOBNUM)"
         SPECIFICATIONS.  REQUIRES TSO/E.

ISRUDLP  ISPF 3.4 MOD
         DEFAULTS TO SEARCH UNDER YOUR USERID.  THUS
         "=3.4;;" WILL DISPLAY WHAT YOU GET WITH, "=3.4 **ENTER**
         **TAB** MYUSERID **ENTER**".  THIS PANEL ALSO HAS MODS TO
         SUPPORT BEING CALLED AS A LINE COMMAND FROM FDSPACE.

ISTAUCAG TITLE 'VTAM SESSION ACCOUNTING EXIT ROUTINE.'
         DESCRIPTION - THIS EXIT IS DOCUMENTED IN THE ACF/VTAM
         CUSTOMIZ MANUAL (SC27-0613).  WHAT WE DO IN THIS EXIT IS
         BANG OUT AN SMF RECORD (TYPE 240) THAT CONTAINS ALL
         RELEVANT INFORMATION PASSED TO US.  THIS INCLUDES
         PRIMARY AND SECONDARY LU NAMES.  RECORD IS IN RELOCATE
         FORMAT (SECTIONS WITH A HEADER CONTAIN OFFSET, LENGTH,
         AND NUMBER).  PLEASE NOTE THAT THE RECORD IS IN A FORMAT
         COMPATIBLE WITH THE VECTORS THAT WILL BE OUTPUT BY THE
         VTAM SESSION MANAGEMENT EXIT ROUTINE WE WILL USE WHEN
         VTAM 2.2 IS IMPLEMENTED.

LM04202  TITLE 'LM042 - ZAPS TO TAF TO SUPPORT LARGE SCREEN SIZE.'
     DESCRIPTION - WE MODIFY TAF TO SUPPORT MOD3 AND MOD4 3270
       TERMINALS. THE FIRST ZAPS CHANGE AN ERASE WRITE COMMAND TO AN
       ERASE WRITE ALTERNATE COMMAND. THE OTHER ZAP CHANGES THE MAX
       SEND BUFFER LENGTH TO ACCOMODATE MOD4 DATA. NOTE THAT NCCF/TAF
       ONLY SUPPORTS THE MOD5 3270 (27X132) AS A MOD2 TERMINAL.

     LEVEL - THESE ZAPS HAVE BEEN TESTED WITH NCCF V2.2 WITH 3278
       MOD2 AND MOD4 TERMINALS.

     NOTE  - USE THE ASSEMBLER H "BATCH" OPTION - WE ARE ZAPPING
       THREE SEPERATE CSECTS.

     ACKNOWLEDGMENTS  - THANKS TO MARK ANDERSON OF BOEING COMPUTER
       SERVICES FOR POINTING ME IN THE RIGHT DIRECTION. HE HAD
       SIMILAR NCCF/TAF ZAPS WORKING YEARS BEFORE I CAME UP WITH THIS.


LM00501  FORCE JES2 TO RELOAD 6-LPI FCB AFTER 8-LPI DATASET PRINTS.
         JES2 WILL ONLY RELOAD THE 3211 FCB WITH A STANDARD FCB,
         IF THE CURRENT LOAD IS MARKED NON-STANDARD.
         THIS MEANS, A JOB THAT DOESN'T SPECIFY A FCB WILL PRINT
         AT THE DENSITY OF THE PRECEEDING DATASET, WHATEVER IT
         MAY BE.  THE SOLUTION IS TO LEAVE ONLY THE 6-LPI FCB
         MARKED STANDARD.

LM01603  TITLE 'LM01603 -- IO COUNTS IN DEALLOCATION MESSAGES'

            IEF285I SYS1.DATASET        KEPT *----2,301

         I/O COUNT IN MSGS IEF283I, IEF285I, IEF287I UPDATED FOR XA.
         IEFAB4B0 AT JBB2110, IEFAB4A2 AT JBB2125 ADDED LOOP TO SUM UP
         COUNTS WHEN MULTIPLE UNITS ARE ALLOCATED.  ENHANCED TO SHOW
         COUNTS FOR VIO DATASETS.
         NOTE: THIS ZAP DEPENDS ON THE HOWARD GILBERT ASMTOZAP,
               ALSO IN THIS FILE.  ACCEPT NO SUBSTITUTES.

LM02701  TITLE 'ZAP TO IGG01946 FOR TCAM OPENQ SMF RECORD.'
LM02801  TITLE 'ZAP TO IGG02046 FOR TCAM CLOSEQ SMF RECORD.'
         DESCRIPTION - THESE TWO ZAPS WRITE AN SMF240 RECORD FOR EACH
         OPEN OR CLOSE OF A TCAM APPLICATION Q.
         NOTE: THIS ZAP DEPENDS ON THE HOWARD GILBERT ASMTOZAP,
               ALSO IN THIS FILE.  ACCEPT NO SUBSTITUTES.

NONDESC  TITLE 'NONDESC - WTO EXIT TO MAKE ACTION MESSAGES ROLLABLE
         DESCRIPTION - IF EITHER DESC=1 OR DESC=2 FLAGS ARE ON, WE TURN
         THEM OFF, MAKING THE MESSAGE ROLLABLE.  THIS EXIT WAS
         ORIGINALLY DESIGNED TO MAKE SELECTED GARBAGE MESSAGES FROM
         PROPRIETARY SOFTWARE, ROLLABLE.
         THIS EXIT IS WELL DOCUMENTED IN THE USER EXITS SPL, GC28-1147.

PRCJFCB  TITLE 'PRCJFCB -- READ JOB-FILE CONTROL BLOCK'
         PURPOSE: THIS SUBROUTINE MOVES THE JOB-FILE CONTROL BLOCK FOR A
         CALLER INTO AN AREA ACCESSABLE FROM HIGH-LEVEL LANGUAGE.

PRC38DSN TITLE 'STORE THE DSN FOR A DDNAME IN A DIALOG VARIABLE.'
         THIS ROUTINE RUNS UNDER CONTROL OF THE ISPF DIALOG MANAGER.
         GIVEN AN ALLOCATED DDNAME VIA THE PARM FIELD, WE RETURN THE
         DSN AND VOLSER IN DIALOG VARIABLES OUTDSN AND OUTVOL.  DESIGNED
         FOR USE IN THE PRC 3.8 REPLACEMENT CLISTS SO WE CAN USE VIO
         FOR OUR TEMPORARY FILES.

           ISPEXEC SELECT PGM(PRC38DSN) PARM(DDNAME)
           ISPEXEC VGET (OUTDSN OUTVOL)

PRINTSEP TITLE 'APS JES2 EXITS: CUSTOM PRINTER BANNER SEPARATOR PAGE'
         CUSTOM PRINT SEPARATOR EXIT ROUTINES.  PUTS ACF2 UID
         OF JOB OWNER IN BANNER, AS WELL AS JOB NAME.
         1.  ENTRY SEPEX1 IS TO BE INVOKED AT STANDARD JES2
             EXIT 1.
         2.  ENTRY SEPEX222 IS TO BE INVOKED AT ACF2-GENERATED
             JES2 EXIT 222 BEFORE THE STANDARD ACF2X2J2 FUNCTION.
         3.  THE ACF2 LOGON ID IS PASSED IN 8 BYTES OF JCTUSER.
             CURRENTLY WE'RE USING THE 8 BTYES FOLLOWING WHATEVER
             FIELD ACF2 IS USING.
         4.  THE LOGOS ARE IN LOWER CASE. TAKE CARE WITH THE
             EDITOR IF YOU MAKE CHANGES.

QALLOC - ALLOCATE A TCAM QUEUE.
  DESCRIPTION - WE DRIVE THE DYNAM PGM TO ALLOCATE A TCAM Q
    FROM TSO.  PLEASE NOTE THAT THE ALLOCATE COMMAND DOES
    NOT SUPPORT THIS.  CALL 'MY.LOAD.LIB(QALLOC)' 'DD=SYSUT1
    QNAME=MYQNAME OPTCD=C ;' PLEASE NOTE THAT THE PARM FIELD
    IS PASSED UNEDITED TO THE DYNAM PGM.  DON'T FORGET THE
    ';' TO TERMINATE IT!

    THE DYNAM PROGRAM IS FROM THE UNIVERSITY OF MANITOBA IS
    ON SEVERAL CBT FILES.  I BELIEVE OURS CAME FROM CBT FILE
    360.

QFLUSH - FLUSH A TCAM QUEUE.
  DESCRIPTION - THIS UTILITY FLUSHES RECORDS FROM A TCAM INPUT
    QUEUE THAT IS ALLOCATED TO THE SYSUT1 FILE.  IT WRITES THESE
    RECORDS TO THE SYSUT2 FILE IF IT'S FOUND ALLOCATED.  THIS PGM
    CAN BE RUN FROM THE OPERATORS CONSOLE WHEN A QUEUE IS FOUND
    TO BE CLOGGED UP WITH MESSAGES.
  TO USE -
    //QFLUSH PROC Q=BADQNAME,TCAM=TCAM,OUTDSN=NULLFILE
    //S1     EXEC PGM=QFLUSH
    //SYSUT1 DD   QNAME=&Q..&TCAM
    //SYSUT2 DD   DSN=&OUTDSN,DISP=(,CATLG,DELETE),UNIT=SYSTS,
    // SPACE=(TRK,(10,5),RLSE),DCB=(RECFM=VB,LRECL=4024,
    // BLKSIZE=23200)

   THE OPERATOR CAN ENTER: "S QFLUSH,Q=MYQUEUE"              (CVT)
                           "S QFLUSH,Q=MYQUEUE,TCAM=MYTCAM"  (ASCB)

RECEIVED TITLE 'RECEIVE NOTIFY EXIT'
         FUNCTION     PROVIDE NOTIFICATION OF RECEIVED MESSAGE.

REPLYTO - 'RESPOND TO AN OUTSTANDING WTOR.'
    THIS PROGRAM WILL ISSUE A CANNED REPLY TO A SELECTED WTOR
    MESSAGE.  WE USE IT TO SYNCH PROCESSING BETWEEN ADABAS AND
    THE ADABAS LOG UTILITY.
    IT ACCEPTS AS INPUT THE WTOR MESSAGE TEXT, THE CANNED REPLY
    MESSAGE TEXT, AND OPTIONALLY THE JOBNAME OF THE WTOR ISSUER,
    ALONG WITH OTHER MISC. OPTIONS, AS DESCRIBED BELOW.

    FOR EXAMPLE, THE FOLLOWING JOB STEP:
      //S1 EXEC PGM=REPLYTO,
      // PARM='J=ADA8|M=ADA040A|R=OK'
    WILL REPLY "OK" TO A WTOR MESSAGE BEGINNING "ADA040A" THAT
    IS ISSUED BY JOB ADA8.

    EXEC PGM=REPLYTO,PARM='MSG=MMMMMMMM...|
                           REPLY=RRRRRRRR...|
                           ABEND=YES/NO|
                           COLUMN=99|
                           JOB=JJJJJJJJ|
                           TIME=999|
                           WAIT=YES/NO'

SD       PUNCH DIRECTORY OF PDS INTO SEQUENTIAL DATASET
         NON-MODAL COMMAND TO FORMAT THE DIRECTORY INTO A DATASET
         FOR SUBSEQUENT EDITING, OR TO THE SCREEN

SID      TITLE 'SID - THIS PGM RETURNS SID INDICATOR IN R15'
         THE INTENT OF THIS PROGRAM IS TO ALLOW JOBS TO EXECUTE
         DIFFERENT STEPS BASED ON THE SYSTEM ON WHICH THEY ARE RUN.

SITEID   TITLE 'SITEID - SET RETURN CODE BASED ON JES2 SPOOL NODE NAME'
         THE INTENT OF THIS PROGRAM IS TO ALLOW JOBS TO EXECUTE
         DIFFERENT STEPS BASED ON THE SITE AT WHICH THEY ARE RUN.

SMF240   PURPOSE: MAP USER SMF RECORD 240

SPY      TITLE 'S P Y --  MVS CONSOLE SPY PROGRAM  --  VERSION 3.1'
         THIS PROGRAM DISPLAYS THE CONTENTS OF ALL ACTIVE GRAPHIC
         OPERATOR'S CONSOLES ON A TSO CRT. THE OPERATOR'S SCREEN CAN BE
         EITHER A 327X OR A 370-168 INTEGRATED CONSOLE WITH 35 LINES.
         THE TSO USER CAN USE ANY 327X TERMINAL.  HEAVILY MODIFIED FOR
         XA AT PRC.

SRCDOC   ADD DOCUMENTATION TO LMF-MANAGED MEMBERS
         CREATES AN EYE-CATCHER OF ISPF STATS AND PROMOTION TIME IN
         THE OBJECT CODE OF A PROMOTED MODULE;

         SRCLEVEL DC    C'IGC0022F V01.M05 85/09/26 17:57 PSYRRS  '

         THE SHARED POOL IS ACCESSED TO GET THE MEMBER NAME AND LOW
         LEVEL QUALIFIER (LANGUAGE TYPE).  THE LM DIALOG SERVICES ARE
         THEN USED TO ACCESS VERSION, MODIFICATION LEVEL, DATE, TIME,
         AND TSO LOGON FROM THE PDS DIRECTORY.  THE INPUT MEMBER IS
         OPENED FOR UPDATE AND READ.  WHEN THE EXISTING TRGIGGER RECORD
         OR SEQUENCE IS FOUND, THE RECORD IS UPDATED AND REWRITTEN.
         NOTE: THIS ROUTINE IS INVOKED FROM THE PROMOTION EXIT
         DEFINED TO LMF IN THE PROMOTION HIERARCHY, (PANEL 8.5).  THE
         CLIST, "LMFAPSEX," ALSO IN THIS FILE, IS THE EXIT WE USE.
         THIS CLIST WILL NOT WORK FOR YOU WITHOUT MODIFICATION.  FOR
         INSTANCE, YOU WON'T NEED THE "IMP" PRE-PROCESSOR CALL, AND YOUR
         SYSLIB CONCATENATION IS GONNA' BE DIFFERENT.

SUBAUTHX TITLE 'SUBAUTHX - CHECK FOR AUTHORIZED JOB SUBMISSION PROGRAM'
         FUNCTION   CHECK FOR AUTHORIZED JOB SUBMISSION PROGRAM
                    PROVIDES ACF2 "JOBCOPY" FUNCTION FROM WHITHIN ISPF
         OPERATION  IF THE SUBMITTING PROGRAM IS REENTRANT AND COMES
                    FROM AN APF-AUTHORIZED LIBRARY, THE BIT IN THE ACF
                    DCT EXTENSION IS SET TO ALLOW THE 'SUBAUTH'
                    RESTRICTION TO BE MET.
         NOTES      THIS EXIT EXTENDS THE FUNCTIONS PROVIDED BY ACF2
                    EXIT ACF2XIRD (INTERNAL READER OPEN) PACKAGED IN
                    LOAD MODULE ACF2X1J2. THE EXIT POINT IS INSERTED IN
                    HASPSSSM AS PART OF ACF2 INSTALLATION (RELEASE 4.0).
                    THE ORIGINAL EXIT IS DESIGNED TO CAPTURE THE
                    SUBMITTING ENVIRONMENT WHEN INTRDR IS OPENED. THE
                    PROGRAM NAME AND ITS APF AUTHORIZATION ARE AMONG
                    THE DATA PRESERVED. THESE DATA ARE THEN USED DURING
                    ACF2 ENTRY VALIDATION, USUALLY FOR A LID WITH THE
                    RESTRICT ATTRIBUTE. THE PROGRAM NAME IS MATCHED WITH
                    THE PROGRAM SPECIFIED IN THE LID, AND APF
                    AUTHORIZATION IS REQUIRED IF THE LID ALSO HAS
                    SUBAUTH SPECIFIED.

TCAMFIX DESCRIPTION - THIS ROUTINE CLEANS UP THE CVTAQAVB FIELD SO TCAM
        WILL INITIALIZE.  THE CVT-BASED TCAM IS SUPPOSED TO DO THIS WHEN
        IT TERMINATES, BUT IT ISN'T ALWAYS SO OBLIGING.  IF THE OPERATOR
        RESPONDS "Y" TO OUR MESSAGE IEDPRC1D, THEN WE ZERO THIS FIELD.
        NOTE - WE MUST RUN APF-AUTHORIZED.

TLBLMAIN TITLE 'TLBLMAIN -- MAIN MODULE FOR TAPE LABEL WRITER'
         FUNCTION     PROCESS REQUESTS TO PRINT EXTERNAL TAPE LABELS
                      PRINT TAPE LABELS AT TAPE MOUNT TIME WITHOUT
                      A TAPE MANAGEMENT SYSTEM.
         OUTPUT       LABEL PRINTED ON 328X-TYPE PRINTER VIA VTAM

WAIT   TITLE 'WAIT - WAIT A LITTLE BIT.'
       THIS MODULE WILL WAIT THE REQUESTED NUMBER OF SECONDS.
       PARM='NNNN', WHERE 0 < NNNN <= 9999, THE NUMBER OF SECONDS TO
       WAIT. DEFAULT IS 10 SECONDS.

WTO      TITLE 'WTO    - OPERATIONS COMMUNICATION'
         THIS PROGRAM PROVIDES PROGRAMMER TO OPERATOR COMMUNICATION.
         THIS IS THE IPO "WTO" DIDDLED TO ALLOW GREATER THAN 72 BYTE
         MESSAGES.

WTONR    TITLE 'WTONR - WRITE NON-ROLLABLE OPERATOR MESSAGES.'
         DESCRIPTION - WE READ SYSIN INPUT AND WTO CARD IMAGES TO THE
           OPERATOR CONSOLE THAT ARE NON-ROLLABLE.  ORGINALLY USED BY
           THE MESSENGER JOBS FOR AN OPERATOR RESTART.

         NOTE - WE MUST BE APF-AUTHORIZED TO WRITE NON-ROLLABLE MESSAGE

         TO USE -
          //S1 EXEC PGM=WTONR
          //STEPLIB DD DSN=AN.APF.LIBRARY,DISP=SHR
          //SYSIN   DD *
          * THIS IS A COMMENT
          ---> UP TO THREE LINES OF TEXT <---
          ---> AFTER THREE LINES IGNORED <---
          ---> COLS 1-72 ARE PROCESSED   <---
          /*
