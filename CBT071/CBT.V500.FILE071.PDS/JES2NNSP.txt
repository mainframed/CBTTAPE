********************************************************************************
*                                                                              *
*         S H A R E   J E S 2   M O D S   T A P E   V E R S I O N   2 4        *
*                                                                              *
********************************************************************************

          VERSION 24  -  NOVEMBER 1981

     THIS TAPE MAY BE ORDERED ONLY THROUGH SPLA. SEE FILE 001 OF THE
     CBT MVS MODS TAPE FOR ADDITIONAL INFORMATION



********************************************************************************
*                                                                              *
*                       D I S C L A I M E R                                    *
*                                                                              *
********************************************************************************

     THE MODS ON THIS TAPE HAVE BEEN USED SUCCESSFULLY AND TO THE
     BEST OF OUR KNOWLEDGE ARE OPERATIONAL.  HOWEVER, NO WARRENTY
     IS MADE TO THE ACCURACY OF THE PROGRAMS OR RELATED MATERIALS.
     NO RESPONSIBILITY IS ASSUMED FOR ANY MODIFICATION DIRECTLY OR
     INDIRECTLY CAUSED BY THESE MODS.  IT IS THE RESPONSIBILITY OF
     THE USERS TO EVALUATE THE USEFULNESS AND APPLICABILITY OF ANY
     MODS IN THEIR INSTALLATION.

     WE DO NOT GUARANTEE TO KEEP ANY MATERIAL PROVIDED UP TO DATE
     NOR DO WE GUARANTEE TO PROVIDE ANY CORRECTIONS OR EXTENSIONS
     BY THE AUTHOR OR THE USERS IN THE FUTURE.

********************************************************************************
*                                                                              *
*         3 8 0 0   F O N T S   E X C H A N G E                                *
*                                                                              *
********************************************************************************

         THE JES2 PROJECT IS STARTING A 3800 FONTS EXCHANGE. IF
         YOU ARE INTERESTED, CONTACT:

                        WILLIAM MOSTELLER (BCG)
                        BOEING COMPUTER SERVICES
                           7990 GALLOWS COURT
                            VIENNA, VA 22180
                              703-821-6093

********************************************************************************
*                                                                              *
*         T A B L E   O F   C O N T E N T S                                    *
*                                                                              *
********************************************************************************

  FILE NUMBER   FILE CONTENTS                           LAST UPDATE
  -----------   -------------------------------------   ------------
       1        JCL TO RELOAD TAPE TO DISK                CURRENT
       2        DETAILED DESCRIPTIONS OF FILE CONTENTS    CURRENT
       3        BOEING COMPUTER SERVICES                   04/81
       4        TRW DSSG - JESMODS                         06/81
       5        TRW DSSG - JNLOADER                        10/78
       6        TRW DSSG - QUEUE  (SEE FILE 53)            09/79
       7        AMERICAN ELECTRIC POWER                    07/81
       8        TRW ISD                                    05/79
       9        CANADA SYSTEMS GROUP                       03/80
      10        KAISER FOUNDATION HEALTH PLAN              06/80
      11        MILLIKEN & COMPANY                         11/78
      12        TRIANGLE UNIVERSITIES - JESMODS            01/80
      13        TRIANGLE UNIVERSITIES - JESDUMP            12/78
      13        TRIANGLE UNIVERSITIES - NJE JESDUMP        12/78
      14        JES2 SONGBOOK                              12/78
      16        NIH - JES2 MERGE DOCUMENTATION             01/79
      17        NIH - JES2 MERGE PROGRAM                   01/79
      18        MELLON BANK                                09/79
      19        HUGHES AIRCRAFT                            01/79
      20        GTE - FORT WAYNE                           07/80
      21        HALLMARK CARDS                             06/80
      22        A. O. SMITH                                06/79
      23        PENN STATE UNIVERSITY - DOCUMENTATION      06/79
      24        PENN STATE UNIVERSITY - JESMODS            06/79
      25        ROYAL BANK OF CANADA                       08/79
      26        USN CBC                                    12/80
      27        GMD                                        08/79
      28        UNIVERSITY OF OKLAHOMA                     09/80
      29        AVCO FINANCIAL                             09/79
      30        DEUTSCHE BUNDESBANK                        09/79
      31        MOTOROLA                                   12/80
      32        NEW ZEALAND MINISTRY OF WORKS              09/79
      33        GTE LABS - JES2 AUTO COMMAND               03/78
      34        GTE JESMODS                                03/78
      35        CALIFORNIA HEALTH & WELFARE - JESMODS      11/79
      36        CALIFORNIA HEALTH & WELFARE - JNLOADER     11/79
      37        PHILADELPHIA ELECTRIC                      11/79
      38        FLORIDA POWER - AZ20010 JESDUMP            11/79
      39        WASHINGTON STATE DATA PROCESSING           01/80
      40        HUGHES AIRCRAFT - RADAR GROUP              02/80
      41        IEBROT 3800 90 DEGREE ROTATE DOCUMENTATION 02/80
      42        IEBROT ASSEMBLER SOURCE                    02/80
      43        IEBROT COBOL SOURCE                        02/80
      44        IEBROT IEBIMAGE DEFINITIONS                02/80
      45        JESMON -  JES2 PERFORMANCE MONITOR         04/81
      46        JESMON -  JES2 MONITOR DOCUMENTATION       04/81
      47        UNITED AIRLINES CHICAGO JESMODS            03/80
      48        NEUCC JESMOD FOR HELD-OUTPUT RELEASE       03/80
      49        GLENDALE FEDERAL SAVINGS                   03/80
      50        RAYTHEON JESMODS                           03/80
      51        GREAT WESTERN KODAK KOMSTAR JESMOD         03/80
      52        LOCKHEED JESMODS                           10/80
      53        TRW DSSG - QUEUE (UPDATED VERSION)         04/81
      54        RAYTHEON VERSION OF HELD-OUTPUT RELEASE    03/81
      55        PANSPOOL - SOURCE - SYSMSG SPOOLING SYSTEM 04/81
      56        PANSPOOL - JCL                             04/81
      57        PANSPOOL - USER GUIDE                      04/81
      58        IEBROT IEBIMAGE DEFINITIONS (CIW MOD)      08/80
      59        QUEUE MODS (CIW MOD)                       08/80
      60        CDPA JESMODS                               09/80
      61        CSNB JESMODS                               09/80
      62        AEROSPACE 3800 ROTATE PROGRAM              09/80
      63        AEROSPACE 3800 ROTATE IMAGE                09/80
      64        AEROSPACE 3800 ROTATE CLIST                09/80
      65        AEROSPACE 3800 USER'S GUIDE                09/80
      66        TUC - AZ27300 JESDUMP                      09/80
      67        IMS XEROX 9700 XWTR                        10/80
      68        IMS IEFUJV INTERNAL TEXT MOD               10/80
      69        NERDC JESMODS                              10/80
      70        PRATT & WHITNEY JESMODS                    11/80
      71        GREAT AMERICAN INSURANCE XEROX 9700 MODS   12/80
      72        LANE COUNTY JESMODS                        03/81
      73        LLOYDS JESMODS                             03/81
      74        TOYOTA JESMODS                             04/81
      75        CANADA SYSTEMS GROUP NJE VERSION           04/81
      76        ONL JESMODS                                09/81
      77        LOCKHEED JESMODS *** SP2 ***               08/81
      78        TUC JESMODS *** SP2 ***                    09/81
      79        TUC JESDUMP *** SP2 ***                    10/81
      80        AGS 3800 UTILITIES, COMMANDS, AND FONTS    10/81
      81        DEAN WITTER REYNOLDS JESMODS               11/81
      82        ONL SPOOL ACCESS ROUTINES *** SP2 ***      11/81
      83        ONL MFT/MVT OS WORKSTATION                 11/81
      84        ONL HASP RMTGEN PROGRAM                    11/81

********************************************************************************
*                                                                              *
*         F I L E   1   S H A R E   J E S 2   M O D S   T A P E   J C L        *
*                                                                              *
********************************************************************************

THIS FILE CONTAINS JCL TO RESTORE THE SHARE JES2 MODS TAPE TO DISK.
THE TAPE IS NL WITH FILE 1 CREATED WITH THE FOLLOWING DCB ATTRIBUTES:
    RECFM FB   LRECL 80   BLKSIZE 32720

TO FIND THE DCB ATTRIBUTES OF ANY FILE ON THIS TAPE, LOOK AT THE JCL
IN FILE 1 TO RESTORE THAT FILE.

********************************************************************************
*                                                                              *
*         F I L E   2   S H A R E   J E S 2   M O D S   A B S T R A C T        *
*                                                                              *
********************************************************************************

THIS FILE CONTAINS THE DESCRIPTION OF THE SHARE JES2 MODS TAPE THAT
YOU ARE READING. FILE 2 WAS CREATED WITH THE FOLLOWING DCB ATTRIBUTES:
    RECFM FB   LRECL 80   BLKSIZE 32720

********************************************************************************
*                                                                              *
*         F I L E   3   B C G   M O D S                                        *
*                                                                              *
********************************************************************************

THE FOLLOWING MODS ARE SUPPLIED BY BOEING COMPUTER SERVICES AND ARE
IN IEBCOPY UNLOAD FORMAT.  THESE MODS WERE WRITTEN FOR JES2 NJE 3.0
LAST FILE UPDATE - APRIL 1981.
ANY QUESTIONS OR COMMENTS ON THESE MODIFICATIONS MAY BE ADDRESSED TO:

                   BILL MOSTELLER                (703) 821-6093
                   BOEING COMPUTER SERVICES
                   7990 GALLOWS COURT
                   VIENNA, VA  22180

MOD#: JZ00516      HASPRTAM                                 7 CARDS
PURPOSE: SEND SIGNON MESSAGE TO RJE TERMINALS.
DESCRIPTION: A SIGNON MESSAGE IS SENT TO RJE TERMINALS AS WAS
         REQUESTED IN JES2 PROJECT RECOMMENDATION JES2.REC.76-
         020.

MOD#: JZ00531      HASPRDR, HASPXEQ                        11 CARDS
PURPOSE: FORCE STANDARD FORMS ON JCL ERROR.
DESCRIPTION: IF THE JOB GETS A JCL ERROR DURING CONVERSION, THE
         LOG, JCL IMAGES, AND SYSTEM MESSAGES ARE FORCED TO THE
         INSTALLATION STANDARD FORM.

MOD#: JZ00548      HASPXEQ                                 34 CARDS
PURPOSE: CONVERT UNIT=INTRDR TO SYSOUT=(A,INTRDR)
DESCRIPTION: IF A JOB SPECIFIES UNIT=INTRDR ON A DD CARD, THIS
         MOD CHANGES IT TO A SYSOUT=(A,INTRDR) SPECIFICATION.

JES2 DUMP FORMATTER                                       MARCH 17, 1981
                          JES2 DUMP FORMATTER

                  SUPPORT FOR MODIFIED CONTROL BLOCKS
                        WILLIAM MOSTELLER (BCG)
                        BOEING COMPUTER SERVICES
                           7990 GALLOWS COURT
                            VIENNA, VA 22180
                              703-821-6093

          FIRST, WHY DO YOU NEED THIS MODIFICATION?  THE DISTRIBUTED
JES2 FORMATTER WORKS PERFECTLY ON A JES2 SYSTEM WHICH HAS NO
MODIFICATIONS IN ITS CONTROL BLOCKS, ESPECIALLY THE JES2 $SSVT, $HCT,
$PCE, AND $DCT.  OBVIOUSLY, YOU ONLY NEED IT IF:  (A) YOU HAVE MODIFIED
THE JES2 CONTROL BLOCKS THE FORMATTER DUMPS, AND (B) YOU HAVE JES2 DUMPS
TO SHOOT.  I ASSUME YOU'RE STILL INTERESTED.

          A DUMP FORMATTER ALLOWS US TO RESOLVE JES2 PROBLEMS MORE
QUICKLY BECAUSE:
          ® DUMP DIAGNOSIS IS FASTER:
          ® TEDIOUS, ERROR PRONE LOCATING OF CRITICAL JES2 DATA ITEMS IS
                    ELIMINATED,
          ® FORMAT CONVERSIONS TO DECIMAL VALUES ARE PREFORMED FOR
                    APPROPRIATE FIELDS, ELIMINATING MANUAL CONVERSION,
          ® CSECT LOCATIONS WITHIN THE JES2 ADDRESS SPACE ARE PRINTED,
                    SIMPLIFYING DUMP DIAGNOSIS ARITHMETIC, AND
          ® SCANNING THE DUMP, CHECKING THE GENERAL STATE OF JES2, IS
                    MADE EASIER.

          THE DUMP FORMATTER PRINTS JES2 RELATED STORAGE IN THE
FOLLOWING ORDER (NUMBERING CORRESPONDS TO FORMATTING MODULE NAMES):
0) THE JOB ENTRY SUBSYSTEM COMMUNICATION TABLE AND ALL ASSOCIATED
          SUBSYSTEM COMMUNICATION VECTOR TABLES ARE PRINTED,
1) THE JES2 SUBSYSTEM VECTOR TABLE ($SSVT) IS PRINTED,
2) THE JES2 MODULE DIRECTORY AND JES2 COMMUNICATION TABLE ($HCT) ARE
          PRINTED,
3) THE SHARED QUEUE CONTROL ELEMENTS ($QSE) ASSOCIATED WITH THE FIRST
          MEMBER AND THIS MEMBER OF THE SHARED SPOOL COMPLEX ARE
          PRINTED,
4) THE PROCESSOR CONTROL ELEMENTS ($PCE) FOR ALL NON-DEVICE RELATED
          PROCESSORS ARE LISTED, AND
5) THE DEVICE CONTROL TABLES ($DCT) FOR ACTIVE LOCAL AND ALL REMOTE
          DEVICES ARE PRINTED.  (ONE DEVICE IS PRINTED PER PAGE.  ON A
          SYSTEM WITH MANY RJE STATIONS, THIS LISTING CAN BE EXTREMELY
          LARGE; I USUALLY RUN WITH LINES=5 AND LET JES2 CANCEL THE JOB
          WITH A S722.)

          THE JES2 DUMP FORMATTER, SHIPPED BY IBM AS APAR OZ36556,
CONSISTS OF EIGHT MODULES.  FOR EACH MODIFIED MODULE, A CORRESPONDING
MEMBER OF THE DISTRIBUTION PDS IS PROVIDED AS A SOURCE ASSEMBLY OR A
SUPERZAP JOB.  THEIR NAMES, FUNCTIONS, AND FORMAT ON THE TAPE ARE:
                      JES2 DUMP FORMATTER MODULES

         MODULE    DESCRIPTION                   FORMAT ON MODS TAPE
         AMDPRECT  PRINT DUMP EXIT               SUPERZAP JOB
         HASPBLKS  FORMATTER PROGRAM             N/A (UNMODIFIED)
         HASPFMT0  MAP OF JESCT                  N/A (UNMODIFIED)
         HASPFMT1  MAP OF $SSVT                  SOURCE ASSEMBLY
         HASPFMT2  MAP OF $MODMAP, $HCT          SOURCE ASSEMBLY
         HASPFMT3  MAP OF $QSE                   SUPERZAP JOB
         HASPFMT4  MAP OF $HCT'S $PCES           SUPERZAP JOB
         HASPFMT5  MAP OF $DCT, RELATED $PCES    SOURCE ASSEMBLY

                         INSTALLATION STRATEGY

SUPERZAP JOBS - REVIEW THE VER STATEMENTS AGAINST THE NAMED MODULES ON
     YOUR SYSTEM, CORRECTING AS NEEDED.  REVIEW AND CORRECT THE REP
     STATEMENTS USING APPROPRIATE JES2 ASSEMBLIES.  THE COMMENTS ON EACH
     REP STATEMENT SHOULD TELL WHAT OFFSETS TO LOOK UP.
SOURCE ASSEMBLIES - RE-ASSEMBLE THE MODULE USING YOUR HASPSRC DATASET AS
     SYSLIB.  BECAUSE THE SOURCE ASSEMBLIES ARE BASED ON JES2/NJE 3.0 AT
     BCG, YOU MAY HAVE TO CORRECT ONE OR TWO ASSEMBLY ERRORS DUE TO
     UNDEFINED LABELS.
          WHY ARE WE DISTRIBUTING THIS MODIFICATION?  IBM HAS PROPOSED
DROPPING THE JES2 DUMP FORMATTER FROM MVS-SP-JES2-R2, AND WE WOULD
SORELY MISS IT.  FURTHER, WE WISH IBM (RATHER THAN BCG) DISTRIBUTED
SOURCE FOR THE FORMATTER, AS WELL AS DOCUMENTATION.  WE BELIEVE THAT BY
MAKING THE FORMATTER USABLE BY MORE INSTALLATIONS WE WILL ENCOURAGE IBM
TO REVERSE THEIR CURRENT POLICY ON THE FORMATTER.

                                APPENDIX

                     INSTALLING THE DUMP FORMATTER.
          IN CASE YOU DON'T HAPPEN TO HAVE THE COVER LETTER FOR OZ36556,
HERE IS HOW YOU INSTALL THE DUMP FORMATTER:
1) LINK MODULES HASPBLKS AND HASPFMT0-5 INTO AN APPROPRIATE JOBLIB,
     STEPLIB, OR LINKLIB, AND
2) LINK A COPY OF AMDPRECT, MODIFIED USING THE ZAP DECK PROVIDED, INTO
     THE LIBRARY USED IN (1) ABOVE.  THE ZAP DECK ADDS A "JES2" CONTROL
     CARD TO THE USER EXIT CONTROL CARDS AMDPRDMP SUPPORTS, AND BRANCHES
     TO HASPBLKS WHEN THE CARD IS ENCOUNTERED.

                          USING THE FORMATTER.
          INVOKE AMDPRDMP, USING THE JOBLIB, STEPLIB, OR LINKLIB AND THE
"JES2" CONTROL CARD YOU HAVE ADDED.  (POINT TO A JES2 DUMP DATASET.)
THE DUMP PRINT UTILITY SHOULD PRODUCE A BEAUTIFULLY FORMATTED DUMP OF
JES2.  YOU MAY INCLUDE OTHER AMDPRDMP CONTROL CARDS (SUCH AS PRINT
STORAGE OR LPAMAP) ON THE SAME EXECUTION.  HOWEVER, IF YOU ARE
CANCELLING EXECUTION TO PREVENT EXECESIVE OUTPUT FROM THE FORMATTER, THE
OTHER CONTROL CARDS MUST, OF COURSE, PRECEED THE "JES2" CARD.  THE
"JES2" CONTROL CARD HAS TWO OPTIONS:
                            JES2 SSSSÝ,AAA¨
WHERE "SSSS" IS THE SUBSYSTEM NAME (IF NOT "JES2") AND "AAA" IS THE
DECIMAL ADDRESS SPACE NUMBER TO BE USED IF THE DUMP CONTAINS MULTIPLE
ADDRESS SPACES

********************************************************************************
*                                                                              *
*         F I L E   4   T R W   M O D S                                        *
*                                                                              *
********************************************************************************

THE FOLLOWING MODS ARE SUPPLIED BY TRW DSSG AND ARE DISTRIBUTED IN
IEBCOPY UNLOAD FORMAT. THE MODS ARE FOR JES2 4.1 (SU 25 --- EJE1103)
WITH AZ27300, PTF LEVEL 8010.
LAST FILE UPDATE - 06/19/81
ANY QUESTIONS OR COMMENTS ON THESE MODIFICATIONS MAY BE ADDRESSED TO:

                   STEVEN ANDERSON               (213) 535-0682
                   TRW DSSG  R3/1028
                   1 SPACE PARK
                   REDONDO BEACH CA, 90278

NOTE: THESE MODIFICATIONS USE COPY CODE TO PLACE CHANGES IN JES2 SOURCE
CODE.  THERE ARE 6 SEPERATE IEBUPDTE MEMBERS TR00001,TR00002,TR00004,
TR00005, TR00006, AND RYT2V2.  THE MEMBER UPDTE WILL APPLY ALL 6 UPDATES
TO SYS1.HASPSRC.  WHEN ASSEMBLING YOU WILL NEED TO CONCATENATE THIS FILE
TO SYS1.HASPSRC.  THE JNLOADER PROGRAM IS ON FILE 5, QUEUE A TSO COMMAND
IS ON FILE 6, AND AN UPDATED VERSION OF QUEUE IS ON FILE 53.

IT SHOULD ALSO BE NOTED THAT TRW HAS INCORPORATED INTO ITS VERSION OF
JES2 TWO MODS RECEIVED FROM OTHER INSTALLATIONS. THEY ARE THE RAYTHEON
VERSION 2 OF HELD-OUTPUT RELEASE MOD  AND HALLMARK CARDS INC. MOD TO
PRINT DATASET SEPARATORS.  BOTH OF THESE MODS WERE MODIFIED TO FIT TRW'S
INSTALLATION.

MOD#: TR00004   SEVERAL MACROS, HASPINIT, HASPNUC, HASCON
PURPOSE: ADD SUPPORT FOR RESOURCE COLLECTION.
DESCRIPTION:
         $CNVWORK - EXPANDED FOR HASPXEQ MODS.
         $COMWORK - EXPANDED FOR HASPCOMM MODS.
         $DCT     - THE DCT IS EXPANDED FOR THE FOLLOWING REASONS:
                    1) ADD FIELD TO PRINT/PUNCH EXTENSION TO CONTAIN
                       THE NUMBER OF HEADER PAGES TO BE PRINTED.
                    2) ADD A USER FLAG TO PRINT/PUNCH EXTENSION WHICH
                       INDICATES
                       A) XEROX 9700 OR NOT
                       B) PRINT NEWS OR NOT
         $HCT     - THE HCT IS EXPANDED FOR THE FOLLOWING REASONS.
                    1) ADD POINTERS TO 3 TABLES, VATLIST, JN AND
                       PRIORITY.
                    2) ADD POINTER TO JOB RESOURCE TABLE (JRT) READ
                       AND FREE ROUTINE.
         $JCT     - THE JCT IS EXPANDED FOR THE FOLLOWING REASONS:
                    1) ADD POINTER TO THE JRT.
                    2) TO CONTAIN TRW ACCOUNTING INFORMATION FOR USE
                       DURING JOB PROCESSING.
                    3) ADD USER LOCATION INFORMATION TO BE PRINTED ON
                       THE BANNER PAGE.
                    4) TO INDICATE WHETHER OR NOT HEADER AND TRAILER
                       PAGES ARE TO PRINTED FOR EACH SYSOUT DATA SET.
         $JRT     - NEW MACRO THAT GENERATES THE JRT.
         $PDDB    - THE PDDB IS EXPANDED TO CONTAIN THE DDNAME.
         $RDRWORK - EXPANDED FOR HASPRDR MODS.
         $SMF     - TYPE 26 SMF RECORD (PURGE) IS EXPANDED TO CONTAIN
                    ACCOUNTING INFORMATION FOR THE JOB.
         $VAT     - NEW MACRO TO DEFINE VATLIST. CURRENTLY SET AT A MAX
                    OF 66 DISK ADDRESSES.
         HASPINIT - THE FOLLOWING MODS WERE MADE TO HASPINIT:
                    1) A VATLIST IS CREATED BY HASPINIT FROM THE DATA-
                       SET POINTED TO BY THE //VATTRW DD CARD IN THE
                       JES2 PROC.  THE DATASET IS OPENED, THE ENTRIES
                       READ, AND A POINTER STORED IN THE HCT.  THE
                       //VATTRW DD CAN BE EITHER THE SYS1.PARMLIB
                       VATLSTXX MEMBER OR A RESTRICTED SUBSET.  REFER-
                       ENCES TO ANY DISKS ON THE VATLIST ARE NOT CON-
                       SIDERED IN COUNTING THE NUMBER OF DISKS USED.
                    2) THE JNLOADER ROUTINE IS ATTACHED TO INITIALIZE
                       THE JN AND PRIORITY TABLES.  THE JNTABLE IS FOR
                       ACCOUTING PURPOSES AND CONTAINS THE VALID JOB
                       NUMBERS FOR USERS SUBMITTING JOBS.  THE JN IS
                       THE FIFTH ACCOUNTING FIELD ON TRW'S JOB CARD.
                       THE PRIORITY TABLE IS A LIST OF JOB NUMBERS
                       WHICH MAY SUBMIT JOBS THAT REQUEST TQ (TOP OF
                       QUEUE) PRIORITY.  THE JOB NUMBERS IN THE PRIORITY
                       TABLE ARE BOUNDED BY A START AND END DATA BE-
                       TWEEN WHICH PRIORITY WORK MAY BE SUBMITTED.
                    3) THREE NEW SUBPARAMETERS ARE ADDED TO THE PARA-
                       METER PRINTERX.
                       A) SEPCT = X,      WHERE X IS 1 - 9 INDICATING
                                          THE NUMBER OF HEADER PAGES TO
                                          BE PRINTED.
                       B) XEROX/NOXEROX - INDICATES IF PRINTER DEVICE
                                          IS A XEROX 9700. DEFAULT IS
                                          NOXEROX.
                       C) NONEWS/NEWS   - INDICATE IF PRINTER IS TO
                                          PRINT THE JES2 NEWS.  NEWS IS
                                          THE DEFAULT.
         HASPNUC  - A ROUTINE IS ADDED TO READ THE JRT - $#JRTRDR AND
                    A ROUTINE TO RELEASE THE JRT BUFFER $#JRTFRE.

MOD#: TR00006      HASPRDR, HASPSSSM, HASPXEQ
PURPOSE: JOB CLASSING AND TAPE FETCH.
DESCRIPTION:
         HASPRDR - THE FOLLOWING SUPPORT IS ADDED:
            1. REMOVE SUPPORT FOR /*SETUP SINCE VOLUMES ARE FOUND
               BY THE JOB CLASSING MODS.
            2. ADD SUPPORT FOR THE FOLLOWING /*JOBPARM PARAMETERS:
               A. /*JOBPARM IMS - FORCE TO CLASS R IMS MESSAGE REGIONS.
               B. /*JOBPARM TQ  - FORCE PRIORITY TO 14 IF VALID USER.
               C. /*JOBPARM X   - FORCE PRIORITY TO 13 IF NO RESOURCES.
                                  FORCE PRIORITY TO 12 IF TAPES.
                  EXPRESS IS DISALLOWED FOR PRODUCTION JOBS OR JOBS
                  WHICH USE MOUNTABLE DISKS. EXPRESS JOBS ARE LIMITED
                  TO 1 MIN CPU TIME.
               D. /*JOBPARM R   - ALLOWS THE USER TO BYPASS CLASSING
                  CODE AND SPECIFY PERFORM, PRTY, DPRTY, ADDRSPC, AND
                  CLASS ON JOB AND EXEC CARDS. USED TO ALLOW DPRTY ON
                  IMS MESSAGE REGIONS AT TRW.
               E. /*JOBPARM DDSEP=Y/N - INDICATES IF BANNER PAGES ARE
                  TO BE PRODUCE FOR EACH SYSOUT DATA SET.
            3. CREATE A NULL JRT AND CHAIN TO THE JOB'S JCT. JRTS
               ARE ONLY CREATED FOR BATCH JOBS SINCE TSO AND STARTED
               TASKS DON'T WORRY ABOUT JOB CLASSES.
            4. IF JOBPARM R IS NOT SPECIFIED THE CLASS AND PRTY FIELDS
               OF THE JOB CARD IF ANY ARE IGNORED BY HASPRDR IN SETTING
               THE INTERNAL CLASS AND PRIORITY.
            5. THE JOB IS RECOGNIZED AS PRODUCTION AND A FLAG IS SET
               FOR EITHER USING A PRODUCTION JN OR SPECIFYING PROD IN
               THE MSAR FIELD (SIXTH ACCOUNTING FIELD) OF THE JOB CARD.
            6. USER LOCATION INFORMATION IS SAVED IN JCTMAIL.  USER
               LOCATION INFORMATION IS SPECIFIED IN THE PROGRAMMER NAME
               FIELD ON THE JOBCARD.
         HASPSSSM - SUPPORT IS ADDED TO SAVE THE DDNAME IN THE PDDB.
         HASPXEQ  - SUPPORT IS ADDED FOR THE FOLLOWING FUNCTIONS:
            1. ADD SUPPORT IN THE CONVERTER CODE FOR A CAMLST FOR
               CATALOG LOOKUP.
            2. ADD SUPPORT IN THE CONVERTER EXIT CODE TO LOOK AT ALL
               JOB CARDS, EXEC PROC, EXEC, AND DD CARDS. THE FOLLOWING
               ACTIONS ARE PERFORMED:
               A. JOB CARD - CLEAR JRT AND INITIALIZE COUNTS. IF NOT
                  JOBPARM R REMOVE CLASS, ADDRSPC, PERFORM AND PRTY
                  KEYWORDS. IF AN EXPRESS JOB DOESN'T HAVE A TIME VALUE
                  LESS THAN 1 MIN CPU, SET TIME TO 1 MIN. ANY TIME=1440
                  IS CHANGED TO 1439.
               B. EXEC PROC - IF NOT JOBPARM R REMOVE ADDRSPC, DPRTY,
                  AND PERFORM. ANY TIME=1440 IS CHANGED TO 1439.
               C. EXEC CARD - RESET STEP COUNTS FOR TAPE AND DISK. IF
                  NOT JOBPARM R REMOVE ADDRSPC, DPRTY, AND PERFORM FROM
                  THE EXEC CARD. ANY TIME=1440 IS CHANGED TO 1439. THE
                  PROGRAM NAME IS CHECKED AND IF DFSRRC00 THE PARM FIELD
                  IS SCANNED FOR BMP. IF BMP IS FOUND THE JOB IS FORCED
                  TO CLASS S.
               D. DD CARD - THE UNIT IF PRESENT IS CHECKED TO SEE IF
                  IT IS A TP OR DISPLAY DEVICE, IF SO THE JOB IS SET
                  TO CLASS G. THE UNIT, VOLUME, DSNAME, AND DISP
                  KEYWORDS ARE SCANNED AND DATA STORED. THE DD CARD
                  IS THEN ANALYZED TO SEE IF A CATALOG LOOKUP WILL
                  BE NECESSARY. THE DSNAME IS CHECKED FOR A HIGH LEVEL
                  INDEX EQUAL TO ANY RESIDENT SYSTEM DATASET IN WHICH
                  CASE THE CATALOG LOOKUP CAN BE SKIPPED. THE DSNAME
                  IS ALSO CHECKED AGAINST A LIST OF KNOWN IMS HIGH
                  LEVEL INDEXES AND DATABASES AND ON A MATCH A FLAG IS
                  SET TO INDICATE THE JOB USES IMS. THE UNIT AND VOLSER
                  ARE CHECKED AGAINST THE VALUES IN THE JRT AND IF A
                  NEW VOLSER ADDED TO THE TABLE. IF THIS IS THE FIRST
                  USAGE OF THE VOLSER IN THE CURRENT STEP A REFERENCE
                  FLAG IS SET AND THE STEP COUNTS ARE INCREMENTED.
            3. AFTER CONVERSION IS COMPLETE THE JRT IS SORTED BY DEVICE
               TYPE AND VOLSER. A LIST OF PRIVATE TAPES AND DISKS IS
               WRITTEN TO THE TAPE AND DISK LIBRARIES. JOBS USING OTHER
               THAN SCRATCH TAPES ARE PLACED INTO HOLD FOR RELEASE BY
               THE TAPE LIBRARIAN WHEN THE TAPES HAVE BEEN FETCHED.
               THE JOBS ARE THEN CLASSED BY THEIR CHARACTERISTICS IN
               THE FOLLOWING ORDER:

                  CLASS R - IMS
                        G - TP
                        S - BMP
                        J - PRODUCTION IMS
                        C - PRODUCTION
                        I - TEST IMS
                        A - TEST

                  PRTY 14 - TQ
                       13 - EXPRESS WITH NO TAPES
                       12 - EXPRESS WITH TAPES
                     1-11 - JES2 CALCULATED PRIORITY

         LIMITATIONS -
            GDG - THE VOLSERS OF GENERATION DATASETS ARE DETERMINED
               AT CONVERSION. IF A STRING OF JOBS IS READ IN WITH
               THE FIRST JOB CREATING A NEW GENERATION, THE FOLLOWING
               JOBS WILL HAVE THE WRONG VOLSERS. TO GET AROUND THIS
               THE JOB CREATING THE NEW GENERATION CAN READ IN ITS
               SUCCESSOR JOBS USING AN INTERNAL READER AFTER THE NEW
               GENERATION HAS BEEN CREATED.
            CLASSES - THE CLASSES TRW USES (A,C,G,I,J,R, AND S) ARE
               ONLY JES2 INTERNAL CLASSES. THE PRESENT CODE
               REMOVES ANY CLASS FROM THE JOB CARD AND SETS THE
               PERFORMANCE GROUP TO THE CLASS A VALUE UNLESS
               JOBPARM R IS SPECIFIED. THE INITIATOR SEES ALL
               JOBS AS CLASS A. WITH SE-2 THE ICS MEMBER IN
               SYS1.PARMLIB CAN BE USED TO CONTROL THE INITIATOR
               PRIORITY AND DOMAIN/PERFORMANCE GROUP.

MOD#: TR00001      HASPRDR, HASPMISC
PURPOSE: JOB CARD SCAN
DESCRIPTION:
         HASPMISC - TRW ACCOUNTING DATA IS ADDED TO THE TYPE 26 PURGE
            RECORD.
         HASPRDR - THE FOLLOWING FUNCTIONS ARE ADDED:
            1. THE USE OF JOBPARM TQ IS VALIDATED BY CHECKING THE JN
               AGAINST THE PRIORITY TABLE TO SEE THAT THE JN IS THERE
               AND THAT THE CURRENT DATE FALLS WITHIN THE START AND
               STOP DATES.
            2. THE ACCOUNTING FIELDS ON THE JOB CARD ARE CHECKED TO
               SEE THAT ALL REQUIRED FIELDS ARE PRESENT AND THAT THE
               JN IS PRESENT IN THE JNTABLE OF VALID JOB NUMBERS.
                  ACCOUNTING FIELDS:
                    1  4 BYTES  SEQUENCE FIELD. CURRENTLY UNUSED. KEPT
                                FOR COMPATIBLITY WITH EARLIER JOBCARDS.
                    2  4 BYTES  COST CENTER NUMBER
                    3  5 BYTES  EMPLOYEE BADGE NUMBER
                    4 16 BYTES  PROGRAMMER NAME, USED IN PLACE OF
                                PROGRAMMER FIELD FOLLOWING ACCOUNTING
                                FIELDS.
                    5  6 BYTES  JOB NUMBER
                    6  3 BYTES  PROGRAMMING SYSTEM ID (OPTIONAL)
                    7  4 BYTES  MSAR - A VALUE OF PROD IS USED TO
                                INDICATE A PRODUCTION JOB. (OPTIONAL)

            3. IF ANY ACCOUNTING FIELDS ARE INCORRECT ISSUE A MESSAGE
               AND FLUSH THE JOB.

MOD#: TR00005      HASPCOMM
PURPOSE: OPERATOR COMMANDS
DESCRIPTION:
         HASPCOMM - THE FOLLOWING COMMANDS ARE ADDED OR MODIFIED:
            1. $DN IS MODIFIED.
               A. FOR INPUT JOBS THE MAXIMUM NUMBER OF TAPES AND DISKS
               ANY STEP USES IS LISTED.
               B. FOR OUTPUT JOBS THE NUMBER OF OUTPUT LINES AND CARDS
               IS LISTED.
            2. $M COMMAND IS ADDED WHICH LISTS THE TAPES AND DISKS
               FOUND FOR THE JOB DURING CONVERSION.
            3. $SN COMMAND IS ADDED WHICH ATTACHES THE JNLOADER
               TO READ THE NEW JN TABLE AND PRIORITY TABLE.
            4. $LF COMMAND IS ADDED WHICH LIST FOR EACH SYSOUT DD
               STATEMENT THE DDNAME, FORM, FCB, CLASS AND NUMBER OF
               LINES.
            5. $TPRTX IS MODIFIED BY ADDING THE FOLLOWING SUBPARAMETERS:
               A. S=Y/N/1-9  - THE NUMBER OF HEADER PAGES CAN NOW BE
                               SPECIFIED (MAXIMUM OF 9).
               B. N=Y/N      - INDICATES IF JES2 NEWS IS TO BE PRINTED.
            6. $DU,PRTX IS ENHANCED BY DISPLAYING THE FOLLOWING INFOR-
               MATION:
               A. S=X    WHERE X IS 1 - 9 INDICATING THE NUMBER OF
                         HEADER PAGES TO BE PRINTED
               B. N=Y/N  INDICATES IF JES2 NEWS IS TO BE PRINTED.

MOD#: TR00002      HASPPRPU
PURPOSE: BANNER PAGE
DESCRIPTION:
         HASPPRPU - THE FOLLOWING SUPPORT IS ADDED FOR PRINT:
            1. ADDITIONAL MESSAGES ARE ADDED FOR JOB FLUSH FOR BAD JN
               OR ILLEGAL USE OF EXPRESS PRIORITY.
            2. A DOUBLE BANNER PAGE IS WRITTEN FOR START OR CONT FOR
               EASIER JOB SEPARATION IF A VALUE WAS NOT SPECIFIED VIA
               THE SEPCT SUBPARAMETER FOR PRINTERX. IF A VALUE WAS
               SPECIFIED THEN THE NUMBER OF BANNER PAGES WILL EQUAL THE
               SEPCT VALUE.
            3. THE BANNER PAGE IS MODIFIED TO ADD TRW DATA AND DELETE
               UNUSED JES2 FIELDS SUCH AS ROOM.
            4. A LINE OF ASTERISKS IS ADDED TO THE END OF THE BANNER
               PAGE WHICH PRINTS ALONG THE EDGE OF THE PAGE TO HELP
               SEPARATE JOBS.
            5. IF /*JOBPARM DDSEP=Y WAS SPECIFIED BY THE JOB A THIRD
               LINE OF BLOCK DATA WILL BE ADDED TO THE BANNER PAGE
               CONTAINING THE DDNAME OF THE SYSOUT DATA SET. ALSO THE
               TRAILER PAGE FOR THE SYSOUT DATA SET WILL CONTAIN COPY
               COUNT, PAGE COUNT AND LINE COUNT.

********************************************************************************
*                                                                              *
*         F I L E   5   J N L O A D E R                                        *
*                                                                              *
********************************************************************************

     THE JNLOADER IS ATTACHED FROM HASPINIT AND HASPCOMM TO CAUSE THE
CREATION OR REBUILD OF THE JN TABLE AND PRIORITY TABLE. THE PROGRAM
READS THE DATASET POINTED TO BY THE //JNTRW DD CARD IN THE JES2 PROC
TO BUILD THE JN TABLE. THE PROGRAM READS THE DATASET POINTED TO BY
THE //PRTYTRW DD CARD IN THE JES2 PROC TO BUILD THE PRIORITY TABLE.
     THE PROGRAM ACQUIRES A 4K AREA FOR THE JN TABLE WHICH IS ENOUGH
FOR 512 JOB NUMBERS. (512 X 8 BYTES/ENTRY) = 4K
     THE PROGRAM ACQUIRES A 4K AREA FOR THE PRIORITY TABLE WHICH IS
ENOUGH FOR 256 PRIORITY JOB NUMBERS. (256 X 16 BYTES/ENTRY) = 4K
     AFTER SUCCESSFULLY BUILDING THE TABLES THE NEW TABLES ARE SWAPPED
FOR THE OLD TABLES IF ANY AND ANY UNNEEDED SPACE IS FREEMAINED. THE
LOADING OF THE TABLES IS PERFORMED IN AN ATTACHED TASK IN ORDER NOT
TO HALT JES2 FOR AN OPEN AND CLOSE.

********************************************************************************
*                                                                              *
*         F I L E   6   Q U E U E                                              *
*                                                                              *
********************************************************************************

     THIS FILE IS IN IEBCOPY UNLOAD FORMAT (80 X 32720). THE PDS IS 1
3350 CYLINDER IN SIZE.  LAST FILE UPDATE SEPTEMBER 1979.
     QUEUE IS A TSO COMMAND THAT READS THE JES2 SPOOL PACKS DIRECTLY
TO PROVIDE INPUT, ACTIVE, AND OUTPUT QUEUE STATUS. IN ADDITION QUEUE
HAS THE CAPABILITY TO ACCESS JES2 SYSIN AND SYSOUT DATASETS USING
3270 FULL SCREEN SUPPORT. THE SYSTEM SYSLOG DATASETS BOTH CURRENT AND
QUEUED CAN ALSO BE ACCESSED. THE FOLLOWING COMMAND AND SUBCOMMANDS ARE
SUPPORTED:

******************************
*  Q U E U E  C O M M A N D  *
******************************
  QUEUE SUBCOMMAND OPERAND        DEFAULT Q STATUS LOGONID
  Q                               CAN USE Q CKPT(DEVTYPE,VOLSER) TO GET
****************************      NONSTANDARD CHECKPOINT.
* USER RELATED SUBCOMMANDS *
****************************
  STATUS LEVEL                    DISPLAY JOBNAMES STARTING WITH LEVEL
  ST                              DEFAULT LEVEL LOGON ID
*********************************
* JOB QUEUE RELATED SUBCOMMANDS *
*********************************
  DA                              DISPLAY JOBS CURRENTLY EXECUTING.
  DI CLASS                        DISPLAY INPUT QUEUE.
  DO CLASS                        DISPLAY OUTPUT QUEUE.
  AI CLASS                        DISPLAY AVAILABLE INPUT QUEUE.
  AO CLASS                        DISPLAY AVAILABLE OUTPUT QUEUE.
  HI CLASS                        DISPLAY HELD JOBS IN INPUT QUEUE.
  HO                              DISPLAY JOBS WITH HELD OUTPUT.
   NOTE - DEFAULT FOR CLASS IS DISPLAY ALL CLASSES.
***************************
* JOB RELATED SUBCOMMANDS *
***************************
  DJ JOBNAME                      DISPLAY STATUS OF SPECIFIC JOB.
  DD JOBNAME                      DISPLAY SYSIN/SYSOUT DATASETS FOR JOB.
  DT                              DISPLAY TSO USERS.
  DS                              DISPLAY STARTED TASKS.
******************************
* OUTPUT RELATED SUBCOMMANDS *
******************************
  JCL JOBNAME                     DISPLAY JCL FOR JOB.
  JC

  JLOG JOBNAME                    DISPLAY JOBLOG FOR JOB.
  JL

  JMSG JOBNAME                    DISPLAY SYSTEM MESSAGES FOR JOB.
  JM

  LIST JOBNAME DSID               DISPLAY DATASET SPECIFIED BY DSID.
  L                               FIND AVAILABLE DSIDS WITH SUBCOMMAND
                                  DD JOBNAME.
**********************************
* OUTPUT POSITIONING SUBCOMMANDS *
**********************************
  FIND 'STRING'                   POSITION TO FIRST OCCURANCE OF STRING.
  F

  FALL 'STRING'                   FIND ALL OCCURANCES OF A STRING.
  FA

  COLUMN COL#                     START DISPLAY AT COLUMN SPECIFIED.
  C

  @ LINE#                         POSITION TO LINE SPECIFIED.

  UP #                            POSITION TOWARD START OF DATASET BY
  -                                SPECIFIED NUMBER OF LINES.

  D #                             POSITION TOWARD END OF DATASET BY
  +                                SPECIFIED NUMBER OF LINES.

  TOP                             POSITION TO THE TOP OF THE DATASET.
  T

  BOTTOM                          POSITION TO THE BOTTOM OF THE DATASET.
  B

  FTIME XX.XX.XX                  POSITION TO SPECIFIED TIME. (SYSLOG ONLY)
********************
* MISC SUBCOMMANDS *
********************
  END                             TERMINATE QUEUE COMMAND
  E

  HELP                            DISPLAY SUBCOMMAND INFORMATION.
  H

  SAVE DSNAME                     SAVE CURRENT DATASET WITH SPECIFIED NAME.
  SA

  SL STC# SEQ                     DISPLAY SYSLOG DATASET. FIND STC# WITH
                                  STATUS SYSLOG SUBCOMMAND.
                                  DEFAULT SEQ = 0 CURRENT SYSLOG.
                                  USE SEQ = 1,2, ... FOR OLDER SYSLOGS.
**************************
* RESTRICTED SUBCOMMANDS *
**************************
  XP PASSWORD                     REQUEST TO ENTER PASSWORD. ENTER AS
                                  SHOWN, A DISPLAY INHIBITED FIELD WILL
                                  BE PLACED AT THE TOP OF THE SCREEN.
                                  IF THE CORRECT PASSWORD IS ENTERED
                                  AN ACKNOWLEDGEMENT WILL BE MADE.

  XJ JOBNAME                      DISPLAY JQE AND JOES.

  XD JOBNAME DSID                 UNRESTRICTED DISPLAY OF DATASETS.

  XB MTTR                         DISPLAY REQUESTED BLOCK FROM SPOOL.

INSTALLATION PROCEDURE FOR QUEUE:
     1. RESTORE FILE 6 USING IEBCOPY. THERE ARE 30 MEMBERS IN THE PDS.
        Q0 IS THE COMMON AREA.
        Q1 - Q22 ARE REENTRANT CODE.
        QCOMMON, QSTART, QSTOP, QTILT, AND $JQT ARE MACROS.
        HELP IS A TSO HELP MEMBER.
        ASSEMBLE IS THE JCL TO ASSEMBLE AND LINK QUEUE.

     2. EDIT MEMBER QCOMMON CHANGING THE FOLLOWING PARAMETERS:

        UNIT=XXXX THE DEVICE TYPE FOR SYS1.HASPCKPT.
        VOLSER=YYYYYY THE VOLUME SERIAL FOR SYS1.HASPCKPT.
        SID1-SID7=ZZZZ THE SMF IDS FOR EACH CPU IN THE COMPLEX.

        AT PRESENT THERE IS SUPPORT IN THE INITIALIZATION MODULE TO
        DYNAMICALLY ALLOCATE THE CHECKPOINT ON EITHER 3330, 3330-1,
        OR 3350. IF YOU ARE FORTUNATE ENOUGH TO HAVE A DRUM YOU
        WILL HAVE TO MODIFY Q10 TO ADD SUPPORT.

        EDIT THE MACRO QSTART TO INDICATE THE LEVEL OF JES2 4.1
        MAINTENANCE.

        QLEVEL SETA 1    JES2 PRIOR TO AZ20010
        QLEVEL SETA 2    JES2 WITH AZ20010
        QLEVEL SETA 3    JES2 WITH AZ27300

        AZ20010 SIGNIFICANTLY CHANGED THE ORGANIZATION OF THE
        CHECKPOINT DATASET. THE CHANGES FOR AZ27300 ARE BASED ON
        SUGGESTIONS FROM JEFF CHAO (J.C. PENNEY, DALLAS).

        QPFK SETB 0      NO PFK SUPPORT
        QPFK SETB 1      PFK SUPPORT

        THE PFK SUPPORT IS FROM VILKO MACEK - INSURANCE CORPORATION
        OF BRITISH COLUMBIA. PFK SUPPORT CAN BE IDENTIFIED BY SOURCE
        MARKED WITH ICBC IN MODULES Q5, Q8, AND THE MACRO QCOMMON. TO
        CHANGE THE DEFINITIONS OF THE PFKS SEE THE END OF MODULE Q5.

     3. EDIT MEMBER ASSEMBLE TO CHANGE THE JCL TO FIT YOUR STANDARDS.
        DO NOT ALTER THE ORDER OF THE ASSEMBLY SYSLIBS AS THERE IS A
        CONFLICT ON THE MACRO QSTART. THE ASSEMBLIES AND LINKS CREATE
        2 LOAD MODULES.

        QUEUE (ALIAS Q) - IS THE REENTRANT CODE OF THE COMMAND. IT MAY
        BE PLACED IN SYS1.LPALIB OR SYS1.CMDLIB.

        QUEUECMN - THE MODIFIABLE COMMON AREA. CAN BE PLACED IN SYS1.
        LINKLIB OR SYS1.CMDLIB. IF YOU WANT TO CHANGE THE NAME OF
        QUEUECMN LOOK IN MEMBER Q10 WHERE THE LINK IS ISSUED.

NOTE:  THE QUEUE COMMAND WAS WRITTEN FOR JES2 4.1. THERE IS NO REASON
THAT THE CONCEPT OF ACCESSING THE CHECKPOINT AND SPOOL WOULD NOT WORK
WITH EARLIER VERSIONS OF JES2 OR WITH NJE. THE LOCATION OF CHECKPOINT
VARIABLES AND CHECKPOINT AND SPOOL STRUCTURE MAY BE DIFFERENT AND THE
USER WILL HAVE TO MAKE APPROPRIATE CHANGES TO SUPPORT OTHER VERSIONS
OF JES2.

********************************************************************************
*                                                                              *
*         F I L E   7   A E P   M O D S                                        *
*                                                                              *
********************************************************************************

***********************************************************************
*                                                                     *
*                               A E P                                 *
*    JESMODS                 MODIFICATIONS              JESMODS       *
*                            TO  JES2/NJE                             *
*                                                                     *
*                          LAST UPDATE:7/9/81                         *
***********************************************************************
*                                                                     *
*   ALL AEP MODIFICATIONS SUPPLIED ARE FOR JES2/NJE RELEASE 3.1 AND   *
*  ARE DISTRIBUTED IN IEBCOPY UNLOADED PDS FORMAT. MODIFICATION       *
*  NAMES CORRESPOND TO THE PDS MEMBER NAMES. ALL SUBMITTED            *
*  MODIFICATIONS HAVE BEEN WORKING FOR SOME TIME, BUT NO CLAIM IS     *
*  IS MADE THAT THEY ARE BUG FREE OR EXEMPT FROM PACKAGING ERRORS,    *
*  AND OF COURSE NO LIABILITY IS ASSUMED. COMMENTS OR QUESTIONS       *
*  REGARDING AEP MODS MAY BE ADDRESSED TO:                            *
*                                                                     *
*                  ROBERT T. DEBULA                                   *
*                  AMERICAN ELECTRIC POWER SERVICE CORP.              *
*                  CENTRAL COMPUTER COMPLEX                           *
*                  420 4TH STREET S.W.                                *
*                  CANTON, OHIO     44702                             *
*                                                                     *
***********************************************************************

AEPID    DESCRIPTION OF MODIFICATION                 MODULE/DATE
=====    =========== == ============                 ===========

AEPDOC   YOU'RE READING IT.

AEP01    INSTALLATION PRE-DEFINED ROUTING.           T4/PRE-PROD.
         PRE-BUILT OCR'S FOR 8000-SERIES FORMS
         GIVING PRE-DEFINED DESTINATIONS
         WITHOUT THE NEED FOR /*OUTPUT CARDS.
         ALSO OCR'S FOR 9000-SERIES FORMS
         TO ROUTE A COPY OF FICHE AND LOCAL
         PLOTTER OUTPUT TO NON-EXISTANT RJE
         STATIONS (16 FOR FICHE, 32 FOR LOCAL
         PLOTTER). THE OCR TABLE NAMED $JESFAT
         CONTAINS SAMPLE PSEUDO CODES.                                *

AEP05    ELIMINATE MULTI-PART FORMS BY CREATING      R/PRE-PROD.
         MULTIPLE COPIES INSTEAD.
         FORMS NUMBER MUST BE A SINGLE DIGIT FROM
         1 TO 5.  IF FORMS NUMBER IS ELIGIBLE FOR
         THIS MOD, BUT OUTPUT IS ROUTED TO A REMOTE
         AND ESTIMATED OUTPUT IS > 2,000 LINES,THE
         COPY COUNT IS NOT CHANGED, AND THE WORD
         'PLY' IS AFFIXED IN FRONT OF THE FORMS #.

AEP12    MAKE INTERPRETED CARD OUTPUT (FUNC=I)       T/PRE-PROD.
         THE DEFAULT FOR CARD OUTPUT.

AEP43    PRINT STATISTICS EVEN IF THE                Q/PRE-PROD.
         NO LOG OPTION WAS SPECIFIED

AEP44    RELEASE JOBS FROM ALTERNATE CONSOLES        K/PRE-PROD.
         (I.E., REMOVE ALL RESTRICTIONS ON $AJ)

AEP46    ALTER JES2 JOB PRIORITY BY TAKING           R/PRE-PROD.
         JOB CARD REGION SIZE INTO ACCOUNT.
         REGION PRIORITY TABLE ($JESRPT)             R/3-30-81 RTD
         LOADED VIA COPY.

AEP49    MAKE ESTIMATED RESIDENCE TIME THE           U/PRE-PROD.
         CPU TIME LIMIT UNLESS ANOTHER TIME
         LIMIT WAS SPECIFIED. ALSO, CHANGE
         TIME=1440 TO TIME=1439.

AEP50    DISALLOW 'PERFORM=' ON JOB CARD             R/PRE-PROD.

AEP51    NO RESTART AT JES2 WARMSTART FOR            R/PRE-PROD.
         JOBS SPECIFYING RD=NR ON JOB CARDS.

AEP52    ALLOWS 'REMOTE' ON /*ROUTE CARDS            T/PRE-PROD.

AEP58    DONT PRINT JES2 JOB STATISTICS ON DEVICE    Q/PRE-PROD.
         WHERE NO SEPARATOR PAGE IS PRODUCED.

AEP60    INFORM OPER. OF NO 'JOES' AVAILABLE         Q/PRE-PROD.
         (MESSAGE $HASP605)

AEP61    DRAIN RMT PUNCHES AFTER EVERY JOB.          Q/PRE-PROD.

AEP63    RESTRICT /*PRIORITY FROM RJE & INTERNAL     R/PRE-PROD.
         RDRS.

AEP64    DISALLOW $EJ IF RD=NR OR RESTART=N          K/PRE-PROD.

AEP66    NAME AND ROOM NUMBER ON STC                 R/PRE-PROD.
         AND TSU LOGON OUTPUT

AEP69    COMPLETE JOBNAME FROM JOB NUMBER FOR        R/PRE-PROD.
         JOBS SUBMITTED WITH A JOBNAME 8
         CHARACTERS LONG, THE LAST 4 OF WHICH
         ARE PERIODS, THE PERIODS WILL BE
         REPLACED BY THE JES2 JOB NUMBER. THIS
         MOD IS USEFUL IN CREATING UNIQUE
         JOBNAMES & OTHER SPECIAL CIRCUMSTANCES.

AEP70    AT 'ON READER' TIME, JOB CLASS AND          U/PRE-PROD.
         ESTIMATED CPU TIME ARE DISPLAYED TO THE
         OPERATOR. MESSAGE HASP600, FOR TSU
         LOGONS, IS PRODUCED IN HASPRDR.
         MESSAGE HASP601, FOR BATCH JOBS, IS
         PRODUCED IN HASPXEQ.

AEP72    REMOVE CLASSES FROM DISPLAY GENERATED       K/PRE-PROD.
         BY $DA AND $DI WHEN ISSUED FROM RMTS.
         INTENDED TO DISCOURAGE USE OF IMPROPER
         CLASSES.

AEP75    SUPPRESS SENDING OF EOT CCW TO PRINTER      Q/PRE-PROD.
         EXCEPT AT SEPARATOR PAGE PRINT TIME.
         THIS IS TO MAKE 3800 PRINTER "COPY MARKS"
         TOGGLE ONLY ON SEPARATOR PAGE BOUNDARIES.

AEP81    ENTER PURGE AFTER TAKING JES2 TERMINATION   P/PRE-PROD.
         DUMP.

AEP87    /*AFTER CONTROL CARD.                       KNRU13/4-1-81 RTD
         THIS MOD TOGETHER WITH THE AFTER
         CARD EXIT ROUTINE HASPRAFT SUPPORTS
         THE /*AFTER CONTROL CARD. THIS ALLOWS
         CLASS INDEPENDENT SEQUENTIAL OR
         HIERARCHICAL PROCESSING OF JOBS.
         JOB NAME, JOB #, AND TIME OF DAY
         ARE THE PRESENTLY SUPPORTED OPTIONS.
         TIME OF DAY WAS ADDED TO ALLOW USERS        KN3/4-28-81 RTD
         TO SPECIFY IN HHMM FORMAT (MILITARY)
         A TIME FOR THEIR JOB TO BE RELEASED FOR
         EXECUTION (WITHIN 24 HOURS OF THE TIME
         THE JOB WAS READ IN). ADDITIONAL
         DOCUMENTATION ON THIS MOD CAN BE
         SENT OUT UPON REQUEST. THE EXIT
         HASPRAFT SHOULD BE ASSEMBLED &
         LINKED INTO HASJES20.
      ** WARNING: THIS MODIFICATION MAKES
                  CHANGES TO THE JQE. ALL
                  HASP MODULES SHOULD BE
                  RE-ASSEMBLED AND A COLD
                  START IS REQUIRED.

AEP88    PRINTER FENCING ENHANCEMENT.                MP2/3-8-81 RTD
         ALLOWS SPECIFICATION OF REROUTE=NNN
         ON REMOTE PRINTER INITIALIZATION
         PARAMETER. THIS CAUSES OUTPUT
         EXCEEDING THE HIGH OUTPUT LIMIT
         SPECIFIED IN LIMIT= PARM TO BE REROUTED
         TO THE NAMED ALTERNATE DESTINATION.
           R36.PR1  ....,LIMIT=0-2000,REROUTE=0
         CAUSES PRINT DESTINED FOR RMT36.PR1
         EXCEEDING 2000 LINES TO BE REROUTED TO
         PRINT LOCALLY.
      ** WARNING: THIS MODIFICATION CHANGES THE
                  DCT.

AEP90    NJE MOD TO USE COLUMNS 73-80 OF             R/12-15-80 RTD
         1ST JOB CARD AS XEQ ROUTING DESTINATION.
         IF COLUMN 73-80 IS = TO A VALID NODE NAME
         JOB ACCOUNTING IS BYPASSED & XEQ ROUTING
         IS ESTABLISHED AS IF A '/*ROUTE XEQ' CARD
         WERE PRESENT IN THE DECK AS THE NEXT CARD.

AEP92    FLAG INVALID JOB CARD FOR JOBS WITH         R/3-2-81 RTD
         AN INVALID XEQ CLASS SPECIFIED ON THE
         JOB CARD. INVALID XEQ CLASSES ARE CLASSES
         WITH PERFORM=009 IN THE CLASS
         INITIALIZATION PARAMETER.

AEP94    ALTERATION OF SEVERAL COMMANDS TO           K/5-14-81 RTD
         PREVENT POTENTIAL DISASTERS DUE TO
         KEYING ERRORS. THE COMMANDS ALTERED
         FOLLOW WITH BRIEF DESCRIPTIONS OF THE
         CHANGES.

         $PQ     CHANGED TO PREVENT ALL QUEUES
                 FROM BEING PURGED BY DEFAULT.
                 TO PURGE ALL THE QUEUES
                 $PQ,ALL MUST BE ENTERED.

         $TJ     CHANGED TO PREVENT CHANGING
                 THE CURRENT JOB # BY DEFAULT.
                 $TJNNNN,NUM MUST BE ENTERED TO
                 CHANGE THE CURRENT JES2 JOB #.

         $CJ/$PJNNNN-NNNN
                           CHANGED TO PREVENT
                      MORE THAN TEN JOBS BEING
                 SPECIFIED IN THE JOB RANGE
                 UNLESS A SPECIAL OPERAND IS
                 APPENDED TO THE COMMAND.
                 $CJ1-15 RETURNS "INVALID
                 COMMAND" UNLESS IT IS ENTERED
                 AS $CJ1-15,F THE SAME RULE
                 APPLIES TO $PJ. F MUST BE THE
                 LAST OPERAND IF IT IS ENTERED.

         THESE COMMAND CHANGES CAME AS A RESULT OF
         REPETITIOUS MINOR/MAJOR DISASTERS CAUSED
         BY OPERATOR KEYING ERRORS. $PQ WAS OFTEN
         MISKEYED BY OMISSION OF THE COMMA BETWEEN
         $PQ AND THE FIRST OPERAND CAUSING ALL
         OUTPUT TO BE DELETED BY DEFAULT. THE $TJ
         WAS ALSO PRONE TO COMMA OMISSION WHICH
         CAUSED THE DEFAULT OF CHANGE CURRENT JOB #
         TO TAKE EFFECT (THIS CAUSED CONSIDERABLE
         CONFUSION IN THE MIDDLE OF THE PRODUCTION
         DAY). THE $CJNNNN-NNNN & $PJNNNN-NNNN WERE
         OFTEN MISKEYED BY OMISSION OF A DIGIT IN
         FIRST JOB # WHICH CAUSED A MUCH BROADER
         RANGE OF JOBS TO BE CANCELLED OR PURGED
         THAN WAS DESIRABLE.


***********************************************************************
*                                                                     *
*                   JES2 MODULES/MACROS AFFECTED                      *
*                                                                     *
*  K - HASPCOMM                                                       *
*  M - HASPINIT                                                       *
*  N - HASPMISC                                                       *
*  P - HASPNUC                                                        *
*  Q - HASPPRPU                                                       *
*  R - HASPRDR                                                        *
*  S - HASPRTAM                                                       *
*  T - HASPSSSM                                                       *
*  U - HASPXEQ                                                        *
*  X - $RDRWORK                                                       *
*  1 - $JQE                                                           *
*  2 - $DCT                                                           *
*  3 - HASPRAFT       ** ADDED BY AEP87 **                            *
*  4 - $OCRD          ** ADDED BY AEP01 **                            *
*                                                                     *
***********************************************************************
********************************************************************************
*                                                                              *
*         F I L E   8   I S D   M O D S                                        *
*                                                                              *
********************************************************************************

ALL ISD MODIFICATIONS SUPPLIED ARE FOR JES2 RELEASE 4.1 (SU 25) AND
ARE DISTRIBUTED IN IEBCOPY UNLOADED FORMAT (80 X 32720).
LAST FILE UPDATE - MAY 1979
ANY QUESTIONS OR COMMENTS ON THESE MODIFICATIONS MAY BE ADDRESSED TO:

                   JIM MOHER                    (714) 937-2134
                   TRW INFORMATION SYSTEMS
                   1761 WEST KATELLA AVE.
                   ANAHEIM, CA  92804

*    TABLE OF CONTENTS FOR THE TRW ISD CHANGES MADE TO JES2 4.1
*
*      TRW0010   - JOB CLASSING BASED ON 1) CPU TIME
*                                        2) NUMBER OF TAPES
*                                        3) NUMBER OF UNMOUNTED DISKS
*                - MODULES CHANGED
*                     1) HASPRDR
*                     2) HASPXEQ
*                     3) HASPCON
*
*                - MACROS CHANGED
*                     1) $CNVWORK
*                     2) $HASPGEN
*                     3) $JCT
*
*      TRW0011   - CREATION OF A NEW JES2 CONTROL BLOCK
*                       THIS BLOCK IS USED TO HOLD THE REQUIRED
*                       TAPE AND DISK VOLUMES NEEDED BY A JOB
*
*                - MODULES CHANGED
*                     1) HASPRDR
*                     2) HASPXEQ
*                     3) HASPCOMM
*                     4) HASPDOC
*
*                - MACROS CHANGED
*                     1) $CNVWORK
*                     2) $HASPGEN
*                     3) $JCT
*
*                - MACROS ADDED
*                     1) $JRT
*
*      TRW0020   -  ROUTINE TO SEARCH THE CATALOG FOR CATALOG
*                    DATE SET THAT REQUIRE SETUP
*
*                - MODULES CHANGED
*                     1) HASPXEQ
*
*                - MACROS CHANGED
*                     1) $CNVWORK
*
*      TRW0030   -  COMMANDS TO DISPLAY THE VOLUMES FOR WHICH THE JOB
*                       WAS PLACED IN THE SETUP QUEUE AND TO RELEASE
*                       THE JOB ONCE THE SETUP HAS BEEN SATISFIED.
*
*                       FORMAT $LJNNN FOR LISTING THE VOLUMES
*                       FORMAT $XJNNN TO RELEASE A JOB FROM SETUP
*
*                - MODULES CHANGED
*                     1) HASPCOMM
*
*                - MACROS CHANGED
*                     1)  NONE
*
*      TRW0040   -  DISPLAY COMMAND USED FOR FINDING THE UNIT ADDRESS
*                       OF A ONLINE VOLUME
*
*                       FORMAT $DV,VOLNAME,VOLNAME,
*
*                - MODULES CHANGED
*                     1) HASPCOMM
*
*                - MACROS CHANGED
*                     1)  NONE
*
*      TRW0050   -  RESTRICT THE $PJN-NNN COMMAND
*                       ONLY ALLOW ONE JOB NUMBER PER REQUEST
*
*                - MODULES CHANGED
*                     1) HASPCOMM
*
*                - MACROS CHANGED
*                     1)  NONE
*
*      TRW0060   -  COMMMAND FOR CANCEL JES2
*                          U01 CATASTROPHIC ERROR
*
*                       FORMAT $PJES2,QUICK
*
*                - MODULES CHANGED
*                     1) HASPCOMM
*
*                - MACROS CHANGED
*                     1)  NONE
*
*      TRW0070   -  PUT JOBNAME ON PUNCH CARD SEPERATOR
*
*                - MODULES CHANGED
*                     1) HASPPRPU
*
*                - MACROS CHANGED
*                     1)  NONE
*
*      TRW0080   -  CODE THAT RESTRICTS JCL CONVERSION A SELECTED
*                   SYSTEM
*
*                - MODULES CHANGED
*                     1) HASPNUC
*                     2) HASPXEQ
*                     2) HASPCOMM
*                     2) HASPINIT
*
*                - MACROS CHANGED
*                     1)  $HCT
*
*      TRW0090   -  CHANGE THE SVC DUMP PARMS
*
*                - MODULES CHANGED
*                     1) HASPNUC
*
*                - MACROS CHANGED
*                     1)  NONE
*
*      TRW0100   -  DISALLOW THE $PJXX COMMAND ON ACTIVE JOBS
*
*                - MODULES CHANGED
*                     1) HASPCOMM
*
*                - MACROS CHANGED
*                     1)  NONE
*
*      TRW0110   -  LIMIT PRINT TO A REMOTE TO LESS THAN 15000 LINES
*
*                - MODULES CHANGED
*                     1) HASPNUC
*                     2) HASPCOMM
*                     3) HASPINIT
*                - MACROS CHANGED
*                     1)  DCT
*
*      TRW0120   -  MODS TO HASPRTAM TO ALLOW A SINGER 10
*                   TO BE A JES2 REMOTE STATION EMULATING
*                   A MOD 20.
*
*      TRW0130   -  NEW COMMAND TO HOLD OR RELEASE JOB THAT REQUIRE
*                       MASS STORAGE DEVICES
*                    $HM-HOLD  $AM-RELEASE
*
*                - MODULES CHANGED
*                     1) HASPCOMM
*
*                - MACROS CHANGED
*                     1)  NONE
*
*      TRW0140   -  NEW COMMAND TO ALLOW THE OPER TO CANCEL A JOB WITH
*                   A MESSAGE
*
*                      FORMAT $CMJXX,'MESSAGE'
*
*                - MODULES CHANGED
*                     1) HASPCOMM
*
*                - MACROS CHANGED
*                     1)  NONE
*
*      TRW0150   -  NEW COMMAND TO DISPLAY THE NUMBER OF OUTPUT LINES
*                   A JOB WILL PRINT
*
*                      FORMAT $QJXXX
*
*                - MODULES CHANGED
*                     1) HASPCOMM
*
*                - MACROS CHANGED
*                     1)  NONE
*
*      TRW0160   -  ALLOW JES2 COMMANDS TO BE ENTER FROM A TSO TUBE
*                   WITH OPER AUTHORITY
*
*                - MODULES CHANGED
*                     1) HASPCON
*                     2) HASPSSSM
*
*                - MACROS CHANGED
*                     1)  NONE
*
*      TRW0170   -  COMMAND TO LIST THE JOB NUMBER AND NAME OF JOBS
*                   THAT REQUIRE A CERTAIN FORM.
*
*                   FORMAT OF COMMAND $QF,F=XXXX
*
*                - MODULES CHANGED
*                     1) HASPCOMM
*
*      TRW0180   -  DISALLOW THE RESETING OF A JOBS CLASS
*                   REMOVED FROM THE $CFSEL MACRO (C,CTJCLAS)
*
*                - MODULES CHANGED
*                     1) HASPCOMM
*
*      TRW0190   -  MODIFIED THE TSO SEND COMMAND TO SEND
*                   TIME OF DAY AND THE DATE WITH NOTIFY COMMAND
*
*                - MODULES CHANGED
*                     1) HASPPRPU
*
********************************************************************************
*                                                                              *
*         F I L E   9   C S G   M O D S                                        *
*                                                                              *
********************************************************************************

ALL CSG MODIFICATIONS SUPPLIED ARE FOR JES2 RELEASE 4.1 (SU 25) AND
ARE DISTRIBUTED IN A SEQUENTIAL DATASET. LAST FILE UPDATE MARCH 1980.
ANY QUESTIONS OR COMMENTS ON THESE MODIFICATIONS MAY BE ADDRESSED TO:

                   TERRY BURR                   (416) 822-5200
                   CANADA SYSTEMS GROUP
                   2599 SPEAKMAN DRIVE
                   MISSISSAUGA, ONTARIO, L5K 1B1

 CSG-1F
    JOBNAME VALIDATION
    ORIGINAL        751113 BURR
    HASPRDR
      THIS MOD ENABLES JES2 TO FLUSH ANY JOB WHOSE JOBNAME
    IS  A) BLANK
        B) GREATER THAN 8 BYTES
        C) CONTAINS SPECIAL CHARACTERS

 CSG-1G
    SMF DATA ERROR HANDLING
    ORIGINAL        751113 BURR
    HASPACCT
      IF HASPACCT DETECTS AN ERROR IN WRITING ITS SMF RECORDS
    A WARINING MESSAGE IS ISSUED
      IF SMF STOPS RECORDING, THE CONSOLE IS FLOODED WITH
    MESSAGES TO INDICATE THE PROBLEM AND JES IS DRAINED
      A $S WILL START UP JES AGAIN

 CSG-1H
    NO TRAILING BLANK CARDS PUNCHED IF S=N
    ORIGINAL        751114 BURR
    HASPRPU
      IF SEPERATOR CARDS ARE SUPPRESSED ON A PUNCH VIA THE
    COMMAND $TPUN1,S=N,THEN THE TRAILING BLANK CARDS INTENDED
    TO FLUSH THE PUNCH ARE NOT PUNCHED.
      THIS MOD HAS BEEN SPECIFICALLY WRITTEN FOR REMOTE USERS
    TRYING TO USE A PUNCH DEVICE AS A TRICK FOR RECEIVING DATA
    FILES.  FOR THIS REASON, I HAVE ONLY SUPPRESSED THE BLANK
    CARD UNDER NORMAL PROCESSING CONDITIONS.
      I.E. IF A PUNCH IS DELETED,
           BLANK IS STILL PUNCHED.

 CSG-1L
    REMOTE WTO SUPPORT
    ORIGINAL        760216 BURR
    $JCT
    $SSVT
    HASPMISC
    HASPNUC
    HASPRDR
    HASPRTAM
    HASPSSSM
    $SMF
      THIS MOD GIVES THE REMOTE USER THE ABILITY TO SEE ALL HIS
    DATA THAT IS NORMALLY DISPLAYED ON LOCAL CONSOLES BY THE USE
    OF THE WTO MACRO (I.E. SVC 35).
      THE MOD IS ON A JOB LEVEL ONLY AND IS ACTIVATED BY THE
    INCLUSION OF THE FOLLOWING JES2 CONTROL CARD.
    /*ROUTE  PRNTM RMTXXX    OR REMOTEXX
      THE MODIFICATION WILL SEND ALL PRINTING FOR THE JOB TO
    THE ROUTE DESTINATION FOR REMOTE XXX AS WELL AS
    ISSUING THE WTO MESSAGES FOR THIS JOB TO THE CONSOLE
    ROUTING DESTINATION FOR REMOTE XXX.
      FURTHER DETAILS OF THESE DESTINATION CODES CAN BE FOUND
    IN THE REMOTE ATTRIBUTE TABLE  AND THE RMTNNN INITIALIZATION
    PARAMETER.
      IF THE REMOTE DOES NOT HAVE A CONSOLE, THE ABOVE CONTROL
    CARD IS PROCESSED AS IF ONLY ROUTING THE PRINT.

 CSG-1O
         CHNGE $CSGMODS
    JOBPARM DUMP=Y SUPPORT
    ORIGINAL         760304 BURR
    $JCT
    HASPRDR
    HASPSSSM
      THIS MOD ALLOWS
        SUPPRESSION OF DUMPS FOR LINE EXCESSION, UNLESS DUMP=Y
        IS SPECIFIED ON THE JOBPARM CARD.
        &OUTPOPT=1 MUST BE SPECIFIED

 CSG-1P
    JOBPARM FCB'S
    ORIGINAL        240376 GOODALE/BURR
    $JCT
    HASPNUC                                             TB GG
    HASPRDR
    HASPXEQ                                                GG
    HASPSSSM

    THIS MOD SUPPORTS THE FCB= (OR Z=) KEYWORD ON THE
    /*JOBPARM CARD TO SPECIFY A DEFAULT FCB ID FOR
    THE JOB.

 CSG-1R
    EXTENDED REMOTE WTO SUPPORT
    ORIGINAL         760331 BURR/RATH
    HASPPRPU
    $RCPWORK  -> HASPINIT
    HASPRTAM
      THIS MODIFICATION IS FOR REMOTE TERMINALS WITH CONSOLES.
    IF ANY MESSAGES ARE SPOOLED FOR THE REMOTE THE MESSAGE(S)
    WILL BE DIRECTED TO THE CONSOLE AND NOT RMX.PR1.  THIS
    CHANGE IS TO THE REMOTE CONSOLE PROCESSOR IN HASPRTAM.
      A CHANGE IN HASPPRPU WILL PREVENT THE PRINTING OF
    SPOOLED MESSAGES IF THE REMOTE HAS A CONSOLE.

 CSG-1S
    INTERNAL READER ROUTE CODE SETTING
    ORIGINAL         760402 BURR/RATH
    HASPRDR
      THIS MOD EXAMINE ALL JOBS GOING ACROSS THE INTERNAL READER
    AND SETS THE DEFAULT ROUTE CODES TO BE IDENTICAL AS THE
    SUBMITTING JOB.
      THESE DEFAULTS OF COURSE CAN BE OVERRIDEN BY THE USE OF
    THE /*ROUTE CARD

 CSG-1T
    ELIMINATE REMOTE SETUP MESSAGES FROM LOCAL CONSOLES
    ORIGINAL         760402 BURR/770316 RATH
    HASPPRPU

    (SEE    ABOVE)

 CSG-1U
    DISPLAY DISK BY ADDRESS OR VOLSER
    ORIGINAL         760405 BURR/RATH
    HASPCOMM
      THIS COMMAND ALLOWS FOR SPECIFIC REQUEST RE DASD
    OF THE FORM $DD,XXX  WHERE XXX IS THE UCB ADDR
                $DD'YYYYYY'  WHERE YYYYYY IS THE VOLSER
                $DD          FOR ALL DASD ONLINE DEVICES
      THE $DD IS ONLY ALLOWED LOCALLY

 CSG-1V
    PAGE FIXING
    ORIGINAL        770211 GOODALE / BURR
    HASPINIT
    THIS MOD PAGE FIXES ALL OF CORE FROM THE START OF HASPNUC
    TO THE START OF HASPCOMM. THE FOLLOWING MODULES SHOULD BE
    IN THE FIXED AREA - HASPNUC, HASPMISC, HASPRTAM.

 CSG-1W
    LINE COUNTER ON OUTPUT DEVICES
    ORIGINAL         760406 BURR
    $DCT
    $JQE
    HASPCOMM HASPNUC HASPRDR HASPSSSM
    HASPINIT (ONLY INDIRECTLY BECAUSE OF CHANGE TO DCT)
    HASPPRPU
    HASPRTAM (BECAUSE OF CHANGE TO $RCPWORK)
      WHEN A JOB STARTS ON AN OUTPUT DEVICE THE NUMBER OF LINES
    TO BE PRINTED OR CARDS TO BE PUNCHED IS DISPLAYED.
      WHEN AN ACTIVE DEVICE IS DISPLAYED, THE NUMBER OF RECORDS
    REMAINING TO BE OUTPUT IS DISPLAYED.
      WHEN A JOB IS AWAITING OUTPUT THE NUMBER OF K LINES AND/OR
    K CARDS (ROUNDED TO NEAREST THOU) IS ADDED TO THE DISPLAY

 CSG-1Z
    JOB CPU TIMING
    ORIGINAL        130676 GOODALE/160377 RATH
    HASPXEQ

    THIS MOD ACCOMPLISHES THE FOLLOWING -

    1. ANY TIME= PARAMETER ON THE JOB CARD IS DELETED.

    2. A TIME= PARAMETER IS CONSTRUCTED ON THE JOB CARD
       WHOSE VALUE IS THAT SPECIFIED BY THE TIME=
       PARAMETER OF THE /*JOBPARM

 CSG-2B
    SIGN ON MESSAGE TO REMOTE
    ORIGINAL        204077 BURR/280677 RATH
    HASPRTAM

    THIS MOD SENDS THE SIGNON MESSAGE TO THE REMOTE.

 CSG-2C
    JOB RANGE REMOVAL
    ORIGINAL        200477 BURR
    HASPCOMM

    THIS MOD REMOVES THE ABILITY TO SPECIFY A RANGE OF JOBS
    FOR THE $A, $C, $E $H AND $P COMMANDS
    AND FOR $O COMMANDS

 CSG-2I
    JES2 DYNAMIC DUMPS
    ORIGINAL        760903 GOODALE
    HASPCOMM
    HASPNUC

    THIS MOD ISSUES THE SDUMP SVC WHEN
    THE OPERATOR ENTERS THE $SDUMP COMMAND.

 CSG-2J
    JOBNAMES ON $DI
    ORIGINAL        774025 GOODALE, BURR
    HASPCOMM

    THIS MOD CAUSES THE JOBNAME TO BE DISPLAYED FOR AN ACTIVE
    INITIATOR ON THE RESPONSE TO THE $DI COMMAND

 CSG-2L
    LIMIT REMOTE 5 OUTPUT LINES
    ORIGINAL   77/07/07 BURR
    HASPPRPU
      THIS MOD RESTRICTS THE OUTPUT TO REMOTE 5 OR REMOTE 11
    IF A GIVEN SET OF PDDB'S RESULT IN A TOTAL NUMBER OF LINES
    WHICH EXCEEDS 10,000 LINES THEN THE JOEDEST AND THE JOEROUT
    FIELDS FOR THAT JOE WILL BE ROUTED LOCAL.    NOTE THAT THIS DOES
    NOT AUTOMATICALLY ROUTE ALL THE JOBS SYSOUT.
    THIS CODE WAS INSERTED NEW FOR RELEASE 4.1.

 CSG-2N
    JES2 MONITOR
    ORIGINAL        770224 GOODALE / BURR  770519
    COMM2N00
    HASPCOMM

    THIS MOD MONITORS JES2 INTERNAL ACTIVITY. A QUICK LOOK
    CAN BE OBTAINED BY ENTERING $MON.

 CSG-3J
    MAS $CJX (AND $CJX,D) FUNCTIONAL X-SYS
    ORIGINAL       78/03/27 BURR
    $JQE
    $QSE
    HASPCOMM
    HASPMISC
    HASPXEQ

         THIS MOD ENABLES THE ISSUE OF A CANCEL COMMAND ON ANY
     SYSTEM IN THE COMPLEX TO BE PROCESSED ON THE MACHINE
     THAT IS EXECUTING THE JOB IN QUESTION.
         THE $PJX COMMAND IS NOT SUPPORTED.
         THE $CJX,P (IE. PURGE OPERAND) IS NOT SUPPORTED.
         THE $CJX,D (IE. DUMP OPERAND) IS ALLOWED TO FUNCTION
     ACROSS TO THE CORRECT SYSTEM.

 CSG-3U
    ROUTING OF JCL COPIES
    ORIGINAL       79/05/25  BURR
    $IOT     $JCT
    HASPRDR
    HASPXEQ
      THIS MOD GIVES THE USER THE CAPABILITY TO ROUTE ANOTHER
    COPY OF HIS JCL, JES2 JOB LOG, AND SMB'S TO AN EXTRA DEST
      IT ALSO ALLOWS THE SAME ROUTING FOR MSGCLASS A OF ANOTHER
    COPY OF THE SAME IF THE JOB ABENDS.

********************************************************************************
*                                                                              *
*         F I L E   1 0   K A I S E R   M O D S                                *
*                                                                              *
********************************************************************************

THE FOLLOWING MODS ARE SUPPLIED BY KAISER/PERMANENTE AS AN UNLOADED
PDS ( 80 X 32720). THESE MODS WERE WRITTEN FOR JES2 4.1 (SU 25).
LAST FILE UPDATE - JUNE 1980.
ANY QUESTIONS OR COMMENTS ON THESE MODIFICATIONS MAY BE ADDRESSED TO:

                   DAVE THEWLIS             (415) 428-6350
                   KAISER FOUNDATION HEALTH PLAN
                   NORTHERN CALIFORNIA REGIONAL DATA CENTER
                   945 CAMELIA STREET
                   BERKELEY, CALIFORNIA, 94710

THE JES2 MODIFICATIONS ARE PACKAGED AS IEBUPDTE SYSIN STREAMS.  INSTEAD
OF MODIFYING THE JES2 SOURCE DIRECTLY, MINIMAL CHANGES ARE MADE TO THE
SOURCE TO DELETE LINES OF CODE (WHERE NECESSARY) VIA AGO AND ANOP
INSTRUCTIONS, AND TO INSERT MACRO CALLS.  THE BULK OF EACH MODIFICATION
IS CONTAINED IN THE MACRO INSTRUCTION, WHICH IS ADDED TO THE IEBUPDTE
TARGET (SYSUT2) DATASET, AND WHICH IS INVOKED BY THE MACRO CALLS WITH
TRIGGERS TO ASSEMBLE THE APPROPRIATE MODIFICATION CODE.

WHERE MODIFICATIONS AFFECT JES2 CONTROL BLOCKS (AND MULTIPLE MODS
MAY DO SO, SUCH AS THE JCT) A NAMING CONVENTION IS USED TO INSERT THE
MACRO CALL IN THE MAPPING MACRO TO ALLOW FOR MULTIPLE INSERTIONS
WITHOUT HAVING TO WORRY ABOUT OTHER MACROS.

---> EXCEPT AS SPECIFICALLY NOTED BELOW, THE MODIFICATIONS ARE
---> INDEPENDENT OF EACH OTHER AND OF EXTERNAL CONSIDERATIONS.
---> THE PACKAGING TECHNIQUE SHOULD ALLOW ANY OR ALL MODIFICATIONS
---> TO BE PUT ON JES2 WITH A MINIMUM OF CONCERN.

---> THESE MODIFICATIONS ARE FOR JES2 VERSION 4.1, S.U. 825,
---> AND HAVE BEEN APPLIED AND TESTED TO AN MSE/IPO 4.0 SYSTEM
---> (MVS 3.8B BASE) WITH MVS/SE-II, SAM-E, RMF-II ON IT.  THE
---> SYSTEM IS AT SERVICE LEVEL 8001 AND JES2 IS ALSO AT SERVICE
---> LEVEL 8001, INCLUDING AZ27300 (CKPT DUPLEXING).

                    TABLE OF CONTENTS

$$DOC    - YOU ARE READING IT

$FCB     - MACRO TO GENERATE FCB IMAGES, FROM CBT MODS TAPE.  USED
           IN CONJUNCTION WITH JES2 MOD JE00001, AND WITH MEMBERS
           FCBUILD, FCBDOCUM, FCBSNOOP.

EXPORT   - THE JCL THAT BUILT THE EXPORT TAPE CONTAINING THIS PDS.

FCBDOCUM - DOCUMENTATION ABOUT THE $FCB MACRO AND HOW TO USE IT,
           FROM THE CBT MODS TAPE.

FCBSNOOP - A PROGRAM TO READ SYS1.IMAGELIB AND GENERATE $FCB MACRO
           CALLS FROM THE FCB IMAGES FOUND THEREIN.

FCBUILD  - A JOB WHICH USES $FCB TO GENERATE THE TWO KAISER STANDARD
           FCB IMAGES, KHP6 AND KHP8.  NOTE THAT THESE TWO IMAGES
           ARE MARKED AS 'STANDARD' FCB IMAGES, *AND* THAT THEY
           IMPLEMENT THE CHANNEL 7/8 PUNCHES FOR UP AND DOWN PAGE
           SERRATION LINES REQUIRED BY JES2 MODIFICATION JE00001.

           DEPENDENCIES:  $FCB, JE00001.

IEECVXIT - THIS ROUTINE IS SUPPLIED IN CONJUNCTION WITH THE VERSION
           OF IEFACTRT, AND IS AN EXTENSION OF THE IEECVXIT ROUTINE
           SUPPLIED BY IPO.  ITS PURPOSE IS TO FILTER OUT ROUTE CODE
           14 FROM ALL CONSOLES.  IEFACTRT THEN USES ROUTE CODE 14
           TO ISSUE STEP TERMINATION MESSAGES WHICH WILL PRINT ON
           THE JES2 JOB LOG ON THE FIRST PAGE OF OUTPUT WITHOUT
           COMING OUT ON THE OPERATOR CONSOLE.

           DEPENDENCIES:  IEFACTRT (WHICH USES IT)

IEFACTRT - THIS ROUTINE IS SUPPLIED BOTH BECAUSE IT PROVIDES
           EXCP INFORMATION IN THE SMBS, AND BECAUSE IT PERFORMS TWO
           FUNCTIONS FOR THE JES2 MODIFICATIONS:

           (A) IT MARKS THE SCT OF EACH STEP WHICH EXECUTES AND
               IS NOT FLUSHED BY PLACING A X'77' IN SCTNSMSG
               FOR MODIFICATION JE00006.
           (B) AT JOB TERMINATION IT RETURNS THE JOB CPU TIME IN
               JMRUCOM FOR MODIFICATION JE00011.

           NOTE THAT NEITHER MODIFICATION IS DEPENDENT UPON IEFACTRT'S
           PROVIDING THIS INFORMATION, BUT IF THE INFORMATION IS NOT
           PRESENT JE00006 MAY PRODUCE AN ERRONEOUS HIGH RC/CC VALUE,
           AND JE00011 WILL NOT PRODUCE ONE OF ITS PRPU MESSAGES ON
           THE JOB LOG.

           DEPENDENCIES:  JE00006, JE00011, IEECVXIT

JES2 MODIFICATIONS:

JE00001 - KHPRDC JOB SEPARATOR PAGE MODIFICATION.

          IMPLEMENTS 'SKIP TO UP PAGE' AND 'SKIP TO DOWN PAGE'.
          PRINTS ONLY ONE SEPARATOR PAGE ON UP PAGE, WITH ***********
          LINES ACROSS TOP AND BOTTOM SERRATIONS.  FORMAT OF
          SEPARATOR PAGE IS CHANGED TO PUT ROOM# (IF SPECIFIED)
          AND FIRST 3 CHARACTERS OF PROGRAMMER NAME FIELD ON THIRD
          BLOCK LETTER LINE, AND NAME OF JOB SOURCE ON FOURTH BLOCK
          LETTER LINE IF DIFFERENT THAN PRINT DESTINATION.

          ***THIS MODIFICATION REQUIRES THAT ALL 'STD' FCB IMAGES   ***
          ***FOR 3211 PRINTERS HAVE CHANNELS 7 AND 8 DEFINED AS THE ***
          ***'UP' PAGE AND 'DOWN' PAGE SERRATION LINE RESPECTIVELY. ***
          ***REFER TO MACRO $FCB AND MEMBER FCBUILD OF THIS PDS.    ***
          ***$FCB AND FCBUILD ARE FROM THE CBT MODS TAPE.           ***

          MACROS ADDED:     JE00001A
          MODULES CHANGED:  HASPPRPU
          DEPENDENCIES:     JE00017 (EXTRA HASPPRPU BASE REGISTER)

JE00002 - KHPRDC JOB SEPARATOR CARD MODIFICATION.

          THIS MODIFICATION CHANGES THE FORMAT OF THE JOB SEPARATOR
          CARD TO PUNCH 12-11-0-7-8-9 LACE PUNCHES IN COLUMNS 1-25
          AND 56-80, WITH THE JOB NAME, SYSOUT CLASS, AND JOB NUMBER
          IN THE MIDDLE.

          MACROS ADDED:     JE00002A
          MODULES CHANGED:  HASPPRPU
          DEPENDENCIES:     JE00019 (EXTRA HASPPRPU BASE REGISTER)

JE00003 - KHPRDC JOB CARD AND ROUTE CARD MODIFICATIONS.

          THE PASSWORD AND ROUTE CODE ARE PLACED IN JCTUSEID, TO BE
          EXTRACTED BY IEFUJV SUBSEQUENTLY.  (NOTE:  THIS IS A PARTIAL
          IMPLEMENTATION OF SOURCE CHECKING, TO BE REPLACED WHEN AN
          ACCESS CONTROL PACKAGE IS INSTALLED.)  THE ESTIMATES FOR
          LINES AND CARDS ARE SET TO MAXIMUM VALUES FOR NUMERIC JOB
          CLASSES.  FOR INSTALLATIONS WITHOUT THE TSO COMMAND PACKAGE,
          TSO-SUBMITTED JOBS WHOSE MSGCLASS IS 0 (ZERO) (A 'DUMMY'
          SYSOUT CLASS FOR TSO LOGONS) WILL HAVE THE MSGCLASS CHANGED
          TO 'A'.

          MACROS ADDED:     JE00003A
          MODULES CHANGED:  HASPRDR

JE00004 - DEFAULT MSGLEVEL CHANGED.

          THE DEFAULT MSGLEVEL OF A JOB IS CHANGED TO (2,0) IF
          THE JOB DEFAULT PRINT ROUTE IS TO A REMOTE.

          MACROS ADDED:     JE00004A
          MODULES CHANGED:  HASPXEQ

JE00005 - $DF MODIFICATION TO ADD TOTAL # OUTPUT LINES.

          THIS MODIFICATION WAS TAILORED FROM THE GTE LABS MOD ON
          THE CBT MODS TAPE VERSION 110.

          MACROS ADDED:     JE00005A
          MODULES CHANGED:  HASPCOMM

JE00006 - HIGHEST JOB RC/CC ON NOTIFY MESSAGE OR $HAPS395 MESSAGE.

          THIS MODIFICATION ADD THE HIGHEST RETURN OR COMPLETION
          CODE OF ANY STEP OF THE JOB, AND THE DATE AND TIME OF
          COMPLETION OF THE JOB, TO THE NOTIFY MESSAGE SENT TO THE
          TIMESHARING USER.

          THE HIGHEST RC/CC IS ALSO ADDED TO THE $HASP395 MESSAGE
          DISPLAYED TO THE CONSOLE OPERATOR AT JOB TERMINATION.

          ***TO FUNCTION PROPERLY, THIS MODIFICATION REQUIRES THAT  ***
          ***UNUSED FIELD SCTNSMSG+1 IN THE SCT (STEP CONTROL TABLE)***
          ***BE SET TO X'77' IF THE JOBSTEP WAS ACTUALLY PROCESSED  ***
          ***(NOT BYPASSED BY RESTART AND NOT FLUSHED BY CONDITION  ***
          ***CODES) (THE SCTSEXEC FIELD CONTAINS THE LENGTH OF THE  ***
          ***PARM FIELD PRIOR TO STEP EXECUTION, RATHER THAN THE    ***
          ***RETURN/COMPLETION CODE, AND IS NOT RESET UNLESS THE    ***
          ***STEP ENTERS EXECUTION.  JE00006 NEEDS THIS FLAG TO KNOW***
          ***IF IT SHOULD THE SCTSEXEC FIELD FOR EACH STEP).        ***

          ***AT KAISER, THE IEFACTRT SMF EXIT IS USED TO SET THIS   ***
          ***FIELD (AT ENTRY TO IEFACTRT, R12 = LCT; LCTSCTAD       ***
          ***(X'14' OFFSET INTO LCT) POINTS TO THE CURRENT SCT;     ***
          ***SCTNSMSG IS X'42' OFFSET INTO THE SCT + 1 (1-BYTE      ***
          ***UNUSED) SET TO X'77' IF IEFACTRT ENTERED FOR STEP      ***
          ***TERMINATION AND BIT 7 OF SMF4STI (FLUSH BIT) IS NOT ON.***
          ***THIS IEFACTRT ROUTINE IS INCLUDED IN THIS PDS.         ***

          THIS MOD WAS EXTENDED FROM THE GTE LABS MOD TO GIVE RC/CC ON
          NOTIFY FROM THE CBT MODS TAPE VERSION 110.

          MACROS ADDED:     JE00006A
          MODULES CHANGED:  HASPSSSM, HASPPRPU
          DEPENDENCIES:     JE00017 (EXTRA HASPPRPU BASE REGISTER)
                            JE00019 (JCT/SCT EXPANSIONS IN HASPSSSM)

JE00007 - COMPLETE JOB NAME FROM JOB NUMBER.

          IF A JOB NAME OF THE FORM 'XXXX....' IS SUPPLIED, WHERE
          'XXXX' IS 1-4 ALPHAMERICS AND '....' IS 4 PERIODS AS SHOWN,
          '....' WILL BE REPLACED BY THE JOB'S JES2 JOB NUMBER.

          THIS MODIFICATION WAS TAILORED FROM MOD AE00069, AMERICAN
          ELECTRIC POWER COMPANY, FROM THE JES2 MODS TAPE VERSION 5.

          MACROS ADDED:     JE00007A
          MODULES CHANGED:  HASPRDR

JE00008 - FORCE STD FORMS AND MSGCLASS FOR JCL FLUSH

          THIS MODIFICATION CHANGES THE FORMS TO 'STD.' AND THE
          MSGCLASS TO 'A' (UNLESS THE MSGCLASS WAS 'X', KAISER'S
          TSO HOLD CLASS) FOR JOBS WHICH JCL-FLUSH IN RDR OR
          CONVERTER.

          THIS MODIFICATION WAS EXTENDED FROM A BCG MOD ON THE
          JES2 MODS TAPE, VERSION 5.

          MACROS ADDED:     JE00008A
          MODULES CHANGED:  HASPRDR, HASPXEQ

JE00009 - ADD JOB NAME AND CLASS TO $DI FOR ACTIVE PIT

          THIS MODIFICATION ADDS THE JOB NAME AND JOB CLASS TO THE
          $DI DISPLAY LINE FOR ACTIVE INITIATORS.

          THIS MODIFICATION WAS TAILORED FROM CSG MOD CSG-2J
          FROM THE JES2 MODS TAPE VERSION 5.

          MACROS ADDED:     JE00009A
          MODULES CHANGED:  HASPCOMM

JE00010 - PROPOGATE DEFAULT ROUTING TO SPAWNED JOBS

          THIS MODIFICATION PROPOGATES THE PRINT/PUNCH ROUTING OF
          A JOB TO ANY JOBS SUBMITTED BY IT THROUGH THE INTERNAL
          READER.  IF THE JOB IS SUBMITTED FROM TSO, THE UADS DEST
          BECOMES THE DEFAULT JOB ROUTE.

          THIS MODIFICATION WAS TAILORED FROM CSG MOD CSG-1S FROM
          THE JES2 MODS TAPE VERSION 5.

          MACROS ADDED:     JE00010A
          MODULES CHANGED:  HASPRDR

JE00011 - KHPRDC TIME LIMIT AND TIME/REGION ESTIMATE MODIFICATIONS

          THIS MOD ACCOMPLISHES THE FOLLOWING:

         1) A 'FACTOR' JES2 INITIALIZATION CONTROL CARD IS DEFINED
            FOR HASPINIT TO GENERATE A NORMALIZATION FACTOR FOR
            JOB CPU TIME LIMIT FOR EACH SYSTEM IN THE COMPLEX.
            THE FORMAT OF THIS CARD IS:  FACTOR SYS=NNNN,FACTOR=NNN
            WHERE 'XXXX' IS THE SYSTEM ID AND 'NNN' IS THE CPU FACTOR
            (100 = 1 MIP; 86 WOULD BE .86 MIP (158-I); 110 WOULD BE
            1.1 MIP (3031); AND SO FORTH).  (FROM MOTOROLA WESTERN
            AREA COMPUTER CENTER MODIFICATION SMSP-52.)
         2) IF TIME= SPECIFIED ON JOB CARD, IT ALSO BECOMES THE
            JOBPARM ESTIMATED CPU TIME.
         3) IF TIME= SPECIFIED ON JOBPARM CARD, IT ALSO BECOMES THE
            JOB MAXIMUM TIME.
         4) IF BOTH ARE SPECIFIED, THE JOBPARM CARD TAKES PRIORITY.
         5) IF NEITHER ARE SPECIFIED, THE JOB CLASS DEFAULT FROM THE
            CONVERTER PARM FIELD BECOMES ESTIMATED CPU TIME.
         6) IF THE JOB/JOBPARM TIME IS > THAN CLASS LIMIT, THE
            CLASS LIMIT WILL APPLY AT **EXECUTION** TIME, BUT THE
            LARGER TIME WILL APPLY AT EXECUTION PRIORITIZATION.
         7) IF A REGION SIZE IS SPECIFIED ON THE JOB CARD, IT WILL
            BE USED IN THE EXECUTION PRIORITIZATION.
         8) IF NO REGION SIZE APPEARS ON THE JOB CARD, THE JOB
            CLASS CONVERTER PARM DEFAULT REGION WILL BE USED FOR
            EXECUTION PRIORITIZATION.
         9) THE MESSAGES ON THE JES2 JOB LOG ARE CHANGED TO (A)
            PRINT 'ELAPSED EXEC TIME' RATHER THAN 'EXECUTION TIME'
            (SINCE THAT IS WHAT IT REALLY IS ANYHOW); PRINT THE
            JOB TIME LIMIT AS FACTORED; PRINT THE JOB CPU TIME AS
            REFACTORED BACK TO 1 MIP; PRINT THE FACTOR USED AND
            THE SYSTEM ID OF THE EXECUTION PROCESSOR.
        10) THE FACTOR USED IS PLACED IN THE SMF TYPE 26 (JOB PURGE)
            RECORD AS A FULLWORD BINARY NUMBER, REPLACING SMF26RSV,
            A RESERVED FIELD.
        11) ***NOTE*** THIS MODIFICATION CHANGES THE MEANING OF
            THE JCTETIME PARAMETER.  &TIMEOPT=NO SHOULD BE SPECIFIED
            TO AVOID "EXECUTION TIMING" BY JES2 SINCE THIS MOD WILL
            TAKE THE PLACE OF THAT FACILITY AND USE THE OS TIME
            EXCESSION MECHANISMS.
        12) ***NOTE*** THIS MODIFICATION REQUIRES IEFACTRT TO PLACE
            THE JOB CPU TIME AT JOB END INTO JMRUCOM AND SET THE
            HIGH-ORDER BYTE TO X'77' OR THE CPU TIME LINE WILL NOT
            BE PRODUCED (MERELY THE TIME LIMIT LINE.)  A VERSION OF
            IEFACTRT WHICH DOES THIS IS INCLUDED IN THIS PDS.

          THIS MODIFICATION WAS TAILORED FROM THE SHARE JES MODS
          TAPE VERSION 12.  MODIFICATIONS PARTICIPATING IN THIS MOD
          WERE AEP-46, SMSP-52, AND CSG-1Z.

          MACROS ADDED:     JE00011A
          MACROS CHANGED:   $SVT, $JCT
          MODULES CHANGED:  HASPINIT, HASPMISC, HASPPRPU, HASPRDR,
                            HASPSSSM, HASPXEQ   ***PLUS SEE BELOW***
          DEPENDENCIES:     JE00017 (EXTRA BASE REGISTER FOR HASPPRPU)
                            JE00019 (JCT/SCT EXPANSIONS IN HASPSSSM)

          ***WARNING*** THIS MODIFICATION ADDS FIELDS TO THE JCT AND
          ***WARNING*** THE SVT.  ALL JES2 MODULES SHOULD BE RE-
          ***WARNING*** ASSEMBLED AFTER APPLYING THIS MODIFICATION.

JE00012 - ADDS $LQ COMMAND

          THIS MODIFICATION ADDS THE $LQ (LIST QUEUES) COMMAND.
          IT WAS TAILORED FROM AAL MODIFICATION DM14 FROM THE
          JES2 MODS TAPE VERSION 5.

          MACROS ADDED:     JE00012A
          MODULES CHANGED:  HASPCOMM

JE00013 - REMOVE $HASP309 INITIATOR INACTIVE MESSAGE

          THIS MODIFICATION REMOVES THE $HASP309 MESSAGE
          (INITIATOR WAITING FOR WORK) FOR COSMETIC REASONS.

          MACROS ADDED:     JE00013A
          MODULES CHANGED:  HASPXEQ

JE00014 - ADD $DD AND $D COMMANDS

          THIS MODIFICATION ADDS THE $DD (DISPLAY DISKS) AND $D
          (DISPLAY DATE/TIME) COMMANDS.

          THIS MODIFICATION WAS TAILORED FROM CSG MODIFICATION
          CSG-1U FROM THE JES2 MODS TAPE VERSION 12.

          MACROS ADDED:     JE00014A
          MODULES CHANGED:  HASPCOMM

JE00015 - DEFAULT OCR TABLE

          THIS MODIFICATION ESTABLISHES A TABLE OF 'DEFAULT' OCRS
          FOR INSTALLATION-DEFINED PSEUDOFORMS.  IT HAS SPECIAL USE
          IN CONJUNCTION WITH MODIFICATION JE00016 IN ADDITION TO
          PREDEFINING OCR VALUES FOR CERTAIN FORMS NUMBERS.

          THIS MODIFICATION WAS TAILORED FROM A MODIFICATON BY THE
          AMERICAN ELECTRIC POWER COMPANY ON THE JES2 MODS TAPE
          VERSION 16.

          MACROS ADDED:     $OCRD
                            JE00015A
          MODULES CHANGED:  HASPSSSM

JE00016 - /*OUTPUT CONTROLS FOR JOB FORMS

          THIS MODIFICATION ALLOWS A /*OUTPUT CONTROL CARD TO BE
          SUPPLIED FOR THE FORMS SPECIFIED AS 'JOB FORMS' ON THE
          JOBPARM CARD (OR THE DEFAULT JOBFORMS).  A SPECIAL FORMS
          TYPE OF 'JCL ' IS ALSO DEFINED (JCL, SMBS, JOB LOG ONLY).
          ALL /*OUTPUT CONTROLS MAY BE SPECIFIED.

          THE PRIMARY INTENT OF THIS MODIFICATION WAS TO IMPLEMENT
          MULTIPLE DESTINATION ROUTING FOR THE JOB FORMS, AND/OR
          SYSTEM PDDBS PLUS SELECTED OUTPUT SUCH AS UTILITY MSGS, ETC.
          AT KAISER, /*OUTPUT STD. DEST=(LOCAL,FICHE) IS USED FOR ALL
          PRODUCTION WORK.  FORMS TYPE 1411 IS SPECIFICALLY USED
          FOR JOB FORMS WHERE THE MULTIPLE ROUTING IS ***NOT***
          DESIRED, AND IS ROUTED LOCAL ONLY AND FORMS STD. VIA THE
          DEFAULT OCR MODIFICATION (JE00015).

          THIS MODIFICATION IS TAILORED FROM MSP MODIFICATION SMSP 23
          FROM THE JES2 MODS TAPE, VERSION 16.

          MACROS ADDED:     JE00016A
          MACROS CHANGED:   $JCT, $OCR
          MODULES CHANGED:  HASPPRPU, HASPRDR, HASPSSSM
          DEPENDENCIES:     JE00017 (EXTRA BASE REGISTER FOR HASPPRPU)
                            JOUTPUT, JOBROUTE - HELP MEMBERS DESCRIBING
                            USE OF /*OUTPUT FACILITY FOR JOB ROUTING.

          ***WARNING*** THIS MODIFICATION ADDS FIELDS TO THE JCT AND
          ***WARNING*** THE OCR.  ALL JES2 MODULES SHOULD BE RE-
          ***WARNING*** ASSEMBLED AFTER APPLYING THIS MODIFICATION.

JE00017 - ADDITIONAL BASE REGISTER FOR HASPPRPU

          THIS MODIFICATION ADDS AN ADDITIONAL BASE REGISTER TO THE
          HASPPRPU CSECT.  IT IS REQUIRED TO ALLOW THE OTHER MODS
          TO HASPPRPU TO ASSEMBLE CORRECTLY.

          MACROS ADDED:     JE00017A
          MODULES CHANGED:  HASPPRPU
          DEPENDENCIES:     JE00001, JE00006, JE00011, JE00016

JE00018 - TUCC //*PROCLIB PRIVATE USER PROCLIB MODIFICATION

          THIS IS THE TUCC (TRIANGLE UNIVERSITIES COMPUTING CENTER)
          MODIFICATION TO IMPLEMENT PRIVATE PROCEDURE LIBRARIES
          VIA A //*PROCLIB JES2 CONTROL CARD.

          THIS MODIFICATION WAS TAILORED AND REPACKAGED FROM THE
          VERSION OF THE TUCC MODIFICATIONS ON THE JES2 MODS TAPE
          VERSION 16.

          MACROS ADDED:     $SCAN
                            JE00018A
          MACROS CHANGED:   $JCT, $LINK (DIRECT CHANGE)
          MODULES ADDED:    TUCCRCCS
          MODULES CHANGED:  HASPRDR,HASPXEQ
          DEPENDENCIES:     JPROCLIB -- HELP MEMBER DESCRIBING USE OF
                            //*PROCLIB CONTROL STATEMENT.

          ***WARNING*** THIS MODIFICATION ADDS FIELDS TO THE JCT,
          ***WARNING*** MODIFIES THE $LINK MACRO, AND ADDS THE $SCAN
          ***WARNING*** MACRO AND THE TUCCRCCS CSECT.  ALL JES2 MODULES
          ***WARNING*** SHOULD BE REASSEMBLED AFTER APPLYING THIS
          ***WARNING*** MODIFICATION.  MODULE TUCCRCCS MUST ALSO BE
          ***WARNING*** ASSEMBLED AND INCLUDED IN YOUR JES2 LINKEDIT.

JE00019 - INSERT OS JCT/SCT MAPS IN HASPSSSM

          THIS MODIFICATION EXPANDS THE OS STEP CONTROL TABLE AND A
          PARTIAL JOB CONTROL TABLE (PARTIAL DUE TO NAME CONFLICTS
          WITH THE JES2 JCT IF THE COMPLETE JCT WERE EXPANDED) IN
          HASPSSSM, FOR USE BY MODS JE00006 AND JE00011.

          MACROS ADDED:     JE00019A
          MODULES CHANGED:  HASPSSSM

HELP DOCUMENTATION:

JOBROUTE - THIS AND JOUTPUT ARE HELP MEMBERS WHICH DESCRIBE THE USE AND
           FUNCTIONS OF THE /*OUTPUT FOR JOB FORMS MODIFICATION.

JOUTPUT  - THIS AND JOBROUTE ARE HELP MEMBERS FOR THE JOB FORMS
           /*OUTPUT MODIFICATION AS SEEN BY USERS

JPROCLIB - THIS IS A HELP MEMBER WHICH DOCUMENTS THE //*PROCLIB
           JES2 CONTROL STATEMENT IMPLEMENTED BY THE TUCC USER PROCLIB
           MODIFICATION.

FENCING MODIFICAITONS:

LC00109 AND LC00113 ARE THE NON-SE AND SE VERSIONS OF THE FENCING
MODIFICATION, RESPECTIVELY.  LC00111 IS THE PAGERATE MOD FOR NON-SE
SYSTEMS.  LC00112 IS A MODIFICATION TO CHANGE THE SU RATE/TCB SECOND
FOR 158-1 RATHER THAN THE DEFAULT OF 158-3.

(KAISER HAS GONE TO SE-II AND NO LONGER USES THE FENCING MODIFICATION,
BUT ENOUGH PEOPLE ARE STILL INTERESTED THAT I KEEP IT ON THE EXPORT
DATASET.)

********************************************************************************
*                                                                              *
*         F I L E   1 1   A A L   M O D S                                      *
*                                                                              *
********************************************************************************

THE AAL MODIFICATIONS SUPPLIED ARE IN IEBCOPY UNLOADED FORMAT ( 80 X
32720 ).  LAST FILE UPDATE NOV 1978.
ANY QUESTIONS OR COMMENTS ON THESE MODIFICATIONS MAY BE ADDRESSED TO:

                   BILL LESTAGE                 (803) 573-2401
                   MILLIKEN & CO.
                   P O BOX 1926
                   SPARTANBURG, SOUTH CAROLINA, 29304

  ABSTRACTS FOR MILLIKEN AND COMPANY MODS TO JES2

  DM03 - COUNT PAGES ON SKIP TO CHANNEL 1 ONLY.

  DM14 - LIST WORK IN OUTPUT QUE BY JNBR/JNAME AND SHOW TOTAL NUMBER
         OF LINES TO PRINT.

  DM15 - CHANGE FORMAT OF PUNCH LACE CARD AND INTERPRET IT (FOR 3525
          PUNCH ONLY).

********************************************************************************
*                                                                              *
*         F I L E   1 2   T U C   M O D S                                      *
*                                                                              *
********************************************************************************

THE FOLLOWING MODS ARE SUPPLIED BY TRIANGLE UNIVERSITIES COMPUTATION
CENTER AND CONSIST OF A JOB STREAM WITH 3 STEPS EACH OF WHICH PERFORM
AN IEBUPDTE STEP.  LAST FILE UPDATE - JAN 1980.

JIM WALKER                      TUCC JES2 EXITS                OCTOBER 1

THIS MODIFICATION INCLUDES  A GROUP OF GENERAL JES2  MODIFICATIONS DEVELOPED AT
TRIANGLE  UNIVERSITIES COMPUTATION  CENTER.   SOME  OF THESE  MODIFICATIONS IN
THEMSELVES ACCOMPLISH FEW SPECIFIC FUNCTIONS; THEY ALLOW OTHER MODIFICATIONS TO
BE MADE EASIER VIA EXITS.

THE MODS INCLUDED ARE:
    1. LOCAL COMMANDS IN SEPARATE CSECTS.
    2. SCAN OF /* CONTROL CARDS IN SEPARATE CSECT.
    3. GENERALIZED ATTACH SUBTASK COMMAND.
    4. GENERALIZED DISPATCH SUBTASK FUNCTION.
    5. LOCATE SUBTASK
    6. MOVE BASE1 CODE TO GET MORE ADDRESSABILITY.
    7. USE ANY PDS WITH PROPER BLKSIZE AS PROCLIB

THE MODIFICATIONS  TO JES2 SOURCE  AND MACROS  AMOUNTS TO ABOUT  40 STATEMENTS
MOST  OF THE  MODIFICATIONS  ARE MADE  VIA COPY  STATEMENTS,  AND VIA  SEPERATE
CSECTS.

THE  JOBSTREAM PROVIDED  GENERATES DATASET  "TUC.SYS.JES2.DISTMOD" USING THREE
IEBUPDTE STEPS.  THIS  DATASET MUST BE CONCATENATED BEFORE  SYS1.HASPSRC IN THE
SYSLIB SPECIFICATION FOR ALL ASSEMBLIES.

THE FIRST  STEP ADDS ALL  THE NEW MEMBERS  WRITTEN AT TUCC.   MEMBER "ABSTRACT"
DESCRIBES  THE TUCC  MODIFICATION NUMBERING  SYSTEM  AND SPECIFIC  MODIFICATIONS
NUMBERS. MEMBERS WHOSE  NAMES CONTAIN NUMERICS ARE COPIED  BY THE MODIFICATIONS
TO THE JES2  SOURCE. MEMBERS "TUCCCOMM", "TUCCRCCS", "LOCATE",  AND "CMDAH" ARE
SEPARATE CSECT ASSEMBLIES.

THE SECOND  STEP UPDATES SEVERAL  JES2 CONTROL  BLOCKS AND SOURCE  MEMBERS INTO
"TUC.SYS.JES2.DISTMOD". YOU MAY WANT TO MODIFY THE JCL FOR THIS STEP TO PERFORM
THESE UPDATES USING YOUR OWN MODIFICATION SYSTEM.  IN ADDITION, YOU MAY WANT TO
DELETE SOME OF THE UPDATE STATEMENTS IN THIS  STEP IF YOU DON'T WANT TO USE ALL
OF THE MODIFICATIONS PROVIDED.

THE THIRD STEP  GENERATES MEMBER KW00030A BY COLLECTING  MACRO DEFINITIONS FROM
HASPCOMM.   THESE DEFINITIONS  ARE  NECESSARY IN  ORDER  TO  WRITE COMMANDS IN
SEPARATE CSECTS.   THIS MEMBER  CONTAINS ALMOST 2000  STATEMENTS, HENCE IT WAS
BETTER TO LET YOU GENERATE IT THAN TO INCLUDE IT.

DATASET "TUC.SYS.JES2.DISTMOD" MUST BE ALLOCATED  AND CATALOGUED BEFORE RUNNING
THE PROVIDED  JOBSTREAM. IT REQUIRES  ABOUT 450 3330  TRACKS IF THE  UPDATES TO
HASPNUC,  HASPXEQ, HASPCOMM,  AND HASPRDR  WILL BE  MADE  WITH IT  AS A TARGET
DATASET - OTHERWISE ABOUT 20 TRACKS WILL DO.

MOD TW00030 - SEPARATE CSECTS FOR NEW COMMANDS

   A VERY SIMPLE MODIFICATION TO HASPCOMM BRANCHES TO CSECT TUCCCOMM JUST PRIOR
   TO COMMAND SCAN. TUCCCOMM SCANS ITS OWN COMMAND TABLE (GENERATED VIA $COMTAB
   MACRO) AND  RETURNS INDICATING  MATCH FOUND  OR NOT  FOUND.  IF  A MATCH IS
   FOUND, HASPCOMM COMMAND  SCAN IS BYPASSED, VALIDATION IS  PERFORMED, AND THE
   COMMAND IS BRANCHED TO  VIA HASPCOMM EXACTLY AS IF IT HAD  BEEN FOUND IN THE
   HASPCOMM COMMAND TABLE.

   TUCCCOMM CONTAINS THE COMMAND LOOKUP, THE COMMAND TABLE ($COMTAB), AND A FEW
   SIMPLE EXAMPLE COMMANDS.  USER WRITTEN COMMANDS MAY BE  INCLUDED IN TUCCCOMM
   OR MAY BE WRITTEN IN COMPLETELY  SEPARATE CSECTS.  CSECT "CMDAH", THE ATTACH
   AND DETACH COMMAND, IS AN EXAMPLE OF A SEPARATE CSECT COMMAND.

   MOST OF THE HASPCOMM MACROS AND SERVICE ROUTINES MAY BE USED BY THE COMMANDS
   FROM SEPARATE CSECTS.  MEMBER "$COMMSU" CAN BE  USED AS A STARTING POINT FOR
   WRITTING A NEW COMMAND IN A SEPARATE CSECT.

MOD TW00100 - RDR CONTROL CARD SCAN IN SEPARATE CSECT

   A VERY SIMPLE MODIFICATION TO HASPRDR CALLS  CSECT "TUCCRCCS" TO SCAN /* AND
   //* CONTROL CARDS BEFORE THEY ARE SCANNED BY DISTRIBUTED CODE. RETURN CAN BE
   MADE SO  THAT INDIVIDUAL  CONTROL CARDS  ARE NOT  SCANNED VIA  HASP. SERVICE
   ROUTINES SUCH AS RPUT MAY ALSO BE USED FROM THE EXIT.

   TUCCRCCS INCLUDES  THE CONTROL  CARD LOOKUP,  AND AN  EXAMPLE OF  SCANNING A
   //*PROCLIB CARD.

MOD TW00020 - ATTACH AND DETACH COMMANDS

   CSECT "CMDAH" INCLUDES  THE ATTACH AND DETACH COMMANDS, AND  AN ETXR ROUTINE
   TO CLEANUP IN  CASE OF SUBTASK TERMINATION.  ANY PROGRAM  ACCESSABLE BY JES2
   MAY BE ATTACHED AS A SUBTASK VIA THE $AH COMMAND. INDEPENDENT MONITOR, TIME
   OF DAY  PROCESSORS, ETC.  ARE EXAMPLES.  THE COMMAND  MAY BE  TESTED BY $AH
   IEFBR14 FOR EXAMPLE.

   ADDITIONAL EXAMPLES  ARE SUBTASKS  TO PERFORM FUNCTIONS  THAT MIGHT ISSUE A
   WAIT  -   FORBIDDEN  FROM   HASP.  WE  USE   LOCATE,  ENQUE,   AND  LOWSPEED
   TELEPROCESSING SUBTASKS FOR EXAMPLE.

   THE  SECOND OPTIONAL  OPERAND TO  THE  $AH COMMAND  (NAME), ALLOWS  MULTIPLE
   COPIES OF THE  SAME SUBTASK TO BE ATTACHED  IF DESIRED - IE  ONE SUBTASK FOR
   EACH LOWSPEED LINE.

   THE THIRD  OPTIONAL OPERAND  OF THE $AH  COMAND IS A  PARAMETER THAT MAY BE
   PASSED TO THE ATTACHED ROUTINE.

MOD TW00080 - DISPATCH SUBTASK

   THIS IS  A DISPATCHER MODIFICATION  TO ALLOW A  JES2 PROCESSOR TO  $WAIT FOR
   ACTION BY  A SUBTASK ON  ITS BEHALF.  A  MACRO, $DISPSUB, IS  PROVIDED WHICH
   DISPATCHES  (POST)  THE  SPECIFIED  SUBTASK, AND  ISSUES  A  $WAIT  FOR THE
   PROCESSOR.

   THE  SUBTASK FINDS  THE  $WAITING  PCE, GETS  PARMS  FROM  THE PCE  REGISTER
   SAVEAREA, PERFORMS THE REQUESTED TASK, AND INVOKES THE $DISPJES MACRO TO PUT
   THE PCE BACK ON THE READY QUEUE.

   NOTE THAT THE SUBTASK MUST BE ATTACHED VIA THE $AH COMMAND - IF THIS HAS NOT
   BEEN DONE WHEN $DISPSUB  IS INVOKED, A MESSAGE WILL BE  SENT TO THE OPERATOR
   AND THE JES2 PROCESSOR WILL CONTINUE TO $WAIT UNTIL THE REQUESTED SUBTASK IS
   ATTACHED.

MOD TW00090 - THE LOCATE SUBTASK

   MEMBER "LOCATE" IS  A SEPARATE CSECT ASSEMBLY OF THE  SAMPLE LOCATE SUBTASK.
   IT PERFORMS  A LOCATE FUNCTION  ON BEHALF OF A  JES2 PCE AND  DISPATCHES THE
   JES2 PROCESSOR VIA $DISPJES.

   LOCATE SHOULD BE LINKEDITED INTO THE JES2  JOBLIB AS A SEPARATE LOAD MODULE.
   IT MUST BE ATTACHED VIA "$AH LOCATE".

MOD TW00110 - USER PROCLIB

   ANY PDS WITH  BLKSIZE 4240 OR LESS AND  LRECL=80 MAY BE SPECIFIED  TO BE THE
   PROCLIB FOR  A GIVEN JOB.  CODE IN "TUCCRCCS"  SCANS FOR A  //*PROCLIB CARD,
   SAVES THE SPECIFIED DSNAME, OPTIONAL PASSWORD, AND OPTIONAL VOLUME SERIAL IN
   THE  JCT. MODIFICATIONS  TO  THE  JCT ARE  REQUIRED  TO  CONTAIN THIS DATA.
   MODIFICATIONS  TO  HASPXEQ  (CONVERSION PROCESSOR  AND  CONVERSION  SUBTASK)
   DYNAMICALLY  ALLOCATE  THE  SPECIFIED PROCLIB,  CONCATENATE  IT  BEFORE THE
   SPECIFIED JOBPARM PROCLIB (OR DEFAULT PROC00), AND DYNAMICALLY UNALLOCATE AT
   THE END OF  CONVERSION.  ALLOCATION AND UNALLOCATION MESSAGES  APPEAR IN THE
   JOB CONSOLE LOG.

   IF THE SPECIFIED USER PROCLIB IS ENQUED, THE JOB IS HELD AUTOMATICALLY (HOLD
   ALL OPTION). AT TUCC,  WE USE THE AUTOMATIC OPERATOR TO  ISSUE A $AA COMMAND
   PERIODICALLY TO RELEASE SUCH HELD JOBS FOR RE-CONVERSION.

NOTE: SEE  MEMBER "ABSTRACT"  FOR ADDITIONAL COMMENTS  AND DESCRIPTIONS OF THE
INDIVIDUAL MODIFICATIONS.

FOR ADDITIONAL INFORMATION CONTACT: JIM WALKER
                                    TRIANGLE UNIVERSITIES COMPUTATION CENTER
                                    BOX 12076
                                    RESEARCH TRIANGLE PARK, NC   27709
                                    (919) 549-0671

*******  $FINDCB MACRO  *******                                         CENTER
*******  $FINDCB MACRO  *******                                         CENTER
*******  $FINDCB MACRO  *******                                         CENTER
*******  $FINDCB MACRO  *******                                         CENTER
*******  $FINDCB MACRO  *******                                         CENTER

FIND CONTROL BLOCK ($FINDCB) MACRO.

THIS MACRO CONVENIENTLY LOCATES THE ADDRESS OF MANY COMMONLY USED
CONTROL BLOCKS FOR THE JOB IN EXECUTION. IT USES ONLY THE REGISTERS
SPECIFIED BY THE CALLER.  NO UNNECESSARY LOADS ARE USED. SOME OF
THE CAPABILITIES ARE TRIVIAL (CVT, TCB, ASCB), BUT OTHERS REQUIRE
SEVERAL CHAINS (JES2 JCT, OS JCT).

THE CAPABILITY FOR A USER JOB TO FIND ITS OWN INTERNAL CONTROL
BLOCKS INCLUDING JES2 CONTROL BLOCKS IS QUITE USEFUL. SOME OF
THE MOST USEFUL EXAMPLES ARE:
         SMF EXITS
         USER TESTING UTILITIES
         SPECIAL UTILITIES CALLABLE BY USERS TO DETERMINE ATTRIBUTES OF
            JOB - SUCH AS ACCOUNT, PROGRAMMER, REMOTE NUMBER, AND OTHER
            USER DATA ADDED TO JES2 CONTROL BLOCKS.

THE CONTROL BLOCKS THAT CAN BE FOUND ARE:

         ACOEF  = ACCOUNTING COEFFICIENTS POINTED TO BY TUCVSCVT
         ACTIM  = I/O TIME, JOB CPU TIME, AND PROGRAMMER NAME TABLE
         ASCB   = ASCB, POINTED TO FROM X'224'
         ASID   = ASID AS FOUND IN THE ASCB
         ASVT   = ASVT POINTED TO BY THE CVT
         ASXB   = ASXB POINTED TO BY ASCB
         CVT    = CVT, ADDRESS OBTAINED FROM X'10'
         FIX    = ADDRESS OF PAGE SERVICES (FROM CVT)
         JCT    = JES2 JCT CHAINED FROM THE ACTIVE JSCB, SSIB, SJB.
                  EITHER TCB OR TCBINT MAY BE USED TO LOCATE THE JSCB.
         JSCB   = ACTIVE JSCB FROM EITHER THE TCB OR TCBINIT.
         LCT    = INITIATOR LCT, OBTAINED EITHER FROM THE TCBINT R4
                  OR THE JSCB QMANAGER POINTER (MINUS AN OFFSET)
         OSACT  = OS ACT, POINTED TO BY THE OS JCT
         OSJCT  = OS JCT, POINTED TO BY THE LCT
         OSSCT  = OS SCT, POINTED TO BY THE LCT
         RB     = RB, POINTED TO BY THE TCB
         SJB    = SJB, POINTED TO BY THE SSIB (SEE JSCB FOR CHAIN)
         SSIB   = SSIB, POINTED TO BY THE JSCB (SEE JSCB FOR CHAIN)
         TCB    = THE TCB POINTED TO BY LOCATION X'21C'
         TCBINT = THE TCB CHAINED FROM THE ASCB, ASXB. WHEN THIS TCB
                  IS REQUESTED, THEN THE JSCB AND LCT CHAINS (IF
                  REQUESTED) ARE STARTED FROM THIS REFERENCE.
                  IF THIS ENTRY IS NOT INCLUDED, THEN THE JSCB,
                  LCT CHAINS WILL START FROM THE TCB FROM X'21C'.
         TCBRCT = THE TCB FOR THE REGION CONTROL, POINTED TO BY ASXB
         TCBSTC = THE TCB FOR THE STC, CHAINED FROM THE RCT TCB.
         TCT    = SMF TIMING CONTROL TABLE, POINTED TO BY EITHER
                  THE INITIATOR TCB OR THE STEP TCB.
         TCTI   = THE IO PORTION OF THE TCT.
         TIOT   = TIOT FOR THE TCB, EITHER STEP OR TCB INIT.
         TQE    = THE TQE, POINTED TO FROM THE TCB
         TUCCVT = TUC VS CVT, POINTED TO BY THE CVT

ASSUME THAT A UTILITY OR SMF EXIT NEEDS TO FIND THE ADDRESS OF ITS OWN
JES2 JCT, TIOT, AND TQE:

         $FINDCB JCT=R10,TIOT=TIOREG,TQE=R3

PUTS THE JCT ADR IN SYMBOLIC REGISTER R10, THE TIOT ADR IN TIOREG, AND
THE TQE ADR IN R3. REGISTERS R10, TIOREG AND R3 ARE THE ONLY REGISTERS
USED BY THE MACRO EXPANSION.

********************************************************************************
*                                                                              *
*         F I L E   1 3   J E S D U M P                                        *
*                                                                              *
********************************************************************************

THE FOLLOWING PROGRAM IS SUPPLIED BY TRIANGLE UNIVERSITIES COMPUTATION
CENTER AND CONSISTS OF AN IEBUPDTE INPUT STREAM WITH SEVERAL MACROS AND
MEMBERS.  LAST FILE UPDATE - DEC 1978.

*        JESDUMP JES2 CONTROL BLOCK DUMP UTILITY - DESCRIPTION
*
*        THIS PROGRAM WAS ORIGINALLY WRITTEN AS A
*        'QUICK AND DIRTY' TO DUMP SPECIFIC MTTR'S FROM
*        A JES2 SPOOL PACK. THIS LED TO A 'READ' AND 'SNAP'
*        COMMAND TO ALLOW SNAPPING OF PORTIONS OF BUFFERS.
*        ONE THING LED TO ANOTHER UNTIL IT BECAME OBVIOUS
*        THAT A GREAT DEAL OF INFORMATION ABOUT A JOB COULD
*        BE OBTAINED VIA THE CHECKPOINT AND SPOOL DATASET.
*
*        THE MACROS USED ARE MEANT FOR SMALL QUICK AND DIRTY
*        JOBS, AND WORK NICELY FOR THAT FUNCTION. THIS PROGRAM
*        GREW NATURALLY TO THE POINT WHERE IT SHOULD BE
*        REWRITTEN, BUT ...
*
*        JESDUMP CAN DUMP THE JQE, JCT, IOT, HCT, PDDB'S, JOE'S
*        AND DATASETS FOR SPECIFIC JOBS. IT IS CONTROLLED BY
*        INPUT COMMANDS FROM SYSIN OR FROM THE OPERATORS
*        CONSOLE. COMMANDS ARE:
*              JOB N PARMS
*              STC N PARMS
*              TSU N PARMS
*                 WHERE: N IS JOB, STC, OR TSO JOBNUMBER
*                        PARMS SPECIFY THE CONTROL BLOCKS/DATA TO DUMP
*                        AND MUST HAVE COMMAS BETWEEN INDIVIDUAL PARMS
*                          JQE - DUMP JOB'S JQE
*                          JOE - DUMP JOB'S JOE'S
*                          JCT - DUMP JOBS JCT
*                          IOT - DUMP ALL IOT'S
*                          HQT - DUMP ALL HQT'S
*                          ALL - DUMP JQE, JCT, IOT'S, AND HQT'S
*                          PDDB - DUMP ALL PDDB'S
*                          DATA - DUMP ALL DATASETS
*                          JCL - PRINT THE JCL DATASET
*                          INPUT - PRINT JCL DATASET WITH MERGED SYSIN
*                          PRINT - PRINT ALL PRINTABLE DATASETS
*                          FORMAT - PRINT INTERESTING JCT,JQE,JOT DATA
*              FIND JOBNAME - LIST JOB NUMBERS FOR ALL JQE'S WITH
*                             JQEJNAME MATCHING JOBNAME
*              JQE - DUMP CURRENT JOB'S JQE
*              JOE - DUMP CURRENT JOB'S JOE'S
*              JCT - DUMP CURRENT JCT
*              IOT - DUMP FIRST OR NEXT IOT
*              HQT - DUMP FIRST OR NEXT HQT
*              PDDB DSKEY - DUMP THE PDDB WHOSE PDBDSKEY MATCHES DSKEY
*              PRINT DSKEY - PRINT DATASET WHOSE PDBDSKEY IS DSKEY
*              DATA DSKEY - DUMP DATASET WHOSE PDBDSKEY MATCHES DSKEY
*              INPUT - PRINT JCL AND MERGED SYSIN DATASETS
*              QUEUE  - DUMP ALL JQE'S
*              FORMAT - PRINT INTERESTING JQE,JCT,JOE DATA FOR ALL JOBS
*              READ MTTR - READ SPOOL RECORD 'MTTR' INTO DATA BUFFER
*              SNAP ADR LEN <JCT,IOT> - SNAPSHOT I/O BUFFER FROM ADR
*                                 FOR LENGTH LEN. THE PROGRAM HAS THREE
*                                 BUFFERS - JCT, IOT, AND DATA.
*                                 THE DATA BUFFER IS SNAPPED UNLESS
*                                 JCT OR IOT IS SPECIFIED.
*              CHAIN - READ DATA CHAINED TO CURRENT DATA BUFFER
*                                 INTO THE DATA BUFFER
*              CKPT - DUMP THE HASP CHECKPOINT RECORD
*              CONSOLE - TAKE FURTHUR INPUT FROM CONSOLE -
*                                 INPUT IS FROM SYSIN UNTIL CONSOLE
*                                 COMMAND ENCOUNTERED
*              ABEND - ABEND JESDUMP -USEFUL FOR LOOKING AT
*                                 HCT AND CKPT DUMP
*              END - END OF RUN - EOF ON SYSIN HAS SAME MEANING
*              * - COMMENT STATEMENT - PRINTS ON OUTPUT LISTING
*              LOG N - DO SPECIAL PROCESSING ON SYSLOG STC JOBS
*                  IF N = 0, USE ACTIVE LOG; OTHERWISE
*                  IF N SPECIFIED, USE STC N; IF N OMITTED
*                  USE ALL STC JOBS WITH JOBNAME SYSLOG.
*                  THE LOG PROCESSING ROUTINE HAS SEVERAL SUBCOMMANDS:
*                                 FROM FMTM TO TOTM - LIST ALL LOG
*                                    RECORDS BETWEEN TIMES FMTM AND
*                                    TOTM. FMTM AND TOTM FORMAT
*                                    IS HH.MM
*                                 SEARCH STRING - SEARCH LOG FOR ALL
*                                    RECORDS CONTAINING STRING.
*                                    MAX OF 10 SEARCH COMMANDS
*                                    MAY BE ENTERED. PROCESSING
*                                    DOES NOT START UNTIL GO OR
*                                    FROM SUBCOMMAND IS ENTERED.
*                                 GO - PRINT ENTIRE LOG (ALL SYSLOG
*                                    STC JOBS) IF NO OTHER SUBCOMMANDS
*                                    HAVE BEEN ENTERED, OR PROCEED
*                                    TO DO PROCESSING AS SPECIFIED BY
*                                    SEARCH AND FROM SUBCOMMANDS.
*
*
*        NOTE: READ, SNAP, AND CHAIN COMMANDS ARE VERY USEFUL WHEN
*         RUNNING FROM TSO TO MINIMIZE THE AMOUNT OF OUTPUT DATA.
*         THEY ARE ALSO USEFUL WHEN THE SPOOL PACK IS BAD SO THAT
*         SOME CHAIN MTTR POINTERS ARE IN ERROR, OR IN CASES WHERE
*         THE JBKEY IN SOME CONTROL BLOCK DOES NOT MATCH JCTJBKEY.
*         IE. USE READ/CHAIN/SNAP WHEN ALL ELSE FAILS.
*
*
*EXAMPLES OF INPUT COMMANDS BEGINNING IN COLUMN 1 ARE:
*
*COMMAND                     DESCRIPTION
*
*JOB 50 JQE,JCT,INPUT        DUMP JQE,JCT;PRINT JCL,SYSIN FOR JOB 50
*STC 23 ALL                  DUMP ALL CTL BLOCKS FOR STC 23
*JOB 77                      LOCATE JQE FOR JOB 77
*JQE                         DUMP ITS JQE
*PDDB 2                      DUMP ITS JOB CONSOLE LOG PDDB
*PRINT 2                     PRINT JOB CONSOLE LOG
*FIND TESTJOB                FIND ALL JOBS WITH JOBNAME 'TESTJOB'
*JOB 'N'                     LOCATE JQE FOR JOB 'N'
*                            'N' COULD BE DETERMINED FROM FIND COMMAND
*JCT                         DUMP JCT OF JOB 'N'
*FORMAT                      PRINT FORMATTED LISTING OF WHOLE JOBQUE
*JOB 123 FORMAT,JOE          FORMAT JOB 123 AND DUMP ITS JOE'S
*SNAP 0 20 JCT               SNAPSHOT FIRST 32 BYTES JCT BFR (JOB 123)
*SNAP 0 20 IOT               SNAP FIRST 32 BYTES FIRST IOT BFR
*IOT                         READ NEXT IOT INTO IOTBFR
*SNAP 0 40 IOT               SNAP FIRST 64 BYTES 2ND IOT BFR
*PDDB 2                      DUMP PDDB #2 (JOB CONSOLE LOG)
*READ 11C603                 READ MTTR 11C603 AS DETERMINED FROM PDDB
*SNAP 0 100                  SNAP FIRST 256 BYTES OF RECORD AT 11C603
*CHAIN                       READ DATA BFR CHAINED TO 11C603
*SNAP 0 100                  SNAP FIRST 256 BYTES OF NEW DATA BFR
*SNAP 300 100                SNAP 256 BYTES BEGINNING AT X'300'
*CKPT                        DUMP CHECKPOINT RECORD (READ WITH BSAM)
*LOG                         DO SPECIAL LOG PROCESSING, ALL LOGS
*FROM 08.30 TO 09.45         SET TIME LIMIT ON LOG PRINT
*SEARCH IEF196I              PRINT ONLY LINES WITH 'IEF196I' OR
*SEARCH JOB NOT RUN - JCL     'JOB NOT RUN - JCL' STRING
*GO                          GO DO WHAT WE JUST SPECIFIED
*CONSOLE                     TAKE FUTHUR INPUT FROM CONSOLE
*                            COMMAND FORMAT FROM CONSOLE IS IDENTICAL
*                            TO THE FORMAT FROM SYSIN. JUST REPLY TO
*                            WTOR 'ENTER JESDUMP COMMAND'. REPLY OF
*                            'END' TERMINATES JESDUMP NORMALLY
*
*  NOTE THAT THE CONSOLE COMMAND MAY APPEAR BETWEEN
*   LOG AND GO.
*
*THE FOLLOWING JCL IS REQUIRED TO RUN JESDUMP:
*
*// EXEC PGM=JESDUMP
*//SPOOL DD DSN=SYS1.HASPACE,DISP=SHR
*//CKPT DD DSN=SYS1.HASPCKPT,DISP=SHR
*//SYSPRINT DD SYSOUT=A
*//SYSIN DD *

********************************************************************************
*                                                                              *
*         F I L E   1 4   J E S D U M P  ( N J E  V E R S I O N )              *
*                                                                              *
********************************************************************************

THE FOLLOWING PROGRAM IS SUPPLIED BY TRIANGLE UNIVERSITIES COMPUTATION
CENTER AND CONSISTS OF A REPLACEMENT MODULE FOR JESDUMP.
LAST FILE UPDATE - DEC 1978.

*        JESDUMP JES2 CONTROL BLOCK DUMP UTILITY - DESCRIPTION
*
*        THIS VERSION OF JESDUMP CONTAINS SIGNIFICANT MODIFICATIONS
*        AND ADDITIONS FROM ERIC BRUEBAKER, OCCIDENTAL SYSTEMS, INC.
*        THESE MODS (1) CORRECT BUGS (2) EXTEND LOG PROCESSING
*        (3) ALLOW USE WITH NJE RELEASE 3 (4) ADD MESSAGE NUMBERS.
*        THEY ARE IDENTIFIED WITH 'OSI' IN THE COMMENTS FIELD.
*        THIS VERSION IS NOT RESEQUENCED FROM THE ORIGINAL.
*
*              LOG N - DO SPECIAL PROCESSING ON SYSLOG STC JOBS
*                  IF N = 0, USE ACTIVE LOG; OTHERWISE
*                  IF N SPECIFIED, USE STC N; IF N OMITTED
*                  USE ALL STC JOBS WITH JOBNAME SYSLOG.
*                  THE LOG PROCESSING ROUTINE HAS SEVERAL SUBCOMMANDS:
*                                 FROM FMTM TO TOTM - LIST ALL LOG
*                                    RECORDS BETWEEN TIMES FMTM AND
*                                    TOTM. FMTM AND TOTM FORMAT
*                                    IS HH.MM
*                                 PDDB DSKEY - SCAN ONLY THE DATA   OSI
*                                    SET WHOSE PDBDSKEY MATCHES THE OSI
*                                    SPECIFIED DSKEY.               OSI
*                                 ROUTE MM,NN-NN - SCREEN LOG FOR   OSI
*                                    ALL RECORDS WITH ROUTING CODES OSI
*                                    NN OR IN THE RANGE NN-NN.  ANY OSI
*                                    NUMBER OF INDIVIDUAL CODES OR  OSI
*                                    RANGES MAY BE SPECIFIED.       OSI
*                                 SEARCH STRING - SEARCH LOG FOR ALL
*                                    RECORDS CONTAINING STRING.
*                                    MAX OF 10 SEARCH COMMANDS
*                                    MAY BE ENTERED. PROCESSING
*                                    DOES NOT START UNTIL GO OR
*                                    FROM SUBCOMMAND IS ENTERED.
*                                 SELECT TYPM,TYPN - SCREEN LOG FOR OSI
*                                    ALL RECORDS OF SPECIFIED TYPE. OSI
*                                    THE TYPE OF A LINE IS DECIDED  OSI
*                                    ON BY EXAMINING IDENTIFYING    OSI
*                                    TEXT WITHIN THE RECORD.        OSI
*                                 GO - PRINT ENTIRE LOG (ALL SYSLOG
*                                    STC JOBS) IF NO OTHER SUBCOMMANDS
*                                    HAVE BEEN ENTERED, OR PROCEED
*                                    TO DO PROCESSING AS SPECIFIED BY
*                                    SEARCH AND FROM SUBCOMMANDS.

********************************************************************************
*                                                                              *
*         F I L E   1 5   J E S 2   S O N G B O O K                            *
*                                                                              *
********************************************************************************

THE FOLLOWING FILE IS A LISTING OF THE JES2 SONGBOOK.
LAST FILE UPDATE - DEC 1978.

********************************************************************************
*                                                                              *
*         F I L E   1 6   N I H   M E R G E   P R O S E                        *
*                                                                              *
********************************************************************************

THE FOLLOWING FILE DESCRIBES THE HASP MERGE PROGRAM SUPPLIED BY NIH.
THE SOURCE IS ON THE NEXT FILE. LAST FILE UPDATE JANUARY 1979.

HASP MERGE IS A UTILITY PROGRAM DEVELOPED AT NIH TO MERGE PTFS AND USER
MODS WITH AN UNDISTURBED SOURCE BASE TO CREATE A TEMPORARY SOURCE LIB
FOR TEST ASSEMBLIES. THERE ARE 235 LINES OF TEXT IN THIS FILE.

********************************************************************************
*                                                                              *
*         F I L E   1 7   N I H   M E R G E   S O U R C E                      *
*                                                                              *
********************************************************************************

THE FOLLOWING PROGRAM WAS SUPPLIED BY NIH. THIS FILE CONTAINS 1248
SOURCE CARDS. LAST FILE UPDATE - JAN. 1979.
ANY QUESTIONS OR COMMENTS ON THESE MODIFICATIONS MAY BE ADDRESSED TO:

                   ROGER FAJMAN  BLDG 12 ROOM 2235
                   NATIONAL INSTITUTE OF HEALTH
                   BETHESDA, MARYLAND
                               20014

********************************************************************************
*                                                                              *
*         F I L E   1 8   M E L L O N   B A N K   M O D S                      *
*                                                                              *
********************************************************************************

THE FOLLOWING MODS WERE SUPPLIED BY MELLON BANK AND ARE IN IEBUPDTE
FORMAT. WRITTEN FOR JES2 4.1 (SU25) WITH PUT TAPE 79/05 (AZ27300 DUPLEX
CHECKPOINT). OBTAINED FROM CBT TAPE VERSION #128.
LAST FILE UPDATE - 09/25/79.
*
*       DAVID SCHAEFER MELLON BANK N.A.
*                      ROOM 424
*                      MELLON SQUARE
*                      PITTSBURGH,  PA. 15230
*              PHONE  (412) 232-4203
*
*       DON GREB       MELLON BANK N.A.
*              PHONE  (412) 232-5985
*

************************************************************
************************************************************
**************                                **************
************                                    ************
**********                                        **********
*                                                          *
*                                                          *
*             GENERAL DESCRIPTION OF MELLON BANK           *
*                  SHARED SPOOL MODS                       *
*                                                          *
*                                                          *
**********                                        **********
************                                    ************
**************                                **************
************************************************************
************************************************************


************************************************************
*                                                          *
*                 D I S C L A I M E R                      *
*                                                          *
************************************************************

    THE MODS ON THIS TAPE HAVE BEEN USED SUCCESSFULLY AND TO THE
 BEST OF OUR KNOWLEDGE THEY ARE OPERATIONAL, HOWEVER NO WARRANTY
 IS MADE TO THE ACCURACY OF THE MODS AND NO RESPONSIBILITY IS
 ASSUMED FOR ANY MODIFICATION DIRECTLY OR INDIRECTLY CAUSED BY THE
 USE OF THE MODIFICATIONS.  IT IS THE USERS RESPONSIBILITY TO
 EVALUATE THE USEFULLNESS OF THE MATERIAL.

    WE DO NOT GUARANTEE TO KEEP ANY MATERIAL PROVIDED UP TO DATE
 NOR DO WE GUARANTEE TO PROVIDE ANY CORRECTIONS OR EXTENSIONS MADE
 IN THE FUTURE.

************************************************************
************************************************************

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

    THE FOLLOWING IS A BRIEF EXPLANATION OF THE MELLON BANK MODS
MADE TO JES2.  IT IS INTENDED FOR THOSE WHO ARE UNFAMILIAR WITH
PREVIOUS VERSIONS OF HASP OR JES2 SHARED SPOOL SUPPORT AND IS
BEING PROVIDED IN LIEU OF THE FORMAL DOCUMENT ORIGINALLY
DISTRIBUTED WITH THE HASP V4 MELLON MODIFICATIONS.  IF THE WRITE-UP
LEAVES YOU WITH SOME UNANSWERED QUESTIONS, YOU MAY GIVE US A CALL.


+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

RESOURCE ROUTING CONTROL CARDS

     PROVIDES A FACILITY BY WHICH JOBS CAN BE ROUTED TO SPECIFIC
CPUS DEPENDING ON THE AVAILABILITY OF A PARTICULAR RESOURCE NAME
ASSIGNED TO A CPU.  RESOURCE NAMES ARE USER DEFINED (SYSTEMS PROGRAMMER)
AND SPECIFIED IN THE JES2 MACRO  $RESTABL  .  ONCE DEFINED, THESE
RESOURCE NAMES ATTACHED TO A CPU REMAIN IN EFFECT UNTIL THEY ARE
DETACHED VIA THE $QD COMMAND, OR A COLD START IS DONE AND ALL
RESOURCES ARE THEN UNASSIGNED.

     RESOURCES SPECIFIED IN THE $RESTABL MACRO CAN DEFINE PHYSICAL
I/O GEAR WHICH MAY BE ATTACHED TO ONLY ONE CPU AT A TIME, OR
POSSIBLY A SOFTWARE NAME WHICH MAY ONLY PERTAIN TO ONE PARTICULAR CPU.


SPECIFICATION ... IN $RESTABL MACRO


ASSIGNMENT....... $QA,RESOURCE NAME  ATTACHES A RESOURCE NAME FROM
                                     THE TABLE TO THIS CPU.


                  $QD,RESOURCE NAME  REMOVE RESOURCE NAME FROM THIS CPU


USE............... /*ROUTE XEQ RESOURCE NAME...  FOLLOWING JOBCARD

                   JOB WILL AUTOMATICALLY BE SCHEDULED TO THE CPU(S)
                   BEARING THIS RESOURCE NAME IN ITS QSE


EXAMPLE:    SYSTEM #       RESOURCES ATTACHED
            ________       __________________

               1           DUALD,IMS

               2           3525

               3           IMS,TSO,NOINQ


   //BSPROUT JOB (,,7551,429),'TEST RESOURCE',MSGLEVEL=(1,1),CLASS=A
   /*ROUTE XEQ IMS
   //S1 EXEC PGM=IEFBR14


THIS JOB WILL BE SCHEDULED TO EITHER SYSTEM #1 OR SYSTEM #3


     THE $DC COMMAND IS USED TO DISPLAY THOSE JOBS WHICH HAVE USED
THE /*ROUTE XEQ RESOURCE CONTROL CARD AND NO CPUS HAVE THAT RESOURCE
NAME ATTACHED....  FOR EXAMPLE, USING THE ABOVE LIST, IF A JOB WERE
SUBMITTED WITH A   /*ROUTE XEQ SCANNER   CONTROL CARD, THE JOB WOULD
NEVER EXECUTE NO MATTER HOW MANY INITIATORS WERE AVAILABLE UNTIL
A SYSTEM IN THE COMPLEX WOULD ISSUE A $QA,SCANNER.  THIS WOULD
BE DETECTABLE BY ISSUING A $DC COMMAND WHICH WOULD DISPLAY THOSE
JOBS WAITING FOR RESOURCE NAMES.


     THE $DR COMMAND WILL LIST THE RESOURCE ATTACHED TO EACH CPU.

 EXAMPLE

     $DR          NO OPERANDS  DEFAULTS THIS CPU

     $DR,&SID     LIST SPECIFIC CPU RESOURCES.


     OTHER /*ROUTE CONTROL CARD FORMATS.........

      /*ROUTE XEQ HERE
          JOB WILL BE SCHEDULED FOR EXECUTION ON THE CPU WHICH
          READ THE JCL.  (CONTROLLING THE CARD READER)

      /*ROUTE XEQ CPUX    (WHERE X IS A NUMBER FROM 1 TO 7 )
          JOB WILL BE SCHEDULE TO THE CPU NUMBER SPECIFIED BY
          COMPARING ALL CPU ID'S IN THE QSE.



---------------------------------------------------------------


/*CNTL CARDS................


     THIS FEATURE PROVIDES THE ABILITY TO SINGLE-THREAD JOBS
THROUGH EXECUTION WHICH NEED A DEVICE OF WHICH THERE IS ONLY ONE
AND MUST BE USED SERIALLY.  SOME EXAMPLES WOULD BE THE 3525,
DUALD DENSITY DRIVE AND THE OCR SCANNER.


     BY USING THE /*CNTL CARD, YOU CAN DEFINE A RESOURCE NAME THAT
YOU NEED EXCLUSIVE CONTROL OF.  IF ANY OTHER JOBS COME INTO THE SYSTEM
WITH THE SAME CONTROL NAME, THEY WILL NOT EXECUTE SIMULTANEOUSLY ON
THE SAME OR OTHER CPUS IN THE COMPLEX.  THIS PROVIDES BETTER CONTROL
OVER THE RESOURCES WE HAVE THAT MUST BE USED SERIALLY.  THIS DOES NOT
AFFECT JOBS RUNNING WITHOUT THE /*CNTL CARD OR RUNNING IN A SYSTEM
WITHOUT SHARED SPOOL.


   THE FORMAT FOR RESURCE CONTROL IS :

     /*CNTL RESOURCE,EXC     OR
     /*CNTL RESOURCE,SHR    (DEFAULT SHR)


     USERS MAY ALSO PROTECT DATASETS FROM BEING BEING UPDATED BY
DIFFERENT JOBS ON THE SAME OR DIFFERENT CPUS BY USING THE /*CNTL CARD.
EACH /*CNTL CARD MAY HAVE A 1 TO 8 CHARACTER CONTROL NAME AND AN EXC
OR SHR SPECIFICATION.

     JOBS WITH THE SAME CNTROL NAME WILL NOT EXECUTE SIMUTANEOUSLY
IF ONE OF THE JOBS HAS AN EXC CONTROL SPECIFICATION. JOBS WITH SHR
MAY EXECUTE SIMUTANEOUSLY ON ANY CPU.


EXAMPLES:

    //JOB1 JOB
    /*CNTL MASTER,EXC


    //JOB2 JOB
    /*CNTL MASTER,SHR


  IN THE ABOVE EXAMPLE, WHICHEVER JOB BEGAN EXECUTION FIRST, WOULD
LOCKOUT THE OTHER JOB FROM BEGINNING UNTIL IT HAS COMPLETED.



    //JOB1 JOB
    /*CNTL MASTER,SHR


    //JOB2 JOB
    /*CNTL MASTER


    //JOB3 JOB
    /*CNTL MASTER,SHR


  IN THE ABOVE EXAMPLE, ALL 3 JOBS COULD RUN SIMULTANEOUSLY AS THEY
ALL SPECIFY THE SHR OPTION.


________________________________________________________________


BEFORE AND AFTER CONTROL CARDS


FORMAT :      /*BEFORE JOB1
              /*AFTER JOB1


     PROVIDES A MEANS TO SCHEDULE JOBS BEFORE OR AFTER ANOTHER.
FOLLOWS JOB CARD OR ANY OTHER JES CONTROL CARDS (ROUTE - CNTL ).

     IF THE BEFORE OR AFTER JOBNAME IS NOT IN THE JOBQ, THERE IS
NO ACTION TAKEN ON PREVENTING THE JOB FROM BEGINNING.

EXAMPLE :


    /*PRIORITY     13
    //BSPTEST JOB (,,7551,429),RUSBASAN,MSGLEVEL=(1,1),CLASS=A
    /*ROUTE XEQ MSS
    /*AFTER BSPFIRST
    //S1 EXEC PGM=IEFBR14
    /*
    /*PRIORITY     2
    //BSPFIRST JOB (,,7551,429),RUSBASAN,MSGLEVEL=(1,1),CLASS=A
    /*ROUTE XEQ CPU2
    /*CNTL DUALD,EXC
    //SA EXEC PGM=IEFBR14
    /*


  IN THE ABOVE EXAMPLE, JOB BSPTEST WOULD NOT EXECUTE UNTIL JOB
BSPFIRST HAS FINISHED EXECUTION, EVEN THOUGH BSPTEST HAS A HIGHER
PRIORITY.



********************************************************************
********************************************************************

 EXAMPLES OF ALLOWABLE -MULTI- CONTROL AND ROUTE CARDS COMBINATIONS

    COMBINATION  1.                 ** ONE          AFTER  CARD  **
                                    ** ONE          BEFORE CARD  **
                                    ** NONE TO TWO  CNTL   CARDS **
                /*AFTER   JOBNAME
                /*BEFORE  JOBNAME
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP

    COMBINATION  2.                 ** ONE           AFTER CARD  **
                                    ** NONE TO THREE CNTL  CARDS **
                /*AFTER   JOBNAME
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP

    COMBINATION  3.                 ** ONE           BEFORE CARD **
                                    ** NONE TO THREE CNTL  CARDS **
                /*BEFORE  JOBNAME
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP

    COMBINATION  4.                 ** ONE TO FOUR CNTL    CARD  **
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP
                /*CNTL    NAME,DISP

*****************************************************************
                       SSSS  U    U  2222  555555
                      S    S U    U 2    2 5
                      S      U    U      2 5
                       SSSS  U    U    2   55555
                           S U    U  2          5
                      S    S U    U 2      5    5
                       SSSS   UUUU  222222  5555
*****************************************************************
*
*
*        MELLON BANK N.A.  SHARED SPOOL  FOR JES2 REL 4.1 (SU25)
*              THIS CODE HAS BEEN INSTALLED ON PID TAPE 7905
*              DUAL CHECKPOINT CODE FOR 3.7...............
*
*  CHANGES FROM STANDARD JES2 AND  HASP.......
*
*   $   HASP $DN  AND DQ  COMMANDS.
*               MELLON MODS NO LONGER DELETE THE ORIGINAL IBM
*         SOURCE CODE.  THE MELLON DN AND DQ  COMMANDS ARE ADDED
*         TO HASPCOMM.  THE IBM  DN AND DQ LABELS ARE RENAMED TO
*         AVOID ASSEMBLY ERRORS.................................
*
*
*  $  HASP  $OJ IS JES2  $QJ
*
*      $QJ WILL WORK FOR JOBS IN ALL STAGES....
*        JOBS EXECUTING OR AWAITING EXECUTION WILL SHOW JES2
*         CONTROL CARDS...ROUTE..CNTL..ETC.
*
*      JOBS PRINTING OR AWAITING PRINT WILL SHOW # OF LINES TO
*        PRINT AND OR CARDS TO PUNCH.
*
*
*  $   THE FOLLOWING COMMAND WILL CAUSE JES TO ABEND 0C1
*
*                   $DN,0,$0C1
*
*      WE HAVE FOUND THIS VERY USEFUL IN TESTING JES MODS
*      OR GETTING JES2 OUT TO BRING UP A NEW VERSION WITHOUT IPL.
*
*
*  $  HASPCOMM, STATEMENT NOS. K1426183 K1426184 AND K1426185.
*     THEY SHOULD BE CHANGED TO FIT YOUR $NUMRJE VALUE
*     (OR $NUMRJE+1) AND SHOULD BE CHANGED IF YOU ALSO
*     CHANGE $NUMRJE LATER ON DOWN THE ROAD.
*
*
*
*  $  BECAUSE OF ADDRESSABILITY REASONS..$QGET IS NOW A SEPARATE
*     CSECT IN HASPNUC.
*
*
*
*   $  THE FOLLOWING MODULES, MACROS, AND CONTROL BLOCK ARE CHANGED.
*
*      $HCT, $JQE, $QGET, $QSE, $RDRWORK.........
*      HASPCOMM, HASPNUC, HASPRDR................
*
*
*   $  THE ASSEMBLER COPY FUNCTION IS ALSO USED TO INTERGRATE SOME
*      OF THE MODS INTO HASP SOURCE CODE AT ASSEMBLY TIME. THIS IS
*      DONE TO REDUCE MELLON MOD EXPOSURE TO IBM UPDATES.  THE
*      FOLLOWING SOURCE MEMBERS WILL BE ADDED TO HASPSRC.
*
*      $RESTABL, MBDNDQ, MBDB, MBQJ, MBMULT, MBQGET.....
*      .................................................

********************************************************************************
*                                                                              *
*         F I L E   1 9   H U G H E S   M O D S                                *
*                                                                              *
********************************************************************************

THE FOLLOWING MODS ARE SUPPLIED BY JIM PRIOR FROM HUGHES AIRCRAFT AND
ARE IN IEBCOPY UNLOADED FORMAT (80X32720). THE PDS IS A 10 TRACK 3350
DATASET.

STATUS IS A TSO COMMAND THAT ISSUES USER SVC 235. IGC0023E (SVC 235 -
TYPE 3) SCHEDULES A SRB CALLED STATJES2 TO RUN IN JES2'S ADDRESS SPACE.
STATJES2 OBTAINS DATA FROM JES2 WHICH IT PASSES BACK TO THE SVC WHICH
PASSES THE DATA TO THE STATUS COMMAND. STATUS THEN OUTPUTS THE SELECTED
INFORMATION TO THE USER. THIS CODE IS AN EXAMPLE OF SCHEDULING AN SRB
TO JES2 TO RETURN WHATEVER DATA MIGHT BE OF INTEREST.

********************************************************************************
*                                                                              *
*         F I L E   2 0   G T E   M O D S                                      *
*                                                                              *
********************************************************************************

THE FOLLOWING MODS ARE SUPPLIED BY GTE DATA SERVICES AND ARE
DISTRIBUTED IN SMP FORMAT.  THESE MODS WERE WRITTEN FOR NJE 3.0
LAST FILE UPDATE - JULY 1980.
ANY QUESTIONS OR COMMENTS ON THESE MODIFICATIONS MAY BE ADDRESSED TO:

                   RONALD W. DECKER              (219) 484-0531
                   GTE DATA SERVICES
                   6430 OAKBROOK PARKWAY
                   FORT WAYNE, INDIANA, 46805

  *              GTEDS FORT WAYNE LOCAL JES2 MODIFICATIONS
  *              ------------------------------------------
  *
  *        MOD     DATE            DESCRIPTION
  *
  *         01   04-18-76   $DSMF - GIVE THE CONSOLE OPERATOR
  *                         THE FACILITY TO DISPLAY WHICH DATA
  *                         SET (MANX/MANY) IS CURRENTLY ACTIVE.
  *
  *         02   04-18-76   $EJ - FORCE ANY JOB THAT IS THE
  *                         OBJECT OF A $EJ COMMAND TO BE
  *                         CANCELED AND PLACED IN A HOLD QUEUE.
  *
  *         03   01-13-78   FORMAT THE SEPARATOR PAGE AND CARD
  *                         WITH PROGRAMMER NAME, AND OTHER
  *                         LOCAL GOODIES. IF THE PUNCH UNIT IS
  *                         A 3525, INTERPRET THE PUNCH SEPARATOR.
  *                         DONT PRINT SLANTED JOBNAME ON
  *                         THE SEPARATOR PAGE.
  *
  *         04   03-14-77   REQUEUE ANY SYSOUT CONTAINING THE
  *                         CLASS DEFINED BY 'GTE04CP' AND
  *                         CHANGE THE SYSOUT TO THE CLASS
  *                         DEFINED BY 'GTE04CQ' FOR SYSOUT ON
  *                         MICROFICHE PURPOSES.
  *
  *         05   06-05-78   $DU,PRT/PUN - CAUSE THE DISPLAY OF A
  *                         PRINT OR PUNCH UNIT THAT IS ACTIVE
  *                         TO CONTAIN THE NUMBER OF LINES LEFT
  *                         TO PRINT BEHIND THE KEYWORD 'L='.
  *
  *         06   05-17-80   IF NOLOG IS SPECIFIED ON JOB CARD OR
  *                         JOBPARM CARD, DONT PRINT SEPARATOR
  *                         PAGE OR JES2 NEWS. IF SYSOUT CLASS = Q
  *                         (AUTOCOM) SUPPRESS SEPARATORS.
  *
  *         07   01-12-78   $CANCEL=JES2 - COMMAND TO BRING DOWN
  *                         THE RUNNING JES2 SYSTEM.
  *
  *         08   01-08-79   $TI COMMAND TURNED OFF AND REPLACED
  *                         WITH $EI TO KEEP OPERATORS FROM
  *                         CHANGING INITS.
  *
  *         09   06-12-79   BYPASS ACCOUNTING FIELD SUBPARAMETERS
  *
  *         10   11-01-79   BYPASS 4TH ACCOUNTING PARAMETER ON
  *                         JOBCARD FOR RJE USERS.
  *
  *         11   05-01-80   ALLOW TSU TASKS TO BE PROCESSED BY THE
  *                         ACCOUNTING FIELD SCAN (HASPRSCAN). WITH
  *                         ADDITION OF THE TSO LOGON EXIT, THIS MOD
  *                         WILL ALLOW THE PROGRAMMER NAME FIELD TO
  *                         BE FORMATTED ON THE SEPARATOR PAGE.

********************************************************************************
*                                                                              *
*         F I L E   2 1   H C I   M O D S                                      *
*                                                                              *
********************************************************************************
   CONTACT:***********************************
           * JOE BELL                        *
           *  SYSTEMS SOFTWARE  4A           *
           *   HALLMARK CARDS INC.           *
           *    2501 MCGEE                   *
           *     KANSAS CITY, MISSOURI  64108*
           *        PH: 816 274-5421         *
           ***********************************
                SHARE CODE :    H. C. I.

           JES2 VERSION - 4.1(WITH DUPLEX CHECKPT AND 7906 PUT LEVEL)

           ALL MODS ARE IN SMP FORMAT AND THE FILE IS AN IEBCOPY
           UNLOADED PDS WITH EACH SET OF RELATED SMP MODS CONTAINED
           IN A GIVEN MEMBER.

           -DESCRIPTION OF LOCAL JES2 MODIFICATIONS-

*---------*----------*-------------*-----------------------------------*
* MOD REF * SMP USER * JES2        *                                   *
* NUMBER  * MOD NAMES*  MODULES    *       MOD DESCRIPTION             *
* (MEMBER)*          *   CHANGED   *                                   *
*---------*----------*-------------*-----------------------------------*
*---------*----------*-------------*-----------------------------------*
*         *          *             *                                   *
* J20001  * SJES010  * HASPPRPU    * GENERATE A SECOND JOB SEPARATOR   *
*         *          *             * PAGE.                             *
*---------*----------*-------------*-----------------------------------*
*         * SJES020  * HASPNUC     * LOCAL EXTERNAL WTR SUPPORT-CHANGE *
*         * SJES021  * HASPPRPU    * MSGCLASS AND SYSOUT OF A TO P FOR *
* J20002  * SJES022  * HASPRDR     * PRODUCTION JOBS FOR EXTWTR WHICH  *
*         * SJES023  * HASPXEQ     * TAKES CLASS P AND PUTS TO FICHE.  *
*         *          *             * ALSO PRINT SEPARATORS NON SLANT.  *
*         *          *             * AND DISALLOW $TPRT FOR FCB ON 1403*
*---------*----------*-------------*-----------------------------------*
*         *          *             *                                   *
* J20003  * SJES030  * HASPRTAM    * LIMIT NUMBER OF LINE ERROR MSGS TO*
*         *          *             * 25.                               *
*---------*----------*-------------*-----------------------------------*
*         *          *             *                                   *
* J20004  * SJES040  * HASPRTAM    * ALLOW PRINT SUPPRESSION FOR REMOTE*
*         *          *             * 2780 CONSOLE.                     *
*---------*----------*-------------*-----------------------------------*
*         *          *             *                                   *
* J20005  * SJES050  * HASPRDR     * IGNORE /*PRIORITY CARD FROM REMOTE*
*         *          *             * AND INTERNAL READERS.             *
*---------*----------*-------------*-----------------------------------*
*         * SJES060  * HASPINIT    * MAKE $RPRT INIT PARM BE SECONDS VS*
* J20006  * SJES061  * HASPRDR     * MINS.  CHANGE JOB ACC FIELD FROM  *
*         *          *             * MINS TO SECS AND LINES TO HUNDREDS*
*---------*----------*-------------*-----------------------------------*
*         *          *             * ESTABLISH DEFAULT OF 300,100,4000 *
* J20007  * SJES070  * HASPRDR     * FOR TIME, LINES, AND CARDS FOR    *
*         *          *             * TEST JOBS.                        *
*---------*----------*-------------*-----------------------------------*
*         *          *             * CREATE TIME PARM ON JOB CARD FROM *
* J20008  * SJES080  * HASPXEQ     * ESTIMATED TIME IN ACCOUNTING FIELD*
*         *          *             *                                   *
*---------*----------*-------------*-----------------------------------*
*         *          *             * PRINT JOB REMOTE OUTPUT TO LOCAL  *
* J20009  * SJES090  * HASPXEQ     * IF # LINES IS MORE THAN 8000.     *
*         *          *             *                                   *
*---------*----------*-------------*-----------------------------------*
*         *          *             *                                   *
* J20010  * SJES100  * HASPXEQ     * ALLOW DPRTY ON JCL ONLY FOR       *
*         *          *             * SPECIAL JOBNAMES.                 *
*---------*----------*-------------*-----------------------------------*
*         *          *             *                                   *
* J20011  * SJES110  * HASPSSSM    * ADD DATE TO HASP JOB START MESSAGE*
*         *          *             *                                   *
*---------*----------*-------------*-----------------------------------*
*         * SJES120  * HASPNUC     * BYPASS FCB MATCHING FOR NON 3800  *
* J20012  * SJES121  * HASPPRPU    * PRINTERS WHEN SELECTING NEXT JOB  *
*         *          *             *                                   *
*---------*----------*-------------*-----------------------------------*
*         *          *             *                                   *
* J20013  * SJES130  * HASPRTAM    * RESTART REMOTE PUNCH ON LINE ABORT*
*         *          *             *                                   *
*---------*----------*-------------*-----------------------------------*
*         *          *             *                                   *
* J20014  * SJES140  * HASPCOMM    * CHANGE ROUTING TO ALL ON JOB NOT  *
*         *          *             * FOUND MESSAGE.                    *
*---------*----------*-------------*-----------------------------------*
*         *          *             *                                   *
* J20015  * SJES150  * HASPSSSM    * CANCEL TEST JOBS ON LINE EXCESSION*
*         *          *             *                                   *
*---------*----------*-------------*-----------------------------------*
*         *          *             * DISPLAY PARTIAL JOBNAME COMMAND - *
* J20016  * SJES160  * HASPCOMM    * ($D'..XX....) AND SHOW POSITION   *
*         *          *             * OF JOB IN QUEUE.                  *
*---------*----------*-------------*-----------------------------------*
*         *          *             * CHANGE $DN TO NOT SHOW JOBS ON    *
* J20017  * SJES170  * HASPCOMM    * HOLD UNLESS EXPLICITLY REQUESTED. *
*         *          *             *                                   *
*---------*----------*-------------*-----------------------------------*
*         *          *             * ALLOW LARGER CPU DEFAULT TIME IN  *
* J20018  * SJES180  * HASPINIT    * INITIALIZATION PARMS.             *
*         *          *             *                                   *
*---------*----------*-------------*-----------------------------------*
*         *          *             * ELIMINATE NUMBER OF LINES AS PART *
* J20019  * SJES190  * HASPRDR     * OF JOB EXECUTION PRIORITY.        *
*         *          *             *                                   *
*---------*----------*-------------*-----------------------------------*
*         *          *             *                                   *
* J20020  * SJES200  * HASPSSSM    * CHANGES FOR CPUID IN JES START MSG*
*         *          *             *                                   *
*---------*----------*-------------*-----------------------------------*
*         *          *             * ALWAYS DISPLAY /*$... COMMANDS    *
* J20021  * SJES210  * HASPRDR     * INPUT FROM ANY READER.            *
*         *          *             *                                   *
*---------*----------*-------------*-----------------------------------*
*         * SJES220  * $PPPWORK    * PRINT DATASET SEPARATORS FOR MULT *
* J20022  * SJES221  * HASPPRPU    * COPIES EXCEPT FOR CLASSES A,D.    *
*         *          *             * INIT,NUC,MISC,AND PRPU ASSEMBLIES *
*         *          *             * ARE REQUIRED FOR PPPWORK CHANGE.  *
*---------*----------*-------------*-----------------------------------*
*         *          *             * PERFORM TOD CHECKS ON CHECKPOINT  *
* J20023  * SJES230  * HASPINIT    * QSE RECORDS VS IPL TOD.           *
*         *          *             *                                   *
*---------*----------*-------------*-----------------------------------*
*         *          *             * DISPLAY # OF LINES TO PRINT WITH  *
* J20024  * SJES240  * HASPCOMM    * A $LJ COMMAND.                    *
*         *          *             *                                   *
*---------*----------*-------------*-----------------------------------*
*         *          *             *                                   *
* J20025  * SJES250  * HASPCOMM    * DISABLE $PQ Q AND $PQ Q=X COMMANDS*
*         *          *             *                                   *
*---------*----------*-------------*-----------------------------------*
********************************************************************************
*                                                                              *
*         F I L E   2 2   A O S   M O D S                                      *
*                                                                              *
********************************************************************************

THE FOLLOWING MODS ARE SUPPLIED BY A. O. SMITH AND ARE IN IEBCOPY UNLOAD
FORMAT.  LAST FILE UPDATE - JUNE 1979.

***********************************************************************
*      J E S 2    M O D I F I C A T I O N S    M A D E   B Y          *
*                 A. O. SMITH CORPORATION                             *
*   MAY, 1979                              SHARE CODE AOS             *
*                                                                     *
*   CONTACT: DAVE ALLEN                                               *
*            A O SMITH DATA SYSTEMS DIVISION                          *
*            16363 W RYERSON RD                                       *
*            NEW BERLIN, WIS  53151                                   *
*            'PHONE (414)-447-4000                                    *
*                                                                     *
*                                                                     *
*   THE MODIFICATIONS ARE SUPPLIED IN THE FORM OF AN UNLOADED         *
*   PDS WITH MEMBERS: AOSHVT   AOSRSCN   COMWORK   COUNT              *
*                     DCT      DOLARCMD  HASPCOMM  HASPCON            *
*                     HASPINIT HASPMISC  HASPNUC   HASPPRPU           *
*                     HASPRDR  HASPRSCN  HASPRTAM  HASPSSSM           *
*                     HASPXEQ  HCT       IGC0022B  JCT                *
*                     JES2MODS JQE       LKED      SJB                *
*                     SMF                                             *
*
*   EACH MEMBER CONTAINS THE MODIFICATIONS THAT AFFECT THE            *
*   CORRESPONDING JES2 MODULE, I.E., THE MEMBER 'HASPCOMM'            *
*   CONTAINS, IN IEBUPDTE FORM, THE MODS FOR JES2 'HASPCOMM'.         *
*                                                                     *
*                                                                     *
*                                                                     *
*    THIS DOCUMENTATION IS MEMBER 'JES2MODS' OF THE MODIFICATION      *
*    PARTITIONED DATA SET.                                            *
*
***********************************************************************
*    AOS01.00  GENERALIZED HOOKS TO BE USED BY OTHER MODS.
*              CREATE AOSHVT AND A $AOSHVT MACRO.
*    AOS01.09  EDIT ACCOUNTING PARAMETERS ON THE JOB CARD
*
*    AOS02.00-JOB SEPARATOR MODS:
*              AOS02.01    JOB SEPARATOR CARD CHANGES.
*
*    AOS03.00-JOB HOLD MODIFICATIONS
*              AOS03.01    RECORD THE LAST $AJ TIME FOR A JOB.
*
*    AOS04.00-JOB REQUEUING MODIFICATIONS:
*              AOS04.01    LOG SEPARATOR PRODUCED FOR REQUEUED JOBS.
*              AOS04.02    $EJ AND $E'...' COMMANDS CAUSE CANCEL & HOLD.
*              AOS04.03    $E'...' FINDS RIGHT JOB, EVEN IF DUPLICATES.
*              AOS04.04    $EJXXXX,HA OPERAND SETS HOLD-ALL FLAG ONLY.
*              AOS04.05    $AJXXXX,HA OPERAND ZEROES HOLD-ALL FLAG ONLY.
*
*    AOS05.00-$TA COMMAND CHANGES:
*              AOS05.01    $TA ISSUED VIA SVC 34 WILL FUNCTION
*                          REGARDLESS OF MCS CONSOLE CONFIGURATION.
*                          RIGHT NOW IT IS DEPENDENT UPON CONSOLE 1
*                          BEING AVAILABLE.
*
*    AOS06.00-$DN AND $DQ COMMAND MODIFICATIONS:
*              AOS06.01    $DQ SHOWS HELD JOB COUNTS.
*              AOS06.02    $DQ DEFAULTS TO Q=PPU.
*
*    AOS07.00-$DA,$DI,$DU,$DJ COMMAND MODIFICATIONS:
*              AOS07.00    $DA SHOWS STEPNAME AND CURRENT OUTPUT COUNT.
*              AOS07.01    RESTRICT USE OF $DI (REMOTE RESTRICTED).
*              AOS07.02    RESTRICT USE OF $DU (REMOTE RESTRICTED).
*              AOS07.04    HIGHLIGHT E=N JOBS IN ALL DISPLAYS.
*              AOS07.05    $WON,$WOFF,$WS COMMAND SUPPORT.
*                          $WON IS ISSUED BY CONSOLE OPERATORS IN TIMES
*                          OF AN UNSTABLE SYSTEM TO BLOCK INITIATION OF
*                          NON-RESTARTABLE JOBS.  $WOFF IS ISSUED BY
*                          CONSOLE OPERATORS WHEN SYSTEM AGAIN APPEARS
*                          TO BE STABLE. $WS SHOWS THE CURRENT STATUS
*                          OF $WON/$WOFF. RESTARTABLE JOBS ARE STILL
*                          INITIATED AS USUAL.
*
*    AOS08.00-CONSOLE OPERATOR INTEGRITY MODIFICATIONS:
*              AOS08.05    STRING COMMANDS DISALLOWED.
*                          (I.E., $CJXXX-YYY  ETC.)
*
*    AOS09.00-END EXECUTION MODIFICATIONS:
*              AOS09.00    JOBNAME APPEARS IN THE END EXECUTION MSG.
*              AOS09.02    SHORTEN JES2 REPLIES TO REMOTES.
*              AOS09.04    PREVENT USE OF $TJ TO RESET JOB NUMBERS.
*              AOS09.05    BEGIN & END EXECUTION MSGS SENT TO REMOTES.
*              AOS09.07    ALLOW REMOTES TO $TJ AN AW-HARDCPY JOB PRTY.
*              AOS09.09    $TRXX.PR1,S=Y ALLOWS PRINT INTERRUPTION.
*                          $TRXX.PR1,S=N PREVENTS PRINT INTERRUPTION.
*
*    AOS10.00-JES2 REPLY MODIFICATIONS:
*              AOS10.01    MAKE &MSGID PARAMETER WORK ON REMOTE CONSOLES
*
*    AOS11.00-FORCE AOS JOB CLASS STANDARDS:
*              AOS11.00    JOB CLASS FORCES DISTINCT SELECTION PRIORITY.
*              AOS11.01    CLASS=M JOBS RESTRICTED TO TIME=(,30).
*
*    AOS12.00-$PJES2 MODIFICATIONS
*              AOS12.01    FORCE JES2 TO GO DOWN WHEN $PJES2 IS ISSUED.
*                          THUS, A SYSTEM-WIDE QUIESCE IS NOT NEEDED.
*
*    AOS16.00-$TK COMMAND
*              AOS16.00    $TK CHANGES ALL JOBS IN ONE XEQ CLASS TO A
*                          NEW CLASS. (FOR WHOLE SYSTEM OR BY REMOTE).
*
*    AOS17.00-SPAWNED JOB HANDLING.
*              AOS17.00    JOBS BEING SPAWNED GET HIGH (J8) PRIORITY.
*
*    AOS18.00-JOB DISPLAY MODIFICATIONS.
*              AOS18.00    SHOW LINES GENERATED IN JOB DISPLAYS.
*
*    AOS19.00-QUEUE POSITION MODIFICATION
*              AOS19.00    ALL JOB DISPLAY RESPONSES SHOW EACH JOB'S
*                          CURRENT QUEUE POSITION. E.G.,
*                         "JOB 1234 JOBNAME1 PRIO 5 POS 3 AWAITING EXECU
*                         "JOB 5678 JOBNAME2 PRIO 7 POS 6  PRT R13   PUN
*    AOS20.00-$DP
*              AOS20.00    IMPLEMENT $DP COMMAND TO DISPLAY CURRENT
*                          PRINT/PUNCH QUEUES. TYPICAL OUTPUT:
*                         "JOB 1234 JOBNAME1 Q=A F=STD. R=R16   24,123
*                         "JOB 1234 JOBNAME1 Q=J F=1485 R=R16      286
*                         "JOB 5678 JOBNAME2 Q=S F=ZZZZ R=LOCAL  3,726
*
*    AOS21.00-CHECKPOINT CONTROL
*              AOS21.00    PRINT/PUNCH PROCESSOR CHECKPOINTS ONLY
*                          ON SKIP TO CHANNEL 1 CCWS. THAT IS, CAUSE
*                          INTERRUPTED OUTPUT TO ALWAYS RESUME AT THE
*                          TOP OF THE PAGE.
*
*    AOS22.00-$R COMMAND MODIFICATIONS.
*              AOS22.01    LOG CHANGE OF ROUTING ON MAIN CONSOLE
*                          AND ON RECEIVING REMOTE'S CONSOLE.
*                          REMOTE IS NOTIFIED THAT SOMETHING WAS ROUTED

*    AOS24.00-SIGNON/SOGNOFF CONTROL
*              AOS24.00    SEND SIGNON MESSAGE TO A REMOTE.
*
*    AOS25.00-END EXECUTION MODIFICATIONS
*              AOS25.06    TELL USER IF HE HAS JCL'ED OUT.
*
*    AOS31.00-MONITORING MODIFICATIONS:
*              AOS31.01    PLACE RMTS/LINES ACTIVE TABLE IN CSA FOR OMEG
*              AOS31.02    PLACE JOB QUEUE COUNTS IN CSA FOR OMEGAMON.
*
*    AOS32.00-JOBS SUBMITTED BY TSU'S AND STC'S GET MSGCLASS=A.
*
*    AOS33.00-GENERIC $D'....' COMMAND IMPLEMENTED.
*                         E.G.,  $D'RJ01 WILL DISPLAY ALL JOBS WHOSE JOB
*                         BEGIN WITH "RJ01".
*
*    AOS37.00-PERFORMANCE MODIFICATIONS
*             AOS37.01    JOE CHASING IN $DQ,$DN,$DA IS LIMITED.
*                         AZ30034 SUBMITTED BY T. BISPULA
*
*    AOS43.00-DATE STAMP THE BEGINNING EXECUTION MSG ON THE SYSTEM LOG.
*
*    AOS44.00-JES2/TSO INTERFACE - $ COMMAND PROCESSING SUPPORTED UNDER
*             AOS44.01    $ TSO COMMAND PROCESSOR.
*             AOS44.02    JES2/TSO INTERFACE SVC, AOSJTSVC (SVC 222).
*             AOS44.03    $ TSO COMMAND SUPPORT IN JES2 CODE.
*                         AN AUTHORIZATION FACILITY IS INCLUDED.
*
*    AOS45.00-PRINT CONTROL MODIFICATIONS
*             AOS45.01    JOE SELECTION BY JQE PRIORITY, THEN JOE PRIORI
*             AOS45.02    FREE=CLOSE JOES GET SAME SELECTION ALGORITHM;
*                         I.E, KEEP THEM FROM TAKING OVER THE PRINTER.
*
*    AOS50.00-REMOTE AND LINE SECURITY MODIFICATIONS
*             AOS50.01    REMOTE PASSWORD CONTROL FACILITY.
*                         (INCLUDES SUPPORT OF $TRMTXXX,P= COMMAND.)
*
**********************************************************************
* ADDITIONAL FIXES TO JES2 WHICH ARE AWAITING FORMAL IBM RESOLUTION  *
**********************************************************************
*
*    AOSFIX01-INVALID ROUTE CARDS ARE NOT BEING FLAGGED AND FLUSHED.
*             AOSFIX01    JES2 IS ALLOWING USERS TO SPECIFY A
*                         DESTINATION NAME ON THEIR ROUTE CARDS
*                         WHICH EXCEEDS THE MAXIMUM ALLOWABLE NUMBER
*                         OF CHARACTERS (8). FOR EXAMPLE, A
*                         /*ROUTE PRINT REMOTE137 IS BEING ACCEPTED
*                         EVEN THOUGH "REMOTE137" IS 9 CHARACTERS LONG.
*                         THE PRINT ENDS UP BEING ROUTED TO "REMOTE13".
*                         HASPRDR WAS CHANGED TO HANDLE THIS CORRECTLY.
*                         AZ32101 HAS BEEN SUBMITTED.
*    AOSFIX02-JES2 WON'T CLEANLY COMPILE SINCE SU801(VTAM2) IS NOT APPLI
*             AOSFIX02    JES2 WON'T COMPILE CLEANLY BECAUSE SOME OF THE
*                         DSECTS USED BY JES ARE EITHER VTAM DSECTS
*                         OR VTAM FIELDS IN SNA DSECTS. SINCE THESE COMP
*                         ERRORS ONLY AFFECT HASPRTAM IN THE SNA PROCESS
*                         WE HAVE SIMPLY EQU'D DUMMY FIELD NAMES SO THE
*                         COMPILE IS SUCCESSFUL.  SHOULD AOS EVER IMPLEM
*                         SNA REMOTES, THESE FIXES WILL HAVE TO BE
*                         REMOVED AND THE TRUE DSECTS MADE AVAILABLE.
*                         IBM'S CURRENT STAND IS THAT VTAM2 IS A PREREQ
*                         OF JES2 RELEASE 4.1.

********************************************************************************
*                                                                              *
*         F I L E   2 3   P S U   D O C U M E N T A T I O N                    *
*                                                                              *
********************************************************************************

THE FOLLOWING FILE DESCRIBES PENN STATE UNIVERSITY'S MODIFICATIONS.
EACH MEMBER IN THE PDS DESCRIBES A SEPERATE MOD. MODS ARE FOR JES2 4.1
(SU 25). LAST FILE UPDATE - JUNE 1979.
ANY QUESTIONS OR COMMENTS ON THESE MODIFICATIONS MAY BE ADDRESSED TO:

                   J. L. FORKNER              (814) 863-0422
                   PENN STATE UNIVERSITY
                   122J COMPUTER BUILDING
                   UNIVERSITY PARK, PA., 16802

PENN STATE SENT A VERY COMPLETE PACKAGE WHICH UNFORTUNATELY CONTAINED
ALL THE UPDATED JES2 SOURCE. I HAVE ATTEMPTED TO REMOVE ALL IBM CODE
AND KEEP JUST THE PSU MODIFICATIONS. IF YOU HAVE PROBLEMS USING THIS
CODE PLEASE INFORM ME AND CONTACT PENN STATE FOR ADDITIONAL ASSISTANCE.

LOOK IN THE PSU.DOC PDS UNTIL YOU FIND A MODIFICATION YOU WANT. THE
THREE CHARACTERS OF THE DOC MEMBER MATCH THE FIRST THREE CHARACTERS
OF ALL THE MEMBERS IN THE JESMODS PDS RELATED TO THAT MOD.

********************************************************************************
*                                                                              *
*         F I L E   2 4   P S U   M O D S                                      *
*                                                                              *
********************************************************************************

THE FOLLOWING MODS ARE SUPPLIED BY PENN STATE AND ARE DISTRIBUTED IN
IEBCOPY UNLOADED FORMAT. LAST FILE UPDATE JUNE 1979.

MEMBER MSTRUPDT CONTAINS THE UPDATE SOURCE TO ADD PSU MODS TO THE BASE.
SEVERAL MACROS AND ALL THE COPY CODE ARE CONTAINED AS MEMBERS IN THIS
PDS.

********************************************************************************
*                                                                              *
*         F I L E   2 5   R B C   M O D S                                      *
*                                                                              *
********************************************************************************

THIS FILE CONTAINS JES2 MODS FROM ROYAL BANK OF CANADA. IT IS IN
IEBCOPY UNLOADED FORMAT. LAST FILE UPDATE AUGUST 1979.

ANY QUESTIONS OR COMMENTS ON THESE MODIFICATIONS MAY BE ADDRESSED TO:

                   ROSS BEAUDRY               (514) 874-8932
                   THE ROYAL BANK OF CANADA
                   1 PLACE VILLE MARIE, P.O. BOX 6001
                   MONTREAL, QUEBEC
                   CANADA  H3C 3A9

 MODIFICATION TO JES2:

  -TO ALLOW CORRECT HANDLING OF VIRTUAL PRINTERS AND PUNCHES WHEN
   RUNNING MVS/JES2 UNDER VM/370.

  -USES DIAGNOSE TO ISSUE VM/370 'CLOSE' FOR VIRTUAL PRINTERS AND
   PUNCHES AT THE APPROPRIATE TIMES.

  -HAS BEEN INSTALLED AND HAS RUN SUCCESSFULLY ON JES2 REL 4.1
   WITH PTF UZ17711.

  -WORKS WHEN RUNNING MVS/JES2 EITHER NATIVE OR AS A VIRTUAL MACHINE
   UNDER VM/370.

  -3 SEPERATE MODS TO JES2.

  -MODS ARE SUPPLIED AS MEMBERS OF PDS, EACH MEMBER NAME CORRESPONDING
   TO THE JES2 SOURCE TO BE UPDATED.

  -MODS ARE SUPPLIED IN SOURCE FORMAT FOR INPUT TO IEBUPDTE,
   IF SEQUENCING DIFFERENT:

         HASPINIT
           -CHANGES (MEMBER HASPINIT) TO BE INSERTED AFTER THE USING
            STATEMENT THAT FOLLOWS INSTRUCTION AT LABEL 'NWRAPUP'

         HASPPRPU
           -CHANGES (MEMBER HASPPRPU) TO BE INSERTED AFTER
            'USING DCTDSECT,R1' WHICH FOLLOWS SHORTLY AFTER INSTRUCTION
            AT LABEL 'PPABORT'

         $HCT
           -CHANGES (MEMBER $HCT) TO BE INSERTED AFTER STATEMENT WITH
            LABEL '$NEWNEWS'

********************************************************************************
*                                                                              *
*         F I L E   2 6   C B   M O D S                                        *
*                                                                              *
********************************************************************************

THE FOLLOWING MODS ARE SUPPLIED BY FACSO (A U.S. NAVY INSTALLATION) AND
ARE DISTRIBUTED IN IEBCOPY UNLOAD FORMAT.  THE MODS ARE FOR JES2 4.1
WITH AZ27300 (JES2 SOURCE IS CURRENTLY AT 8002).

LAST FILE UPDATE - DECEMBER 1980.
ANY QUESTIONS OR COMMENTS ON THESE MODIFICATIONS MAY BE ADDRESSED TO:

          A. BRUCE LELAND           (805) 982-5447  (SUNDAY-WEDNESDAY)
          P.O. BOX 235
          PORT HUENEME, CAL. 93041

THE JES2 MODIFICATIONS IN THE FOLLOWING WERE BASED ON THE TRW MODS FROM
THE JES2 VERSION 5 MODS TAPE.  SINCE THAT TIME, THE BASE MODIFICATIONS
HAVE CHANGED GREATLY AND SEVERAL MAJOR CHANGES HAVE ALSO BEEN MADE
TO OUR JES2 BASE UPDATES.

IN ADDITION TO COLLECTING AND REPORTING ON JOB RESOURCE REQUIREMENTS,
JES2 AND THE CONVERTER ARE MODIFIED TO ASSIGN A JOB ITS JOBCLASS BASED
ON THE RESOURCES REQUIRED (CPU TIME, REGION SIZE, AND NUMBER OF SETUP
DISK AND TAPE UNITS IN THE MAXIMAL STEP).

THE FOLLOWING IS PROVIDED AS DOCUMENTATION FOR EACH INDIVIDUAL PDS
MEMBER:

  $DOC     -  THIS DOCUMENTATION

  XREFASM  -  A CROSS REFERENCE CONSOLIDATION PROGRAM FOR SYSTEMS OF
              ASSEMBLY ROUTINES.  THIS PROGRAM INPUTS MACHINE READABLE
              ASSEMBLY OUTPUTS (ASSEMBLER "H" OR IFOX), AND OUTPUTS
              A CONSOLIDATED REPORT OF ALL SYMBOLS (INCLUDING LITERALS)
              FOR ALL MODULES.

              IF THE MODULES ARE ASSEMBLED WITH XREF(FULL), THE USER
              MAY ALSO REQUEST PARM=FULL TO OBTAIN A FULL CROSS
              REFERENCE OF ALL DEFINED SYMBOLS; THE DEFAULT PROVIDES
              A LIST SIMILAR TO OUTPUT FROM XREF(SHORT).

              NOTE THAT THE INPUT TO THE PROGRAM MAY BE A SINGLE PDS OR
              A CONCATENATED SEQUENCE OF SEQUENTIAL DATA SETS.

  HOTNEWS  -  A HOTNEWS TRIAL PRINT PROGRAM (NOTE: THIS ROUTINE HAS NO
              APPLICATION ON JES2 SYSTEMS WITH THE HOTNEWS PTF FOR REAL
              HOTNEWS).  THIS ROUTINE INPUTS THE PARMLIB INITIALIZATION
              DECK (OR A CHANGED COPY), FORMATS ANY NEWS ENTRIES AND
              PRODUCES A HOTNEWS OUTPUT.  THIS IS USEFUL IF YOU ARE
              CREATING HOTNEWS LINES WITH MORE THAN 66 DATA CHARACTERS.

  IEFVH1   -  ZAP TO THE CONVERTER WHICH ALLOWS THE JES2 XTXTEXIT EXIT
              ROUTINE TO RESCAN AND/OR MODIFY THE INTERNAL TEXT OF A
              JOB STATEMENT AFTER THE JOB HAS BEEN CONVERTED.  THIS
              ZAP SHOULD BE USED IN CONJUNCTION WITH JES2 MODIFICATIONS
              SUCH AS IN MOD CB-REJCL (DESCRIBED BELOW).

  OPER2    -  A TSO COMMAND PROCESSOR WHICH PASSES JES2 COMMANDS INTO
              JES2 VIA SVC 34.  NOTE: OPER2 MUST BE LINKED WITH AC(1),
              INVOKED FROM AN AUTHORIZED LIBRARY AND MUST BE KNOWN TO
              THE TMP AS AN AUTHORIZED COMMAND (IN CSECT IKJEFTE2);
              OPER2 ALSO CHECKS FOR AUTHORIZED USERS BASED ON THE
              FIRST THREE CHARACTERS OF THE USERID.

              THIS ROUTINE REQUIRES JES2 CHANGES TO ALLOW COMMUNICATION
              FROM JES2 VIA TPUT'S (SEE MOD CB-TPUT BELOW).

  TAPERACK -  A MEMBER CONTAINING IEBUPDTE CONTROLS WITH SOURCE CODE
              FOR THREE ASSEMBLY ROUTINES, STARTED TASK JCL, A SORT
              CONTROL STATEMENT, SEVERAL MACROS AND AN INSTALLATION
              JOB STREAM CALLED $INSTALL (SEVERAL AREAS WHERE JCL
              CHANGES MAY BE REQUIRED ARE NOTED IN THE JCL).  THIS
              INFORMATION FORMS A STARTED TASK CALLED TAPERACK.

              THE OUTPUT FROM TAPERACK IS A SORTED LIST OF VOLUME NAMES
              WHICH SHOULD BE SETUP AND THE JOB(S) WHICH REFERENCE
              EACH VOLUME.  THIS IS USEFUL IN A SHOP WHICH OUTPUTS
              LISTS OF SETUP VOLUMES BY JOB AT JCL CONVERSION TIME
              AS THIS STARTED TASK CAN BE RUN AT ANY TIME TO PROVIDE
              A CURRENT, SORTED LIST OF ALL VOLUMES WHICH SHOULD BE
              SETUP ON THE STAGING RACKS.

              ACCESS TO DATA ON THE SPOOL PACKS IS VIA ROUTINES
              PROVIDED WITH THE QUEUE COMMAND FROM TRW.  NOTE THAT
              TAPERACK IS DEPENDENT ON A MODIFICATION TO THE JES2
              JCT WHICH PLACES A LIST OF ALL SETUP VOLUMES FOR EACH
              JOB IN ITS JCT (SEE MODS CB-CLASS, CB-JOB, CB-EXEC
              AND CB-DD BELOW).

  JES2     -  A MEMBER CONTAINING IEBUPDTE CONTROLS WITH SOURCE CODE
              FOR ALL LOCAL JES2 MODIFICATIONS.  EACH MODIFICATION IS
              IDENTIFIED IN COLUMNS 64 THROUGH 71 WITH THE LETTERS
              CB-XXXXX WHERE XXXXX IS THE MODIFICATION NAME.

              IN THE FOLLOWING, EACH OF THESE MODIFICATIONS ARE
              DISCUSSED FURTHER:

    1.  CB-$DF    ADDS TWO METHODS OF CROSS REFERENCING OUTPUT DATA
                  WITH THE $DF COMMAND.  THE X OPERAND MAY BE USED IN
                  CONJUNCTION WITH ANY OTHER LEGAL OPERANDS FOR $DF.

                  THE FORM $DF,XFFFF WHERE FFFF IS A PARTIAL FORMS NAME
                  PROVIDES A CROSS REFERENCE OF ALL JOES AWAITING
                  OUTPUT WHICH MATCH THE PARTIAL FORMS NAME.  FOR
                  EXAMPLE, $DF,X10 PROVIDES THE FOLLOWING:

                  $HASP000 XREF J=T34    HSYLPF    PRIOR 11  CLASS B         95
                  $HASP000 OUT R=LOCAL    F=1044 C=**** T=****  CLASS B= 1
                  $HASP000 XREF J=J191   H05H0T50  PRIOR 4   CLASS A     18,536
                  $HASP000 XREF J=J328   C8000JAB  PRIOR 8   CLASS A        659
                  $HASP000 XREF J=J284   E60HHJ60  PRIOR 9   CLASS A         61
                  $HASP000 XREF J=S159   C5000JRB  PRIOR 9   CLASS C        406
                  $HASP000 OUT R=LOCAL    F=1094 C=**** T=****  CLASS A= 3,C= 1

                  THE FORM $DF,X=CCCC WHERE CCCC IS A LIST OF THE
                  OUTPUT CLASSES PROVIDES A CROSS REFERENCE OF ALL
                  JOES AWAITING OUTPUT IN THE CLASSES NAMED.  FOR
                  EXAMPLE, $DF,X=BLDEFX PROVIDES THE FOLLOWING:

                  $HASP000 XREF J=S1     SYSLOG    PRIOR 5   CLASS L      5,905
                  $HASP000 XREF J=T75    HSYLPF    PRIOR 9   CLASS X        426
                  $HASP000 XREF J=T34    HSYLPF    PRIOR 6   CLASS X      4,280
                  $HASP000 OUT R=LOCAL    F=STD. C=**** T=****  CLASS L= 1,X= 2
                  $HASP000 XREF J=J284   E60HHJ60  PRIOR 7   CLASS B         46
                  $HASP000 OUT R=LOCAL    F=X002 C=**** T=****  CLASS B= 1

    2.  CB-$DJOB MODIFIES THE $D'JOBNAME COMMAND TO DISPLAY SELECTED
                 JOBS FOR OUTPUT BASED ON A PARTIAL JOBNAME.  FOR
                 EXAMPLE, $D'ABCDEF DISPLAYS ANY JOBS WHOSE JOBNAMES
                 BEGIN WITH ABCDEF; NOTE THAT THE FORM $D'ABCDEF'
                 REPORTS ON ONLY JOB ABCDEF AS BEFORE.

    3.  CB-$DU    MODIFIES THE $DU MESSAGE FOR ACTIVE PRINTERS AND
                  PUNCHES TO INDICATE THE NUMBER OF LINES (OR CARDS)
                  LEFT TO PROCESS.

                  NUMBERS ABOVE 999,999 ARE PRINTED AS 999,999.
                  IF THE NUMBER OF LINES LEFT IS NOT AVAILABLE, THE
                  NUMBER OF LINES DONE (D=...) IS PROVIDED INSTEAD.

                  FOLLOWING IS A SAMPLE OUTPUT:

              $HASP000 PRINTER2  00E DRAINING (JOB   140 C5000JTD,L=183,252) ...

    4.  CB-$MJ    ADDS A $MJ AND $M'JOBNAME' COMMAND WHICH MAY BE USED
                  TO LIST THE VOLUME SETUP REQUIREMENTS (THE VOLUME
                  NAMES OF REQUIRED VOLUMES) FOR ANY JOB IN EXECUTION
                  OR AWAITING EXECUTION.  FOR EXAMPLE:

                  $HASP000 D21HOJ03 NEEDS THE FOLLOWING VOLUMES:
                  $HASP000 D21HOJ03  DISK04 069571 072336

    5.  CB-CHAN1  MODIFIES JES2 HASPPRPU TO COUNT AND/OR CHECKPOINT
                  PRINTER EJECT COMMANDS ONLY.  OTHER SKIP-TO-CHANNEL
                  COMMANDS ARE NOT CONSIDERED WHEN COUNTING OR CHECK-
                  POINTING PAGES.

    6.  CB-CLASS  ADDS SUPPORT IN JES2 TO COLLECT JOB RESOURCE
                  REQUIREMENTS.  THIS MOD DEFINES MOST SYMBOL NAMES
                  WHICH ARE USED BETWEEN MODS.

                  THIS MOD CREATES A SORTED LIST OF RESIDENT DISK
                  DISK VOLUME NAMES FOR LATER CHECKING AGAINST DISK
                  VOLUME NAMES FROM THE JCL AND THE CATALOG.

                  THIS CODE ALSO MODIFIES THE BASIC JES2 DISPLAY
                  COMMANDS ($D' AND $DN) TO PROVIDE THE TOTAL
                  NUMBER OF SETUP DISK VOLUMES AND SETUP TAPE
                  VOLUMES.  THE FOLLOWING IS AN EXAMPLE OUTPUT:

                  $HASP000 R80H0JSO WAIT EXC M       T=12 D= 1 PRI 11

                  THE $L COMMAND IS ALSO MODIFIED TO OUTPUT THE NUMBER
                  OF LINES IN EACH OUTPUT CLASS RATHER THAN THE NUMBER
                  OF DIFFERENT OUTPUT CLASSES.  FOR EXAMPLE:

                  $HASP000 Z88OOJ48 WAIT PPU PRI=08 A  1,017
                  $HASP000                   PRI=09 C    408

    7.  CB-CRASH  THE TSO SEND MESSAGE IN HASPPRPU IS EXPANDED TO
                  INDICATE TYPES OF JES2-RELATED JOB CANCELLATIONS
                  (INVALID CONTROL CARDS, INVALID APPLICATION NUMBERS
                  AND SECURITY VIOLATIONS) AND THE FACT OF SYSTEM
                  CRASHES DURING JOB EXECUTION.

                  THE JES2-RELATED MESSAGES ARE RECEIVED AT THE
                  TERMINAL IMMEDIATELY AFTER JOB SUBMISSION. THE
                  FOLLOWING IS AN EXAMPLE MESSAGE:

                  $HASP165 JOB 2600  HSYABLZ TERMINATED DUE TO
                           AN INVALID /*ROUTE STATEMENT    CN(00)

    8.  CB-DD     PROVIDES DD STATEMENT SCANNING FOR UNIT REQUIREMENTS
                  AND SETUP VOLUMES.  FOR THOSE DD STATEMENTS WHICH
                  REFERENCE CATALOGED DATA SETS, THE CATALOG ENTRY
                  IS REFERENCED; ALL VOLUME REQUIREMENTS ARE TABLED
                  FOR OUTPUT TO THE VOLUME STAGING STATION.

                  DISK VOLUME NAMES ARE CHECKED AGAINST A SORTED
                  LIST OF RESIDENT VOLUMES (VIA A PARTITIONED SEARCH)
                  TO DETERMINE IF A SETUP VOLUME IS ACTUALLY REQUIRED.

    9.  CB-EXEC   PROVIDES EXEC STATEMENT SCANNING AND MODIFICATION
                  CAPABILITIES.  PERFORM, ADDRSPC AND DPRTY KEYWORDS
                  ARE REMOVED EXCEPT FOR SPECIAL USERS AND TIME
                  PARAMETERS OF 1440 ARE CHANGED TO 1439.

                  IN ADDITION, THE TAPE AND DISK UNIT REQUIREMENTS OF
                  ANY PREVIOUS STEP ARE SUMMARIZED.

   10.  CB-FLAGC  CONTAINS LOCAL FLAG CARD MODIFICATIONS

   11.  CB-FLAGP  CONTAINS LOCAL FLAG PAGE MODIFICATIONS.  TWO FLAG
                  HEADER PAGES WITH BLOCK LETTERS ARE WRITTEN (THE
                  SECOND BLOCK LETTER LINE IS USED FOR A EIGHT DIGIT
                  ROOM NAME).

                  A THIRD BLOCK LETTER LINE IS ADDED TO IDENTIFY
                  SYSTEMS AND OPERATIONS USERS AS WELL AS ERROR
                  CONDITIONS NOTED IN MOD CB-CRASH.  SEVERAL SPECIAL
                  CHARACTERS (ASTERISK, MINUS, SLASH AND EQUAL) ARE
                  ADDED TO THE TABLE OF BLOCKED LETTERS.

                  A TABLE OF ROOM NUMBERS IS ADDED FOR STARTED
                  TASKS AND DYNAMICALLY ALLOCATED SYSOUTS SO THAT
                  THE SECOND BLOCK LETTER LINE WILL CONSISTENTLY
                  CONTAIN DESTINATION INFORMATION.

   12.  CB-IRDR   UNIT=INTRDR IN INTERNAL TEXT IS REPLACED BY
                  SYSOUT=(A,INTRDR).  CAUTION: THIS IS PERFORMED
                  ONLY FOR BATCH JOBS.

   13.  CB-JOB    PROVIDES JOB STATEMENT SCANNING AND MODIFICATION
                  CAPABILITIES.

                  THIS MODIFICATION REMOVES ADDRSPC, CLASS, PERFORM
                  AND PRTY KEYWORDS FROM THE INTERNAL TEXT OF ALL
                  JOB STATEMENTS EXCEPT FOR CERTAIN SPECIAL USERS.
                  FOR STANDARD USERS, PERFORM=1 AND CLASS=A IS FORCED;
                  HOWEVER, THESE KEYWORDS ARE MODIFIED AGAIN LATER
                  IN A SECOND JOB STATEMENT SCAN (SEE CB-REJCL).

                  ACCOUNTING NUMBER AND ROOM NAME FIELDS ARE ALLOWED
                  TO OCCUPY UP TO EIGHT CHARACTERS.

                  JOBCARD REGION REQUESTS ARE FORCED TO A MINIMUM OF
                  512K.  LARGER REGION REQUESTS ARE HONORED AS CODED.

                  JOBCARD CPU TIME REQUESTS ARE SCALED BY A FACTOR OF
                  1.5 TIMES AFTER LIMITING THE CPU TIME TO A MAXIMUM
                  OF 1439 MINUTES AND PROVIDING A DEFAULT OF 30 SECONDS.

   14.  CB-OPERP  TEMPORARY FIX TO ALLOW OPERATOR-CONTROLLED FORMS
                  TO WORK AS ADVERTISED AT SOURCE LEVEL 8002.

   15.  CB-OPERS  PROVIDES TWO SHORT FORMS FOR THE $T COMMAND:
                  $TPRT3,F=R  IS EQUIVALENT TO  $TPRT3,F=STD.
                  $TPRT3,F=A  IS EQUIVALENT TO  $TPRT3,F=AUTOM

   16.  CB-PRNTR  LOCAL PRINTER TRANSLATION MODIFICATIONS.

                  UPPER-CASE TRANSLATION IS PERFORMED ONLY FOR
                  1403 PRINTERS WITHOUT A SPECIAL TEXT TRAIN (TN).

                  A SECOND TRANSLATE TABLE WHICH ALLOWS LOWER-CASE
                  CHARACTERS IS ADDED FOR TEXT TRAIN OUTPUTS, XEROX
                  1200 OUTPUTS AND CERTAIN RJE'S.

                  UCS AND FCB IMAGES ARE NOT SENT TO THE XEROX 1200
                  PRINTER (THE BUILT-IN DEFAULT IMAGES ARE ALWAYS USED).

   17.  CB-PROT   DATA SET SECURITY MONITORING.

                  AUTHORIZED AND NON-AUTHORIZED USERS ARE DETERMINED BY
                  CHECKING FIELDS FROM THE JOB STATEMENT.  EACH DATA
                  SET REFERENCED IN THE JCL BY UNAUTHORIZED USERS IS
                  CHECKED AGAINST AN EXCEPTION TABLE OF PARTIAL DATA
                  SET NAMES.  ALLOCATION BY SPECIFIC VOLUME NAME IS
                  ALSO CHECKED AGAINST AN EXCEPTION TABLE.

                  IF A VIOLATION OCCURS, A MESSAGE WITH JOBNAME,
                  VOLUME AND/OR DATA SET NAME IS OUTPUT TO THE
                  SECURITY LOG AND THE JOB LOG; AT THE END OF THE
                  JCL SCAN, THE JOB IS CANCELLED.

   18.  CB-REJCL  IMPLEMENTS A SECOND JOB STATEMENT SCAN.  THE
                  CONVERTER HAS BEEN MODIFIED (VIA A ZAP) TO
                  REINVOKE THE JES2 XTEXTXIT AFTER ALL JCL FOR
                  A JOB HAS BEEN CONVERTED.

                  THE JES2 CODE SUMMARIZES THE JOB'S REQUIREMENTS
                  IN TERMS OF CPU TIME, REGION SIZE AND MAXIMUM
                  SETUP DISK AND TAPE UNITS IN ANY STEP AND ASSIGNS
                  A JOB CLASS CORRESPONDING TO THOSE REQUIREMENTS.

                  IN ADDITION, THE JOB'S PERFORMANCE GROUP MAY BE
                  SET IN THE SAME FASHION.  CERTAIN USERS ARE EXEMPT
                  FROM THIS RECLASSING ACTION FOR VARIOUS REASONS.

                  A SORTED LIST OF DISK AND TAPE VOLUMES NEEDED FOR
                  OPERATOR SETUP IS OUTPUT BY JOB; ANY JOB REQUIRING
                  SETUP BY VOLUME NAME IS PLACED ON HOLD

   19.  CB-REMOT  ALLOWS AN ALTERNATE SPELLING (REMOTE) FOR THE JES2
                  KEYWORD RMT.

   20.  CB-TPUT   ALLOWS JES2 COMMANDS TO BE ISSUED BY KEY ZERO TSO
                  COMMAND PROCESSORS VIA SVC 34.  THIS SECTION OF JES2
                  MODIFICATIONS PROVIDES THE JES2 RESPONSE (VIA TPUT'S)
                  TO ANY SUCH COMMANDS.

   21.  CB-TRAP   PROVIDES AN INTERNAL TEXT TRAP FOR USE IN DEBUGGING
                  JES2 CODE WHICH REFERENCES CONVERTED INTERNAL TEXT.
                  WHEN THE TRAP IS SPRUNG, A COPY OF THE INTERNAL TEXT
                  IS WRITTEN TO SMF IN THE TYPE 26 RECORD.  THE TRAP
                  CAN BE USED FOR JOB, EXEC OR DD STATEMENTS.  IF NO
                  TRAP IS INVOKED FOR A JOB, THE LIST OF SETUP VOLUMES
                  IS RECORDED IN THE SMF RECORD INSTEAD OF ITEXT DATA.

   22.  CB-UNCAT  PROVIDES SUPPORT FOR AN NEW JES2 CONTROL STATEMENT
                  -- /*UNCATDEL DATA.SET.NAME

                  THIS CONTROL STATEMENT INSTRUCTS JES2 TO DISPOSE
                  OF THE NAMED DATA SET BEFORE CONVERTER TIME.  IN
                  ADDITION, IT IS CONDITIONAL IN THAT IT ONLY TAKES
                  EFFECT IF THE DATA SET IS CATALOGED.

                  ACTION: IF THE DATA SET IS CATALOGED, UNCATALOG IT;
                  IF IT IS A DISK DATA SET, SCRATCH IT TOO.

                  THIS IS IMPLEMENTED AS A JES2 SUBTASK WHICH GAINS
                  CONTROL AT READER TIME WHENEVER AN UNCATDEL CONTROL
                  STATEMENT IS INPUT.  THUS, THE PROBLEM OF IMPLIED
                  WAITS IN JES2 MAINLINE CODE IS AVOIDED.

                  PURPOSE: SINCE VOLUME SETUP IS PERFORMED AT CONVERTER
                  TIME, IT IS IMPORTANT THAT ANY POSSIBLE CATALOG
                  CLEAN-UP BE PERFORMED BEFORE THAT TIME.

********************************************************************************
*                                                                              *
*         F I L E   2 7   G M D   M O D S                                      *
*                                                                              *
********************************************************************************

THIS FILE CONTAINS JES2 MODS FROM GESELLSCHAFT FUER MATHEMATIK UND
DATENVERARBEITUNG. MODS ARE IN IEBUPDTE FORMAT FOR JES2 4.1.
LAST FILE UPDATE AUGUST 1979.

ANY QUESTIONS OR COMMENTS ON THESE MODIFICATIONS MAY BE ADDRESSED TO:

                   P. FRIESSEM
                   GESELLSCHAFT FUER MATHEMATIK UND DATENVERARBEITUNG
                   RIEMENSCHNEIDERSTR. 11
                   D-5300 BONN 2  GERMANY

 MODIFICATION TO JES2:

   THE JOB SELECTION CRITERIA FOR INITIATORS IS CHANGED SO THAT AN
   INITIATOR WILL SELECT THE HIGHEST PRIORITY JOB FROM ALL THE
   CLASSES FOR WHICH IT IS ELIGIBLE. IN CASE OF A TIE THE JOB WITH
   THE OLDEST INPUT PROCESSOR TIME AND DATE IS SELECTED.

********************************************************************************
*                                                                              *
*         F I L E   2 8   U O K   M O D S                                      *
*                                                                              *
********************************************************************************

THE FOLLOWING MODS ARE SUPPLIED BY UNIVERSITY OF OKLAHOMA IN IEBCOPY
UNLOADED FORMAT.  LAST FILE UPDATE SEPTEMBER 1980.

***********************************************************************
*      J E S 2    M O D I F I C A T I O N S    M A D E   B Y          *
*          U N I V E R S I T Y   O F   O K L A H O M A                *
*                                                                     *
*   CONTACT: CATHERINE GRIFFITH                (405) 325-7282         *
*            UNIVERSITY OF OKLAHOMA AT NORMAN                         *
*            UNIVERSITY COMPUTING SERVICES                            *
*            1610 NEWTON DRIVE                                        *
*            NORMAN, OKLAHOMA, 73019                                  *
*                                                                     *
***********************************************************************

  UOK01  - SEPARATOR CARD FOR PUNCHED OUTPUT.
           (HASPPRPU)

  UOK02  - FORCE OPERATOR TO $S PUNCH FOR EACH PUNCH JOB.
           (HASPPRPU)

  UOK03  - SEPARATOR PAGES FOR PRINTED OUTPUT.
           (HASPPRPU)

  UOK04  - ADD OUTDEST PARAMETER TO THE /*JOBPARM CARD.  ALLOWS
           THE USER TO SPECIFY THE INTENDED DESTINATION OF A
           JOB'S OUTPUT REGARDLESS OF WHERE IT WAS READ IN OR
           PRINTED(PUNCHED).  THE DESTINATION SPECIFIED IS
           PRINTED ON THE OUTPUT SEPARATOR.
             FORMAT:  /*JOBPARM OUTDEST (OR DEST) = RNNN
                                                    RMNNN
                                                    RMTNNN
                                                    UNNN
                                                    LOCAL
                                                    NAME
           (HASPPRPU, HASPRDR)

  UOK05  - $QJ COMMAND TO DISPLAY JOB RESOURCE REQUIREMENTS.
           THIS MODIFICATION CHANGED THE JQE TO INCLUDE NUMBER OF
           TAPE DRIVES, NUMBER OF DISKS AND THEIR VOLSERS, CPU TIME
           AND CORE REQUIREMENTS.
             FORMAT:  SAME AS $DJ
           ($JQE, HASPCOMM, HASPRDR)

  UOK06  - /*PASSWORD CARD.  THIS MODIFICATION CREATES AN EXTRA
           PDDB TO CONTAIN DATA SET NAMES WITH THEIR PASSWORD AS
           SPECIFIED ON THE /*PASSWORD CARD.  THIS REQUIRES
           SPECIAL IEFUJI EXIT AND MODIFICATION TO READPSWD TO
           FULLY IMPLEMENT.
             FORMAT:  /*PASSWORD PSWD DATASETNAME
           (HASPRDR, HASPXEQ)

  UOK07  - REMOTE PRINT AND PUNCH ROUTE TABLE.  A NEW TABLE WAS
           ADDED TO THE SYS1.JES2.PARMLIB PARAMETER INTIALIZATION
           MEMBER.  THIS TABLE SIGNIFIES AUTOMATIC ROUTING IF
           PRINT OR PUNCH EXCEEDS THE SPECIFIC LIMIT OF THE REMOTE.
             FORMAT:  &RMRT(N)=PPPPPPPPRRUUUUUUUUSS
                            N = REMOTE NUMBER, 0 FOR LOCAL
                     PPPPPPPP = 8 HEX DIGITS SIGNIFYING UPPER LIMIT
                                OF PRINT LINES/JOB FOR THIS REMOTE.
                           RR = REMOTE NUMBER TO ROUTE TO.
                     UUUUUUUU = 8 HEX DIGITS SIGNIFYING UPPER LIMIT
                                OF PUNCH CARDS/JOB FOR THIS REMOTE.
                           SS = REMOTE NUMBER TO ROUTE TO.
           ($HCT, HASPINIT, HASPPRPU)

  UOK08  - SET JOB EXECUTION PRIORITY ACCORDING TO CLASS
           RESTRICTION AND PRIORITY TABLES.  THESE TABLES ARE NEW
           PARAMETERS IN SYS1.JES2.PARMLIB.
    FORMAT:  CLASSN CLASS=C,TIME=T,REG=RRR,TAPE=E,DISK=D,PRIOTAB=P
                    N = # OF ENTRY IN THE TABLE
                    C = CLASS, E.G. CLASS=A
                    T = MAX CPU TIME ALLOWED IN SECONDS
                  RRR = MAX REGION ALLOWED
                    E = # OF TAPE DRIVES ALLOWED
                    D = # OF DISK MOUNTS ALLOWED
                    P = # OF CORRESPONDING PRIORITY TABLE
             PRIOTABN REG=RR,PRIO=((SS;PP);(SS;PP))
                    N = # OF PRIORITY TABLE
                   RR = REGION SIZE
                   SS = SECONDS OF CPU TIME
                   PP = CORRESPONDING PRIORITY
             PLEASE NOTE THERE CAN BE MORE THAN ONE STATEMENT FOR
             EACH PRIORITY TABLE.  E.G.
              PRIOTAB1 REG=64,PRIO=((10;13);(30;12);(60;11))
              PRIOTAB1 REG=128,PRIO=((10;12);(30;11);(60;10))
              PRIOTAB1 REG=128,PRIO=((90;9);(120;8);(180;7))
           ($HCT, HASPINIT, HASPRDR, HASPXEQ)

  UOK09  - ADDITIONAL PARAMETERS TO THE $DF COMMAND WHICH DISPLAY
           JOB NUMBER, FORM, REAL OUTPUT PRIORITY, NUMBER OF OUTPUT
           RECORDS, ETC.
             FORMAT:  $DF,F=FFFF   DISPLAYS ALL JOBS WITH THIS FORM
                          FFFF = FORM TO BE DISPLAYED
                      $DF,J=JN(OR JN-NNNN)  DISPLAYS ALL FORMS FOR
                                   THESE JOB NUMBERS
           (HASPCOMM)

  UOK10  - DELETE EXTRANEOUS MESSAGES.  FORCE ALL COMMANDS ENTERED
           THROUGH CARD READERS TO APPEAR ON ASSOCIATED CONSOLE.
           (HASPRDR, HASPMISC, HASPCOMM)

  UOK11  - ACCOUNTING MODIFICATION.  TWO NEW MODULES HASPUOKA AND
 HASPUOKA  HASPUOKI HAVE BEEN ADDED.  HASPUOKA PASSES THE JOB
 HASPUOKI  STATEMENT ACCOUNTING FIELDS TO THE ACCOUNT VERIFICATION
           ROUTINE.  BECAUSE A JES2 PROCESSOR IS NOT ALLOWED TO
           DIRECTLY ISSUE AN OS WAIT, HASPUOKA ATTACHES A SUBTASK,
           HUOKACT, WHICH CALLS A USER EXIT ACCTVER WHICH IS
           ALLOWED TO ISSUE OS WAITS.  HASPUOKI USED QSAM GET TO
           INPUT ACCOUNTING CHARGES AND TO BUILD IN-CORE ACCOUNTING
           TABLES FOR LATER USE.
           ($HCT, $JCT, $JQE, $PCE, $SVT, HASPINIT, HASPNUC,
            HASPPRPU, HASPRDR, HASPXEQ)

  UOK12  - XBATCH ACCOUNTING MODIFICATION.  THIS LINKS TO OUR
           XBATCH ACCOUNTING ROUTINE UOKXTRM.
           (HASPSSSM)

  UOK14  - FORCE THE PN TRAIN TO FOLD LOWER CASE TO UPPER CASE
           CHARACTERS.
           (HASPPRPU)

  UOK15  - AEP MOD FROM JES MODS TAPE TO DISALLOW $EJ ON JOBS WITH
           RESTART=N SPECIFIED.
           (HASPCOMM)

  UOK16  - OHIO STATE UNIVERSITY MODIFICATION TO ALLOW THE USE OF
           /*TAG CARDS FOR THE IBM SERIES/1 USING WIDGET.  THIS
           MOD SAVES THE /*TAG CARD AND RETURNS IT AS 'TAG: '
           ($JCT, $RDRWORK, HASPPRPU, HASPRDR)

ACCTVER  - ACCOUNT VERIFICATION
           EXIT CALLED BY HASPUOKA.  THIS EXIT GETS AN ACCOUNT
           CODE FROM THE JOB CARD AND VERIFIES THAT THE CODE IS
           VALID AGAINST A BDAM MASTER FILE.

IEFACTRT - JOB/TSO SESSION, STEP TERMINATION AND JOB END
           SAVES ACCOUNTING INFORMATION FOR EACH STEP AND, AT
           JOB TERMINATION, WRITES AN SMF BILLING RECORD.  IT
           ALSO PRINTS A "CHARGE BLOCK" ON THE JES2 JOB LOG USING
           THE JES2 ACB FOR THE JOB LOG.  FOR EACH STEP IT WILL
           ALSO PRINT A MESSAGE FOR EACH DEVICE USED IN THE STEP
           THAT THE TOTAL EXCP COUNTS.

IEFUJI   - THIS EXIT FORCES DEFERRED MOUNTING FOR SCRATCH TAPE
           REQUESTS BY ALTERING THE SIOT IN SWA.  IT ALSO
           OBTAINS STORAGE FOR A VECTOR TABLE, PASSWORDS, AND
           ACCOUNTING DATA.  IT THEN OPENS A SPECIAL PDDB CREATED
           BY HASPRDR WHICH CONTAINS PASSWORD/DATASET NAME
           COMBINATIONS TO BE USED BY THE READPSWD ROUTINE.

UCS1ALA  - UCS IMAGE FOR THE ALA PRINT TRAIN.

UOKJBTRM - JOB TERMINATION
           ENTERED FROM IEFACTRT TO PRINT "CHARGE BLOCK" ON
           JES2 JOB LOG.  IT USES THE JES2 JOB LOG ACB.

UOKXTRM  - XBATCH TERMINATION
           CALLED FROM HASPSSSM WHEN AN XBATCH JOB IS TERMINATING.
           THIS EXIT CALLS UOKJBTRM AND WRITES AN SMF BILLING
           RECORD.

READPSWD - REPLACEMENT FOR THE IBM READPSWD ROUTINE THAT ASKS THE
           OPERATOR FOR A PASSWORD WHEN A PASSWORD PROTECTED
           DATASET IS OPENED.  THIS ROUTINE USES THE INCORE TABLE
           BUILT BY IEFUJI TO GET THE PASSWORD.

********************************************************************************
*                                                                              *
*         F I L E   2 9   A V C O   M O D S                                    *
*                                                                              *
********************************************************************************

THE FOLLOWING MOD IS SUPPLIED BY AVCO FINANCIAL IN IEBUPDTE FORMAT.
LAST FILE UPDATE SEPTEMBER 1979.

***********************************************************************
*      J E S 2    M O D I F I C A T I O N S    M A D E   B Y          *
*          A V C O   F I N A N C I A L   S E R V I C E S              *
*                                                                     *
*   CONTACT: LARRY SCOTT                       (714) 644-5800 X 7174  *
*            AVCO FINANCIAL SERVICES                                  *
*            620 NEWPORT CENTER DRIVE                                 *
*            NEWPORT BEACH, CALIFORNIA, 92660                         *
*                                                                     *
***********************************************************************

  AVCO001 - ROTATING CLASSES WITHIN AN INITIATOR

            THIS MOD WILL FORCE THE INITIATOR TO CHANGE THE CLASS
            THAT WILL BE SELECTED.  FOR EXAMPLE WITH INITIATOR
            SETTING OF:  ABCD9X  AFTER A JOB HAD BEEN SELECTED
            THE "A" WOULD BE PLACED IN FRONT OF THE "9", I.E.
            BCDA9X.  THIS DOES NOT IMPLY THAT A CLASS "A" JOB
            HAD BEEN SELECTED BUT MERELY THAT A JOB OF ANY ONE
            OF THE FIVE CLASSES HAD BEEN INITIATED.
            THE 9 IS THE DELIMINETER FOR ROTATING CLASSES. THOSE
            CLASSES IN FRONT OF THE 9 WILL BE ROTATED AND THOSE
            BEHIND THE 9 WILL NOT.

    MODULES CHANGED:  1) HASPXEQ   -  NUMBER OF CARDS 49

    MACROS CHANGED:   NONE

           THIS MOD HAS BEEN RUN SUCCESFULLY ON JES2 RELEASE 4.1
           PRIOR TO OZ20010 AND IT IS CURRENTLY RUNNING ON OUR
           SYSTEM WITH 0Z20010 APPLIED. THIS MOD HAS NOT BEEN
           TESTED ON JES2 WITH AZ27300 (DUPLEX CHECKPOINT).

********************************************************************************
*                                                                              *
*         F I L E   3 0   D B   M O D S                                        *
*                                                                              *
********************************************************************************

THE FOLLOWING MOD IS SUPPLIED BY DEUTSCHE BUNDESBANK IN IEBUPDTE FORMAT.
LAST FILE UPDATE SEPTEMBER 1979.

  CONTACT:  KLAUS TIMMERMANN
            DEUTSCHE BUNDESBANK
            POSTFACH 2633
            D-6000 FRANKFURT AM MAIN
            WEST GERMANY

  JE01301 - DISPLAY LINE COUNT SUMMARY ON $DF COMMANDS

            MODIFICATION TO $DF COMMAND TO LIST THE NUMBER OF PRINT
            LINES FOR EACH OUTPUT CLASS, INDIVIDUAL JOBS, OR LOCAL/
            REMOTE PRINTERS.

    MODULES CHANGED:  1) HASPCOMM  -  NUMBER OF CARDS 9

********************************************************************************
*                                                                              *
*         F I L E   3 1   M S P   M O D S                                      *
*                                                                              *
********************************************************************************

FILE IS AN IEBCOPY UNLOADED DATASET. LAST FILE UPDATE DECEMBER 1980.

THE FOLLOWING MODS ARE SUPPLIED BY MOTOROLA INC., WESTERN AREA
COMPUTER CENTER (WACC).  THEY ARE IN IEBUPDTE FORMAT WITH SEQUENCE
NUMBERS ON ALL LINES. MOST CODE IN COPY MEMBERS.  UPDATES ARE IN
MEMBER "UPDATE", SEPERATED BY MOD.  WE USE A PREPROCESSOR TO SORT THE
UPDATES BY MODULE.  THEY ARE FOR JES2 4.1 (SU25) AND ARE ON A SYSTEM
RUNNING AT PTF LEVEL 7910 PLUS P.E.'S.  ANY QUESTIONS CAN BE ADDRESSED
TO:

          RICH FABISH
          MOTOROLA INC.  -  WACC
          8201 E. MCDOWELL RD.
          SCOTTSDALE, AZ. 85257
          TEL: (602) 949-2612

===>WE WOULD LIKE TO KNOW WHO IS USING OUR MODS. JUST TELEPHONE OR
===>DROP A NOTE TO THE ABOVE ADDRESS.

SMSP AD  ADDRESSABILITY          EXTENDS ADDRESSABILITY IN HASPXEQ.
                                 NECESSARY BECAUSE OF MULTIPLE
                                 MOTOROLA MODS TO HASPXEQ.

SMSP AX  ACF2 MODIFICATIONS      A SERIES OF MODIFICATIONS RELATED
                                 TO THE ACF2 SECURITY PACKAGE FROM
                                 SCHRAGER, KLEMENS & KRUGER INC.
                                 SMSPA2 PASSES THE LOGON-ID (LID)
                                 FROM THE SUBMITTING NODE TO THE
                                 EXECUTING NODE WHEN USING MOTOROLA
                                 JES2-TO-JES2 (MODS SMSP9X).  MOD
                                 SMSPA4 GENERATES A DEFAULT LID
                                 BASED ON A PREFIX IN PARMLIB
                                 (&ACFPRFX) FOLLOWED BY THE REMOTE
                                 NUMBER.  MODS TO ACF2 ITSELF ARE IN
                                 MEMBER ACF2MODS (SMP FORMAT): TM00001
                                 ALLOWS JES2 MOD SMSP21 TO SEND THE
                                 ACF2 NOTIFY MESSAGES TO RJE'S.
                                 TM00002 ALLOWS A SECOND LID VALIDATE
                                 BASED ON A DEFAULT LID IF THE JOB
                                 CAME FROM A RELAY LINE AND THE
                                 LID OF THE SUBMITTOR IS NOT VALID
                                 AT THE EXECUTING NODE.  TM00003 ADDS
                                 THE TSO "$" COMMAND TO BE AUTHORIZED.
                                 (THE "$" COMMAND IS A MOTOROLA TSO
                                 COMMAND TO GET A PROGRAM FROM THE
                                 LINKLIST.  AUTHORIZATION ALLOWS
                                 EXECUTION OF IEBCOPY ON TSO BY
                                 ISSUING "$ IEBCOPY".)

SMSP01   PRINT TRANSLATE TABLE   REPLACES IBM'S TRANSLATE TABLE
                                 WITH ONE WHICH TRANSLATES ALL
                                 CHARACTERS BELOW BLANK TO BLANK
                                 AND LOWER CASE A-Z AND 0-9 TO
                                 UPPER CASE.

SMSP02   SEPARATOR PAGE          NEW SEPARATOR PAGE.  HAS FORMS, FCB
                                 AND UCS IN ADDITION TO STANDARD
                                 FIELDS. ALSO HAS DATA RELATING TO
                                 HASP-TO-HASP (SMSP 9X).

SMSP03   ALLOW 2 CCOMCHR'S       NEW PARAMETER &ALTCMCH. SAME
         (NEW INIT PARAMETER)    FORMAT AS &CCOMCHR. CAN SPECIFY
                                 ";" FOR &ALTCMCH BUT NOT FOR
                                 &CCOMCHR.  ALLOWS UP TO TWO CHARACTERS
                                 FOR JES COMMANDS  WE USE $ AND ;.

SMSP04   ACCOUNTING SCAN         SCANS ACCOUNTING PARAMETERS. THIS
                                 MOD IS NOT DISTRIBUTED THRU SHARE.
                                 CALL IF YOU WANT IT.
                                 THIS MOD ALSO ISSUES A LOAD FOR THE
                                 IEFUJV SMFEXIT IN HASPINIT TO STOP
                                 THE BLDL PROCESSING IN THE CONVERTER
                                 EACH TIME A JOB IS CONVERTED.

SMSP05   $DI INVALID FROM RMTS   RJE'S CANNOT ISSUE $DI.  ONE CARD MOD.

SMSP06   $DA ROUTE DEFAULTS      $DA FROM REMOTE DEFAULTS TO ONLY
                                 JOBS WITH DEFAULT ROUTING TO THAT
                                 REMOTE OR ACTIVE ON THAT REMOTE.
                                 NEW OPERAND R=DEST1-DEST2 ALLOWS
                                 SPECIFICATION OF ROUTE, ROUTE RANGE,
                                 OR 'ALL' ('ALL' ALLOWED BECAUSE OF
                                 CHANGE IN MOD SMSP94).  FOR JOBS IN
                                 EXECUTION, SELECTION DEPENDS UPON
                                 DEFAULT PRINT OR PUNCH ROUTING IN
                                 THE JQE.  FOR JOBS ON DEVICES,
                                 SELECTION IS BASED UPON THE JQEDEVID
                                 MATCHING THE RATROUTE (READERS) OR
                                 JOEROUT MATCHING RATROUTE (PRINTERS
                                 AND PUNCHES). WORKS ACROSS SHARED
                                 SPOOL AND WITH POOLED REMOTES.

SMSP07   PRINT/PUNCH ESTIMATES   9999 SPECIFIED FOR PUNCH ESTIMATE
                                 IN ACCOUNTING PARMS RESULTS IN
                                 AN ESTIMATE OF 100,000. IF SPECIFIED
                                 IN /*JOBPARM, IT MEANS 9999.
                                 CLASS O JOBS GET A DEFAULT LINE
                                 ESTIMATE OF 50K.  ALL OTHER CLASSES
                                 COME FROM &ESTLNCT.

SMSP08   CHANGES TO UCS/DSJP     NUMERIC UCS IS USED AS DSJP (REPORT
                                 NUMBER). &PRTUCS IS LOADED INTO THE
                                 BUFFER AND SET IN THE UCB, BUT THE
                                 NUMERIC VALUE IS SET IN THE DCT.
                                 ALSO, THE $T COMMAND IS CHANGED SO
                                 THAT T=**** OR C=**** SETS THE
                                 PRINTER TO &PRTUCS OR &PRTFCB.

SMSP09   COUNT ONLY CHANNEL 1    COUNT ONLY CHANNEL 1 AS A NEW PAGE
                                 FOR SMF RECORDS.

SMSP13   FIFO QUEUING FOR EXEC   ALL JOBS FOR A CLASS ARE EXECUTED
                                 FIRST-IN-FIRST-OUT.

SMSP21   "END EXEC" MSG TO RJE   MESSAGE $HASP165 (THE NOTIFY MESSAGE)
                                 IS SENT TO RJE'S WITH CONSOLES WHICH
                                 HAVE A ROUTE CODE MATCHING THE JOB'S
                                 INPUT OR PRINT ROUTE CODE.  THE RJE
                                 MUST BE HAVE A CONSOLE AND BE SIGNED
                                 ON.

SMSP22   STEP NUMBER AND NAMES   $DA COMMAND PUTS STEP NUMBER AND NAMES
         (PROC AND STEP) IN      (PROC AND STEP) IN THE DISPLAY MESSAGE.
         $DA MESSAGE             NOTE: THIS IS DONE ONLY FOR JOBS (NOT
                                 STC'S OR TSU'S).
                                 THE MOD WORKS BY ACTIVATING THE
                                 STEP INITIATION EXIT (IEFSSREQ MACRO
                                 WITH SSOB CODE 22). HASPSSSM SAVES THE
                                 STEP NUMBER AND NAMES(PROC AND STEP)
                                 IN THE SJB AND POST THE XEQ PROCESSOR.
                                 THE XEQ PROCESSOR GET A FREE JQE AND
                                 STORES THE STEP NUMBER AND NAMES(PROC
                                 AND STEP) IN THIS JQE. THIS JQE IS
                                 CHAINED OFF A NEW QUEUE IN THE CHECK
                                 POINT RECORD CALLED $JQINIT.  THE $DA
                                 COMMAND SEARCHES THIS JQE CHAIN
                                 ($JQINIT) FOR THE SYSTEM JOB'S THAT ARE
                                 TO BE DISPLAYED AND EXTRACTS THE STEP
                                 NUMBER AND NAMES(PROC AND STEP) FOR $DA
                                 THE MESSAGE.  THIS MOD WILL DISPLAY
                                 THE INFORMATION FOR ANY JOB EXECUTING
                                 IN THE COMPLEX SINCE THE INFORMATION
                                 IS STORED IN THE CHECK POINT RECORD.

SMSP23   MULTIPLE ROUTE OF JOB   ALLOW THE ENTIRE JOB TO BE ROUTED
                                 TO MORE THAN ONE LOCATION.  KEYED BY
                                 AN OUTPUT CARD MATCHING PREVIOUSLY
                                 SPECIFIED JOB FORMS (ON /*JOBPARM).
                                 IF /*OUTPUT CARD KEY IS "JCL", ONLY
                                 THE LOG, JCL AND SYSTEM MESSAGES
                                 ARE MULTIPLY ROUTED.  IN ADDITION
                                 OTHER KEYWORDS MAY BE USED ON THE
                                 /*OUTPUT CARD (WITH "JCL" OR OTHER
                                 KEY).  NOTE:  IF THE MSGCLASS USED
                                 IS A "HELD" CLASS (E.G., "$$X HOLD")
                                 THIS CODE WILL NOT MULTIPLY ROUTE
                                 THE MSGCLASS OUTPUT (LOG, JCL AND
                                 MESSAGES).

SMSP24   PUNCH ROUTE FROM PRINT  IF A /*ROUTE PRINT CARD APPEARS
                                 IN THE JOB, BUT NO /*ROUTE PUNCH AND
                                 THE PUNCH ROUTE WOULD OTHERWISE BE
                                 LOCAL, THE PUNCH ROUTE IS MADE THE
                                 SAME AS PRINT.

SMSP38   DON'T AGE JOBS ON HOLD  JOBS ON HOLD ARE NOT PRIORITY AGED.

SMSP39   READER ON=JOB RELEASE   THE READER ON TIME/DATE FOR SMF RECORDS
                                 IS THE LAST TIME/DATE THE JOB IS
                                 RELEASED (FOR TURNAROUND REPORTS).
                                 $HA/$AA DON'T COUNT BUT TYPRUN=HOLD,
                                 TYPRUN=JCLHOLD, /*SETUP, $HJ,
                                 $H'JOBNAME' AND DUPLICATE HOLDS DO.
                                 TIME/DATE IS KEPT IN ONE NEW WORD
                                 IN THE JQE UNTIL JOB INITIATION. IN
                                 ORDER TO FIT IN ONE WORD THE TIME/DATE
                                 HAD TO BE COMPRESSED, ONLY THE DAY
                                 NUMBER IS SAVED (NO YEAR) AND THE TIME
                                 IS IN 50TH'S OF A SECOND INSTEAD OF
                                 100TH'S.  THE FORMAT IS RESTORED FOR
                                 THE SMF RECORDS.  NOTE, THE ASSUMPTION
                                 IS MADE THAT A JOB WILL NOT AWAIT
                                 EXECUTION FOR MORE THAN A YEAR AFTER
                                 IT HAS BEEN RELEASED.  ALSO, IF A JOB
                                 HAS STARTED EXECUTION, IS RESET ($EJ)
                                 AND HELD, THE TIME STAMP IS NOT CHANGED
                                 WHEN RELEASED.  THIS IS SO THAT ALL
                                 SMF RECORDS FOR BOTH EXECUTIONS CAN
                                 BE TIED TOGETHER.

SMSP46   NEWS BLOCK              NEWS BLOCK PRINTS AFTER JOB LOG.
                                 CAN BE UPDATED EXTERNALLY AT ANY TIME.
                                 PROBLEMS WITH IBM'S ARE (1) MUST BRING
                                 JES2 DOWN TO UPDATE, (2) SENT WITHOUT
                                 DATASET HEADER ON HASP-TO-HASP (SMSP9X)
                                 THIS MOD IS AN ADAPTION OF AN OLD MVT
                                 MOD FROM WEST VIRGINIA UNIVERSITY.
                                 THE MOD WILL PROBABLY BE DROPPED WHEN
                                 THE PTF ALLOWING EXTERNAL UPDATING OF
                                 NEWS IS APPLIED.  AT THAT TIME, CODE
                                 WILL BE ADAPTED FOR HASP-TO-HASP.

SMSP52   TIME LIMITS/DEFAULTS    TIME LIMITS AND DEFAULTS BY JOB CLASS.
         (NEW INIT PARAMETERS    ALLOWS SPECIFICATION OF MIN= AND SEC=
            AND OPERANDS)        AND DEFAULT/MAX ON THE &X CARD IN
                                 PARMLIB.  DEFAULT IS MIN=1439,SEC=0,
                                 DEFAULT.  IF DEFAULT IS SPECIFIED, THE
                                 PROGRAMMER CAN ASK FOR MORE TIME.  IF
                                 MAX IS SPECIFIED, THE PROGRAMMER CAN
                                 ASK FOR LESS TIME, BUT NOT MORE.  A NEW
                                 PARAMETER FACTOR CAN BE SPECIFIED TO
                                 ADJUST BOTH THE TIMES CODED OR
                                 DEFAULTED ON JOB AND EXECUTE CARDS.
                                 FORMAT IS FACTOR SYS=XXXX,FACTOR=YYY
                                 WHERE XXXX IS THE SMF ID OF THE CPU
                                 AND YYY IS THE RELATIVE SPEED OF THE
                                 CPU COMPARED TO THE BASE CPU.  THE
                                 BASE CPU WOULD BE FACTOR=100. ONE
                                 HALF THE SPEED WOULD BE FACTOR=50 AND
                                 ONE TWICE AS FAST WOULD BE FACTOR=200.
                                 IF NO FACTOR CARD MATCHES THE SMF ID,
                                 A FACTOR OF 100 (1.0 TIMES THE SPEED)
                                 IS ASSIGNED.  MULTIPLE FACTOR CARDS
                                 MAY BE USED, THE LAST ONE WITH A
                                 MATCHING SMF ID WILL BE USED.

SMSP69   ADDRESSABILITY          THIS MOD CORRECTS AN ADDRESSABILITY
                                 PROBLEM IN HASPINIT.

SMSP70   $PJES2,QUICK            GIVES HASP CATASTROPHIC ERROR SO
                                 PROBLEMS CAN BE FIXED WITHOUT DRAINING
                                 THE SYSTEM.  WILL BE DROPPED WHEN THE
                                 PTF PROVIDING SIMILAR SUPPORT IS
                                 APPLIED. (NOT NEEDED AFTER PTF7910,
                                 NO LONGER DISTRIBUTED.)

SMSP71   SUPPORT UNIT=INTRDR     CHANGES THE CONVERTER INTERNAL TEXT
                                 FOR UNIT=INTRDR TO SYSOUT=(A,INTRDR).

SMSP72   SUPPORT FOR SMSP71&74   CODE TO SUPPORT MODS SMSP71 AND SMSP74.

SMSP73   EXPAND $DF COMMAND      ALLOWS NEW OPERANDS ON THE D=:
         (ADD DETAIL OPTION)     D=R (RELEASED JOBS...DEFAULT BEFORE)
                                 D=XD (WHERE X IS 'R' FOR RELEASED,
                                 'H' FOR HELD JOBS AND 'A' FOR ALL
                                 JOBS).  THE 'D' AFTER THE R, H, OR A
                                 REQUESTS "DETAIL", ONE LINE FOR EACH
                                 JOE GIVING (IN ADDITION TO THE NORMAL
                                 INFORMATION) THE JOB NAME AND NUMBER,
                                 NUMBER OF LINES IN THAT JOE (IN LINES
                                 IF 99999 OR LESS, IN THOUSANDS IF
                                 OVER 99999), PRINT SELECTION PRIORITY
                                 AND "HOLD" IF THE JOB IS HELD.

SMSP74   PERFORM= AND DPRTY=     LIMITS USE OF DPRTY AND PERFORM.
         (LIMIT USE BY CLASS)    NEW PARAMETERS ON THE &X CARD IN
         (NEW INIT OPERANDS)         PARMLIB:
                                          PERFM/NOPERFM
                                          DPRTY/NODPRTY
                                 DEFAULTS ARE PERFM AND DPRTY
                                 WHICH ALLOW BOTH PERFORM AND
                                 DPRTY.  WHEN DISALLOWED, DPRTY
                                 AND PERFORM ARE SCRATCHED FROM
                                 EXEC CARD INTERNAL TEXT AND
                                 PERFORM FROM THE JOB CARD.

SMSP76   JOB ON PRT/PUN TO RJE   JOB ON PRINTER AND JOB ON PUNCH
                                 MESSAGES SENT TO RJE ALLOWING
                                 RJE OPERATOR TO SEE HOW MANY LINES
                                 OR CARDS ARE BEING SENT.

SMSP77   EXPAND $DI              ADD JOB NAME AND CLASS TO $DI.

SMSP78   SYSTEM ALIASES          ADD SYSTEM ALIAS CAPABILITY.  ADDS
         (NEW INIT PARAMETER)    THE ABILITY TO USE A 1-4 CHARACTER
                                 "ALIAS" IN THE "/*JOBPARM SYSAFF=..."
                                 CONTROL CARD (ALL COMMANDS STILL USE
                                 THE SID).  TAKES OUT CODE TO ALLOW
                                 USE OF THE "SID"  (SMF ID OR $SID) IN
                                 THE "/*JOBPARM SYSAFF=...", BUT IF
                                 DESIRED AN ALIAS MAY BE ASSIGNED
                                 EQUAL TO AN SID. A SYSTEM MAY HAVE
                                 MORE THAN ONE ALIAS AND AN ALIAS MAY
                                 REPRESENT MORE THAN ONE SYSTEM.
                                 ALIASES ARE ENTERED BY USING A NEW
                                 PARMLIB CONTROL CARD:  ALIAS.  THE
                                 FORMAT OF THAT CARD IS:
                                    ALIAS NAME=NNNN,SID=SSSS
                                 WHERE "NNNN" IS A 1-4 CHARACTER ALIAS
                                 NAME AND "SSSS" IS THE DESIRED
                                 SYSTEM'S "SID".  FOR INSTANCE,
                                 GIVEN THE FOLLOWING PARAMETER CARDS:
                                   ALIAS NAME=TSO,SID=QA71
                                   ALIAS NAME=IMS,SID=MI33
                                   ALIAS NAME=BCH,SID=QA71
                                   ALIAS NAME=BCH,SID=RA81
                                   ALIAS NAME=MI33,SID=MI33
                                 THEN:
                                     USING          GIVES AFFINITY TO
                                   ---------------  -----------------
                                   SYSAFF=TSO         QA71
                                   SYSAFF=IMS         MI33
                                   SYSAFF=BCH         QA71 AND RA81
                                   SYSAFF=MI33        MI33
                                   SYSAFF=(TSO,IMS)   QA71 AND MI33
                                 THE $LSYS COMMAND IS EXTENDED TO GIVE
                                 THE ALIASES AND THEIR CORRESPONDING
                                 SYSTEMS.  THE REMOTE USER IS ALLOWED
                                 TO USE THE $LSYS COMMAND.

SMSP 80  SPECIFY TRANSLATE       ALLOWS SPECIFYING TRANSLATE OPTION
           BY DEVICE             INDIVIDUALLY BY PRINTER. ADDS NEW
         (NEW INIT PARMS AND     OPERAND TO $TRNNN.PRM OR $TPRTN
          COMMAND OPERAND)       COMMAND: "LC=Y/N" FOR "LOWER CASE = YES
                                 OR NO".  ALSO ADDS "TRANS/NOTRANS"
                                 OPERAND TO THE "RNNN.PRM" OR "PRINTERN"
                                 INITIALIZATION PARAMETER.  WITH THIS
                                 MOD ON, &PRTRANS HAS NO EFFECT.  IF
                                 USING BOTH THIS AND THE JES2-TO-JES2
                                 MODS (SMSP9X), ALL JES2-TO-JES2
                                 PRINTERS SHOULD BE SPECIFIED AS
                                 "NOTRANS".
SMSP81   DYNAMIC ROTATION OF     ALLOW INITIATOR CLASS STRING TO
         INIT CLASS STRING       DYNAMICLY ROTATE BASED ON THE CLASS
                                 OF THE JOB LASTED SELECTED FOR
                                 EXECUTION. THIS IS ACCOMPLISHED BY
                                 ALLOWING THE INIT TO BE SET TO A
                                 ROTATING, FIXED OR A COMBINATION OF
                                 BOTH ROTATING AND FIXED CLASS STRING.
                                 CLASSES IN THE FIXED CLASS STRING
                                 WILL NOT ROTATE (THAT IS THEY WILL
                                 FUNCTION AS IBM DESIGNED). CLASSES IN
                                 THE ROTATE GROUP WILL DYNAMICALLY
                                 ROTATE.  THAT IS, ONCE A CLASS IS
                                 SELECTED FOR EXECUTION ITS POSITION
                                 IN THE INIT CLASS STRING WILL BE THE
                                 END OF THE ROTATING GROUP.  VALID
                                 COMMANDS TO SET INITIATOR CLASS
                                 STRINGS WOULD BE:
                                  $TIN,LIST
                                  N = INIT ID, RANGE OF ID'S, OR ALL
                                      IF BLANK
                                  LIST = NEW CLASS STRING OF THE FORMAT
                                       = XXX<YYY
                                       = XXX<YYY>
                                       = XXX<YY>XXX
                                       = <YY
                                       = <YY>
                                       = <YYY>XXXXX
                                       = XXXX
                                  WHERE X = FIXED CLASS GROUP
                                        Y = ROTATING CLASS GROUP
                                        < = BEGINNING OF ROTATE
                                        > = ENDING OF ROTATE
                                 THE ROTATE CHARACTERS CAN ALSO BE
                                 BE SPECIFIED WHEN DEFINING INITIATORS
                                 IN THE INITIALIZATION PARMS.
                                  NOTE: THERE MAY BE ONLY ONE ROTATING
                                        CLASS GROUP PER INIT CLASS
                                        STRING, BUT THERE CAN BE TWO
                                        FIXED CLASS GROUP PER INIT
                                        CLASS STRING.  THIS MOD WILL
                                        REDUCE THE MAXIMUM INIT CLASS
                                        STRING FROM 36 TO 34, SINCE
                                        THE BEGIN ('<') AND END ('>')
                                        CHARACTERS WILL REQUIRE TWO
                                        POSITIONS.

SMSP82   DO NOT TEST TP DEVICES  CHANGE HASPINIT SO THAT IT DOES NOT
                                 DO A EXCP AGAINST TP DEVICES TO CHECK
                                 IF THEY ARE ON THE SYSTEM AND
                                 OPERATIONAL.  THIS MEANS INIT WILL
                                 NOT ALLOCATE A UCB TO A LINE UNLESS
                                 SPECIFICALLY CODED IN A LINE
                                 PARAMETER UNIT OPERAND.  DONE SO THAT
                                 INIT WILL NOT GET STUCK IF THE TP
                                 DEVICE NEVER ANSWERS.


SMSP83   RMT MUST HAVE A         CHANGE HASPRTAM SO THAT IF A LINE HAS
         PASSWORD IF THE LINE    A PASSWORD ASSIGN TO IT, THEN ANY RMT
         HAS A PASSWORD          THAT SIGNS ON USING THAT LINE MUST
                                 HAVE A PASSWORD . THIS WOULD ALLOW
                                 A PASSWORD ON A DIAL UP LINE AND
                                 PREVENT OUTSIDE USERS WHO DIAL IN
                                 FROM SIGNING ON AS A RMT OTHER THAN THE
                                 ONE THEY WERE ASSIGNED.

SMSP84   PRINT A DUMMY SYSOUT    CHANGE HASPPRPU AND HASPSSSM SO THAT
         DATA SET IF JOB OR STC  THE OUTPUT DATA SETS OF A JOB OR STC
         ABENDS OR HAS A JCL     THAT HAS ABENDED OR JCL'ED WILL BE
         ERROR.                  PRINTED EVEN IF IT IS MARKED NOT SYSOUT
                                 THAT IS, EVEN IF THE OUTPUT IS SPOOLED
                                 TO A DUMMY SYSOUT CLASS.

SMSP85   NOTIFY THE OPERATOR IF  THIS MOD WILL MODIFY THE HASPSSSM AND
         A PRODUCTION JOB(CLASS  HASPPRPU MODULES. IT WILL SEND A
         N AND O) OR STC HAS     MESSAGE TO THE OPERATOR IF A PRODUCTION
         FAILED BECAUSE OF       JOB OR STC ABENDS OR FAILS BECAUSE OF
         CONDITION CODE OR       CONDITION CODES. A PRODUCTION JOB IS
         ABENDED. ALSO MODIFY    IS DEFINED AS A CLASS N OR O JOB.
         THE TSO NOTIFY MESSAGE  THIS MOD WILL ALSO MODIFY THE TSO
         FOR AN ABEND CONDITION. NOTIFY MESSAGE WHEN A JOB ABENDS.
                                 THE NOTIFY MESSAGE WILL NOW CONTAIN
                                 THE ABEND CODE AND THE PROC AND STEP
                                 NAMES.
                                 NOTE: THIS MOD TAKES ADVANTAGE OF THE
                                 END OF TASK ROUTINE WHICH IS CALLED
                                 BY THE SUBSYSTEM INTERFACE RESOURCE
                                 MANAGER (IEFJRECM) MODULE.

SMSP86   DO NOT PRINT THE "NEWS" THIS MOD WILL MODIFY THE HASPPRPU
         IF THE PRINT IS NOT     MODULE. IT WILL CHECK THE PRINTER'S
         SET TO STANDARD FORM,   DCT AND ONLY PRINT THE "NEWS" IF THE
         UCS AND FCB.            PRINTER IS SET TO STANDARD FORM
                                 ($STDFORM), DEFAULT UCS AND DEFAULT
                                 FCB.

SMSP9X   HASP-TO-HASP            HASP-TO-HASP CODE, INCLUDING
         (NEW INIT PARAMETERS    EXTENSIONS TO SYMBOLIC ROUTING.
            AND OPERANDS)        ADDS SEVERAL NEW PARMLIB ENTRIES.
                                 THIS CODE IS BASED ON THE TUCC/IOWA
                                 HASP-TO-HASP FOR HASP 3.0/3.1.
                                 HASP-TO-HASP CONSOLE SUPPORT IS NOT
                                 CURRENTLY SUPPORTED.  SVS (HASP 4.0)
                                 MODS ARE ALSO AVAILABLE.  THIS CODE
                                 IS FOR THE SHOP THAT WANTS NJE, BUT
                                 DOESN'T LIKE LIKE IBM'S PRICE. MODS
                                 TO SUBMIT ARE AVAILABLE FROM THE
                                 ADDRESS ABOVE TO ALLOW LEADING
                                 /*RELAY CARDS.

********************************************************************************
*                                                                              *
*         F I L E   3 2   M W D   M O D S                                      *
*                                                                              *
********************************************************************************

LAST FILE UPDATE SEPTEMBER 1979.

DISCLAIMER
THESE MODIFICATIONS ARE MADE AVAILABLE TO PROSPECTIVE USERS ON THE
UNDERSTANDING THAT NEITHER THE NEW ZEALAND GOVERNMENT NOR
ANY OF ITS DEPARTMENTS OR CORPORATIONS ACCEPTS ANY RESPONSIBILITY
FOR ANY CONSEQUENCES OF USING THEM.

USERS ARE WELCOME TO ENQUIRE AS TO THE EXISTENCE OF FIXES IN THE
EVENT OF PROBLEMS.
DIRECT ENQUIRIES, CLEARLY STATING THE NAME OF THE ROUTINE AND WHEN
IT WAS ACQUIRED AND WHO IT WAS OBTAINED FROM MAY BE MADE TO:

A L FLETCHER
MINISTRY OF WORKS AND DEVELOPMENT,
COMPUTER SERVICES SYSTEMS SUPPORT,
P.O. BOX 12-041,
WELLINGTON NORTH,
NEW ZEALAND.

****************************************************************
* VM00086. THIS MOD FOR HASPRDR MAKES TWO INDEPENDENT CHANGES. *
****************************************************************

1. R1677000 AND R1682000
ASSIGNS THE $SPARE2 ROUTCDE TO ALL /*MESSAGE STATEMENTS. ONE
3286 CONSOLE IS SET UP TO RECEIVE ONLY ROUTCDE 14 MESSAGES.
USERS ARE REQUIRED TO SIGNIFY THAT THEIR JOBS USE MAGNETIC TAPES
BY USING A) JOB CLASS=T OR =M B) USING ONE /*MESSAGE T T T T T T T
OR /*MESSAGE M M M M M M M M  STATEMENT, AND C) /*MESSAGE CARD(S)
INDICATING THE MAG. TAPES TO BE USED, AND WHETHER THEY SHOULD
BE RING IN OR OUT. NO INITIATOR IS ASSIGNED THE CODES T OR M, SO
THIS METHOD CREATES A QUEUE OF SINGLE TAPE JOBS (CLASS=T) OR
MULTIPLE TAPE JOBS (CLASS=M). WHEN THE TAPES HAVE BEEN READIED AND
RECOGNIZED BY AVR, THE JOBS ARE CHANGED TO A CORRECT OPERATING CLASS.

FOR OPERATIONAL PURPOSES SINCE WE HAVE A SHORTAGE OF TAPE DRIVES,
A SPECIAL PERFORMANCE GROUP IS ASSIGNED TO T OR M JOBS VIA JES2
JES2PARM INITIALIZATION. WHEN THE JOBS ARE RESET TO THEIR EXECUTING
QUEUE, THEY RETAIN THEIR PERFORMANCE GROUP.

2.R3356002 THRU R3360016
 IT IS CONVENIENT TO REGISTER CERTAIN JOBS THAT GO THROUGH THE
SYSTEM. THIS IS DONE BY DEFINING A TWO CHARACTER ORIGIN CODE, AND
A NUMBERING SEQUENCE BY DAY, EG WA131099 MEANING ORIGIN 'WA'
ON DAY 131, AND THE 99TH JOB. IN ORDER TO ENABLE THESE NUMBERS
TO BE ADDED TO A JCL DECK AS SIMPLY AS POSSIBLE, THEY ARE PREPUNCHED
IN THE FOLLOWING FORM:

  //WADDDNNN JOB (ABC,

WHERE THE ABC IS A FILLER TO ENABLE THE JOB CARD TO CONTINUED. THE
REAL ACCOUNTING INFORMATION IS ON THE NEXT CARD:

 // ACC1,ACC2),USERID,.....ETC

THE SECOND HASPRDR MOD BYPASSES THE 'ABC' AND RECORDS ACC1 AND ACC2
AS IF THEY WERE THE FIRST TWO FIELDS. THIS MOD IS USED WITH A MOD IN
HASPPRPU.

*********************************************
* VM00087  TWO INDEPENDENT MODS TO HASPPRPU *
*********************************************

1. Q4840020 THRU Q4840034
THE INSTALLATION HAS A SYSTEMS SUPPORT GROUP HOUSED NEXT TO THE
COMPUTER ROOM WHERE THE PRINTERS ARE. OUTPUT FOR SYSTEMS SUPPORT HAS
TO BE SEPARATED FROM THAT FOR THE REST OF THE USERS BEFORE GOING
TO THE DISTRIBUTION CENTRE. TO MAKE THIS EASIER, THE BLOCK CHARACTER
JOB NAME IS ALTERED SO THAT THE JOBS THAT ARE TO STAY END UP WITH
LONG NAMES, WHEREAS THOSE THAT HAVE TO GO OUT HAVE TWO CHARACTER
CODES (EXTRACTED FROM THE FRONT OF THE JOB NAME) AND PUT ON THE
RIGHT HAND SIDE.

2. Q4887000 THRU Q4888004
THIS MOD TIES IN WITH NO 2 FOR HASPRDR. IN HASPRDR, THE JES2 ACCT AND
ROOM FIELDS ARE REDEFINED TO BE TWO PARTS OF AN ACCOUNT/DISTRIBUTION
CODE. THE LAST 13 CHARACTERS OF THE PROGRAMMER NAME FIELD
ARE OVERLAYED, AND THE ACC1,ACC2 FIELDS INSERTED NEXT, SO THE
MODIFIED LINE READS

........ USERID  DISTRIBUTION ACC1 ACC2 ........ ETC

********************************************
* VM00088 TWO INDEPENDENT MODS TO HASPXEQ. *
********************************************

1. U4240002 THRU U4288002

THE INSTALLATION HAS MORE RJE STATIONS THAN CAN BE GIVEN ONE
INITIATOR EACH. THE STATIONS LIKE TO BE ABLE TO CONTROL THEIR
JOB QUEUES INDEPENDANTLY AND RE-ARRANGE PRIORITIES TO SUIT
THEMSELVES. THEY MUST NOT BE ABLE TO ADVERSLY AFFECT OTHER
RJE STATIONS. THIS MOD ALLOWS AS MANY JOB QUEUES AS NECESSARY TO BE
DEFINED BUT REMOVES THE NEED FOR MANY INITIATORS TO ENSURE A
REASONABLE SPREAD OF SERVICE OVER ALL THE STATIONS.

THE PRINCIPLE IS THAT EACH INITIATOR WITH MORE THAN 3 CLASSES IN THE PIT
ROTATES ITS CLASSES AS THEY ARE USED. THE FIRST CLASS IS EXEMPT SO
THAT IN OUR CASE IT CAN BE USED TO GUARANTEE FAST SERVICE FOR PRINT
JOBS FOR TSO USERS. THE OTHER CLASSES ARE ROTATED ONCE EACH TIME
THE INITIATOR IS USED. THIS USUALLY ENSURES THAT NO ONE RJE
STATION HAS ONE JOB EXECUTED IMMEDIATELY AFTER THE OTHER ON
THE SAME INITIATOR, UNLESS THERE IS NOTHING ELSE TO DO. FOR
SIMPLICITY THERE IS NO ATTEMPT TO ROTATE THE QUEUE TO THE
CORRECT POINT IF IT WAS NOT THE FIRST CLASS THAT ACTUALLY DID THE
JOB. IT HAS BEEN FOUND THAT ANOMALIES DUE TO CONTINUOUS ROTATION
DO NOT SPOIL THE PRINCIPLE. THE ROTATION ALSO HAPPENS IF THE FIRST
CLASS (IE THE NON-ROTATING) ONE IS USED.

2. U8600002 THRU U8877320
THE INSTALLATION USES AN RYO VTAM INTERFACE TO SUPPORT RJE PRINTERS.
IN ORDER TO PROVIDE DEFAULT PAGINATION A LA JES2, THE LINECT VALUE IS
NEEDED, BUT NOT SUPPLIED THROUGH THE IEFSSREQ INTERFACE. SINCE WE DO
NOT ALLOW THE RJE STATIONS TO PRINT MULTIPLE COPIES, THIS MOD USES THE
PSOCOPY FIELD TO RETURN THE LINECT VALUE.

****************************
* VM00089 MOD TO HASPCOMM  *
****************************

THIS MOD PREVENTS THE INADVERTANT MODIFICATION OF THE JES2 JOB, TSO
OR STC NUMBERS BY INCORRECT USE OF THE $TJNNNN COMMAND. THE MOD
MAKES AN OPERAND REQUIRED FOR ALL USES OF $TJ, AND IN PARTICULAR
REQUIRES THAT ,N BE ADDED TO THE SYNTAX WHEN THE INTENT IS TO CHANGE
THE JOB NUMBER I.E.
 $TJ123,N WOULD SET THE JOB NUMBER TO 123

 BUT $TJ123 WOULD NOT.

********************************************************************************
*                                                                              *
*         F I L E   3 3   G T E   L A B S   A U T O C M D S                    *
*                                                                              *
********************************************************************************

THE FOLLOWING MODS WERE SUPPLIED BY GTE LABS AND ARE IN IEBUPDTE FORMAT.
OBTAINED FROM CBT TAPE VERSION #128.
LAST FILE UPDATE - MARCH 1978

                  EXTENDED JES2 AUTOMATIC
                    COMMAND PROCESSING
                        RELEASE 2

                   S. HENSEN
                   GTE LABORATORIES, INC
                   TECHNICAL COMPUTATION CENTER
                   40 SYLVAN ROAD
                   WALTHAM, MASSACHUSETTS  02154
                   617 890-8460 EXT 130

   INTRODUCTION

   THE CURRENT IBM/JES2 SUPPORT OF AUTOMATIC COMMAND PROCESSING SEEMS
   QUITE ADEQUATE FOR THOSE COMMANDS WHICH MUST BE ISSUED ON A DAILY
   BASIS. WITHIN MOST COMPUTER INSTALLATIONS, HOWEVER, THERE ARE
   MANY COMMANDS AND JOBS WHICH ARE RUN ON A REGULAR BASIS WHICH IS
   NOT DAILY. EXAMPLES OF THESE INCLUDE STARTING AND STOPPING PER-
   FORMANCE MEASUREMENTS TOOLS DEPENDING ON THE DAYS OF A HEAVY LOAD,
   RUNNING DISK BACKUPS AND COMPRESSIONS ON A WEEKLY BASIS, AND
   EXECUTING ACCOUNTING REPORTS ON A MONTHLY BASIS. FOR THIS TYPE
   OF AUTOMATIC PROCESSING, THE TWO PROGRAMS 'AUTOCMD' AND 'DAYDATE'
   EXTEND THE TIME-OF-DAY PROCESSING SUPPORTED BY JES2 AND ADD THE
   FEATURES OF DAY-OF-WEEK, WEEK-OF-MONTH, AND MONTH-OF-YEAR PROCESSING.

   DAYDATE AS A STANDALONE PROGRAM WILL ISSUE A RETURN CODE OF THE
   NUMERIC DAY-OF-WEEK (1-7), WEEK-OF-MONTH (1-5), OR MONTH-OF-YEAR
   (1-12). WHEN CALLED VIA A LINK MACRO IT WILL RETURN THE ABOVE OR,
   IN ADDITION, WILL RETURN THE THREE CHARACTER REPRESENTATION OF THE
   DAY-OF-WEEK (MON. - SUN.) OR MONTH-OF-YEAR (JAN. - DEC.) VIA THE
   STANDARD PARAMETER ADDRESS IN R1.

   AUTOCMD ISSUED THROUGH THE PROCEDURE AUTOCMD IN 'SYS1.PROCLIB'
   WILL READ IN AUTOMATIC START COMMANDS FROM THE MEMBER AUTOCMDS
   IN 'SYS1.PROCLIB' AND ISSUE THE APPROPRIATE COMMANDS TO THE
   INTERNAL READER, DEPENDING ON THE DAY-OF-WEEK OR WEEK-OF-MONTH.

   INSTALLATION INFORMATION

   1. CONTENTS OF THE DISTRIBUTATION TAPE

      THIS FILE ON THE TAPE IS IN IEBUPDTE FORMAT WITH THE SOURCE
      FOR THE TWO PROGRAMS NEEDED FOR EXTENDED AUTOMATIC COMMAND
      SUPPORT, PGM=AUTOCMD AND PGM=DAYDATE ALSO A SAMPLE PROCEDURE
      FOR EXECUTING EACH OF THE PROGRAMS AND A SAMPLE LIST OF JES2
      AUTOMATIC COMMANDS USED AS INPUT INTO PGM=AUTOCMD ARE
      INCLUDED.

           MEMBER                 PURPOSE

           AUTOCMD                ASM SOURCE FOR AUTOCMD
           DAYDATE                ASM SOURCE FOR DAYDATE
           DOC                    DOCUMENTATION (YOU ARE NOW READING IT)
           JAUTCMDS               INPUT TO AUTOCMD
           JAUTOCMD               JCL TO RUN AUTOCMD
           JDAYDATE               JCL TO RUN DAYDATE

   2. INSTALLATION PROCEDURE

      THE FOLLOWING JCL WILL PREALLOCATE THE NECESSARY DATASET ON THE
      SUPPLIED 'VOLUME' AND 'DISK'.

      // EXEC PGM=IEBUPDTE,PARM=NEW
      //SYSIN     DD UNIT=TAPE,DISP=(OLD,KEEP),LABEL=(33,NL),
      //             DCB=(RECFM=FB,LRECL=80,BLKSIZE=32720)
      //SYSUT2    DD UNIT=DISK,VOL=SER=VOLUME,DSN=JES2.AUTO.CMDS,
      //          DISP=(NEW,KEEP),SPACE=(TRK,(5,1,28))
      //SYSPRINT  DD SYSOUT=A

   BOTH PROGRAMS WILL NEED TO BE ASSEMBLED AND LINKED INTO A LINKLIST
   LIBRARY.

   ALSO, IT IS RECOMMENDED THAT THE PROCEDURE FOR EXECUTING
   PGM=AUTOCMD BE PLACED INTO A 'SYS1.PROCLIB' MEMBER IN ORDER
   FOR IT TO BE RELEASED FROM THE OPERATOR'S CONSOLE, AUTOMATICALLY
   AT IPL TIME, OR BY A JES2 AUTOMATIC COMMAND. SECONDLY, THE USER
   MAY WISH TO PLACE THE ACTUAL LIST OF AUTOMATIC COMMANDS INTO A
   'SYS1.PROCLIB' MEMBER.

   THE PROCEDURE FOR PGM=DAYDATE IS INCLUDED ONLY TO SERVE AS AN
   EXAMPLE OF HOW IT MAY BE INCORPORATED INTO DAY-DEPENDENT
   BATCH PROCESSING AS WELL AS IN AUTOMATIC COMMAND PROCESSING.

                      D A Y D A T E

   STANDALONE PROGRAM:

    JCL REQUIRED:  // EXEC PGM=DAYDATE,PARM='XXX'

    PARM OPTIONS:  'DOW' - DAY OF WEEK, RETURN CODE IS 1-7
                           WHERE 1 IS MONDAY.
                   'WOM' - WEEK OF MONTH, RETURN CODE IS 1-5
                           WHERE 1 IS WEEK OF FIRST FRIDAY.
                   'MOY' - MONTH OF YEAR, RETURN IS 1-12
                           WHERE 1 IS JANUARY.

    EXEC WITH LINK MACRO:

           CODE:   LINK EP=DAYDATE,PARAM=((ADDR)),DCB=0
                           WHERE ADDR IS ADDRESS OF A HALF-WORD OF
                           PARM LENGTH PLUS PARM DATA.

        EXAMPLE:   GETDAY  LA   3,DOW
                           LINK EP=DAYDATE,PARAM=((3)),DCB=0
                           .
                           .
                   DOW     DC   H'3'
                           DC   C'DOW'

        PARM OPTIONS:  'DOW' - DAY OF WEEK, DATA RETURNED VIA ADDRESS IN
                               REGISTER 1 IS 1-7 WHERE 1 IS MONDAY

                       'WOM' - WEEK OF MONTH, DATA RETURNED VIA ADDRESS
                               IS REGISTER 1 IS 1-5 WHERE 1 IS WEEK OF
                               FIRST FRIDAY.

                       'MOY' - MONTH OF YEAR, DATA RETURNED VIA ADDRESS
                               IN REGISTER 1 IS 1-12 WHERE 1 IS JANUARY.

                       'DAY' - CHARACTER DAY OF WEEK, DATA RETURNED VIA
                               ADDRESS IN REGISTER 1, IS THE FIRST THREE
                               CHARACTERS OF THE CURRENT DAY OF WEEK.

                       'MON' - CHARACTER MONTH OF YEAR, DATA RETURNED
                               VIA ADDRESS IN REGISTER 1 IS THE FIRST
                               THREE CHARACTERS OF THE CURRENT MONTH.

        RETURN CONVENTION:

                       UPON RETURN TO THE CALLING PROGRAM FROM DAYDATE,
                               REGISTER 1 CONTAINS THE ADDRESS OF A
                               FULL-WORD POINTER WHICH CONTAINS A HIGH-
                               ORDER BIT PLUS THE ADDRESS OF THE ACTUAL
                               PARM DATA IN THE REMAINING THREE BYTES.
                               AT THIS ADDRESS WILL BE A HALF-WORD
                               LENGTH OF THE PARM PASSED PLUS THE
                               PARM DATA.

                            A U T O C M D

   PROCEDURE: THE PGM AUTOCMD IS EXECUTED VIA THE PROCEDURE AUTOCMD
              LOCATED IN 'SYS1.PROCLIB'

   INPUT:     INPUT TO THIS PROCEDURE IS THE MEMBER AUTOCMDS LOCATED
              IN 'SYS1.PROCLIB' WHICH IS BASICALLY A LIST OF JES
              AUTOMATIC COMMANDS.

   OUTPUT:    AUTOCMD PROCESSES THE ABOVE LIST & ISSUES ONLY COMMANDS
              WHICH ARE VALID FOR THAT DAY TO THE INTERNAL READER

   INPUT FORMAT: THE FORMAT IS THE STANDARD JES2 COMMAND FOLLOWED BY
              SIGNIFICANT COMMENTS WHICH ARE INTERPRETED BY
              PGM=AUTOCMD AS AN INDICATOR OF WHEN TO ISSUE THE COMMAND.

              TIME OF DAY: AS IN THE STANDARD AUTOMATIC COMMAND, TIME
                      OF DAY FOR ISSUING THE COMMAND MAY BE SPECIFIED
                      BY 'T=HH.MM' IN COL 6 WHERE HH IS THE HOUR OF THE
                      24-HR CLOCK AND MM IS THE NUMBER OF MINUTES PAST
                      THE HOUR. IF THE TIME OF DAY SPECIFIED HAS PASSED,
                      PGM=AUTOCMD WILL NOT ISSUE THE COMMAND.

              DAY OF WEEK: THE DAYS OF THE WEEK FOR ISSUING A GIVEN
                     COMMAND CAN BE SPECIFIED BY ENTERING 'DXXX' IN COL
                     60 OF THE COMMAND WHERE XXX IS REPLACED BY A
                     STRING OF DIGITS 1-7, (EX. D135 - ISSUE COMMAND
                     ONLY ON MONDAY, WEDNESDAY AND FRIDAY). IF NOTHING
                     IS GIVEN IN THE COMMENT FIELD, THE COMMAND WILL BE
                     ISSUED DAILY.

              WEEK OF MONTH: THE WEEK OF THE MONTH FOR ISSUING A GIVEN
                     COMMAND CAN BE SPECIFIED BY ENTERING 'WYYY' IN COL
                     60 OF THE COMMAND WHERE YYY IS REPLACED BY A STRING
                     OF DIGITS 1-5 OR BY THE LETTERS 'A' OR 'L'. (EX.
                     W3 - ISSUES COMMAND ONLY DURING THE THIRD WEEK OF
                     THE MONTH. EX. 2. WA - ISSUE COMMAND ON WEEKS 1-4
                     IN A 5 WEEK MONTH AND ON WEEKS 1-3 IN A 4 WEEK
                     MONTH. EX. 3 WL - ISSUE COMMAND ONLY WEEK 4 OF
                     A 4 WEEK MONTH AND ON WEEK 5 OF A 5 WEEK MONTH.)
                     IF NOTHING IS GIVEN IN THE COMMENT FIELD, THE
                     COMMAND WILL BE ISSUED DAILY.

              DAY OF MONTH: PARM FOR BOTH DAY AND WEEK AND CAN BE
                     SPECIFIED FOR ANY COMMAND BY ENTERING
                     'DXXXWYYY' IN COL. 60 WHERE XXX IS REPLACED
                     BY A STRING OF DIGITS 1-7 AND YYY IS REPLACED
                     BY A STRING OF DIGITS 1-5. CONDITIONS MUST BE
                     SATISIFIED FOR BOTH DAY OF WEEK AND WEEK OF
                     MONTH IN ORDER FOR THE COMMAND TO BE ISSUED.
                     (EX. D5W13 - ISSUE COMMAND ONLY ON FRIDAY OF
                     THE FIRST AND THIRD WEEKS).

              SYMBOLIC SUBSTITUTION: THE PGM AUTOCMD ALSO ALLOWS FOR
                     SOME SYMBOLIC SUBSTITUTION WITHIN THE COMMAND FOR
                     DAY, WEEK, OR MONTH. THE SYMBOL '&DAY.' WILL BE
                     REPLACED WITH THE 1-DIGIT DAY OF WEEK WHERE 1
                     IS MONDAY, THE SYMBOL '&WEEK.' WILL BE REPLACED
                     WITH THE 1-DIGIT WEEK OF MONTH WHERE 1 IS THE
                     WEEK OF THE FIRST FRIDAY, AND THE SYMBOL '&MONTH.'
                     WILL BE REPLACED WITH THE 2-DIGIT MONTH OF YEAR
                     WHERE JANUARY IS MONTH 01.

              NOTE:  AUTOCMDS USES DAYDATE FOR ITS CURRENT DAY AND
                     WEEK DETERMINATIONS.

                     ALSO, WHEN SPECIFYING DAY OF MONTH PROCESSING,
                     CONSIDER CAREFULLY THE ALGORITHM FOR DETERMINING
                     THE CURRENT WEEK OF THE MONTH. (I.E., THE FIRST
                     WEEK ENDING SUNDAY WHICH CONTAINS THE FIRST
                     FRIDAY.) OFTEN WHEN THE FIRST OF THE MONTH
                     FALLS NEAR THE END OF THE WEEK, BY THIS ALGORITHM,
                     MONDAY - THURSDAY MAY NOT EVEN OCCUR DURING W1.

********************************************************************************
*                                                                              *
*         F I L E   3 4   G T E   M O D S                                      *
*                                                                              *
********************************************************************************

THE FOLLOWING MODS WERE SUPPLIED BY GTE AND ARE IN IEBUPDTE FORMAT.
OBTAINED FROM CBT TAPE VERSION #128.
LAST FILE UPDATE - MARCH 1978

     MOD TO $DF COMMAND TO INCLUDE THE TOTAL NUMBER OF PRINT LINES.

     MOD TO PRINTER SELECTION ALGORITHM TO SELECT NEXT PRINT JOB
     BASED ON THE NUMBER OF PRINT LINES.

********************************************************************************
*                                                                              *
*         F I L E   3 5   H W C   M O D S                                      *
*                                                                              *
********************************************************************************

LAST FILE UPDATE - NOVEMBER 1979.

                                      HWC
          STATE OF CALIFORNIA HEALTH AND WELFARE DATA CENTER JES2 MODS

THESE MODS CONSIST OF A JOB CLASSING ROUTINE BASED ON THE TRW JOB
CLASSING MODS, A FEW MODS TO COMM, AND TWO TO PRPU. THE MOD TO PRPU IS
TO REDUCE THE WIDTH OF THE COVER SHEET TO FIT NARROW PAPER. THE OTHER
PRPU MOD IS TO FORCE THE PUNCHING OF 5 SEPERATOR CARDS. IN COMM THE $PQ
COMMAND HAS BEEN NULLIFIED AND THE $DN COMMAND WITH NO OPERANDS IS ALSO
NULLIFIED TO CUT DOWN ON CONSOLE MESSAGES. $DF IS MODIFIED TO LIST THE
NUMBER OF LINES, JOB NUMBER, AND BREAK OUT INDIVIDUAL JOES. $D' HAS
BEEN GIVEN A GENERIC CAPABILITY ALA THE TSO STATUS COMMAND. $DU WILL
SHOW THE LINES LEFT TO PRINT.  $AA, $AJ, $HA AND $HJ ARE MODIFIED AND
$AH WAS ADDED TO SUPPORT /*JOBPARM NIGHT IN THE JOB CLASSING MOD.

THE MODS ARE IN IEBUPDTE FORMAT.  THEY ARE RUNNING ON JES2 4.1 WITH
AZ27300 APPLIED.  THE JNLOADER SUPPLIED LOADS A PRIORITY TABLE OF 4K.

********************************************************************************
*                                                                              *
*         F I L E   3 6   H W C   J N L O A D E R                              *
*                                                                              *
********************************************************************************

LAST FILE UPDATE - NOVEMBER 1979.

********************************************************************************
*                                                                              *
*         F I L E   3 7   P E C   J E S M O D S                                *
*                                                                              *
********************************************************************************

MODIFICATION SUPPLIED BY PHILADELPHIA ELECTRIC COMPANY.
LAST FILE UPDATE - NOVEMBER 1979.

   THIS JES MODIFICATION WILL INTERPRET THE STANDARD JES2 PUNCH
   SEPARATOR CARD AS FOLLOWS IF IT IS PUNCHED ON A 3525 WITH
   EITHER THE TWO-LINE OR MULTILINE PRINT FEATURE:

                              POS   1-9  ROOM NUMBER
                              POS  15-22 JOB NUMBER
                              POS  28-35 JOB NAME
                              POS  41-60 PROGRAMMER NAME

   SOURCE MODULE: HASPPRPU
   JES2 LEVEL:    4.1
   PTF  LEVEL:    UZ23933
   MOD AUTHOR:    PHILADELPHIA ELECTRIC COMPANY

********************************************************************************
*                                                                              *
*         F I L E   3 8   F P C   J E S D U M P                                *
*                                                                              *
********************************************************************************

THE FOLLOWING PROGRAM IS AN UPDATED VERSION OF JESDUMP WITH SUPPORT FOR
AZ20010. SUPPLIED BY JERRY MORRIS - FLORIDA POWER CORPORATION.
LAST FILE UPDATE - NOV 1979.

********************************************************************************
*                                                                              *
*         F I L E   3 9   W S D   J E S M O D S                                *
*                                                                              *
********************************************************************************

THE FOLLOWING FILE CONTAINS MODS FROM THE STATE OF WASHINGTON DATA
CENTER IN IEBUPDTE FORMAT. SUPPLIED BY DANIEL PARSONS. LAST FILE UPDATE
JAN 1980.

   SHARE INSTALLATION CODE       WSD
   CONTACT            DANIEL PARSONS                (206) 753-0682
   MAILING ADDRESS    WDPSC
                      ROOM 25 OFF. BLDG 2
                      MAIL STOP OB-01
                      OLYMPIA, WA 98504

    JES2 VERSION     4.1

-- WSD01
            $CAT, HASPCOMM, HASPINIT, HASPRDR, HASPXEQ
-- RESTRICT JOBS BASED ON LINE LIMITS. THE DEFAULT LIMITS ARE SET
   BY JOB CLASS AND DESITINATION OF THE JOB, EITHER LOCAL OR REMOTE.
   THE DEFAULT AND MAXIMUM VALUES ARE PLACED IN THE CLASS ATTRIBUTE
   TABLE. THE RESTRICTIONS IS ENFORCED IN HASPRDR.

-- WSD02
            $CAT, $RDRWORK, HASPINIT, HASPRDR
-- RESTRICT JOBS BASED ON CPU TIME LIMITS. THE CPU TIME LIMITS ARE
   PLACED IN TWO UNUSED  BYTES OF THE CONVERSION PARAMETER TABLES.

-- WSD03
            HASPCOMM
-- COMMAND TO ABEND JES2. THE COMMAND MUST BE FROM THE MASTER CONSOLE.

-- WSD04
            HASPCOMM
-- THE $DA AND $DI COMMANDS CANNOT BE USED BY REMOTE STATIONS.

-- WSD05
            HASPCOMM
-- THE $AJ, $CJ, AND $PJ COMMANDS ARE NOT EXECUTED, IF THEY ARE
   ENTERED AT A REMOTE STATION AND THE JOB IS AWAITING EXECUTION.

-- WSD06
            HASPCOMM
-- A $DU COMMAND ENTERED AT A REMOTE STATION DISPLAYS THAT REMOTE
   ALTHOUGH OTHER PARAMETERS ARE PRESENT.

-- WSD07
            HASPINIT, HASPPRPU, HASPRDR
-- SET THE DEFAULT FLASH IDENTIFIER FOR SYSOUT TO BE 0001. THIS IS
   INTENDED FOR IBM 3800 PRINTERS BUT DOES NOT DISTURB OTHER OUTPUT.

-- WSD08
            HASPCOMM, HASPSSSM
-- USE  NULL  AS A KEYWORD VALUE FOR JCL AND THE OPERATOR COMMANDS.
   THIS RELATES TO WSD07. FLASH=NULL ON JCL PLACES THE OUTPUT IN  A
   NO-FLASH CONDITION.  $TPRT_,O=NULL IS EQUIVALENT TO $TPRT_,O=RESET .

-- WSD09
            HASPINIT
-- DISPLAY THE VOLUME SERIAL NUMBER OF SPOOL AND CHECKPOINT DATA SETS
   IN THE HASP436 MESSAGE WHEN DOING A COLD START.

-- WSD10
            HASPINIT
-- DO NOT USE BISYNCH LINES  AS JES2 REMOTE LINES UNLESS THEY ARE
   SPECIFICALLY ASSIGNED IN THE JES2 LINE CONTROL PARAMETER DURING
   INITIALIZATION.

-- WSD11
            HASPPRPU
-- JOBS GOING TO REMOTE 1 WITH MORE THAN 5000 LINES ARE REROUTED
   TO PRINT LOCALLY.

-- WSD13
            HASPPRPU
-- THE DEFAULT LINE COUNT PER PAGE IS 60 FOR OUTPUT PRINTED ON THE 3800
   PRINTERS. THE DEFAULT LINE COUNT PER PAGE IS LEFT AT THE SIZE SET
   BY &LINECT OR USER JOB SPECIFICATION.

-- WSD15
            HASPPRPU
-- THE PRINT SEPARATOR PAGE IS PRINTED TWICE ON LOCAL PRINTERS.

-- WSD17
            HASPRTAM
-- DO NOT DISPLAY  COMMANDS ENTERED AT REMOTE CONSOLES ON LOCAL OPERATOR
   CONSOLES. A SIMILAR FUNCTION FOR COMMANDS FROM A REMOTE READER IS
   IN  WSD48.

-- WSD18
            HASPRTAM
-- OPTIONS FOR PUNCH POCKET SELECTION CODES ARE REMOVED IF THE REMOTE
   STATION IS A IBM 3741 DEVICE.

-- WSD20
            HASPRTAM
-- CHANGE THE INTERUPT OF PRINT AT A REMOTE STATION INTO BACKSPACE OF
   THREE PAGES AFTER THE PRINTER IS RESTARTED. THE INTERUPT IS NOT BY
   $I COMMAND.

-- WSD21
            HASPSSSM
-- ALLOW USE OF WORD REMOTE IN ADDITION TO RMT AND R FOR USE IN JCL
   DYNAMIC ALLOCATION.

-- WSD24
            HASPXEQ
-- THE PERFORMANCE GROUP FOR ALL BATCH JOBS IS SET FROM THE CLASS
   ATTRIBUTE TABLE.

-- WSD25
            $COMWORK, HASPCOMM
-- DISPLAY THE LINE COUNT IN THE RESPONSE TO $DF . THE NUMBER OF LINES
   IS ROUNDED INTO K(1000S) OR M(1,000,000) FOR EASIER READING.

-- WSD26
            HASPCOMM
-- THE $DA,XEQ COMMAND DISPLAYS BATCH JOBS ONLY RATHER THAN BATCH, STC,
   AND TSU TASKS.

-- WSD34
            HASPXEQ
-- IF A JOB HAS NO TIME PARAMETER ON THE JOB CARD, IT IS INSERTED. THIS
   PREVENTS A STEP FROM EXCEEDING THE CPU TIME MAXIMUM BY HAVING TIME=
   AT STEP LEVEL BUT NOT ON THE JOB. THIS IS AN EXTENSION OF WSD02

-- WSD35
            HASPCOMM
-- $LJ COMMAND IS CHANGED TO DISPLAY ONLY JOBS THAT HAVE READY OR HELD
   DATA SETS.

-- WSD37
            HASPXEQ
-- ALLOW THE MATCH OF A JOBNAME THAT MATCHES TSO USERID IN A MANNER
   NOT SUPPORTED BY IBM DEFAULTS. OUR JOBNAMES ARE XXYXXXXX WHERE
   XXXXXXX IS THE TSO USERID. THIS ALSO REQUIRES MODIFICATION TO THE
   STATUS COMMAND.

-- WSD41
            $RDRWORK, HASPRDR
-- PLACE JOB CLASS IN THE READER RECOGNITON MESSAGE.

-- WSD46
            HASPSSSM
-- THE FORM NUMBER DEFAULT FOR /*OUTPUT IS TO THE FORMS ID  RATHER
   THAN THE FORM SPECIFIED IN THE JES2 PARAMETERS.

-- WSD47
            HASPXEQ
-- DO NOT CLEAR THE READER TIME FOR A STARTED TASK. IT CAN THEN BE
   USED BY OTHER ROUTINES.

-- WSD48
            HASPRDR
-- COMMANDS ENTERED AT A REMOTE READER ARE NOT DISPLAYED ON THE LOCAL
   OPERATOR CONSOLES. SEE WSD17 FOR COMMANDS FROM A REMOTE CONSOLE.

-- WSD49
            HASPCOMM
-- AFTER A $TI COMMAND DISPLAY THE INITIATOR.

-- WSD52
            HASPRDR
-- ELIMINATE THE SCAN OF ACCOUNTING PARAMETERS FOR STARTED TASKS OR
   TSO USERS.

-- WSD53
            HASPRDR
-- RETAIN THE JOB NUMBER FROM THE LAST EIGHT COLUMNS OF THE INCOMING
   JOB CARD. THIS IS USEFUL WHEN USING SPOOL TRANSFER. FOR JOBS
   AWAITING EXECUTION THE NUMBER IS ALREADY THERE. FOR JOBS IN ANY
   OTHER STATUS, SPOOL TRANSFER MUST BE MODIFIED TO PLACE THE
   ORIGINAL JOB NUMBER IN THE LAST EIGHT COLUMNS OF THE FIRST JOB CARD.
-- THE MODIFICATION INCLUDES THE CHANGE TO HJSTRGEN OF SPOOL TRANSFER
   NECESSARY TO SUPPORT THIS FEATURE. THE MODIFICATION GOES AFTER
   THE LENGTH CHECK THAT FOLLOWS THE LABEL GPNAMOK.

********************************************************************************
*                                                                              *
*         F I L E   4 0   H A C   J E S M O D S                                *
*                                                                              *
********************************************************************************

THE FOLLOWING FILE CONTAINS MODS FROM HUGHES AIRCRAFT - RADAR GROUP IN
IEBCOPY UNLOAD FORMAT. SUPPLIED BY JIM MCCONNELL.  LAST FILE UPDATE
FEB 1980.

          HUGHES AIRCRAFT COMPANY
          RADAR SYSTEMS GROUP MANUFACTURING DIVISION
          2060 EAST IMPERIAL
          BUILDING R4  MAIL STATION 255
          EL SEGUNDO, CA  90245

          JIM MCCONNELL, JR.
          TELEPHONE (213) 648 1843

 =======================================================================

  MEMBER      MODS            ABSTRACT
 -------    -------   ------------------------------------------------
 EU09000    EU09000   ESMD JES2 SEPARATOR PAGE ROUTINE.

 EU09001    EU09001   ESMD JES2 FAKE EOJ NULL CARD TEST.

 EU09002    EU09002   ESMD JES2 REPORT COVER ROUTINE.

 EU09003    EU09003   ESMD JES2 ACCOUNT NUMBER VERIFICATION ROUTINE.

 EU09004    EU09004   ESMD JES2 BILLING LOG NUMBER VALIDATION ROUTINE.

 EU09006    EU09006   ESMD JES2 SET JOBS MESSAGE CLASS TO A.

 EU09007    EU09007   ESMD JES2 PUNCH BANNER CARD.

 EU09008    EU09008   ESMD JES2 FORCE ALL CARDS TO INTERPRET ON 3525.

********************************************************************************
*                                                                              *
*         F I L E   4 1 - 4 4   M G S   I E B R O T                            *
*                                                                              *
********************************************************************************

THE FOLLOWING FILES CONTAIN A 3800 90 DEGREE ROTATE PROGRAM. EACH FILE
IS SEQUENTIAL. SUPPLIED BY RICK BUTTS.  LAST FILE UPDATE FEB 1980.

   SUGGESTIONS FOR IMPROVEMENT TO THE PRODUCT CAN BE SENT DIRECTLY TO
 THE AUTHOR. ADDRESS CORRESPONDENCE TO:

    RICK BUTT,
    CO-ORDINATOR SPECIAL PROJECTS,
    LEASIDE DATA CENTRE,
    ONTARIO MINISTRY OF GOVERNMENT SERVICES,
    15 OVERLEA BOULEVARD, 2ND FLOOR,
    TORONTO, ONTARIO, CANADA   M4H 1A9
    416-965-8247

 ** NEW UTILITY IEBROT **

   IEBROT IS A NEW UTILITY DEVELOPED AT LEASIDE  DATA  CENTRE.  IT IS
 DESIGNED EXCLUSIVELY FOR USE ON THE 3800 PRINTING SUBSYSTEM.  AS YOU
 ARE AWARE, THE 3800 IS NORMALLY LOADED WITH  11 X 8 1/2"  STOCK  TAB,
 WHICH  SERVES A VARIETY OF PRINTOUTS.   THERE ARE TIMES HOWEVER WHEN
 AN ALTERNATE SIZE IS DESIRED.  ONE OF  THE  MOST  POPULAR  ALTERNATE
 SIZES IS 8 1/2 X 11"; THAT IS, 8 1/2" WIDE BY 11" LONG.  THE CONTENT
 IS ALMOST INVARIABLY TEXT, FOR PROGRAM DOCUMENTATION, LETTERS, AND
 THE LIKE.  SINCE THIS STOCK IS NOT AVAILABLE, (AND EVEN IF IT WERE,
 WERE, WOULD BE TOO  COSTLY TO LOAD) THE UTILITY IEBROT, AND ITS SPE-
 CIALLY DESIGNED CHARACTER SETS WERE DEVELOPED.

   IEBROT READS YOUR TEXT, AND ROTATES THE MATRIX OF EACH PAGE NINETY
 DEGREES.  THEN, USING ITS OWN SPECIAL 90 DEGREE CHARACTER SET, PRINTS
 ROTATED IMAGES.  THE CHARACTER SET IS A WEIGHTED (SERIF) STYLE, WELL
 SUITED TO TEXT APPLICATIONS.  THE LAYOUT WOULD BE SIMILAR TO THAT OF
 A TYPEWRITER.  THE APPEARANCE IS  OF  TWELVE  CHARACTERS  PER  INCH,
 HORIZONTAL, SIX LINES PER INCH, VERTICAL. YOUR INPUT TEXT MUST BE
 LRECL=80, RECFM=FA OR FBA, THAT IS, AN ASA CHARACTER, FOLLOWED BY 79
 BYTES OF TEXT DATA.  THE MAXIMUM NUMBER OF LOGICAL LINES PER PAGE IS
 60.  YOU NEED TO OVERRIDE THE JES2 DEFAULT OF AUTOMATIC SKIP TO HEAD-
 OF-FORM AFTER 60 LINES BY SPECIFYING A VALUE OF 90 OR GREATER IN THE
 LINECT PARAMETER OF THE JOBPARM CARD. IEBROT AND ITS CHARACTER SETS
 SUPPORT ALL GRAPHICS ON THE TN ( IBM 1403 ) AND THE T11 ( IBM 3211 )
 PRINT TRAINS.

 FILE 41  IEBROT DOCUMENTATION. THE TEXT USES IEBROT FEATURES AND TO
   GET A FINISHED QUALITY PRINT SHOULD BE PRINTED USING IEBROT. THIS
   FILE CONTAINS A DESCRIPTION OF IEBROT FEATURES AND RESTRICTIONS AND
   INFORMATION ON HOW TO INSTALL THE PROGRAM.

 FILE 42  IEBROT ASSEMBLER SOURCE STATEMENTS.

 FILE 43  IEBROT COBOL SOURCE STATEMENTS.

 FILE 44  THE IEBIMAGE SOURCE FOR THE ROTATED CHARACTER SET. THIS IS
   ONE CONTINUOUS STREAM FOR THREE GRAPHIC MODULES, FOLLOWED BY A
   CHARACTER ARRANGEMENT TABLE DEFINITION. THIS IS FOR THE NORMAL PRINT.
   FOLLOWING THIS ARE FOUR MORE GRAPHIC MODULES AND ANOTHER XTB FOR THE
   BIG-PRINT VARIATION.  RUN THROUGH IEBIMAGE. ALL NAMES ARE OF THE FORM
   XXXXJ0SY, NO REPLACE.

   AFTER THE BASIC INSTALLATION ABOVE, YOU WILL NEED  TO  VERIFY  THE
 PRESENCE OF FCB'S FOR 8.5 INCHES, ONE FOR 12 LPI, ONE FOR 6 LPI.

   THE AUTHOR OF IEBROT ACKNOWLEDGES EXISTENCE OF THE IUP "IBM 3800 -
 90 DEGREE PRINT PROGRAM", PROGRAM NUMBER 5796-ARE WHICH ALSO DOES 90
 DEGREE PRINTING.  HE SALUTES THE AUTHORS OF THAT PACKAGE WHO HAD THE
 BROAD MINDED THINKING TO INTRODUCE THE CONCEPT, AND THE FORTITUDE TO
 SPEND THOSE LATE NIGHTS CODING ALL THOSE CHARACTERS.
   IEBROT  IS  NOT INTENDED AS A REPLACEMENT FOR "ROTATE90" WHICH HAS
 SOME FLEXIBILITIES NEVER INTENDED FOR IEBROT.  ROTATE90  IS  CLEARLY
 SUPERIOR  FOR "COMPUTER REPORT" TYPE PRINTING WHERE A CONDENSED FOR-
 MAT IS DESIRED.

********************************************************************************
*                                                                              *
*         F I L E   4 5   J E S 2   P E R F O R M A N C E   M O N I T O R      *
*                                                                              *
********************************************************************************

            ***** D I S C L A I M E R *****

   THIS VERSION OF THE JES2 MONITOR HAS BEEN USED SUCCESSFULLY AT
   DATACROWN INC.  HOWEVER, NO WARRANTY IS MADE TO THE ACCURACY OF
   THIS MONITOR OR ITS OUTPUT AND NO REPONSIBILITY IS ASSUMED BY
   DATACROWN INC. FOR ANY MODIFICATION DIRECTLY OR INDIRECTLY CAUSED
   BY THE USE OF THIS MONITOR.  IT IS THE USERS RESPONSIBLITY TO
   EVALUATE THE USEFULLNESS AND ACCURACY OF THIS MATERIAL.

   DATACROWN INC. DOES NOT GUARANTEE TO KEEP ANY OF THIS MATERIAL
   UP TO DATE OR PROVIDE ANY CORRECTIONS OR EXTENSIONS IN THE FUTURE.

            ********************************
            ********************************
            ********************************


THE FOLLOWING FILE CONTAINS AN UPDATE TO THE JES2 MONITOR
ORIGINALLY SUPPLIED BY STEPHEN MYERS OF INA.  THIS NEW
VERSION IS DISTRIBUTED AS AN IEBCOPY UNLOADED SOURCE PDS.
FOR FURTHER INFORMATION PRINT THE JESMON DOCUMENTATION IN
THE NEXT FILE ON THE TAPE.

VARIOUS ENHANCEMENTS HAVE BEEN MADE TO THE MONITOR AND
THE REPORT PROGRAM AS WELL AS FIXING A NUMBER OF BUGS:

  JESMON:

    1)  SYSEVENT TRANSWAP ADDED TO REMOVE REQUIREMENT
        FOR PROGRAM PROPERTIES TABLE ENTRY.
    2)  SRB ROUTINE CODE CHANGED TO REDUCE MP/AP WINDOWS
        TO PROVIDE MORE ACCURATE RESULTS ON MP/AP.

  JESRPT:

    1)  MODULE MAP NOW PROVIDES 16 BYTE RESOLUTION.
    2)  LIMSET ROUTINE NOW INVOKED BY DEFAULT FOR BUFFERS,
        CMBS AND SMF BUFFERS.
    3)  FIX BUG IN MODULE SUMMARY (MODULES GREATER THAN X'7FFF' IN
        LENGTH COULD SHOW TWICE).
    4)  ADDRESS AND PAGE FAULT MAP FORMATTING NOT CORRECT.  ENTRIES
        IN COLUMNS NOT ALLIGNED PROPERLY WITH CORRECT RANGE IN OTHER
        COLUMNS.
    5)  FIX 0C9 IN REPORT PROGRAM.

  HIST (LIMSET ROUTINE):

    1)  LIMITS TABLE ENTRIES CHANGED TO PROVIDE BETTER HISTOGRAMS.

COMMENTS, BUGS, QUESTIONS, SUGGESTIONS AND CRITICISMS:

     SELBY SHANLY                416-499-1012
     DATACROWN INC.
     650 MCNICOLL AVENUE
     WILLOWDALE, ONTARIO
     CANADA

********************************************************************************
*                                                                              *
*         F I L E   4 6   J E S M O N   D O C U M E N T A T I O N              *
*                                                                              *
********************************************************************************

THE FOLLOWING FILE CONTAINS JESMON DOCUMENTATION PREPARED TO PRINT ON A
3800 PRINTER USING 11 X 8 1/2 PAPER HORIZONTALLY AND THE TN CHARACTER
ARRANGEMENT TABLE AT 6 LINES / INCH, 45 LINES / PAGE. FILE IS RECFM=VBA
LRECL=148 BLKSIZE=3556.
LAST FILE UPDATE - APRIL 1981.

********************************************************************************
*                                                                              *
*         F I L E   4 7   U N I T E D   J E S M O D S                          *
*                                                                              *
********************************************************************************

THE FOLLOWING FILE CONTAINS JESMODS FROM UNITED AIRLINES CHICAGO. THE
FILE IS IN IEBCOPY UNLOAD FORMAT.  SUPPLIED BY MICHAEL EMIGH.
LAST FILE UPDATE - MARCH 1980.

                   MICHAEL EMIGH                 (312) 952-4371
                   UNITED AIRLINES
                   P. O. BOX 66100
                   CHICAGO, ILLINOIS, 60666

************************************************************************
*   MOD 2  : ELIMINATE THE NEED FOR '$' CHARACTER IN COMMANDS          *
*            ENTERED FROM THE CONSOLE THUS SAVING KEYSTROKES.          *
*            MVS COMMANDS WITHOUT OPERANDS MUST HAVE A DUMMY           *
*            OPERAND ADDED TO THEM TO PREVENT THEM FROM GETTING        *
*            WITH A '$' SIGN.                                          *
************************************************************************
  ZJ00002
  SSM00201
  SSM00202
************************************************************************
*   MOD 5  : HIGH-LIGHT THE JOB TERMINATION MESSAGE FOR                *
*            JOBS THAT ABENDED AND CAUSE THEIR OUTPUT TO               *
*            BE RELEASED AND PRINTED.                                  *
************************************************************************
  ZJ00005
  SSM00501
  SSM00502
  SSM00503
  SSM00504
************************************************************************
*   MOD 12 : HASP-TO-HASP SUPPORT THAT ALLOWS ONE JES COMPLEX TO       *
*            COMMUNICATE WITH OTHER HASP/JES2 COMPLEX THRU BISYNC      *
*            LINES USING NJE FACILITIES.                               *
************************************************************************
  ZJ00012
  DCT01201
  DCT01202
  INT01201
  INT01202
  NET01201
  NET01202
  NET01203
  NET01204
  NET01205
  NET01206
  NET01207
  NUC01201
  RDR01201
  RDR01202
  RDR01203
  RDR01204
  RDR01205
  RTM01201
  RTM01202
  RTM01203
  RTM01204
  RTM01205
  RTM01206
  RTM01207
  RTM01208
  RTM01209
  RTM01210
  RTM01211
  RTM01212
  RTM01213
  RTM01214
  RTM01215
  RTM01216
  RTM01217
  RTM01218
************************************************************************
*  MOD 15 : FACILITATES THE TRANSMISSION OF JOBS FROM ONE COMPLEX      *
*           TO ANOTHER WITHOUT THE OVERHEAD OF JCL SCANNING.           *
*           THIS SUPPORTS THE TUCC HASP/HASP /* RELAY CARD.            *
************************************************************************
  ZJ00015
  RDR01501
  RDR01502
  RDR01503
  RDR01504
  RDR01505
************************************************************************
*  MOD 19 : THIS PRINTS ALL THE OUTPUT OF A JOB THAT ABENDED,          *
*           INCLUDING DUMMY SYSOUT                                     *
************************************************************************
  ZJ00019
  PRP01901
  PRP01902
  PRP01903

********************************************************************************
*                                                                              *
*         F I L E   4 8   N E U C C   J E S M O D S                            *
*                                                                              *
********************************************************************************

THE FOLLOWING FILE CONTAINS DATA IN PSEUDO UPDATE FORMAT AS A SEQUENTIAL
FILE. LAST FILE UPDATE - MARCH 1980.

THIS VERSION WAS WRITTEN FOR PRE AZ27300 LEVEL JES2.

THE FOLLOWING FILE CONTAINS A MODIFICATION TO JES2 HELD-OUTPUT RELEASE
PROCESSING TO AVOID OUTPUT SEPERATION. BASED ON THE INTRODUCTION OF THE
SPIN-IOT WITH MULTIPLE PDDBS CONCEPT. THE REASSEMBLY TAKES PLACE ONLY AS
LONG AS THE PDDBS HAVE SAME CHARACTERISTICS, E.G. AS LONG AS THE PDDBS
HAVE THE SAME CHARACTERISTICS JOE. WHEN A PDDB WITH NEW CHARACTERISTICS
IS ENCOUNTERED THE JOE IS $#ADDED AND A NEW IOT IS STARTED. REASSEMBLY
TAKES PLACE ONLY AS LONG AS THERE IS SPACE IN THE CURRENT IOT AS THE
LOGIC DOES NOT CHAIN IOTS.

JES2 STRUCTURE BEFORE HELD OUTPUT RELEASE

        IOTN        HQT - HQR1 CX--> CX CHARACTERISTICS
        .                 HQR2 CX
       .                  HQR3 CY--> CY CHARACTERISTICS
     IOT5                 HQR4 CZ
    IOT4                  HQR5 CZ--> CZ CHARACTERISTICS
   IOT3                   .
  IOT2                    .
 IOT1                     HQRN CZ

JES2 STRUCTURE AFTER HELD OUTPUT RELEASE

 JOE (CX) --> IOT1     JOE (CY) --> IOT2     JOE (CZ) --> IOT3
               PDDB1                 PDDB3                 PDDB4
               PDDB2                                       PDDB5
                                                            .
                                                            .
                                                           PDDBN

********************************************************************************
*                                                                              *
*         F I L E   4 9   G F S   J E S M O D S                                *
*                                                                              *
********************************************************************************

THE FOLLOWING FILE CONTAINS A JESMOD IN SMP 4 FORMAT FROM GLENDALE
FEDERAL SAVINGS. LAST FILE UPDATE - MARCH 1980.

*
*  THIS CODE WAS WRITTEN BY ALAN FEINSTEIN FROM GLENDALE FEDERAL
*  SAVINGS.  IT GOES INTO HASPSSSM.  IF NO OUTLIM PARAMETER IS GIVEN
*  IN THE JCL, THE VALUE FOR &ESTLNCT OR &ESTPUN IS SUBSTITUTED.
*
*  IN MVS, IF THE USER EXCEEDS THE MAX LINE COUNT, THE IEFUSO EXIT IS
*  NOT TAKEN UNLESS THE USER SPECIFIED AN OUTLIM PARAMETER ON THE
*  DD CARD.  IF THE OUTLIM PARM IS SPECIFIED, THE IEFUSO EXIT IS
*  TAKEN; IF THERE IS NO IEFUSO EXIT, THE USER ABENDS WITH A S722.
*  THIS CODE WAS DESIGNED TO INSERT THE MAX PRT (FOR PRINT DATASETS)
*  OR THE MAX PUNCH (FOR PUNCH DATASETS) FROM THE JES2 PARMS FOR THE
*  OUTLIM PARM IF NONE WAS GIVEN IN THE JCL.

********************************************************************************
*                                                                              *
*         F I L E   5 0    R A Y T H E O N   M O D S    (RYT)                  *
*                                                                              *
********************************************************************************

THE FOLLOWING MODS ARE SUPPLIED BY RAYTHEON CO. AND ARE IN IEBUPDTE FORMAT.
THE MODS ARE FOR JES2 4.1 (SU 25) AT PTF LEVEL 7905.
LAST FILE UPDATE - 03/18/80
ANY QUESTIONS OR COMMENTS ON THESE MODIFICATIONS MAY BE ADDRESSED TO:

                   JON WELCH   WA1B08    (617) 475-5000  EXT. 2373
                   RAYTHEON CO.
                   350 LOWELL STREET
                   WEST ANDOVER, MASS.  01810

RYT008                MODULES CHANGED - HASPPRPU  18 CARDS
                                        HASPSSSM   7 CARDS

     THIS MOD ADDS BIN NUMBER (JCTROOMN) TO THE 'ON PUNCH' WTO FOR
     LOCAL PUNCHES.
     ANOTHER PART OF THE MOD ADDS PROGRAMMER NAME TO THE 'JOB STARTED'
     WTO, AND A STRING OF '* * * * * * *' TO 'JOB ENDED' WTO.


RYT012                MODULES CHANGED - HASPPRPU  75 CARDS

     THIS MOD PRODUCES A TRAILER PUNCH SEPARATOR CARD.  IT ALSO MOVES
     THE CODE FOR SEPARATOR CARD TO PROVIDE MORE ADDRESSABILITY IN PRPU.
     THE FORMAT OF THE SEPARATOR CARDS IS CHANGED TO INCLUDE PROGRAMMER
     NAME AND JOBNAME ON CARD AS WELL AS JOBNUMBER, ROOM NUMBER.


RYT021                MODULES CHANGED - HASPPRPU  28 CARDS

     OUR LOCAL PRINTERS HAVE AN HN CHAIN INSTEAD OF THE NORMAL PN.  TWO
     OF THEM ARE TELEX 5403 PRINTERS THAT ARE NOTICABLY SLOWER IF GIVEN
     CHARACTERS NOT ON THEIR CHAIN.  THIS MOD INTRODUCES A SECOND TRANS-
     LATE TABLE IN PRPU - ONE IS USED FOR RJE (PN) AND THE SECOND FOR
     LOCAL (HN).  IT COULD BE MODIFIED TO WORK ONLY FOR SPECIFIC LOCAL
     PRINTERS IF NEEDED.


RYT022                MODULES CHANGED - HASPPRPU   3 CARDS

     THIS MOD BYPASSES TRANSLATE PROCESSING FOR A PRINTER IF IT IS SET
     TO CLASS=T.  THE MOD WAS WRITTEN 'QUICK AND DIRTY', AND THUS ONLY
     CHECKS THE FIRST CHARACTER OF DCTCLASS.  YOU CAN THUS PRINT CLASS A
     WORK WITHOUT TRANSLATION BY SETTING PRINTER TO Q=TA.
     THIS MOD WAS WRITTEN FOR TRANSMITTING TO REMOTE TAPE DEVICES.


RYT023                MODULES CHANGED - HASPCOMM  14 CARDS

     ALLOWS OPERATOR TO RESET DEVICE BY ENTERING '$TPRT1,F=RESET'.  THIS
     FORMAT IS THE SAME AS AN OLD HASP VERSION.  THIS SETS A PRINTER TO
     &STDFORM AND CLASS=AJ.  FOR A PUNCH IT USES &STDFORM AND Q=BK.


RYT024                MODULES CHANGED - HASPCOMM   9 CARDS

     ALLOWS REMOTE OPERATOR TO CHANGE THE PRIORITY ON OUTPUT JOBS FROM
     THEIR REMOTE.


RYT025                MODULES CHANGED - HASPSSSM   2 CARDS
                                        HASPRDR    4 CARDS

     IN OUR INSTALLATION WE WANT TO HOLD ALL OUTPUT OF A JOB IF MESSAGE
     CLASS IS HELD.  WE DIDN'T SWITCH TO SYSOUT=* BECAUSE NO ONE WAS
     USED TO THAT METHOD, AND IT MADE IT DIFFICULT FOR SPECIAL FORMS
     AND PUNCH SYSOUTS.  THIS MOD REMOVES TWO LINES OF CODE IN HASPSSSM
     SO THAT WHEN CHECKING IF A DATASET SHOULD BE HELD THE ONLY CRITERIA
     IS THAT THE MESSAGE CLASS IS A HELD CLASS, NOT WHETHER THE SYSOUT
     CLASS ITSELF IS A HELD CLASS.
       A SECOND PART OF THIS MOD CHANGES THE PDBCLASS FOR THE FOUR
     SYSTEM PDDB'S (JCL, JOB LOG, JCL IMGS, AND MSGS PDDB) FROM
     MSGCLASS=R TO 'A'.  THIS IS SO A PRINTER DOESN'T HAVE TO BE SET
     TO CLASS 'R' FOR OUR HELD OUTPUT JCL LISTINGS.


RYT026                MODULES CHANGED - HASPCOMM   7 CARDS

     THIS MOD MAKES A RANGE OF NUMBERS INVALID ON $CJ AND $PJ COMMANDS.

********************************************************************************
*                                                                              *
*         F I L E   5 1    G W   J E S M O D S                                 *
*                                                                              *
********************************************************************************

    THIS MOD IS USED TO CREATE DEFAULT MICROFICHE HEADINGS ON THE
    KOMSTAR MICRO-FICHE PRINTER. THESE HEADINGS CONTAIN THE FOLLOWING
    INFORMATION:

 NNN JJJJJJJJ XXXX PPPPPPPPPPPPPPPPPPPP    C  RRRR  CCC ------
 NNN JJJJJJJJ XXXX DD-MMM-YY | HH.MM.SS    L  RRRR  END      |
  |    |      |    |         |   |         |  |     |        |
  |    |      |    |         |   |         |  |     |        |-NO OF
  |    |      |    |         |   |         |  |-ROOM|          COPIES
  |    |      |    |-DATE    |   |         |    NO. |-"END"
  |    |      |-JOB NUMBER   |   |         |-SYSOUT    ON LAST FICHE
  |    |-JOB NAME            |   |-TIME      CLASS
  |-FICHE NUMBER             |-PROGRAMMER NAME FIELD


      THE MOD WORKS BY CHECKING TO SEE IF "PRINTER4" IS INVOLVED
      PRIOR TO CREATING THE NORMAL JES BANNER.  IF IT IS, THE NORMAL
      BANNER IS BYPASSED, AND THE KOMSTAR CONTROL RECORDS ARE CUT
      INSTEAD.

      NOTE:  JES NEWS AND MULTIPLE COPIES ARE NOT PRODUCED ON
      FICHE.  THE NUMBER OF COPIES IS PRINTED IN THE UPPER
      RIGHT HAND CORNER OF THE FICHE FOR OFFLINE DUPLICATION.

      THIS MOD IS IN SMP4 FORMAT AND (AT LAST LOOK) WAS COMPATABLE
      IN AN IPO5 SYSTEM AT 7909 PTF LEVEL.

      M. L. SMITH, GREAT WESTERN SAVINGS, 450 NEWPORT CENTER DRIVE
      NEWPORT BEACH, CA. 92660.   (714) 759-4850


********************************************************************************
*                                                                              *
*         F I L E   5 2    L O C K H E E D   M O D S                           *
*                                                                              *
********************************************************************************

THE FOLLOWING MODS ARE SUPPLIED BY LOCKHEED CO. AND ARE IN IEBCOPY
UNLOAD FORMAT WITH MEMBERS IN SMP FORMAT.
LAST FILE UPDATE - 10/25/80
ANY QUESTIONS OR COMMENTS ON THESE MODIFICATIONS MAY BE ADDRESSED TO:

                   JOHN KINN
                   LOCKHEED CALIFORNIA COMPANY
                   PLANT A-1, BLDG 67, DEPT 83-21
                   BURBANK, CALIF., 91503

         SCL08
*A  EXTEND TYPRUN=SCAN TO INCLUDE USING THE INTERPRETER         SCL 08
*B  ORIGINAL    C J KINN  22 FEB 80                             SCL 08
*C  CNV COMM XEQ SSSM $JQE                                      SCL 08
*D  TYPRUN=SCAN SUPPORT IS EXTENDED TO INCLUDE QUEUEING THE     SCL 08
*D  JOB FOR INTERPRETER.                                        SCL 08

         SCL09
*A  DO NOT ENSURE CHECKPOINT OWNED WHEN DOING STATUS            SCL 09
*B  ORIGINAL  C J KINN 8 JUL 80                                 SCL 09
*C  XEQ                                                         SCL 09
*D  ALTER CANCEL/STATUS SUPPORT TO DO $QSUSE ONLY IF CANCEL     SCL 09
*D  SUPPORT.  THIS SHOULD CAUSE STATUS RESPONSE TO IMPROVE      SCL 09
*D  SIGNIFICANTLY                                               SCL 09

         SCL16
*A  WRITE OVER CLASSIFIED DATA ON SPOOL AFTER SPACE IS FREED    SCL 16
*B  ORIGINAL              050578  C J KINN                      SCL 16
*C  NUC INIT RDR SSSM $HCT $PCE $JCT $IOT                       SCL 16
*D  WHEN SPACE IS FREED FOR A CLASSIFIED JOB, A NEW PCE         SCL 16
*D  $WRITPCE IS POSTED FOR WORK.  THE TRACK GROUP MAP IS        SCL 16
*D  OR'ED TO A REWRITE MAP ($WRITMAP) AND HASPWRIT IS POSTED    SCL 16
*D  FOR WORK.  HASPWRIT EXAMINES THE $WRITMAP AND WRITES A      SCL 16
*D  RECORD OF ZEROES FOR EACH RECORD ON EACH TRACK OF EACH      SCL 16
*D  TRACK GROUP ALLOCATED TO THE $WRITMAP.                      SCL 16

         SCL18
*A  SMF ID OF CREATING SYSTEM ON SYSLOG                         SCL 18
*B  ORIGINAL  C J KINN 051778                                   SCL 18
*C  SSSM                                                        SCL 18
*D  THE FIRST LOGICAL RECORD FOR EACH SYSLOG DATA SET WILL      SCL 18
*D  HAVE THE SMF ID OF THE SYSTEM CREATING THE SYSLOG.          SCL 18
*D  THE LOGWTR TASK WILL RECOGNIZE THE RECORD AND ADD THE SMF   SCL 18
*D  ID TO THE END OF EACH LOGICAL RECORD ON ITS OUTPUT FILE.    SCL 18

         SCL22
*A  CLASS ATTRIBUTE EXTENSION                                   SCL 22
*B  ORIGINAL   082678 C J KINN                                  SCL 22
*C  $CAT $CATX INIT                                             SCL 22
*D  THIS MODIFICATION ADDS AN EXTENSION TO THE IBM DEFINED      SCL 22
*D  CLASS ATTRIBUTE TABLE (CAT).  IN THE EXTENSION WILL BE      SCL 22
*D  VARIOUS FIELDS USED BY OTHER LOCAL JES2 MODIFICATIONS.      SCL 22

         SCL23
*A  ALL PDDB MACRO CHANGES ARE IN THIS MODIFICATION             SCL 23
*B  ORIGINAL          082678 C J KINN                           SCL 23
*C  $PDDB RDR SSSM NUC                                          SCL 23
*D  ALL PDDB MODIFICATIONS ARE DONE HERE                        SCL 23

         SCL25
*A  ALL MODIFICATIONS TO THE DCT'S                              SCL 25
*B  ORIGINAL                082878 C J KINN                     SCL 25
*C  $DCT INIT PRPU $RCPWORK                                     SCL 25
*D  ALL MODIFICATIONS TO THE DCT ARE HANDLED IN THIS            SCL 25
*D  MODIFICATION.

         SCL30
*A  ADD DESCRIPTOR CODE 15 TO JOB BEGINNING AND JOB ENDING      SCL 30
*B  ORIGINAL          020777 C J KINN                           SCL 30
*C  SSSM                                                        SCL 30
*D  DESCRIPTOR CODE 15 IS ADDED TO THE FOLLOWING MESSAGES --    SCL 30
*D       HASP303, HASP373, HASP395, HASP396, HASP397, HASP398   SCL 30
*D                                                              SCL 30
*D  MESSAGES IEF450, IEF451, IEF452, IEF453 MESSAGES AS WELL    SCL 30
*D  AS THE ABOVE MESSAGES ARE PICKED UP IN THE SVC 35           SCL 30
*D  SUB-SYSTEM EXIT.  A CMB IS BUILT AND PRESENTED TO THE       SCL 30
*D  PRESENT CMB INTERFACE FOR TRANSMISSION TO A REMOTE WORK     SCL 30
*D  STATION.                                                    SCL 30

         SCL31
*A  ALL JCT MODIFICATIONS PLACED HERE                           SCL 31
*B  ORIGINAL                082878 C J KINN                     SCL 31
*C  $JCT                                                        SCL 31
*D  ALL MODIFICATIONS TO THE JCT ARE PLACE HERE                 SCL 31

         SCL33
*A  ALL MODIFICATIONS TO THE HCT GO HERE                        SCL 33
*B  ORIGINAL          091078 C J KINN                           SCL 33
*C  HCT                                                         SCL 33
*D  ALL MODIFICATIONS TO THE HCT GO HERE.                       SCL 33

         SCL34
*A  MODIFICATIONS TO THE SSVT AND SVTC                          SCL 34
*B  ORIGINAL         091078 C J KINN                            SCL 34
*C  $SVT $SVTC SSSM                                             SCL 34
*D  ALL ALTERATIONS TO THE SSVT AND THE SVTC GO HERE            SCL 34

         SCL36
*A  ASSOCIATE MCS ROUTE CODES WITH DEVICE                       SCL 36
*B  ORIGINAL         091678 C J KINN                            SCL 36
*C  CON RTAM NUC                                                SCL 36
*D  A TWO BYTE MCS ROUTE CODE IS ASSOCIATED WITH ALL JES2       SCL 36
*D  DEVICES.  THIS ROUTE CODE IS OR'ED WITH THE ROUTE           SCL 36
*D  CODE GENERATED BY NORMAL JES2 ROUTE CODES.                  SCL 36

         SCL37
*A  SYSTEM AFFINITY - AUTOMATIC /*XEQ                           SCL 37
*B  ORIGINAL          092278  C J KINN                          SCL 37
*C  RDR INIT SSSM $RDT                                          SCL 37
*D  THREE MODIFICATIONS PACKAGED AS ONE.                        SCL 37
*D                                                              SCL 37
*D       1. JOB CLASSES CAN HAVE A DEFAULT SYSTEM AFFINITY      SCL 37
*D          OR A DEFAULT XEQ NODE SPECIFIED FOR EACH CLASS.     SCL 37
*D          IF BOTH ARE SPECIFIED SYSAFF IS IGNORED.            SCL 37
*D       2. SUPPORT OF GENERIC SYSTEM AFFINITY.  THAT IS        SCL 37
*D          USERS CAN SPECIFY SYSAFF ON THE JOBPARM CARD        SCL 37
*D          USING NAMES OTHER THAN THE SMF IDS.                 SCL 37
*D       3. AUTOMATIC QUEUEING FOR OTHER NODES BASED            SCL 37
*D          ON THE SYSTEM AFFINITY SPECIFIED ON THE             SCL 37
*D          JOBPARM CARD.  THE PRINCIPLE USE OF THIS            SCL 37
*D          WILL BE TO SUPPORT THE INFREQUENT SPLITTING         SCL 37
*D          OF A NODE INTO MORE THAN ONE NODE.                  SCL 37

         SCL38
*A  DISPLAY WTOR IDS AND TEXT                                   SCL 38
*B  ORIGINAL        092478                                      SCL 38
*C  COMM                                                        SCL 38
*D  NEW COMMAND PROCESSOR $LR.  RETURNS REPLY ID'S AND          SCL 38
*D  ASSOCIATED TEXT.  MAIN USE WILL BE CPU TO CPU USE           SCL 38
*D  IN A MULTI-ACCESS SPOOL ENVIRONMENT AND NODE TO NODE        SCL 38
*D  USE IN A NJE ENVIRONMENT.                                   SCL 38

         SCL40
*A  DELAY HOLD-AT-DEST JOE UNTIL WHOLE JOB AVAILABLE            SCL 40
*B  ORIGINAL C J KINN 041480                                    SCL 40
*C  NUC $JOE                                                    SCL 40
*D  STANDARD IBM CODE WILL TRANSMIT A SYSOUT DATA SET AS        SCL 40
*D  SOON AS IT CAN.  THIS CAUSES HELD SYSOUT TO COME            SCL 40
*D  BACK TO A TIME SHARING USER IN SEVERAL PIECES.              SCL 40

         SCL42
*A  MESSAGES FOR REMOTES ARE SENT FROM PROPER CPU               SCL 42
*B  ORIGINAL         092678  C J KINN                           SCL 42
*C  RTAM                                                        SCL 42
*D  IN IBM'S SUPPLIED RTAM, WHEN A MESSAGE FOR AN RJE           SCL 42
*D  STATION IS QUEUED ON $BUSYRQ, THE MESSAGE IS HANDLED        SCL 42
*D  BY THE PROCESSOR THAT QUEUED IT.  THE MESSAGE IS            SCL 42
*D  SPOOLED IF THE REMOTE WORK STATION IS SIGNED ON             SCL 42
*D  THE COMPLEX IF IT DOES NOT HAPPEN TO BE ATTACHED            SCL 42
*D  TO THE PROCESSOR HANDLING THE MESSAGE.                      SCL 42
*D  AFTER DETERMINING THAT THE REMOTE IS NOT SIGNED ON          SCL 42
*D  TO THE CURRENT PROCESSOR, THIS MODIFICATION EXAMINES        SCL 42
*D  THE $RMTSON VECTOR TO DETERMINE IF IT IS SIGNED             SCL 42
*D  ON TO ANOTHER MEMBER OF THE COMPLEX.  IF SO, THE            SCL 42
*D  MESSAGE IS QUEUED VIA SPOOL TO THE PROPER MEMBER OF         SCL 42
*D  THE M.A.S. COMPLEX.                                         SCL 42

         SCL47
*A  HASP COMMANDS FROM ASID'S ARE ROUTED BACK TO SAME           SCL 47
*B  ORIGINAL         070374 C J KINN                            SCL 47
*C  SSSM CON                                                    SCL 47
*D  SVC 34 SUB-SYSTEM CALL RECOGNIZES A COMMAND SOURCE AS       SCL 47
*D  TSO AND SETS A FLAG AND SAVES THE USER ID.                  SCL 47

         SCL53
*A  MORE EFFICIENT ALGORITHM FOR JOE SELECTION                  SCL 53
*B  ORIGINAL    C J KINN  121578                                SCL 53
*C  NUC                                                         SCL 53
*D  THIS FIX STOPS THE SEARCH FOR THE BEST POSSIBLE JOE AS      SCL 53
*D  SOON AS IT IS FOUND IN THE $#GET ROUTINE.                   SCL 53

         SCL54
*A  STC/TSU SUB-SYSTEM D S PRINTED ONLY IF ABEND/JCL ERR        SCL 54
*B  ORIGINAL            032877 C J KINN                         SCL 54
*C  PRPU SSSM                                                   SCL 54
*D  OUTPUT EXECUTIVE EXAMINES STC AND TSU 'JOBS' TO SEE         SCL 54
*D  IF THERE HAS BEEN A JCL ERROR OR ABEND.  THIS IS            SCL 54
*D  DETERMINED BY EXAMINING JCTJTFLG AND JCTCNVRC.  IF SO       SCL 54
*D  NORMAL PROCESSING TAKES PLACE.  IF NOT, THE MESSAGE CLASS   SCL 54
*D  IS COMPARED AGAINST THE DEFAULT MESSAGE CLASS               SCL 54
*D  FOR THE APPROPRIATE INTERNAL READER (STCINRDR/TSOINRDR).    SCL 54
*D  IF NOT EQUAL, NORMAL PROCESSING TAKES PLACE.  IF EQUAL, THE SCL 54
*D  NON SUB-SYSTEM PDDB'S ARE EXAMINED.  IF ANY ARE FOUND       SCL 54
*D  THAT ARE NOT NULL, NORMAL PROCESSING TAKES PLACE.  OTHER-   SCL 54
*D  WISE THE JOB IS QUEUED FOR $PURGE.                          SCL 54

         SCL62
*A  ROUTE ONE DATA SET TO MULTIPLE SYSOUT CLASSES               SCL 62
*B  ORIGINAL          062375 C J KINN                           SCL 62
*C  INIT $#REQ PRPU XEQ NUC $JOE NET COMM                       SCL 62
*D  BY SPECIFYING REQUEUE= IN THE PARAMETER STATEMENT $$X       SCL 62
*D  (X ANY SYSOUT CLASS) AUTOMATIC REQUEUEING IS DONE ON A      SCL 62
*D  SYSOUT CLASS BASIS.                                         SCL 62
*D  MODIFICATION INCLUDES THE ABILITY TO REQUEUE A SPIN JOE     SCL 62
*D  FROM ONE CLASS TO ANOTHER VIA A NEW MACRO $#REQ             SCL 62
*D                                                              SCL 62
*D  ADD THE ABILITY TO SPECIFY THE PRINT ROUTING FOR THE        SCL 62
*D  REQUEST JOB-ID TASKS (CURRENTLY THIS INCLUDES ONLY          SCL 62
*D  SYSLOG AND $TRCLOG) .                                       SCL 62

         SCL64
*A  MAKE BISYNCH LINE TRACE COMPLETE                            SCL 64
*B  ORIGINAL         C J KINN  012679                           SCL 64
*C  RTAM MISC                                                   SCL 64
*D  IBM'S SUPPLIED LINE TRACE (TRACE ID 4) FORMATS ONLY THE     SCL 64
*D  BUFFER IN WHICH THE IOB APPEARS.  THUS, ONLY INPUT          SCL 64
*D  TRAFFIC IS SEEN.  OUTPUT TRAFFIC IS PICKED UP FROM          SCL 64
*D  A DIFFERENT BUFFER.  THIS CHANGE WILL TRACE ALL DATA        SCL 64
*D  POINTED TO BY READ OR WRITE CCW'S                           SCL 64

         SCL67
*A  PROVIDE EXTERNAL INTERFACE FOR MESSAGE ROUTING              SCL 67
*B  ORIGINAL  C J KINN  041179                                  SCL 67
*C  CON NUC SSSM INIT $CMB $PCE                                 SCL 67
*D  THIS FACILITY PROVIDES A CMB ROUTING SERVICE FOR            SCL 67
*D  SYSTEMS OUTSIDE OF JES2.  IT WORKS AS FOLLOWS:              SCL 67
*D       1. WHEN A CMB IS RECOGNIZED AS A COMMAND IN HASPCON    SCL 67
*D          AND IT HAS BEEN SENT FROM A DIFFERENT CPU, A        SCL 67
*D          SUB-SYSTEM CALL WILL BE MADE BY JES2 TO CONS        SCL 67
*D          WITH THE ADDR OF THE CMB.  IT WILL BE UP TO CONS TO SCL 67
*D          TAKE SPECIAL ACTION BASED ON THIS INFORMATION.      SCL 67
*D       2. OTHER ADDRESS SPACES CAN MAKE SUB-SYSTEM CALLS      SCL 67
*D          TO JES2 PRESENTING CMB'S THAT WILL WILL BE          SCL 67
*D          ROUTED BY RTAM'S REMOTE CONSOLE PROCESSOR.          SCL 67

         SCL68
*A  EXTEND $TR CAPABILITY                                       SCL 68
*B  ORIGINAL C J KINN 18 JUL 80                                 SCL 68
*C  COMM MISC SSSM $TTE NUC                                     SCL 68
*D  EXTEND $TR COMMAND TO QUEUE THE BACKUP TABLE(S) POINTED     SCL 68
*D  TO BY $SVTRTB2 TO $SVTRBLK WHEN $TR,P=Y IS ENTERED          SCL 68
*D  IFF LOGGING IS NOT CURRENTLY ACTIVE ($TRCLOG FLAG ON        SCL 68
*D  IN $OPTIONS).  THIS IS DONE SO THAT ALL ENTRIES WILL BE     SCL 68
*D  FORMATTED THAT HAVE BEEN TRACED EVEN THOUGH LOGGING HAD     SCL 68
*D  NOT BEEN ACTIVE WHEN THE BUFFER WAS FILLED UP.              SCL 68
*D                                                              SCL 68
*D  ADDENDUM  5 AUG 80                                          SCL 68
*D  MODIFY HASP DISPATCHER SO THAT $TRCLOG IS DISPATCHED        SCL 68
*D  WHENEVER IT IS READY.                                       SCL 68

         SCL70
*A  RJE USERS CAN USE FORM OF $T CON RATHER THAN $T RX.CON      SCL 70
*B  ORIGINAL         032979 R M COSTELLO                        SCL 70
*C  COMM                                                        SCL 70
*D  REMOTE STATIONS HAVE THE OPTION OF ABBREVIATING             SCL 70
*D  THE COMMANDS THAT MODIFY THEIR CONSOLES.                    SCL 70

         SCL71
*A  CHANGE INTERRUPT TO RESTART FOR SPECIFIED PRINT/PUNCHES     SCL 71
*B  ORIGINAL        103175 C J KINN                             SCL 71
*C  PRPU COMM MISC INIT                                         SCL 71
*D  ADD CODE TO NOT ALLOW $I DEVICE FOR SPECIFIED DEVICES.      SCL 71
*D  THE RESULT OF A $I WILL BE THE SAME AS A $E.                SCL 71

         SCL74
*A  DYNAMICALLY MODIFY QCONTROL PARAMETERS                      SCL 74
*B  ORIGINAL       112575 C J KINN                              SCL 74
*C  COMM                                                        SCL 74
*D  TWO COMMANDS $TK AND $DK SET AND DISPLAY QCONTROL           SCL 74
*D  PARAMETERS. EACH OF THE FOUR PARAMETERS CAN BE ALTERED,     SCL 74
*D  I.E. WARN, HOLD, MIN, AND MAX.                              SCL 74

         SCL83
*A  SUPPORT PRIO INCREMENT AND LIMIT FOR JOB RECEIVERS          SCL 83
*B  ORIGINAL  082279  C.J.KINN                                  SCL 83
*C  INIT                                                        SCL 83
*D  SUPPORT KEYWORDS OF PRIOINC AND PRIOLIM FOR NX              SCL 83
*D  DEFINITIONS JUST AS THEY ARE FOR READERS.                   SCL 83

         SCL84
*A  SUPPORT FORMATTING OF GENERAL TRACE RECORDS                 SCL 84
*B  ORIGINAL  C J KINN  070180                                  SCL 84
*C  MISC                                                        SCL 84
*D  SUPPORT GENERAL TRACE IDS OF 200 THRU 230 IN FORMATTING     SCL 84
*D  SUBROUTINES IN TRACE PROCESSOR.                             SCL 84

         SCL90
*A  ADD ABILITY TO HOLD AT DEST TO $OQ AND $OJ                  SCL 90
*B  ORIGINAL  C J KINN  111679                                  SCL 90
*C  COMM XEQ NET $PSO                                           SCL 90
*D  $OQ AND $OJ COMMANDS HAVE ADDITIONAL OPTIONAL OPERAND.      SCL 90
*D  IF THE DATA SET(S) IS(ARE) TO BE HELD AT THE NODE TO        SCL 90
*D  WHICH IT(THEY) IS(ARE) ROUTED, THEN H=D IS ADDED AS AN      SCL 90
*D  OPERAND.  THIS WILL CAUSE CONVERSATIONAL SUPPORT            SCL 90
*D  TO SET THE "HOLD AT DESTINATION" FLAG ON IN THE PDDB.       SCL 90

         SCL92
*A  ALLOW REMOTE AND TSU'S TO CANCEL JOBS ON OTHER SYSTEMS      SCL 92
*B  ORIGINAL  C J KINN  120579                                  SCL 92
*C  COMM                                                        SCL 92
*D  CANCEL JOB SUPPORT IN HASPCOMM IS EXTENDED TO QUEUE A       SCL 92
*D  $C J COMMAND TO A DIFFERENT CPU FROM THE ONE THAT THE       SCL 92
*D  USER ENTERS THE COMMAND                                     SCL 92

         SCL97
*A  SET PRINTERS TO DOUBLE STRIKE                               SCL 97
*B  ORIGINAL  C J KINN  052377                                  SCL 97
*C  PRPU COMM                                                   SCL 97
*D  A NEW SPECIFICATION OF $T...,K=D ALLOWS AN OPERATOR         SCL 97
*D  TO CAUSE THE DATA SET CURRENTLY ON THE GIVEN PRINTER        SCL 97
*D  TO HAVE EACH LINE OVERSTRIKED.                              SCL 97

********************************************************************************
*                                                                              *
*         F I L E   5 3   U P D A T E D   Q U E U E                            *
*                                                                              *
********************************************************************************

THIS FILE IS IN IEBCOPY UNLOAD FORMAT (80 X 32720).
     THIS VERSION OF THE COMMAND HAS A NUMBER OF ENHANCEMENTS AND
CLEANUP FIXES INSTALLED. THE SUPPORT FOR JES2 PRIOR TO 79/09 WAS REMOVED
AND THE CODE STANDARDIZED ON THE DUPLEX CHECKPOINT LEVEL. A SCREEN PRINT
FACILITY WAS ADDED. THE COMMAND RUNS AUTHORIZED AND NOW HAS SUPPORT FOR
CANCEL, REQUEUE, AND PURGE. THE PDDB SYSOUT COUNTS ARE LISTED ON THE DD
SUBCOMMAND. SUPPORT WAS ADDED TO FIND AND LIST TSO DYNAMICALLY SPUN
SYSOUT.

     THIS VERSION OF QUEUE WAS UPDATED APRIL 6, 1981.   THE  CHANGES
INCLUDE MODIFICATIONS TO THE SAVE COMMAND, ENHANCEMENTS TO SYSLOG PRO-
CESSING, EXPANSION OF DD OUTPUT, A NEW COMMAND TO DUMP JES2 CONTROL
BLOCKS, BYPASS OF THE CHECKPOINT READ FOR CERTAIN COMMANDS AND MISCEL-
LANEOUS FIXES. QUEUE WAS TESTED AGAINST JES2 4.1 AT PTF LEVEL 8010.

---- QUEUE COMMAND -----------------------------------------------------

  QUEUE SUBCOMMAND OPERAND        DEFAULT Q STATUS *
  Q                               CAN USE Q CKPT(DEVTYPE,VOLSER) TO GET
                                  NONSTANDARD CHECKPOINT.

---- SYSTEM DISPLAYS -----------------------------------------------------------

DA                  JOBS IN EXECUTION
DT                  DISPLAY TSO USERS
DS                  DISPLAY STARTED TASKS
DC (B/S/T)          DISPLAY CPU BATCH/STC/TSO
STATUS (LEVEL)      JOB STATUS. DEFAULT FOR STATUS IS * (TSO ID).

---- INPUT QUEUE DISPLAYS ----------------------------------------------

DQ                  DISPLAY INPUT QUEUES
DI (CLASS)          DISPLAY ALL INPUT JOBS
AI (CLASS)          DISPLAY AVAILABLE JOBS
HI (CLASS)          DISPLAY HELD JOBS

---- OUTPUT QUEUE DISPLAYS----------------------------------------------

DF                  DISPLAY OUTPUT QUEUES
DO (CLASS)          DISPLAY ALL OUTPUT JOBS
AO (CLASS)          DISPLAY AVAILABLE OUTPUT
HO (CLASS)          DISPLAY HELD OUTPUT

---- JOB MODIFICATION SUBCOMMANDS --------------------------------------

CAN JOBNAME (PURGE) CANCEL FROM INPUT OR EXECUTION. DELETE OUTPUT IF
                     PURGE IS SPECIFIED.
REQ JOBNAME CLASS   CHANGE SYSOUT CLASS
DEL JOBNAME         DELETE HELD OUTPUT

---- MISC SUBCOMMANDS ----------------------------------------------------------

SLOG STC# SEQ       LIST SYSTEM LOG.  ST SYSLOG WILL GET STC#. IF SEQ
                     IS NOT SPECIFIED ZERO IS ASSUMED (CURRENT).
                     IF STC# IS NOT SPECIFIED SLOG OF MACHINE THAT
                     QUEUE IS RUNNING ON IS THE DEFAULT.
FTIME HH.MM.SS      POSITION SYSLOG TO TIME
H/HELP              HELP
E/END               EXIT

---- JOB RELATED SUBCOMMANDS ---------------------------------------------------

DJ JOBNAME          DISPLAY JOB
JCL JOBNAME         LIST JOB JCL
JLOG JOBNAME        LIST JOB LOG
JMSG JOBNAME        LIST JOB MESSAGES
DD JOBNAME          JES2 DD SUMMARY
LIST JOBNAME DSID   LIST JES2 DATASET. OBTAIN DSID VALUES BY USING THE
                     DD SUBCOMMAND.

---- LIST RELATED SUBCOMMANDS ---------

FIND 'STRING' COL(SS,EE)  FIND NEXT OCCURANCE OF 'STRING' IN THE DATA.
FALL 'STRING' COL(SS,EE)  FIND ALL OCCURANCES OF 'STRING' IN THE DATA.
                          STRING MUST BE IN QUOTES. COL DEFAULT IS ALL.

COL  #              POSITION TO COLUMN #
@    #              POSITION TO RECORD #
D/+  #              MOVE FORWARD # LINES
UP/- #              MOVE BACKWARD # LINES
TOP                 TOP OF CURRENT DATASET
BOTTOM              BOTTOM OF CURRENT DATASET
HF/HB #             FORWARD/BACKWARD # HALF PAGES
PF/PB #             FORWARD/BACKWARD # PAGES

                    DEFAULT VALUE FOR # IS 1.
                    SYNONYMS L-LIST F-FIND C-COLUMN T-TOP B-BOTTOM

---------- LOGGING SUBCOMMANDS---------------

SAVE DSNAME TYPE L(SS,EE)  COPY DATASET.  QUALIFIED DATASET A.B.C CAN
                           BE SAVED AS     SAVE A B C.
PRINT ON CLASS DEST OPEN SCREEN LOG
                    DEFAULT PRINT CLASS IS SYSOUT=A.
PRINT               PRINT SCREEN
PRINT OFF           CLOSE SCREEN LOG

-------------------------------
| PF1     | PF2     | PF3     |
|   HELP  |   DA    |   END   |    PROGRAM FUNCTION KEY DEFINITIONS
-------------------------------
| PF4     | PF5     | PF6     |    TO SPECIFY OPERANDS FOR PF 5 OR
|   PRINT |   FIND  |   DI    |    OPTIONALLY FOR PF 6,9,12 OR
-------------------------------    TO OVERRIDE DEFAULTS FOR PF 4,7,8,10,11
| PF7     | PF8     | PF9     |    KEY IN THE VALUE AND PRESS THE KEY
|   - 21  |   + 21  |   DO    |
-------------------------------
| PF10    | PF11    | PF12    |
|  COL 1  |  COL 41 |   ST    |
-------------------------------

--------------------------- RESTRICTED SUBCOMMANDS -----------------------------

XB MTTR             DISPLAY DISK RECORD
XD JOBNAME DSID     LIST ANY DATASET
XI                  DISPLAY ACTIVE INITIATORS
XJ JOBNAME          DISPLAY JQE AND JOES
XP PASSWORD         REQUEST FOR PASSWORD PROMPT. PROMPT IS A BLANK SCREEN. ENTER
                     THE PASSWORD AND IF SUCCESSFUL A MESSAGE WILL BE ISSUED.
XU JOBNAME CB       DUMP JES2 CONTROL BLOCK. CONTROL BLOCKS THAT CAN BE
                    DUMPED ARE:     JQE       IOT     HQR
                                    JOE       PDDB    JRT
                                    JCT       HQT     ALL
XU HCT              DUMP JES2 HCT
XU CKPT             DUMP JES2 CKPT

INSTALLATION PROCEDURE FOR QUEUE:
     1. RESTORE FILE 53 USING THE JCL IN FILE 1 OF THE JES2 MODS TAPE.
        THERE ARE 37 MEMBERS IN THE DATASET.
        Q0 IS THE COMMON AREA.
        Q1 - Q28 ARE REENTRANT CODE.
        QCOMMON, QSTART, QSTOP, QTILT, AND $JQT ARE MACROS.
        HELP IS A TSO HELP MEMBER.
        ASSEMBLE IS THE JCL TO ASSEMBLE AND LINK QUEUE.
        TABLE IS A SAMPLE SMP JOB TO AUTHORIZE THE QUEUE COMMAND.

     2. EDIT MEMBER QCOMMON CHANGING THE FOLLOWING PARAMETERS:

        UNIT=XXXX THE DEVICE TYPE FOR SYS1.HASPCKPT.
        VOLSER=YYYYYY THE VOLUME SERIAL FOR SYS1.HASPCKPT.
        SID1-SID7=ZZZZ THE SMF IDS FOR EACH CPU IN THE COMPLEX. THE
        IDS MUST BE IN THE SAME ORDER AS IN THE INITIALIZATION DECK.

        AT PRESENT THERE IS SUPPORT IN THE INITIALIZATION MODULE TO
        DYNAMICALLY ALLOCATE THE CHECKPOINT ON EITHER 3330, 3330-1,
        OR 3350. IF YOU ARE FORTUNATE ENOUGH TO HAVE A DRUM YOU
        WILL HAVE TO MODIFY Q10 TO ADD SUPPORT.

        EDIT THE MACRO QSTART TO INDICATE THE OPTIONS DESIRED.

        QPFK SETB 0      NO PFK SUPPORT.
        QPFK SETB 1      PFK SUPPORT (DEFAULT).

        THE PFK SUPPORT IS FROM VILKO MACEK - INSURANCE CORPORATION
        OF BRITISH COLUMBIA. PFK SUPPORT CAN BE IDENTIFIED BY SOURCE
        MARKED WITH ICBC IN MODULES Q5, Q8, AND THE MACRO QCOMMON. TO
        CHANGE THE DEFINITIONS OF THE PFKS SEE THE END OF MODULE Q5.

        QACF2 SETB 0     NO ACF2 SUPPORT (DEFAULT).
        QACF2 SETB 1     ACF2 SUPPORT.

        THE ACF2 SUPPORT IS FROM KEN TRUE - FAIRCHILD CAMERA. KEN ALSO
        SUPPLIED THE ORIGINAL PRINT SUPPORT.

     3. EDIT MEMBER ASSEMBLE TO CHANGE THE JCL TO FIT YOUR STANDARDS.
        DO NOT ALTER THE ORDER OF THE ASSEMBLY SYSLIBS AS THERE IS A
        CONFLICT ON THE MACRO QSTART. THE ASSEMBLIES AND LINKS CREATE
        2 LOAD MODULES.

        QUEUE (ALIAS Q) - IS THE REENTRANT CODE OF THE COMMAND. IT MAY
        BE PLACED IN SYS1.LPALIB OR ANY OTHER AUTHORIZED LIBRARY WITH
        AN AUTHORIZATION CODE OF 1.

        QUEUECMN - THE MODIFIABLE COMMON AREA. CAN BE PLACED IN SYS1.
        LINKLIB OR SYS1.CMDLIB. IF YOU WANT TO CHANGE THE NAME OF
        QUEUECMN LOOK IN MEMBER Q10 WHERE THE LINK IS ISSUED.

     4. ADD QUEUE ALIAS Q TO THE IKJEFTE2 MODULE WHICH IS THE TSO LIST
        OF AUTHORIZED COMMANDS. A SAMPLE SMP JOB IS PROVIDED IN THE
        MEMBER TABLE. QUEUE CAN BE RUN UNDER SPF BUT THE SUBCOMMANDS
        USING THE SUBSYSTEM INTERFACE (CANCEL, REQUEUE, AND DELETE)
        WILL BE INOPERABLE, ALL OTHER COMMANDS WILL FUNCTION NORMALLY.
        IF YOU DON'T MIND THE INTEGRITY PROBLEM YOU CAN ADD CODE TO
        QUEUE TO USE A SPECIAL SVC TO GET INTO SUPERVISOR STATE AND
        HAVE FULL FACILITY UNDER SPF.

NOTE:  THE QUEUE COMMAND WAS WRITTEN FOR JES2 4.1 AT PUT TAPE 80/10
LEVEL WITH THE DUPLEX CHECKPOINT FACILITY (AZ27300). THERE IS NO REASON
THAT THE CONCEPT OF ACCESSING THE CHECKPOINT AND SPOOL WOULD NOT WORK
WITH EARLIER VERSIONS OF JES2 OR WITH NJE. THE LOCATION OF CHECKPOINT
VARIABLES AND CHECKPOINT AND SPOOL STRUCTURE MAY BE DIFFERENT AND THE
USER WILL HAVE TO MAKE APPROPRIATE CHANGES TO SUPPORT OTHER VERSIONS
OF JES2.

********************************************************************************
*                                                                              *
*          F I L E   5 4   H E L D   S Y S O U T   M O D  -  I P R T           *
*                                                                              *
********************************************************************************


THE FOLLOWING MOD IS SUPPLIED BY RAYTHEON CO. (RYT) AND IS IN IEBUPDTE FORM
THE MOD IS FOR JES2 4.1 (SU 25) AT PTF LEVEL 8008.
LAST FILE UPDATE - 02/25/81
ANY QUESTIONS OR COMMENTS ON THIS MODIFICATION MAY BE ADDRESSED TO:

                   JON WELCH   WA1B08    (617) 475-5000  EXT. 2373
                   RAYTHEON CO.
                   350 LOWELL STREET
                   WEST ANDOVER, MASS.  01810

  THE FOLLOWING MOD IS AN UPDATE TO THE HELD OUTPUT MOD ON FILE 48.
  THE ORIGINAL MOD WAS WRITTEN FOR JES2 4.1 IPO 4.0.
     THE LINES FLAGGED IRYT ARE THE CHANGES TO THE CODE RECEIVED
  FROM NEUCC TO MAKE IT WORK ON 7905 SYSTEM WITH OZ27300.
  THIS CODE HAS BEEN ON OUR PRODUCTION SYSTEM SINCE 14:00 5/14/80.
  IT IS NOW BEING USED BY AT LEAST 20 INSTALLATIONS AT LEVELS FROM
  7905 TO 8010 (OR MAYBE HIGHER BY NOW).

  THE LINES FLAGGED 0281 ARE UPDATES TO MAKE EXTERNAL WRITERS WORK
  FOR HELD OUTPUT AND TO CHANGE A POSSIBLE LOOP INTO A DISASTEROUS
  MESSAGE INSTEAD.

  NOTE ALSO THAT THE MOD NOW UPDATES HASPINIT TO ADD SPACE TO THE
  PCE FOR HASPXEQ.  THE MOD WAS ALWAYS USING THIS SPACE, EVEN
  THOUGH IT DIDN'T OWN IT.

  WHEN I INSTALLED IPRT MOD FROM SHARE TAPE IT WOULD NOT ASSEMBLE
  CLEANLY BECAUSE OZ27300 REMOVED A FIELD CALLED JQEJOECT.  I REMOVED
  THE LINES THAT REFERENCED THAT TAG.  WHEN I TESTED THAT CODE I FOUND
  THAT ONE DATASET WAS OFTEN PRINTED AGAIN AT THE END OF THE JOB.
  I ALSO FOUND THAT AFTER A WARMSTART THE WRONG OUTPUT WOULD BE PRINTED
  FOR A JOB THAT WAS PARTIALLY PRINTED.  THE ORIGINAL MOD STUFFED ALL
  THE PDDBS INTO THE FIRST IOT, BUT LEFT THE OTHER IOT'S ALONE.  IT
  SEEMED SAFER TO REWRITE THE OTHER IOT'S WITH THE NULL FLAG ON IN THE
  PDDB.  TO ACCOMPLISH THIS I AM NOW USING THE LAST IOT RATHER THAN THE
  FIRST, AND REWRITING EACH ON THE WAY.  SINCE PROCESS SYSOUT CREATES
  NONALLOCATION IOTS ON THE FLY, IT SEEMS THERE IS NO WARMSTART
  PROBLEM WITH THIS TECHNIQUE.

    IF YOU USE THIS MOD, PLEASE LET ME KNOW, AND I WILL SUPPLY YOU WITH
  CORRECTIONS/ENHANCEMENTS.  IF YOU MAKE IMPROVEMENTS ALSO LET ME KNOW
  INSTEAD OF JUST PUTTING ANOTHER COPY ON THE MODS TAPE BECAUSE SOME
  OF THE PEOPLE USING THE MOD MIGHT NOT RENEW THEIR MODS TAPE FOR SOME
  TIME.

    THIS MOD ONLY REJOINS CONSECUTIVE DATASETS WITH LIKE SYSOUT CLASS,
  ROUTING, FORMS, UCS, FCB.  IF A JOB HAS A PUNCH OUTPUT IN THE SECOND
  OF 3 STEPS, THE PRINT SYSOUT OF STEP 3 WILL PRINT SEPARATELY.
  I HOPE TO MODIFY THIS CODE TO AT LEAST GET ALL OUTPUT THAT
  MATCHES THE JCL TO PRINT TOGETHER, EVEN IF NOT CONSECUTIVE.
    IT DOES NOT CHAIN IOT'S, SO IT ONLY JOINS AS MANY PDDBS AS WILL
  FIT IN A BUFFER.  WE GET 31 SYSOUT DATASETS JOINED AND OUR
  BUFSIZE IS 3664.

  IF WE'RE LUCKY, I.B.M. WILL FIX THE PROBLEM FOR US.

********************************************************************************
*                                                                              *
*         F I L E   5 5   P A N S P O O L                                      *
*                                                                              *
********************************************************************************

THE FOLLOWING FILE CONTAINS PANSPOOL, A JES2 SYSMSG SPOOLING SYSTEM.
THE FILE IS IN IEBCOPY UNLOAD FORMAT. SUPPLIED BY MEMOREX. THE CODE
ORIGINATED AT CANADIAN PACIFIC MONTREAL.
  LARGE COMPUTING SYSTEMS ENCOUNTER PROBLEMS IN PRINTING, REVIEWING,
AND STORING LARGE QUANTITIES OF PRODUCTION JCL LISTINGS. PANSPOOL IS
A JES2 EXTERNAL WRITER THAT INTERCEPTS ALL PRODUCTION JCL LISTINGS AND
ROUTES THEM TO A PANVALET LIBRARY. THE LISTINGS ARE KEPT ONLINE FOR A
SPECIFIED NUMBER OF DAYS AND THEM ARCHIVED TO TAPE FOR AN ADDITIONAL
PERIOD. FAILED JOBS ARE IDENTIFIED TO ELIMINATE THE POSSIBILITY OF
UNDETECTED FAILURES. JCL LISTINGS CAN BE DISPLAYED OR PRINTED VIA A
CLIST FROM TSO.
  FOR FURTHER INFORMATION PRINT FILE 57 THE PANSPOOL GUIDE AND LOOK
AT MEMBER #INDEX IN FILE 55 PANSPOOL.SOURCE.
LAST FILE UPDATE - APRIL 1981.

                   WILLIAM SMITH          (408) 987-3919
                   MEMOREX CORP.
                   DEPT. 8205  MAIL STOP 10-36
                   SAN TOMAS AT CENTRAL EXPRESSWAY
                   SANTA CLARA, CALIFORNIA, 95052


********************************************************************************
*                                                                              *
*         F I L E   5 6   P A N S P O O L   J C L                              *
*                                                                              *
********************************************************************************

THE FOLLOWING FILE CONTAINS AN IEBCOPY UNLOADED DATASET CONTAINING
PANSPOOL.CNTL.
LAST FILE UPDATE - APRIL 1981.

********************************************************************************
*                                                                              *
*         F I L E   5 7   P A N S P O O L   U S E R   G U I D E                *
*                                                                              *
********************************************************************************

THE FOLLOWING FILE CONTAINS A PANSPOOL USER GUIDE. FILE IS RECFM=FBA
LRECL=80 BLKSIZE=32720.
LAST FILE UPDATE - APRIL 1981.

********************************************************************************
*                                                                              *
*         F I L E   5 8   I E B R O T   I E B I M A G E   C I W                *
*                                                                              *
********************************************************************************

THE FOLLOWING FILE CONTAINS AN IEBIMAGE DEFINITION WHICH WILL ALLOW
IEBROT TO WORK WITH A 3800 WHICH HAS ONLY 2 WGGMS.
FILE IS IEBGENER UNLOADED.  LAST FILE UPDATE - AUGUST 1980.

    TOM MOULDER            (713) 939-2935
    CAMERON IRON WORKS
    13013 N. W. FREEWAY
    HOUSTON, TEXAS, 77040

********************************************************************************
*                                                                              *
*         F I L E   5 9   C I W   Q U E U E   C O M M A N D   M O D S          *
*                                                                              *
********************************************************************************

THE FOLLOWING FILE CONTAINS ALTERNATIVE MODULES FOR THE QUEUE COMMAND
IN FILE 6. THE CHANGES ARE TO ALLOW ACCESS TO PRIVILEGED SUBCOMMANDS
TO ANYONE HAVING OPERATOR PRIVILEGE FROM UADS RATHER THAN HAVING A
PASSWORD. THE OTHER CHANGE IS TO ADD AN INITIATOR DISPLAY SIMILIAR TO
THAT PROVIDED IN THE UPDATED QUEUE COMMAND ON FILE 53. IF YOU WANT TO
CHANGE THE PASSWORD SUPPORT IN THE UPDATED QUEUE ON FILE 53 YOU MUST
CHANGE THE MODULES BASED ON THE CODE IN THIS FILE.
FILE IS IEBCOPY UNLOADED.  LAST FILE UPDATE - AUGUST 1980.

    TOM MOULDER            (713) 939-2935
    CAMERON IRON WORKS
    13013 N. W. FREEWAY
    HOUSTON, TEXAS, 77040


********************************************************************************
*                                                                              *
*         F I L E   6 0   C D P A   J E S M O D S                              *
*                                                                              *
********************************************************************************

THE FOLLOWING FILE CONTAINS AN IEBUPDTE FORMAT FILE. AFTER RESTORING
THE MEMBERS THEY MUST BE EDITED REPLACING THE CHARACTERS '><' WITH
'./'.  LAST FILE UPDATE - SEPTEMBER 1980.

    JOHN MARTIN                               (601) 961-4332
    STATE CENTRAL DATA PROCESSING AUTHORITY
    508 ROBERT E. LEE BUILDING
    JACKSON, MISSISSIPPI, 39202
--------------------------------------------------------------------
                  JES2 4.1 MODS                             08/01/80
MEMBER             DESCRIPTION

ASM:     JCL TO ASSEMBLE JES MODULES

HSPMERGE: SOURCE FOR HSPMERGE PROGRAM. ASSEMBLER.

LKED:    JCL TO LINK-EDIT JES

MERGE:   JCL TO RUN HSPMERGE

NIHPROS: DESCRIPTION OF HOW TO RUN HSPMERGE PROGRAM
         TO APPLY JES2 MODS.

RESTABL: MOD TO PUT CDPA NAMES IN RESOURCE TABLE USED TO
         ROUTE EXEC BY RESOURCE.

SM00001: MAKE ALL READERS, PRINTERS, AND PUNCHES AVAILABLE
         EVEN IF THEY ARE NOT ATTACHED AT IPL.

SM00002: PUT JOBID, JOBNAME, AND PROGRAMMER NAME ON PUNCH
         SEPERATOR CARD.

SM00003: RESTRICT CLASS Y TO AUTHORIZED AGENCYS.

SM00004: ADD $QT CMD & RESTRICT $DA, $DI, & $DN CMDS.

SM00005: ALLOW PRINT TRANSLATE ON A DEVICE BASIS.

SM00006: RESTRICT CMDS THRU INTRDR.

SM00007: RESTRICT PRIORITY CARD THRU INTRDR.

SM00008: JES2/TSO INTERFACE. MODIFIED AOS44.00 FOR AGENCY CODE CHECK.
         $ CMD

SM00010: MOD FOR ONLYIF CONTROL CARD TO PREVENT JOB FROM EXEC IF
         MASS STORAGE CONTROL PGM "VDAM" IS NOT ACTIVE.

SM00012: ADD 'CONTROL' TO JOB DISPLAYS FOR ALL JOBS REQUEUED FOR
         EXECUTION BECAUSE OF BEFORE, AFTER OR CNTL CARD.

SM00013: DRAIN REMOTE PRINTER IF IN SPECIAL FORMS , ON LINE WHOSE
         NAME IS IN TABLE. WILL DRAIN IF LINE ERROR OR $I $E PRT
         OF LINE IF LINE IN DRAINING STATUS.

SM00015: FIXES ASM ERROR IN HASPNUC FROM MELLON BANK
         CODE CAUSED BY OZ27300

SM00016: ADD JOB EXEC CLASS TO INIT DISPLAY

SM00017: RESTRICT REMOTES FROM DISPLAYING LOCAL DEVICES
         * NOT YET TRIED *

--------------------------------------------------------------------

   ALL MODS THAT ENTERFACE WITH MELLON BANK MODS ARE FOR MELLON
   BANK 4.0 MODS AND MAY HAVE TO BE MODIFIED FOR MELLON BANK 4.1
   MODS.

   ALL MODS ARE SET UP TO USE HSPMERGE PGM FROM NIH. SOURCE, JCL
   AND DOCUMENTION ARE INCLUDED.

********************************************************************************
*                                                                              *
*         F I L E   6 1   C S N B   J E S M O D S                              *
*                                                                              *
********************************************************************************

THE FOLLOWING FILE CONTAINS AN IEBCOPY UNLOADED PDS. LAST FILE UPDATE
- SEPTEMBER 1980.

    KENT BUREL             (404) 581-4072
    C & S NATIONAL BANK
    ATLANTA, GEORGIA, 30302

CS00010 & CS00011
  THIS USERMOD IMPLEMENTS THE SUBSYSTEM SUPPORT MODULE CHANGES TO
  IMPLEMENT THE JWRITE PROGRAM INTERFACE.  IT MAKES SSSM RETAIN
  ANY CHARRIAGE CONTROL CHARACTERS PASSED TO IT THROUGH AN
  INTERNAL READER.
CS00012
  THIS USERMOD IMPLEMENTS THE $DW AND $WJ JES2 OPERATOR COMMANDS.
  IT ALSO CHANGES THE $PQ COMMAND TO REQUIRE AN OPERAND SO THAT
  THE ENTIRE QUEUE DOES NOT GET WIPED OUT.
    $W JOB LIST    LISTS ESTIMATES OF A JOB OR STC IF IT HASN'T
                    YET EXECUTED.
                   LISTS THE ACTUAL LINE AND CARD COUNT OF A JOB
                    OR STC WHICH HAS FINISHED EXECUTION.
    PRT=XXXXXXXX - LIST ONLY JOBS WITH OVER SPECIFIED LINES
    PUN=XXXXXXXX - LIST ONLY JOBS WITH OVER SPECIFIED CARDS
CS00015
  THIS USERMOD IMPLEMENTS A PIECE OF THE JWRITE INTERFACE FOR JES2.
  IT SUPPRESSES THE PRINTING OF JES2 JOB STATISTICS FOR ANY
  TYPRUN = COPY JOB.
CS00018
  THIS USERMOD IMPLEMENTS A PIECE OF THE JWRITE INTERFACE FOR JES2.
  ITS FUNCTION IS TO SUPPORT THE '/* OUTPUT' CARD FOR THE SYSTEM
  PDDB'S.  ONLY THE FORM NUMBER, FCB, AND UCS PARAMETERS ARE
  SUPPORTED.
CS00035
  THIS USERMOD CHANGES THE PAGE COUNT IN A TYPE 6 SMF RECORD.
  AFTER THE APPLICATION OF THIS USERMOD, THE PAGE COUNT FIELD WILL
  ONLY BE UPDATED WHEN A SKIP TO CHANNEL ONE IS ENCOUNTERED
  INSTEAD OF A SKIP TO ANY CHANNEL AS AT PRESENT.
JWRITE
                       *MASTER*
        ------<-----<-----||-----<-----<------
        |                                    |
     JWRITE------>----->----->----->------JWRITE2
        .                                    |
          .                          -->--<----->--<--
            .                        |               |
              .                   JWRITE3         JWRITE4
                .                    .               .
                  .               .           .
                    .          .      .
                      ........
                      CONSTANT
         BRIEF PROGRAM LOGIC.................

         PROCESS EXECUTE STATEMENT PARAMETERS.
         READ IN CENTER TABLE.
         READ IN FORMS TABLE.
         PROCESS SELECT CARD.
         OTHER INITITIALIZATION.
         GET FIRST I-RECORD.
         GET JOB ACCOUNTING DATA.
 VALID:  VALIDATE I-RECORD.
         PERFORM CENTER SUBSTITUTION.
         PERFORM LOCAL AND REMOTE FORMS SUBSTITUTION.
         PROCESS SELECT CARD OPTIONS.
         IF SELECT MATCHES CONTINUE,
                   ELSE READ TILL NEXT I-RECORD.
                   GO TO VALID.
         IF OUTPUT GOES TO TAPE THEN CONTINUE,
                   ELSE SPOOL.
         PUT UNTIL NEXT I-RECORD.
         GO TO VALID.
 SPOOL:  ALLOCATE INTERNAL READER AND OPEN ACB FOR CURRENT CENTER.
         PUT OUT JOB CARDS.
         SPOOL UNTIL NEXT I-RECORD.
         GO TO VALID.

********************************************************************************
*                                                                              *
*         F I L E   6 2 - 6 5   A E R O S P A C E   M O D S                    *
*                                                                              *
********************************************************************************

THE FOLLOWING FILES CONTAIN A 3800 90 DEGREE ROTATE PROGRAM. EACH FILE
IS SEQUENTIAL. SUPPLIED BY AEROSPACE CORP.  LAST FILE UPDATE SEPT 1980.

ADDRESS CORRESPONDENCE TO:

    MARSHA MARSHALL    A3/1001            (213) 648-7634
    THE AEROSPACE CORPORATION
    INFORMATION PROCESSING DIVISION
    P. O. BOX 92957
    LOS ANGELES, CALIFORNIA, 90009

 FILE 62  ROTATE SOURCE IN PL1.

 FILE 63  ROTATE IEBIMAGE SOURCE FOR THE ROTATED CHARACTER SET.

 FILE 64  SAMPLE TSO CLIST TO GENERATE ROTATED PRINT.

 FILE 65  AEROSPACE CORP. 3800 USER'S GUIDE.

********************************************************************************
*                                                                              *
*         F I L E   6 6   J E S D U M P                                        *
*                                                                              *
********************************************************************************

THE FOLLOWING PROGRAM IS SUPPLIED BY TRIANGLE UNIVERSITIES COMPUTATION
CENTER AND CONSISTS OF AN IEBCOPY UNLOAD PDS WITH SEVERAL MACROS AND
MEMBERS.  LAST FILE UPDATE - SEP 1980.

       JESDUMP JES2 CONTROL BLOCK DUMP UTILITY - DESCRIPTION

       NEW VERSION FOR USE WITH CHECKPOINT DUPLEXING VERSIONS
       OF EITHER JES2 OR NJE. MEMBER JESDUMP IS PROGRAM SOURCE;
       OTHER MEMBERS ARE REQUIRED MACROS. THIS VERSION INCLUDES
       SEVERAL IMPROVEMENTS MADE BY ERIC BRUEBAKER (OPC), SUCH
       AS EXTENDED LOG SCAN FACILITIES, AND INTERFACE TO LOCAL
       SECURITY FACILITIES.

       JIM WALKER (TUC)
       TRIANGLE UNIVERSITIES COMPUTATION CENTER.
       BOX 12076
       RESEARCH TRIANGLE PARK, N.C., 27709

********************************************************************************
*                                                                              *
*         F I L E   6 7   I M S   X E R O X   9 7 0 0   X W T R                *
*                                                                              *
********************************************************************************

           EXTERNAL WRITER FOR XEROX 9700 (OFFLINE MODE)
           ---------------------------------------------

  THIS PACKAGE IS COMPRISED OF MODIFIED SOURCE MODULES AND MACROS OF THE
  DISTRIBUTED JES2 EXTERNAL WRITER TO FACILITATE THE DUMPING OF SYSOUT
  DATA SETS OFF THE JES2 SPOOL TO TAPE FOR SUBSEQUENT PRINTING ON THE
  XEROX 9700. ALTHOUGH IT IS A "QUICK AND DIRTY" (WITH EMPHASIS ON
  "QUICK") AND NO CONSIDERATION GIVEN TO INSTALLATION DEPENDENCIES,
  THERE ARE LITTLE OR NO INSTALLATION DEPENDENCIES IN THIS WRITER.
  WHAT LITTLE THERE IS TO BE CONSIDERED INSTALLATION DEPENDENT WILL BE
  FOUND IN MODULE "XEFSD094" WHICH CREATES THE XEROX "DJDE" (DYNAMIC
  JOB DESCRIPTOR ENTRY). OUR "DJDE" FORMAT IS AS FOLLOWS:

     1***XEROX***JDE=X????,END;   (???? = JES2 FORM NUMBER)

  ORIGINALLY THE "DJDE" ALSO HAD A "COPIES=" PARAMETER SPECIFIED IN IT,
  BUT IT SEEMS THAT JES2 DOES NOT PRESENT THE DATA SET COPY COUNT TO
  THE EXTERNAL WRITER WITHOUT SOME MODIFICATION TO JES2. THIS MEANS THAT
  IF ONE SPECIFIES A COPY COUNT IN THE JCL VIA "JOBPARM" OR "DD"
  STATEMENT, ONE WILL GET THAT NUMBER OF COPIES OF THE DATA SET(S)
  ON THE RESULTANT EXTERNAL WRITER OUTPUT TAPE. TO OVERCOME THIS PROBLEM
  WE DEFINE THE COPY COUNT IN THE XEROX "JDE" (JOB DESCRIPTOR ENTRY)
  IN THE XEROX 9700 OPERATING SYSTEM AND DISALLOW COPY COUNT SPECI-
  FICATIONS IN THE JCL.

  I.E.  //SYSPRINT  DD SYSOUT=(X,,ST04)  (ST = STANDARD  04 = 4 COPIES)

  THE SMF TYPE 6 RECORDS WRITTEN BY THIS WRITER ARE INDENTICAL TO THAT
  WHICH IS PUT OUT BY THE DISTRIBUTED EXTERNAL WRITER FOR UNIT-RECORD
  DEVICES EXCEPT THAT THE "SMF6OUT" FIELD IS FILLED IN WITH THE JOB
  NAME EXTRACTED FROM THE TIOT OF THE WRITER. THE CODE FOR SMF RECORD
  CREATION WILL BE FOUND IN MODULE "XASXSD82".

  THIS WRITER HAS BEEN RUN OPERATIONALLY, IN EXCESS OF ONE YEAR, UNDER
  MVS 3.7 (NON-SE), MVS 3.8/SE, JES2 4.1 WITH AND WITHOUT THE DUPLEXING
  PTF APPLIED AND HAS NEVER ABEND'ED. THE ONLY PROBLEM WE HAVE EVER
  ENCOUNTERED HAS BEEN IF A DATA SET HAS INVALID ANSI OR MACHINE
  CONTROL CHARACTERS, THE REMAINDER OF THE DATA SET WILL BE IGNORED
  (I.E. NOT PUT OUT TO TAPE) AND PURGED FROM THE JES2 SPOOL. THIS IS
  CONSISTENT WITH THE DISTRIBUTED EXTERNAL WRITER (RIGHT, WRONG OR
  INDIFFERENT) AND, THEREFORE, HAS NEVER BEEN ADDRESSED, CORRECTED OR
  APAR'ED.

  THE EXTERNAL WRITER FOR THE XEROX 9700 IS DISTRIBUTED AS A PDS
  CONTAINING THE FOLLOWING MEMBERS:

  BLOCKPRT  :   PROGRAM TO PRINT TAPES PRODUCED BY XEROX 9700 EXTERNAL
                WRITER DIRECTLY TO A PRINTER (1403, 3211, ET AL)

  IEFSDBAR  :   XWTR MAPPING MACRO (MVS 3.7 UNMODIFIED)

  IEFSDPAR  :   XWTR MAPPING MACRO (MVS 3.7 UNMODIFIED)

  IEFSDSDR  :   XWTR MAPPING MACRO (MVS 3.7 UNMODIFIED)

  IEFSDSMF  :   XWTR MAPPING MACRO (MVS 3.7 UNMODIFIED)

  IEFSDWKT  :   XWTR MAPPING MACRO (MVS 3.7 MODIFIED EVER SO SLIGHTLY)

  IEFSDWKX  :   XWTR MAPPING MACRO (MVS 3.7 UNMODIFIED)

  INSTXWTR  :   JOB STREAM TO INSTALL XWTR. FIVE ASSEMBLY STEPS AND ONE
                LINK-EDIT STEP.

  XASXSD81  :   XWTR CLASS NAME SET-UP ROUTINE SOURCE.

  XASXSD82  :   XWTR ACCESS SYSOUT DATA SETS FROM JES2 ROUTINE SOURCE.

  XASXWR00  :   XWTR INITIALIZATION ROUTINE SOURCE.

  XEFSD094  :   XWTR JOB SEPERATOR ROUTINE SOURCE.

  XEFSD095  :   XWTR BLOCK LETTER AND NUMBER ROUTINE SOURCE.

  XWTR      :   PROCEDURE EXECUTED BY OPERATOR TO DUMP SYSOUT DATA SETS
                FROM JES2 SPOOL TO TAPE.

  XWTRINFO  :   YOU ARE READING IT NOW.

  XWTRPRT   :   PROCEDURE EXECUTED BY OPERATOR TO PRINT XWTR OUTPUT
                TAPE DIRECTLY TO IBM PRINTER IN THE EVENT THAT YOUR
                XEROX 9700 IS BROKE OR OTHERWISE INDISPOSED.

  THE PDS IS DISTRIBUTED ON THE SHARE JES2 MODS TAPE AS AN IEBCOPY
  UNLOADED DATA SET.

  INSTALLATION PROCEDURE:
            (1)      MODIFY JCL IN MEMBER INSTXWTR TO CONFORM TO YOUR
                     INSTALLATION REQUIREMENTS. THE XEROX 9700 EXTERNAL
                     WRITER SHOULD BE LINK'ED INTO AN APF AUTHORIZED
                     LIBRARY WITH SETCODE AC(1). DO NOT LINK IT INTO
                     SYS1.LPALIB UNLESS YOU WANT TO CLOBBER THE
                     DISTRIBUTED EXTERNAL WRITER (NOT RECOMMENDED).
            (2)      SUBMIT MEMBER INSTXWTR TO BATCH. THIS WILL ASSEMBLE
                     XASXWR00, XASXSD81, XASXSD82, XEFSD094, XEFSD095
                     AND LINK-EDIT THE EXTERNAL WRITER TO AN AUTHORIZED
                     LIBRARY WITH SETCODE AC(1) AND AN ALIAS OF IASXWR00
                     (TO OBVIATE THE NEED TO MODIFY IEFSDPPT).
                     ALL OF THE MACROS REQUIRED TO ASSEMBLE THESE
                     MODULES, OTHER THAN THOSE INCLUDED IN THIS PACKAGE,
                     WILL BE FOUND IN SYS1.MACLIB OR SYS1.AMODGEN.
            (3)      COPY MEMBERS XWTR AND XWTRPRT INTO A SYSTEM
                     PROCEDURE LIBRARY, FROM WHICH THEY CAN BE STARTED
                     BY AN OPERATOR.
                     NOTE: UNLESS YOU WANT TO MODIFY IEFSDPPT, THIS
                           WRITER MUST BE A STARTED TASK.
            (4)      ASSEMBLE AND LINK-EDIT BLOCKPRT TO ANY LOAD LIBRARY
            (5)      THE EXTERNAL WRITER IS NOW READY TO GO - BON CHANCE

  THIS PACKAGE WAS ASSEMBLED BY:
             BLAIR N. MEGLATHERY
             IMS AMERICA LTD.
             MAPLE ST. AND BUTLER PIKE
             AMBLER, PA    19002
             PHONE: (215) 843-0400  EXT. 377
             SHARE INSTALLATION CODE: IAT
  TO WHOM COMMENTS, SUGGESTIONS, PLEAS FOR HELP ETC. ETC. MAY BE
  ADDRESSED.

********************************************************************************
*                                                                              *
*         F I L E   6 8   I M S   I E F U J V                                  *
*                                                                              *
********************************************************************************

                 IEFUJV SMF EXIT
                 ---------------

    THIS IEFUJV SMF EXIT INTERROGATES AND MODIFIES THE JCL INTERNAL TEXT
    DESTINED FOR THE OS SCHEDULER. TO ACCOMPLISH THIS IT UTILIZES THE
    STANDARD CONVERTER INTERNAL TEXT EXIT FIELD IN THE CONVERTER WORK
    AREA (LABEL "CWATXTEX" IN MACRO "IEFCVRWA") TO INSINUATE ITSELF
    BETWEEN THE CONVERTER AND JES2 PROCESSING. IN EVERY RELEASE OF
    OS/360 AND OS/VS I HAVE WORKED WITH (OS/MFT, OS/MVT, SVS, MVS), THE
    CONVERTER/INTERPRETER HAS ALWAYS CARRIED THE ADDRESS OF THIS WORK
    AREA IN REGISTER 12 THROUGHOUT ITS PROCESSING. WHEN IEFUJV IS ENTER-
    ED TO PROCESS THE FIRST JOB CARD JCL-IMAGE, IT IS ASSUMED THAT
    REGISTER 12 IS POINTING TO THE CONVERTER WORK AREA AND FIELD "CWATXTEX"
    IS SAVED AND THEN MODIFIED TO POINT TO THE EXIT LIST THAT POINTS TO
    THE INTERNAL TEXT PROCESSING ENTRY IN IEFUJV ("XJCLSCAN").
    IT SHOULD BE NOTED THAT THIS EXIT IS REPLETE WITH INSTALLATION
    DEPENDENCIES SO THAT IT IS HIGHLY UNLIKELY THAT IT MAY BE INSTALLED
    "AS IS" AT YOUR INSTALLATION WITH ANY DEGREE OF SATISFACTION. IT
    MAY, HOWEVER, SERVE AS A MODEL FOR WRITING A SIMILIAR EXIT TO
    PROCESS INTERNAL TEXT. THE SOURCE CODE IS, I BELIEVE, WELL
    DOCUMENTED AND CONTAINS JUST ABOUT EVERY TYPE OF INTERNAL TEXT
    MASSAGING IMAGINABLE, INCLUDING ADDING, DELETING, VERIFYING AND
    MODIFYING INDIVIDUAL JCL PARAMETERS. IT ALSO HAS A ROUTINE, WHICH
    USES THE MSGLEVEL PARAMETER TO CONTROL IT, TO PRINT THE CONTENTS
    OF THE INTERNAL TEXT BUFFER, IN CHARACTER AND HEX, BEFORE AND
    AFTER IEFUJV MODIFICATION, TO THE JES2 MESSAGE DATA SET.
       I.E.  MSGLEVEL=B  (CONTENTS BEFORE IEFUJV MODIFICATION)
             MSGLEVEL=A  (CONTENTS AFTER IEFUJV MODIFICATION)
             MSGLEVEL=C  (CONTENTS BEFORE AND AFTER IEFUJV MODIFICATION)
    THIS CAN BE QUITE HELPFUL IN THE TESTING AND DEBUGGING OF YOUR EXIT.
    THIS EXIT HAS BEEN RUNNING OPERATIONALLY FOR APPROXIMATELY THREE
    YEARS UNDER MVS 3.7 (NON-SE), MVS 3.8 (SE 1), JES2 4.1, WITH AND
    WITHOUT UCC-7 INSTALLED (UCC-7 ALSO DOES INTERNAL TEXT PROCESSING,
    I THINK) WITHOUT DIFFICULTY.
    FOR ADDITIONAL INFORMATION ON INTERNAL TEXT PROCESSING AND WRITING
    TO THE JES2 MESSAGE DATA SET, PLEASE REFER TO THE FOLLOWING:
          HASP 3.1  (MODULE "HASPXEQ" LABEL "XJCLSCAN")
          HASP 4.0  (MODULE "HASPXEQ" LABEL "XJCLSCAN")
          JES2 4.1  (MODULE "HASPXEQ" LABEL "XTXTEXIT")
          IEFVGM    (FOR WRITING TO JES2 MESSAGE DATA SET)
          OS/360 MVT JOB MANAGEMENT PLM (GY28-6660)
          MVS SYSTEM LOGIC LIBRARY VOLUME 3 (SY28-0715)
          WASHINGTON SYSTEMS CENTER TECHNICAL BULLETIN - JES 2
               SELECTED TOPICS (GG22-9019)

    ALTHOUGH I HAVE NEVER TRIED IT, I STRONGLY SUSPECT THAT THE METHOD
    THAT THIS EXIT EMPLOYS TO OBTAIN THE INTERNAL TEXT WILL WORK FOR
    JES3. IF ANYONE EVER DOES TRY IT WITH JES3, I WOULD VERY MUCH
    LIKE TO KNOW THE RESULTS.


  THE IEFUJV SMF EXIT IS DISTRIBUTED AS AN IEBCOPY UNLOADED PDS
  CONTAINING THE FOLLOWING MEMBERS:

  IEFUJV    :   SOURCE FOR THE SMF EXIT.

  IEFCVRWA  :   CONVERTER WORK AREA MAPPING MACRO (MVS 3.7 UNMODIFIED)

  UJVINFO   :   YOU ARE READING IT NOW.

  ZAPUJV    :   ZAP TO IEFUJV TO CAUSE IT TO PRINT THE CONTENTS OF THE
                INTERNAL TEXT BUFFER ONLY AND TO DO NO OTHER PROCESSING.

  ZL00200   :   JOB STREAM TO ASSEMBLE AND INSTALL IEFUJV USING SMP 4
                AS USERMOD(ZL00200). THIS WILL IN ALL LIKELIHOOD REQUIRE
                SOME MODIFICATION FOR YOUR INSTALLATION.

    ALL MACROS REQUIRED TO ASSEMBLE IEFUJV (WITH THE EXCEPTION OF
    "IEFCVRWA", WHICH IS SUPPLIED) MAY BE FOUND IN SYS1.MACLIB OR
    SYS1.AMODGEN'

  THIS PACKAGE WAS ASSEMBLED BY:
             BLAIR N. MEGLATHERY
             IMS AMERICA LTD.
             MAPLE ST. AND BUTLER PIKE
             AMBLER, PA    19002
             PHONE: (215) 843-0400  EXT. 377
             SHARE INSTALLATION CODE: IAT
  TO WHOM COMMENTS, SUGGESTIONS, PLEAS FOR HELP ETC. ETC. MAY BE
  ADDRESSED.

********************************************************************************
*                                                                              *
*         F I L E   6 9   N E R D C   J E S M O D S                            *
*                                                                              *
********************************************************************************

 THE FOLLOWING MODIFICATIONS ARE PROVIDED IN IEBCOPY UNLOADED
 FORMAT.  MODIFICATIONS ARE INSTALLED ON NJE 3.1 AT PTF8008 LEVEL.
 LAST FILE UPDATE - OCTOBER 1980.

 ANY QUESTIONS OR COMMENTS MAY BE ADDRESSED TO:

   JACK SCHUDEL
   NORTHEAST REGIONAL DATA CENTER
   233 SPACE SCIENCES RESEARCH BUILDING
   UNIVERSITY OF FLORIDA
   GAINESVILLE, FLORIDA  32611
   (904) 392-4601
   SHARE CODE UF

 NE000  DOCUMENTATION CONTROL.

 NE003  NERDC CONTROL BLOCK FILLERS.

 NE005  INITIATORS WILL BE INITIALIZED AS DRAINED ($PI).

 NE006  RDR SUPPORT FOR ADDING NERDC CONTROL CARDS.

 NE008  ISSUE LOAD POINT MESSAGES.

 NE009  PUNCH LACE CARD MODS.

 NE016  PLACE STARS ON FOLD OF HEADER PAGE.

 NE021  OUTPUT HEADER LINE SPECIFICATION.

 NE028  PRPU JOB SELECTION MSGS TO REMOTE CONSOLES.

 NE030  $PQ COMMAND WILL REQUIRE AN OPERAND.

 NE033  VALUE FOR &RPRT (READER PRIORITY) NOW IN JOB CARD UNITS.

 NE034  CHANGE $COFCVE TO SUPPORT NUMBERS > 99999.

 NE037  FIFO PRINT SELECTION SELECTABLE BY DEVICE.

 NE038  SELECTABLE PRINT TRANSLATION BY DEVICE.

 NE041  JOB DISPLAY BY PREFIX.

 NE042  ADD ROUTE CODE=2 TO $DMR0 MSGS.

 NE043  $YB COMMAND TO LIST AVAILABLE BUFFERS.

 NE044  $YM COMMAND TO LIST MODULE ADDRESSES.

 NE045  COMMAND TO HOLD/RELEASE CONVERTER QUEUE.

 NE046  ALLOW "REMOTE" ON ROUTE CARDS.

 NE048  RESTRICTIONS ON $ COMMANDS FROM READERS.

 NE049  DO NOT PRINT DELETED LOCAL JOBS.

********************************************************************************
*                                                                              *
*         F I L E   7 0   P W   J E S M O D S                                  *
*                                                                              *
********************************************************************************

 THE FOLLOWING PW MODIFICATIONS ARE PROVIDED IN IEBCOPY UNLOADED
 FORMAT.  THESE MODIFICATIONS ARE FOR JES2 4.1 THROUGH TAPE 80/07
 WITH 3800 ENHANCEMENTS INSTALLED.
 LAST FILE UPDATE - NOVEMBER 1980.

ANY QUESTIONS OR COMMENTS ON THESE MODIFICATIONS MAY BE ADDRESSED TO:

 INTALLATION       BOB SCHELL                           (305) 840-3161
 CODE IS  PW       PRATT & WHITNEY AIRCRAFT GROUP
                   GOVERNMENT PRODUCTS DIVISION
                   P O BOX 2691
                   WEST PALM BEACH, FL. 33402

       MEMBER
        NAME       DESCRIPTION

       PWA28       MODIFICATION TO HASPNUC TO FORCE CERTAIN OUTPUT
                   JOB CLASSES TO CERTAIN ROUTE CODES.  THIS IS HELPFUL
                   IN AN INSTALLATION WITH MULTIPLE RJE LOCATIONS BUT
                   WITH SPECIAL EQUIPMENT (3800, PLOTTER) AT ONLY ONE
                   LOCATION.

       PWA29       MODIFICATION TO HASPNUC AND HASPXEQ TO CARRY INPUT
                   PRIORITY OVER TO THE OUTPUT QUEUE.  THE CODE ADDED
                   TO HASPNUC LEAVES THE JQEPRIO FIELD ALONE IF IT IS
                   GREATER THAN 7.  THE CODE ADDED TO HASPNUC USES 7
                   FOR JOEPRIO IF JQEPRIO IS GREATER THAN 7.

       PWA30       MODIFICATION TO HASPNUC TO SELECT A JOE TO BE NEXT
                   ON A PRINTER REGARDLESS OF SETUP DIFFERENCES IF
                   PRINTER IS NOT IN OPER MODE.  AS LONG AS ROUTE CODE
                   MATCHES AND THE JOE'S CLASS MATCHES ONE OF THE
                   CLASSES ON THE PRINTER IT WILL BE THE NEXT JOB ON
                   THAT PRINTER.

********************************************************************************
*                                                                              *
*         F I L E   7 1   G A I   J E S M O D S                                *
*                                                                              *
********************************************************************************

THIS FILE CONTAINS THE CURRENT VERSION OF SUPPORT FOR THE XEROX 9700
AS DESIGNED BY AND CURRENTLY IN USE AT GREAT AMERICAN INSURANCE
COMPANY IN CINCINNATI, OHIO.  THE FILE IS AN UNLOADED PDS CONTAINING
SOURCE FOR JES2 AND 9700 SOFTWARE.  ALLOCATED WITH UNIT=3330,
SPACE=(TRK,(15,5,2))

 QUESTIONS AND/OR COMMENTS SHOULD BE DIRECTED TO:

                J. L. BUSSEY
                LEAD SOFTWARE PROGRAMMER
                TECH SUPPORT, MSD
                GREAT AMERICAN INS CO.
                P. O. BOX 2575
                CINCINNATI, OHIO  45201

                PHONE: (513) 369-5869

                       ***  NOTICE  ***

    THESE MATERIALS ARE FURNISHED WITHOUT CHARGE AT THE REQUEST OF
       THE RECIPIENT.  GREAT AMERICAN INSURANCE MAKES NO WARRANTY
       EXPRESSED OR IMPLIED AS TO THE DOCUMENTATION, FUNCTION, OR
       PERFORMANCE OF ANY OF THE MATERIALS INCLUDED.  THE USER IS
       EXPECTED TO THOROUGHLY EXAMINE ALL MATERIALS AND MAKE THE
       FINAL EVALUATION AS TO THE SUITABILITY AND USEFULNESS OF THE
       PROGRAMS.  THERE IS NO COMMITTED MAINTENANCE PROGRAM FOR
       DOCUMENTATION OR PROGRAM MATERIALS.

 NOTES:
       JES2 LOGIC MODIFICATIONS - THE CHANGES TO JES ARE AS
                            AS FOLLOWS:

1. FIX 'XFRMTABN' IN MEMORY SO THAT ITS DJDE RECORDS MAY BE WRITTEN
  DIRECTLY VIA EXCPVR. THERE MUST BE ONE TABLE FOR EACH 9700.

  PLEASE NOTE THAT AN 'ORG' MUST BE USED TO ENSURE THAT NO RECORD
  CROSSES A PAGE BOUNDARY.  EXCPVR WILL NOT CORRECTLY TRANSMIT A RECORD
  RESIDENT IN TWO DIFFERENT PAGES.  AS PREVIOUSLY NOTED, MODULE
  ALIGNMENT VIA THE 'PAGE' OPERAND OF THE LINKAGE EDITOR IS REQUIRED AS
  WELL.

  THE APPROPRIATE TABLE IS LOADED AND FIXED IN STORAGE.  THE TABLE WILL
  BE DELETED WHENEVER THE PRINTER IS DRAINED AT JES.

2.   AT EACH DATASET SELECTION, FIND THE FORM SPECIFIED IN THE CROSS
  REFERENCE TABLE, EXTRACT THE FORM PART COUNT, MULTIPLY BY THE COPY
  COUNT FROM THE JCL AND RESET THE COPY COUNT TO THE PRODUCT.  THE
  DATASET WILL THEN BE TRANSMITTED TO THE 9700 THAT MANY TIMES.  ANY
  FORM NOT FOUND IN THE TABLE WILL BE DEFAULTED AND PRINTED ON STANDARD
  FORMS.

  THE ENTRY ALSO CONTAINS A FLAG INDICATING WHETHER THE FORM IS ELIGIBLE
  FOR DUPLEX PRINTING.  IF THE FLAG IS ON (ELIGIBLE) AND IF THE SYSOUT
  CLASS BEING PROCESSED IS ELIGIBLE FOR DUPLEX (CLASS A AND D AS CODED),
  THEN THE DUPLEX=YES RECORD WILL BE SENT.  IN ANY CASE, IF THE MODE
  BEING ENTERED IS A CHANGE FROM THE CURRENT SETUP, THEN A MODE CHANGE
  MESSAGE DJDE IS ISSUED.

  THE ENTRY ALSO CONTAINS A STOCK INDEX BYTE, WHICH IS USED TO INDEX
  INTO THE PAPER STOCK TABLE.  IF THE PAPER STOCK TO BE USED IS
  DIFFERENT THAN THAT CURRENTLY IN USE, THE MESSAGE INDICATED BY THE
  INDEX VALUE IS SENT AS DJDE FOR DISPLAY ON THE 9700 CONSOLE.

  IF EITHER MESSAGE IS ISSUED, FOR A MODE CHANGE (DUPLEX/SIMPLEX) OR FOR
  A PAPER STOCK CHANGE, A MESSAGE TO THE 9700 CONSOLE WILL BE ISSUED
  WHICH WILL FORCE THE 9700 TO HALT PRINTING SO THE OPERATOR CAN MAKE
  ANY SETUP CHANGES REQUIRED.

  WHEN RUNNING IN DUPLEX MODE, SPECIAL MEASURES WERE NECESSARY TO ENSURE
  THAT EACH DATASET BEGAN ON A PHYSICAL PAGE BOUNDARY.  THIS WAS
  ESPECIALLY TRUE IF A MULTI-LOGICAL-IMAGE-PER-PAGE FORM (I.E.  2UP) WAS
  BEING PRINTED.  SINCE CHANNEL 1 WOULD POSITION TO THE TOP OF A LOGICAL
  PAGE, BUT NOT ALWAYS A PHYSICAL PAGE, IT WAS NECESSARY TO DEFINE A
  CHANNEL WHICH WOULD ALWAYS BE DEFINED AS LINE 1, TOP OF FORM.  IN OUR
  ENVIRONMENT CHANNEL 6 WAS FOUND TO NOT BE IN USE BY ANY EXISTING
  REPORT AND WAS THEREFORE SELECTED.  IN ALL VFU SETS, CHANNEL 6 WAS
  DEFINED AS LINE 1, AND A SKIP TO CHANNEL 6 WAS IN INSERTED IN THE
  HASPPRPU CODE TO ENSURE THAT THE 9700 WAS POSITIONED AT TOP OF PAGE
  WHEN THE COPIES=1 VERB IS RECEIVED.  THIS VERB WILL CAUSE THE 9700 TO
  FURNISH A BLANK BACKSIDE IF NEEDED AND BEGIN PRINTING ON A NEW SHEET.

3. APPLY 'SET' SEPARATOR PAGES BOUNDING EACH MULTIPLE- COPY SET, AND
  'CPY' SEPARATOR PAGES BETWEEN EACH COPY.  SINGLE PART FORMS ARE SENT
  WITH ONLY JOB SEPARATORS UNLESS A COPY COUNT GREATER THAN ONE HAS BEEN
  SPECIFIED.

4.  APPLY 'DJDE' SET AT EACH DATASET INITIALIZATION AND FOR EACH
  TRAILING SEPARATOR.

5.  ALLOW FCB/UCS LOADS FROM SYS1.IMAGELIB, BUT DEFAULT TO 8 LPI AND
  P11 IF AN IMAGE IS NOT FOUND.  THE 9700 WILL, AS CODED, IGNORE ANY FCB
  FROM THE CHANNEL; THE FCB FUNCTION IS REPLACED BY VFU DJDE COMMANDS
  FROM THE FORM TABLE 'XFRMTABN'

6.  ELIMINATE OPERATOR WAITS WHEN THE SETUP MESSAGE IS ISSUED AT FORM
  CHANGE TIME (FORM=AUTOM MODE).  THE SETUP MESSAGE IS STILL ISSUED AS
  INFORMATION TO THE OPERATOR.

7. FORMAT A SEPARATOR PAGE MEETING INSTALLATION NEEDS AND REQUIREMENTS.

8. DELETE ALL DJDE 9700 CONTROL RECORDS FROM THE PRINT DATA STREAM IF
  THE PRINT IS BEING DIRECTED TO AN IMPACT PRINTER.

9. DISABLE THE PRINTING OF 'NEWS'.  THE RE-POSITIONING OF THE JOB
  SEPARATOR ROUTINE FORCED THE DISABLING OF THE 'NEWS' PRINT FEATURE.

10. IDENTIFY THE 9700 PRINTER.  ALL 3211 PRINTERS ARE, IN THIS
  VERSION, ASSUMED TO BE ACTUALLY XEROX 9700 PRINTERS.  IF YOUR SYSTEM
  INCLUDES ONE OR MORE 3211S, THE TESTS FOR PRINTER DEVICE TYPE WILL
  HAVE TO BE ALTERED ACCORDINGLY.

********************************************************************************
*                                                                              *
*         F I L E   7 2   L A N E   J E S M O D S                              *
*                                                                              *
********************************************************************************

THIS FILE CONTAINS JESMODS FROM LANE COUNTY.

QUESTIONS AND/OR COMMENTS SHOULD BE DIRECTED TO:

                MEG GHENT
                LANE COUNTY
                125 EAST 8TH
                EUGENE, OREGON, 97401

THE &PRTRANS JES2 INITIALIZATION PARAMETER IS USED TO SPECIFY WHETHER
OR NOT LINES OF PRINT DIRECTED TO MOST PRINTERS ARE TO BE TRANSLATED
BY JES2. IF TRANSLATION IS REQUESTED, THEN LOWER CASE LETTERS ARE
CONVERTED TO UPPER CASE LETTERS AND INVALID CHARACTERS ARE CONVERTED
TO BLANKS. THIS IS OBVIOUSLY A DESIRABLE OPTION FOR PRINTERS SUCH AS
THE 1403 THAT ARE UNABLE TO DEAL INTELLIGENTLY WITH LOWER CASE LETTERS.
UNFORTUNATELY, THERE ARE DEVICES SUCH AS THE IBM 6670 THAT ARE SUPPORTED
BY JES2 AS 2770S AND THEREFORE ARE GIVEN THE TREATMENT IMPLIED BY THE
&PRTRANS PARAMETER. WHEREAS THE BEST CHOICE FOR A 1403 IS &PRTRANS=YES,
THE BEST CHOICE FOR A 6670 IS &PRTRANS=NO. BECAUSE OF THIS DILEMMA, WE
IMPLEMENTED A JES2 MODIFICATION THAT ALLOWS US TO SPECIFY FOR EACH
PRINTER WHETHER OR NOT TRANSLATION IS REQUIRED.

EXTERNALLY, THE MODIFICATION CONSISTS OF SPECIFYING TRANS OR NOTRANS AS
SUBPARAMETERS FOR THE JES2 PRINTERNN (LOCAL PRINTER) AND RNNN.PRM
(REMOTE PRINTER) PARAMETERS. IF OMITTED, THE DEFAULT IS NOTRANS. THE
IMPLEMENTATION ALSO REQUIRES THAT &PRTRANS=NO BE SPECIFIED; IF &PRTRANS
=YES IS USED, PRINT IS TRANSLATED WITHOUT REGARD FOR THE TRANS/NOTRANS
SUBPARAMETER.

INTERNALLY, THIS IS ACCOMPLISHED BY ADDING SUPPORT TO HASPINIT FOR THE
TRANS/NOTRANS SUBPARAMETER PAIR. AN EXISTING FLAG, (DCTRANS IN DCTPPFL)
IS SET ON IF TRANS IS SPECIFIED, AND OFF IF NOTRANS IS SPECIFIED OR
DEFAULTED. CHANGES TO HASPPRPU AND HASPRTAM ARE ALSO REQUIRED SO THAT
THEY WILL TEST THE FLAG TO DETERMINE WHETHER OR NOT TO TRANSLATE A
PRINT LINE.

THE FLAG USED FOR THE TRANS/NOTRANS SUBPARAMETER WAS DEFINED IN THE DCT,
BUT NOT REFERENCED BY ANY JES2 MODULES. THE COMMENT 'PRINTER TRANSLATION
SPECIFIED' ON THE DEFINITION OF THE DCTRANS FLAG MAKES IT APPEAR THAT
THIS IMPLEMENTATION MAY MERELY PRECEDE A FUTURE IBM ENHANCEMENT FOR JES2

********************************************************************************
*                                                                              *
*         F I L E   7 3   L L O Y D S   J E S M O D S                          *
*                                                                              *
********************************************************************************

THIS TAPE CONTAINS ALL USER MODS IN USE AT LLOYDS BANK CALIFORNIA.
NOT ALL OF THESE USERMODS ARE STILL IN USE.  LB00604 TURNED OUT TO BE
SOMEWHAT DIFFICULT TO REFIT TO JES2/NJE AND ITS FUNCTION IS MAINLY
REPLACED BY 5798-CYE TSO/JES2 BATCH DISPLAY FACILITY.  THEREFORE WE
HAVE NOT INSTALLED IT UNDER NJE.
  AUTHOR:
    ERIC LEE JACKSON
    MANAGEMENT INFORMATION SERVICES
    LLOYDS BANK CALIFORNIA
    1977 SATURN STREET
    MONTEREY PARK, CA 91754
    (213) 727-3491
    SHARE CODE: LLB

APPLICABILITY:  MVS 3.8 WITH JES2 OR JES2/NJE R3.1

++USERMOD(LB00601) - DESCRIPTION:

THIS MODIFICATION CONTAINS ALL USER UPDATES TO THE JES2 MODULE HASPSSSM.
THE MOD WILL DETERMINE THE MAXIMUM RETURN CODE OR THE ABEND CODE FROM
THE OS JCT, AND MARK THE JES2 JCT.  HASPPRPU WILL BE MODIFIED TO CHANGE
THE TSO NOTIFY MESSAGE TO REFLECT THE INDICATED JOB STATUS.

TO ACTUALLY GET THE RETURN CODE TO THE TSO USER, A MODIFICATION OF
HASPPRPU IS REQUIRED.  HOWEVER, JES2 WILL RUN WITHOUT THIS OTHER MOD
INSTALLED.  WITHOUT THE HASPPRPU USERMOD INSTALLED, ALL JOBS WILL APPEAR
TO END WITH A JCL ERROR WHEN THEY IN FACT RAN CORRECTLY.

++USERMOD(LB00602) - DESCRIPTION:

THIS MODIFICATION CONTAINS ALL USER UPDATES TO THE JES2 MODULE HASPPRPU.
THE JES2 JCT IS MARKED BY HASPSSSM WITH THE MAXIMUM CONDITION CODE OR
THE ABEND CODE OF A JOB.  WHEN A TSO NOTIFY IS REQUESTED, THAT JOB
STATUS WILL BE ADDED TO THE NOTIFY MESSAGE.  THE PROGRAMMER NAME IS
INSERTED IN THE JOB BANNER PAGES WHERE THE JOB NUMBER WOULD NORMALLY GO.
THE PROGRAMMER NAME FOR TSO SUBMITTED JOBS IS DETERMINED FROM A TABLE
WHICH (MUST) BE IN THE MODIFIED LINK PACK AREA.  IF IT IS NOT, A DEFAULT
IS USED.  FOR MORE DETAILS, SEE THE CODE.

TO ACTUALLY GET THE RETURN CODE TO THE TSO USER, A MODIFICATION OF
HASPSSSM IS REQUIRED.  HOWEVER, JES2 WILL RUN WITHOUT THIS OTHER MOD
INSTALLED.  IF THAT MOD IS INSTALLED WITHOUT THIS ONE, THE USER WILL BE
TOLD ALL OF HIS JOBS ARE GETTING JCL ERRORS.
++USERMOD(LB00603) - DESCRIPTION:

THIS MODIFICATION CONTAINS ALL USER UPDATES TO THE JES2 MODULE HASPRDR.
IF A RACF PASSWORD OF ONE TO EIGHT QUESTION MARKS (?) IS SEEN, AND THE
JOB IS COMING IN OFF AN INTERNAL READER, WE WILL SUBSTITUTE THE PASSWORD
OF THE SUBMITTING JOB, UNLESS THE PASSWORD WON'T FIT.

*******THE FOLLOWING IS OBSOLETE, BUT COULD BE REACTIVATED*************
*   ALL VSAM JOBCAT DD STATEMENTS WILL BE CHANGED TO COMMENTS BEFORE
*   THE CONVERTER SEES THEM, UNLESS "VSAM" IS IN COLUMNS 68-71.
*   THIS IS TO PROVIDE COMPATIBLITY WITH VS1, WHICH WILL NOT USE
*   A JOBCAT TO CATALOG FROM THE JCL DISPOSITION.

THE RACINIT EXIT WHICH SAVES THE RACF PASSWORD MUST BE PRESENT FOR
PASSWORD SUBTITUTION TO WORK.  HOWEVER, NO PROBLEMS SHOULD RESULT IF
THAT EXIT IS NOT ACTIVE.

++USERMOD(LB00604) - DESCRIPTION:

*******THE FOLLOWING IS NOT IN USE, BUT COULD BE REACTIVATED***********

THIS MODIFICATION CONTAINS ALL USER UPDATES TO THE JES2 MODULE HASPCOMM.
INSERT THE NUMBER OF LINES TO BE PRINTED IN THE $DF OUTPUT.  ADD A $QJ
COMMAND WHICH WILL SHOW THE JOB CARD AND JES2 CONTROL CARDS FOR A JOB
WHICH IS NOT YET READY TO PRINT, AND THE NUMBER OF LINES TO PRINT FOR A
JOB WHICH HAS COMPLETED EXECUTION.

********************************************************************************
*                                                                              *
*         F I L E   7 4   T O Y O T A   J E S M O D S                          *
*                                                                              *
********************************************************************************

THIS FILE CONSISTS OF SMP UPDATES.  LAST FILE UPDATE - APRIL 1981

MOD DESCRIPTION:
     ENHANCEMENT TO DISPOSITION PROCESSING MESSAGES IEF283I,IEF285I,
     AND IEF287I.  THE MESSAGE LINE THAT GIVES THE DATA SET NAME AND
     DISPOSITION HAS BEEN EXTENDED TO INCLUDE THE DDNAME AND I/O COUNT
     OF THE DATA SET.  THE I/O COUNT IS DISPLAYED IN THE FORMATS:
       (1) CARDS=NNNNNNN      FOR SYSIN AND SYSOUT=B DATA SETS
       (2) LINES=NNNNNNN      FOR SYSOUT DATA SETS EXCEPT SYSOUT=B
       (3) EXCPS=NNNNNNN      FOR ALL OTHER DATA SETS
     THERE IS NO SUPPORT FOR INTERNAL READER I/O COUNTS; THEIR I/O
     COUNT WILL ALWAYS SHOW AS LINES=0000000  .  THE MESSAGE EXTENSION
     WILL NOT BE SHOWN FOR DATA SETS WHOSE PROCESSING TASK DOES NOT
     HAVE A TIMING CONTROL TABLE, I.E., THOSE NOT HAVING SMF STATISTICS
     GATHERED.

MOD NOTES:
     THE ENHANCEMENT CONSISTS OF EXPAND/ZAPS TO TWO UNALLOCATION
     MODULES (IEFAB4B0,IEFAB4A2) AND SOURCE UPDATES TO HASPSSSM.  THE
     MODIFICATION IS GIVEN IN SMP4 FORMAT AS TWO USERMODS.

     THE HASPSSSM UPDATE IS TO UNALLOCATION PROCESSING (HOSUNAL). ITS
     PURPOSE IS TO PLACE JES2 DATA SET COUNTS IN THE TIMING CONTROL
     I/O TABLE DEVICE ENTRY FOR THE DD ENTRY CORRESPONDING TO THE
     DATA SET BEING UNALLOCATED.

     THE SUPERZAP TO IEFAB4A2 PUTS THE ADDRESS OF THE PROBLEM PROGRAM
     JSCB INTO THE JFCBDSCB FIELD OF THE UNALLOCATED JES2 DATA SET.
     HASPSSSM USES THIS INFORMATION TO DETERMINE THE ADDRESS OF THE
     PROBLEM PROGRAM TIOT (NOT NORMALLY AVAILABLE AT STEP UNALLOCATION
     TIME) .

     THE SUPERZAP TO IEFAB4B0 FORMATS THE MESSAGE EXTENSION BY USING
     INFORMATION IN THE TIOT AND TCT I/O TABLE.

     THE THREE MODULE UPDATES CAN BE PUT ONTO THE SYSTEM INDEPENDENTLY,
     THEY ARE NOT COREQUISITES OF EACH OTHER.  HOWEVER, PARTIAL OR NO
     ENHANCEMENT INFORMATION WILL RESULT.

     THE OPERATING SYSTEM AT TOYOTA IS MVS 3.8 WITH SU64, PUT
     TAPE 8005, JES2 R4.1.  THE LEVELS OF THE DISCUSSED MODULES ARE:

           MOD      LMOD    PUT TAPE  PTF RMID/UMID

     1. IEFAB4A2   IEFW21SD   7911        UZ90089
     2. IEFAB4B0   IEFW21SD   BASE        EBB1102
     3. HASPSSSM   HASPSSSM   7909        UZ27259

MOD PRECAUTIONS:
     (1)  IEFAB4B0'S SUPERZAP DEPENDS UPON THE FACT THAT IEFAB4A2
          IS CALLING IT.  IT USES THIS KNOWLEDGE TO ACCESS INTERNAL
          WORK AREA FIELDS OF IEFAB4A2.  A SUPERZAP STATEMENT THAT
          DIRECTLY USES THIS DEPENDENCY IS MARKED AS SUCH IN ITS
          COMMENT FIELD.
     (2)  THE JFCBDSCB FIELD IS MODIFIED FOR JES2 DATA SETS.  THIS
          FIELD IS NOT CURRENTLY BEING USED FOR JES2 DATA SETS BY
          BIG BLUE.
     (3)  CARE MUST BE EXERCISED IN APPLYING THE SUPERZAPS TO IEFAB4A2
          AND IEFAB4B0.  THE REP OFFSETS SHOULD ONLY HIT THE EXPANDED
          AREAS OF THE MODULES; CHECK MODULE LENGTHES BEFORE APPLYING
          THE SUPERZAPS.  ONLY THE FIRST 8 BYTES OF THE REPPED AREA
          IS CHECKED FOR BINARY ZEROS.

MOD RESPONSIBILITY:
     ANY QUESTIONS CONCERNING THIS MODIFICATION SHOULD BE DIRECTED
     TO BOB TOWERS AT

                    TOYOTA MOTOR SALES, U.S.A., INC.
                    2055 WEST 190TH STREET
                    TORRANCE, CALIFORNIA  90504

                    PHONE: 213-532-5010  EXT 2150

     SPECIAL THANKS GOES TO EVAN GALEN AT HOUSE INFORMATION SYSTEMS
     (HIS) FOR HIS HELP IN FORMULATING THIS ENHANCEMENT.

********************************************************************************
*                                                                              *
*         F I L E   7 5   C S G   J E S M O D S                                *
*                                                                              *
********************************************************************************

ALL CSG MODIFICATIONS SUPPLIED ARE FOR NJE AND ARE DISTRIBUTED IN
A SEQUENTIAL DATASET. LAST FILE UPDATE APRIL 1981.
ANY QUESTIONS OR COMMENTS ON THESE MODIFICATIONS MAY BE ADDRESSED TO:

                   TERRY BURR                   (416) 822-5200
                   CANADA SYSTEMS GROUP
                   2599 SPEAKMAN DRIVE
                   MISSISSAUGA, ONTARIO, L5K 1B1

 CSG-AI ** NUMEROUS COMMANDS AND RESTRICTIONS **
         THIS MOD INCORPORATES NUMEROUS PREVIOUS MODS WHICH
     ENABLED THE USE OF CERTAIN COMMANDS AND IMPOSED
     RESTRICTIONS ON THE USE OF ALREADY EXISTING COMMANDS.
     THE COMMANDS AND THEIR RESTRICTIONS FOLLOW:
     1)  RESTRICT REMOTE COMMANDS $DA, $DI, $DN, $DQ, $DU
         -THE $DA COMMAND IS LIMITED TO LOCAL CONSOLES OR THE
          REMOTE TO WHOM THE JOB BELONGS
         -THE $DI COMMAND IS LIMITED TO LOCAL CONSOLES ONLY
         -THE $DN COMMAND IS LIMITED TO THE DEFAULT ROUTE CODE
         -THE $DQ COMMAND IS LIMITED TO THE DEFAULT ROUTE CODE
         -THE LOCAL DEFAULT FOR $DN, $DQ IS FORCED TO LOCAL ONLY
         -THE $DU COMMAND FROM REMOTES CAN ONLY DISPLAY THEIR
          OWN SPECIFIC REMOTE
         -THE $DF COMMAND IS LIMITED TO DEFAULT ROUTE CODES
     2)  DISPLAY DISK BY ADDRESS OR VOLSER
         -ALLOW FOR SPECIFIC REQUESTS RE: DASD OF THE FORM
              $DD,XXX      WHERE XXX IS THE UCB ADDR
              $DD'YYYYYY'  WHERE YYYYYY IS THE VOLSER
              $DD          FOR ALL DASD ONLINE DEVICES
         -THE $DD IS ONLY ALLOWED LOCALLY
     3)  REMOVE THE ABILITY TO SPECIFY A RANGE OF JOBS FOR THE
         $A, $C, $E, $H, $P, AND $O COMMANDS
     4)  DISPLAY THE JOBNAME FOR AN ACTIVE INITIATOR  ON THE
         RESPONSE TO THE $DI COMMAND
     5)  RESTRICT JES2 COMMAND USAGE
         -CHANGE $DU TO INVALIDATE UNLESS OPERANDS ARE
          SPECIFIED
         -$EJ COMMAND WILL FORCE THE JOB INTO HOLD AND CANCEL
          THE ORIGINAL JOB
         -$HQ DISABLED
         -$PQ WITH NO OPERANDS INVALID
         -$TJNNNN,C=X INVALID
         -INVALIDATE R= OPERAND FOR $OQ
     6)  DISABLE $TRN.RDN, S=+IND FROM REMOTE TERMINALS
         -THIS CHANGE WILL PROHIBIT REMOTES FROM SETTING THEIR
          READERS TO FORCE SYSTEM AFFINITIES
     7)  JOB GROUP DISPLAY
         -THE $D AND $L COMMANDS ARE CHANGED TO ALLOW A LOOK-UP
          BASED ON THE NUMBER OF OF CHARACTERS ENTERED
     8)  LIMIT JOB NUMBER RANGES
         -JOB RANGES WILL BE LIMITED TO THE LOW RANGE PLUS
          TWENTY. THIS WILL PREVENT OPERATORS FROM ENTERING
          $DJ1-99999
     9)  PREVENT $TRX.PR1,R=YYY COMMAND
         -THE ABILITY TO MODIFY A PRINTER/PUNCH DEVICE ROUTE
          CODE IS A POTENTIAL SECURITY HOLE WHICH IS BEING CLOSED

 CSG-AJ ** LIMIT REMOTE 5 OUTPUT LINES **
      THIS MOD RESTRICTS THE OUTPUT TO REMOTE 5
    IF A GIVEN SET OF PDDB'S RESULT IN A TOTAL NUMBER OF LINES
    WHICH EXCEEDS  6,000 LINES THEN THE JOEDEST AND THE JOEROUT
    FIELDS FOR THAT JOE WILL BE ROUTED LOCAL.    NOTE THAT THIS
    DOES NOT AUTOMATICALLY ROUTE ALL THE JOBS SYSOUT.
    THIS CODE WAS INSERTED NEW FOR RELEASE 3.8.

 CSG-AK ** SMF DATA ERROR HANDLING **
      IF HASPACCT DETECTS AN ERROR IN WRITING ITS SMF RECORDS
    A WARINING MESSAGE IS ISSUED
      IF SMF STOPS RECORDING, THE CONSOLE IS FLOODED WITH
    MESSAGES TO INDICATE THE PROBLEM AND JES IS DRAINED
      A $S WILL START UP JES AGAIN

 CSG-AM ** REMOTE WTO SUPPORT **
      THIS MOD GIVES THE REMOTE USER THE ABILITY TO SEE ALL HIS
    DATA THAT IS NORMALLY DISPLAYED ON LOCAL CONSOLES BY THE USE
    OF THE WTO MACRO (I.E. SVC 35).
      THE MOD IS ON A JOB LEVEL ONLY AND IS ACTIVATED BY THE
    INCLUSION OF THE FOLLOWING JES2 CONTROL CARD.
    /*ROUTE  PRNTM RMTXXX
      THE MODIFICATION WILL SEND ALL WTO'S FOR THE JOB TO
    THE ROUTE DESTINATION FOR REMOTE XXX AS DEFINED IN THE
    REMOTE ATTRIBUTE TABLE ENTRY RATCONRT.  NOTE THAT THIS IS
    GENERALLY THE SAME LOCATION AS XXX.
      FURTHER DETAILS OF THESE DESTINATION CODES CAN BE FOUND
    IN THE REMOTE ATTRIBUTE TABLE  AND THE RMTNNN INITIALIZATION
    PARAMETER.
      IF THE REMOTE DOES NOT HAVE A CONSOLE, THE ABOVE CONTROL
    CARD WILL BE IGNORED.
      IF THE DESTINATION NX RY IS USED, THE NODE WILL BE IGNORED
    IF EQUAL TO $OWNNODE; THE JOB WILL BE FLUSHED IF THE NODE
    IS OTHERWISE
      NOTE THAT THIS IS A CHANGE TO THE FORMAT AS DESCRIBED
    PRIOR TO NJE.

 CSG-AN ** JOBPARM DUMP=Y SUPPORT **
     THIS MOD ALLOWS SUPPRESSION OF DUMPS FOR LINE EXCESSION,
     UNLESS DUMP=Y IS SPECIFIED ON THE JOBPARM CARD.
     &OUTPOPT=1 MUST BE SPECIFIED.

 CSG-AO ** JOBPARM FCB'S **

    THIS MOD SUPPORTS THE FCB= (OR Z=) KEYWORD ON THE
    /*JOBPARM CARD TO SPECIFY A DEFAULT FCB ID FOR
    THE JOB.

 CSG-AP ** EXTENDED REMOTE WTO SUPPORT **
      THIS MODIFICATION IS FOR REMOTE TERMINALS WITH CONSOLES.
    IF ANY MESSAGES ARE SPOOLED FOR THE REMOTE THE MESSAGE(S)
    WILL BE DIRECTED TO THE CONSOLE AND NOT RMX.PR1.  THIS
    CHANGE IS TO THE REMOTE CONSOLE PROCESSOR IN HASPRTAM.
      A CHANGE IN HASPPRPU WILL PREVENT THE PRINTING OF
    SPOOLED MESSAGES IF THE REMOTE HAS A CONSOLE.
      MOD WAS ENHANCED JULY 79 TO USE ITS OWN BUFFER AREA
    AND TO SCAN ALL SPOOL MESSAGES QUEUES JUST PRIOR TO
    THE RCP INPUT PHASE.  THIS WAS DONE TO AVOID DELAYS IN
    RETURNING QUANTITIES OF MESSAGES TO EACH REMOTE.
      THE FOLLOWING STATEMENTS APPLY TO THE MOD FROM LOCKHEED.
    IN IBM'S SUPPLIED RTAM, WHEN A MESSAGE FOR AN RJE
    STATION IS QUEUED ON $BUSYRQ, THE MESSAGE IS HANDLED
    BY THE PROCESSOR THAT QUEUED IT.  THE MESSAGE IS
    SPOOLED IF THE REMOTE WORK STATION IS SIGNED ON
    THE COMPLEX IF IT DOES NOT HAPPEN TO BE ATTACHED
    TO THE PROCESSOR HANDLING THE MESSAGE.
    AFTER DETERMINING THAT THE REMOTE IS NOT SIGNED ON
    TO THE CURRENT PROCESSOR, THIS MODIFICATION EXAMINES
    THE $RMTSON VECTOR TO DETERMINE IF IT IS SIGNED
    ON TO ANOTHER MEMBER OF THE COMPLEX.  IF SO, THE
    MESSAGE IS QUEUED VIA SPOOL TO THE PROPER MEMBER OF
    THE M.A.S. COMPLEX.

 CSG-AR ** ELIMINATE REMOTE SETUP MESSAGES FROM LOCAL CONSOLES **
    (SEE TEXT ABOVE)

 CSG-AS ** PAGE FIXING **
    THIS MOD PAGE FIXES ALL OF CORE FROM THE START OF HASPNUC TO
    THE START OF HASPCOMM. AT LEAST, THE FOLLOWING MODULES SHOULD BE IN THE
    FIXED AREA - HASPNUC, HASPMISC, HASPRTAM

 CSG-AT ** LINE COUNTER ON OUTPUT DEVICES **
      WHEN A JOB STARTS ON AN OUTPUT DEVICE THE NUMBER OF LINES
    TO BE PRINTED OR CARDS TO BE PUNCHED IS DISPLAYED.
      WHEN AN ACTIVE DEVICE IS DISPLAYED, THE NUMBER OF RECORDS
    REMAINING TO BE OUTPUT IS DISPLAYED.
      WHEN A JOB IS AWAITING OUTPUT THE NUMBER OF K LINES AND/OR
    K CARDS (ROUNDED TO NEAREST THOU) IS ADDED TO THE DISPLAY.
    THIS TOTAL IS FOR ALL SYSOUT FOR THE JOB (IE ALL PDDB'S ARE
    TOTALED EVEN IF SEPERATE SETUP IS REQUIRED) EXCEPT FOR SPUN
    DATASETS (FREE=CLOSE) SINCE THEIR JOE'S ARE BUILT IN HASPXEQ

 CSG-AW ** JOB CPU TIMING **
    THIS MOD ACCOMPLISHES THE FOLLOWING -
    1. ANY TIME= PARAMETER ON THE JOB CARD IS DELETED.
    2. A TIME= PARAMETER IS CONSTRUCTED ON THE JOB CARD
       WHOSE VALUE IS THAT SPECIFIED BY THE TIME=
       PARAMETER OF THE /*JOBPARM

 CSG-AY ** SIGN ON MESSAGE TO REMOTE **
    THIS MOD SENDS THE SIGNON MESSAGE TO THE REMOTE.
    WE HAVE ALSO ADDED THE MAS SYSTEM ID TO THE MESSAGE AS
    WELL AS THE NJE NODE NAME, TO ASSIST THE RJE USER.

 CSG-BB ** JES2 DYNAMIC DUMPS **
    THIS MOD ISSUES THE SDUMP SVC ON A DISASTEROUS ERROR
    AND WHEN THE OPERATOR ENTERS THE $SDUMP COMMAND.
       THE DISTERR DUMP IS ONLY TAKEN 6 TIMES MAX, UNTIL
    JES IS RESTARTED

 CSG-BD ** JES2 MONITOR **
    THIS MOD MONITORS JES2 INTERNAL ACTIVITY. A QUICK LOOK
    CAN BE OBTAINED BY ENTERING $MO.
    THE COMMAND SHOWS: FREE GENERAL BUFFERS
                       FREE RJE BUFFERS
                       FREE PRT/PUN BUFFERS
                       FREE JQE'S
                       FREE JOE'S
                       FREE CMB'S
                       SIGNED ON REMOTES
                       REMOTE HW MARK
 CSG-BP ** ROUTING OF JCL COPIES **
      THIS MOD GIVES THE USER THE CAPABILITY TO ROUTE ANOTHER
    COPY OF HIS JCL, JES2 JOB LOG, AND SMB'S TO AN EXTRA DEST
      IT ALSO ALLOWS THE SAME ROUTING FOR MSGCLASS A OF ANOTHER
    COPY OF THE SAME IF THE JOB ABENDS.

 CSG-BS ** NEW COMMANDS $QF,F=XXXX ; $CMJX **
    NEW COMMAND $QF,F=XXXX: DISPLAY JOBS NEEDING XXXX FORMS
                $CMJX,'**': CANCEL JOB WITH MESSAGE

 CSG-CP ** DECREMENTAL LINE COUNTS ON NJE DEVICES **
       THIS MOD USES THE DCTLCT FIELD AS SET UP IN MOD CSG-AT
    AND USES IT FOR THE DECREMENTAL LINE COUNTS FOR THE NJE
    DEVICES.  CURRENTLY SUPPORTING JT ST AND SR.

********************************************************************************
*                                                                              *
*         F I L E   7 6   O N L   J E S M O D S                                *
*                                                                              *
********************************************************************************
***** THIS ABSTRACT CONTAINS LOWER CASE CHARACTERS *****

The following is an abstract of the mods supplied by the Oak Ridge
National Laboratory:

SHARE Installation Code = ONL

Installation Contact = Robert M. Jinkins
   (JES2 only)         Computer Sciences Division
                       Union Carbide Corp., Nuclear Division
                       Oak Ridge National Laboratory
                       P.O. Box X
                       Oak Ridge, Tennessee  37830

                       Phone: (615) 574-7208/5300
                               FTS  624-7208/5300

JES2 Version = 4.1

Last Update = SEP 1981

Mod Format = NIH Hasp Merge Format (Convertible to IEBUPDTE format)

Mod Documentation = Member $$$INDEX (The member you are now reading)

Disclaimer = The authors, make no representation or warranty of any
   kind whatsoever, including, but not limited to, representations
   or warranties, express or implied, or merchantability, fitness for
   use or purpose, accuracy or completeness of processes, procedures,
   designs, definitions, instructions, information, or functioning of
   any programs, documents, or related materials; the authors futher
   expressly disclaim any knowledge of purpose for which these programs,
   documents, or related material may be utilized or their applicability
   for such use, nor shall the fact of making them available constitute
   any such representation, warranty, or knowledge; nor do the authors
   assume any liability, responsibility, or obligation arising from the
   use or malfunctioning of these computer programs, documentation, or
   related materials.

Notes = The 'Index of ONL Mods' (see below) is listed in order
   of functional categories rather than alphabeticlly. A brief
   abstract of each mod is given along with the name(s) of the
   member(s) in which a mod is located. The mods are documented
   extensively and may describe some functional capabilities
   which are not given in this abstract.

   The member names of the JES2 mods are in the following formats:

     ONL$xxxx  Where 'xxxx' is the mod identifier. Members with
               names in this format contain a brief abstract
               of the mod, NIH HASP Merge (IEBUPDTE like) control
               statements, and assembler instructions with sequence
               numbers dependent on the IBM JES2 source. In general,
               the member contains only a few assembler instructions.
               Some of these instructions may invoke a macro called
               ONL$xxxx (where 'xxxx' is the mod ID).
               Note: Member names in this format must be edited as
                     'NONUM' data sets.

     $xxxxMAC  Where 'xxxx' is the mod identifier. Members with
               names in this format contain a NIH HASP Merge 'ADD'
               control statement followed by the macro definition
               of the ONL$xxxx macro (where 'xxxx' is the mod ID).
               These members usually contain extensive documentaion
               and assembler instructions which may be generated in
               various JES2 modules under control of a macro operand.
               Note: Members in this format should be edited as
                     line numbered data sets. The line numbers are
                     not dependent on the JES2 source. However, if
                     you install an ONL mod which names another ONL
                     mod as a prerequisite, it may contain updates
                     dependent on the line numbers of the prerequisite
                     ONL mod.

     DOCxxxxx  Where 'xxxxx' is the document identifier. Members with
               names in this format may contain general documention
               about ONL mods or operator instructions. All DOCxxxx
               members are designed to be printed with 60 lines per
               page (/*JOBPARM LINECT=60).

   Member names with other formats are individually described below.

***********************
*  Index of ONL Mods  *
***********************
                                                             | Member
Description of Mod, Program, or Documentation                | Name(s)
=============================================================#=========
The member you are reading now is called $$$INDEX.           | $$$INDEX
-------------------------------------------------------------+---------
JESSPOOL is a set of subroutines which provide the caller    | JESSPOOL
with easy access to the JES2 Checkpoint and Spool data sets. | JESALLOC
Some of the most significant features are listed below:      | JSPLDATA
 - Dynamic Allocation is used, no 'DD' statements are        |
   required.                                                 |
 - The caller does not need to know the names of the Spool   |
   volumes unless they have been CLIP'ed.                    |
 - The Checkpoint Check record, Lock record, Master record,  |
   Job Queue, and optionally, the JOT are read from the      |
   Checkpoint data set.                                      |
 - If JES2 updated the Checkpoint data set while it was      |
   being read, it will be re-read until a valid copy is      |
   obtained or a specified number of re-reads has been       |
   performed.                                                |
 - The following direct access devices are supported:        |
     2305-1                                                  |
     2305-2                                                  |
     3330                                                    |
     3330-1                                                  |
     3350                                                    |
 - Extensive validity checking is performed; error           |
   conditions are returned to the caller. This includes      |
   LOCATE, DYNALLOC, and SYNADAF information as well as      |
   validity checking of HCT variables and Spool MTTR's.      |
 - The external entry points are:                            |
     JESINIT - The initialization routine.                   |
     JESFREE - The clean-up routine.                         |
     JESCKPT - The JES2 Checkpoint read routine.             |
     JESREAD - The Spool read routine.                       |
     JESDATA - A data area mapped by the JSPLDATA macro.     |
     JESHCT  - A dummy HCT built by the JESINIT entry which  |
               provides access to the Checkpoint information.|
-------------------------------------------------------------+---------
TICKETS is the front-end of a program which reads the JES2   | TICKETS
Checkpoint and Spool data sets using the JESSPOOL routines,  |
and generates job setup tickets. The TICKETS program has its |
own checkpoint data set to keep track of which jobs have had |
setup tickets produced. Restart capabilities include job     |
number ranges, time of day requests, and an automatic warm   |
start capability. The TICKETS front-end can also be used to  |
list the JES2 Log, the input JCL, the expanded JCL, and the  |
system messages for a given job, started task, or TSO user.  |
The front-end does not format or print job setup tickets;    |
this is done by the TIFSUB (Tickets Interface SUBroutine) or |
by routines called from TIFSUB. The interface consists of    |
a single entry point which is used to receive a 'Call Code'  |
which identifies the remainder of the parameter list. The    |
TICKETS front-end uses return codes from the TIFSUB to direct|
futher processing. The TIFSUB can be coded in either FORTRAN |
or assembler. The 'Call Codes' indicate one of the following:|
  Initialization - Called once at the beginning of the run.  |
  New Job - Called when processing begins for a new job      |
    setup ticket.                                            |
  Internal Text - Called once for each internal text record  |
    for a job. Spanned records are assembled into a single   |
    record before calling TIFSUB. An end-of-file call is     |
    made after all internal text records for a job have been |
    processed.                                               |
  Input JCL - Called once for each input JCL record. An      |
    End-of-file call is made after the last JCL record has   |
    been processed.                                          |
  End of JOB - Called at the end of processing for a each    |
    job setup ticket.                                        |
  End of Run - Called after all job setup tickets for the    |
    current run have been processed.                         |
  Abort Job - Called to abort the processing of a job setup  |
    ticket when an internal text or JCL buffer has an invalid|
    job key, DSID, or is not formatted correctly. Processing |
    resumes with the next job setup ticket.                  |
The TIFSUB can request the following via return codes:       |
  - Continue with normal processing.                         |
  - Abort the current job setup ticket without comment.      |
  - Abort the current job setup and flag the job in error.   |
  - Request that no more calls be made for internal text     |
    records for the current job setup ticket.                |
  - Request that no more calls be made for input JCL records |
    for the current job setup ticket.                        |
  - Request the TICKETS front-end to take an ABEND Dump.     |
The TICKETS front-end formats and presents error information |
returned from the JESSPOOL routines as well as providing a   |
number of its own diagnostics.                               |
-------------------------------------------------------------+---------
Two test versions of the TIFSUB routine (see TICKETS above)  | TIFSUBA
are provided; one in assembler and the other in FORTRAN.     | TIFSUBF
-------------------------------------------------------------+---------
It purges jobs from the JES2 Job Queue which have remained   |
in the system for more than a specified number of days since |
the job began output processing, or if no output processor   |
time stamp is available, the number of days since the job    |
ended execution. The program can operate in either TEST or   |
CANCEL mode, the diference being whether or not the jobs are |
actually purged via subsystem cancel requests. An audit trail|
is provided in the form of WTO messages which give the job   |
number, jobname, and age of the job's output for each job    |
which is purged. The program includes numerous validity      |
checks and any problems are brought to the OPERATOR's        |
attention via WTO messages.                                  |
-------------------------------------------------------------+---------
Operator documentation for JES2 Checkpoint problems          | DOCCKPT
-------------------------------------------------------------+---------
Operator documentation for local JES2 commands               | DOCJCMDS
-------------------------------------------------------------+---------
The HASP Merge program and its documentation from the        | NIHPROSE
National Institute of Health (NIH) are included since        | HSPMERGE
the ONL JES2 mods are in NIH HASP Merge format.              |
-------------------------------------------------------------+---------
Accounting mods:                                             | ONL$ACC
 - A five digit account number is supported.                 |
 - The account number is saved in part of the JCTUSEID.      |
 - Room number is not required even when the account number  |
   is required by &RJOBOPT.                                  |
 - Job card accounting is forced for TSO Logons.             |
-------------------------------------------------------------+---------
The $A command has been modified so that jobs awaiting       | ONL$AJHJ
execution may be forced to execute on a specified system     | $AJHJMAC
when released. A warning message will be issued if a job is  |
released to a system which cannot execute the job because    |
of a system affinity or resource conflict.                   |
-------------------------------------------------------------+---------
The $A command has been modified to prevent RJE operators    | ONL$ARJE
from releasing setup jobs awaiting execution. Jobs in those  | $ARJEMAC
classes whose Class Attribute Table (CAT) entry indicates    |
TYPRUN=HOLD are considered setup jobs. If a command is       |
entered from an RJE to release a setup job, the following    |
message will be issued:                                      |
     "NOT RELEASED, AWAITING EXEC SETUP"                     |
-------------------------------------------------------------+---------
Eliminates the punching of blank cards at the end of punched | ONL$BCRD
data sets at selected remotes.                               | $BCRDMAC
-------------------------------------------------------------+---------
Expands the JQE and QSE control blocks. A cold-start is      | ONL$BLKS
required. After that, mods which require the additional      |
space may be installed without futher cold-starts.           |
-------------------------------------------------------------+---------
This mod is used to compute the job class. Features include: | ONL$CLSC
 - Support for a '//*CLASS' control card.                    | $CLSCMAC
 - Add/Change the PERFORM parameter in the internal text for | HASPZCAL
   JOB statments.                                            |
 - The internal text for JOB statements may be updated-in-   |
   place after the conversion subtask is done.               |
 - The internal text is scanned to determine the largest     |
   region used by a job. REGION overrides are handled.       |
 - Occurrences of TIME=1440 in the internal text for batch   |
   jobs is changed to TIME=1439.                             |
 - The ADDRSPC=VIRT parameter is added to the internal text  |
   of job statements for non-privileged job classes.         |
-------------------------------------------------------------+---------
The $COMWORK macro has been expanded to include a 10 word    | ONL$COMW
work area for use by other local mods to HASPCOMM.           |
-------------------------------------------------------------+---------
Commands of the form $v'jobname have been modified to allow  | ONL$DN1
a partial Jobname to be specified.                           |
-------------------------------------------------------------+---------
The $EJ command has been modified to perform the same        | ONL$EJCH
function as a $EJ-$HJ-$CJ command sequence. If a job is not  | $EJCHMAC
restartable across warm-starts because of JES2 initialization|
defaults or because RESTART=N was specified on a JOBPARM     |
control statement, then a message saying "NOT RESTARTABLE AT |
USER'S REQUEST" will be issued.                              |
-------------------------------------------------------------+---------
The visibility of the "JOB ENDED" message ($HASP395) is      | ONL$ENDM
enhanced so that operators will see the message and take     |
appropriate action.                                          |
-------------------------------------------------------------+---------
This mod allows operators to control RJE Line Error Logging  | ONL$LERR
by using a $TCON,0,TP command to turn-on error logging and a | $LERRMAC
$TCON,15,TP command to turn-off line error logging. A Master |
Console Informational route code was added to the $DMR...    |
command to prevent the loss of messages from RJE's.          |
-------------------------------------------------------------+---------
Support has been added to support a /*RELAY control statement| DOCRELAY
for transmitting unit record data sets. The /*RELAY control  | ONL$RLY
statement's main advantage over TYPRUN=COPY is that it can   | $RLYMAC
transmit anything ... and without modification. All card     |
images following the /*RELAY statement are transmitted until |
an end-of-file is reached on the input device. The code is   |
modeled after TUC's RELAY mod but has been expanded in scope.|
If any errors are found in the /*RELAY statement, the illegal|
/*RELAY card image and associated error messages will be     |
printed at the default destination for the input device. The |
format of the /*RELAY statement is:                          |
                                                             |
/*RELAY  PRINT  destination   jobname   account#   pgmr-name |
         PUNCH                                               |
-------------------------------------------------------------+---------
The Resource Routing Mod allows a job using a '/*ROUTE XEQ   | ONL$RSRT
resource' control statement to specify from a set of resource| $RSRTMAC
names, those resources which must be attached to a given CPU | $RSRTTAB
before the job can execute on that CPU. The code was modeled |
after Mellon Bank's Resource Routing mod, however, it bears  |
very little resemblance to their mod. This re-write was      |
necessitated by a number of problems encountered in the      |
Mellon mod (esp. in HASPCOMM) and by the desire to eliminate |
additional unwanted features integrated into the Mellon mod. |
-------------------------------------------------------------+---------
This is yet another (yes, another) separator page/card mod.  | ONL$SEP
One novel feature about this mod is that separator lines for | $SEPMAC
narrow forms, e.g. mailing labels, are rotated one position  |
to the left on each succeeding line so that all the separator|
information will be printed on the form.                     |
-------------------------------------------------------------+---------
Prevent the use of SYSOUT Classes which have been declared as| ONL$SYSO
'ILLEGAL' by a new keyword on the $$x (SYSOUT Class) JES2    | $SYSOMAC
Initialization parameter.                                    |
=============================================================#=========
********************************************************************************
*                                                                              *
*         F I L E   7 7    L O C K H E E D   S P 2   M O D S                   *
*                                                                              *
********************************************************************************

THE FOLLOWING MODS ARE SUPPLIED BY LOCKHEED CO. AND ARE IN IEBCOPY
UNLOAD FORMAT WITH MEMBERS IN SMP FORMAT.
LAST FILE UPDATE - 08/19/81
ANY QUESTIONS OR COMMENTS ON THESE MODIFICATIONS MAY BE ADDRESSED TO:

                   JOHN KINN
                   LOCKHEED CALIFORNIA COMPANY
                   PLANT A-1, BLDG 67, DEPT 83-21
                   BURBANK, CALIF., 91503

++ USERMOD (CL00108) /*
*A  CREATE HASPCOMM EXIT POINTS                                 SCL 108
*B  ORIGINAL C J KINN   14 JAN 81                               SCL 108
*C  COMM                                                        SCL 108
*D  ADDITIONAL SERVICE ENTRY POINTS ARE DEFINED HERE.           SCL 108

++ USERMOD (CL00104) /*
*A  CREATE HASPRDR RDRSCAN SERVICE ENTRY ROUTINE                SCL 104
*B  ORIGINAL C J KINN   23 DEC 80                               SCL 104
*C  RDR                                                         SCL 104
*D  CREATE RDRSCAN ENTRY POINT                                  SCL 104
*D                                                              SCL 104
*D  C A U T I O N - C A U T I O N - C A U T I O N               SCL 104
*D                                                              SCL 104
*D  YOU MUST DEFINE A V-CON IN THE HCT OF THE FOLLOWING FORM    SCL 104
*D  $RDRSRV  DC  V(RDRXSRV)                                     SCL 104

++ USERMOD (CL00115) /*
*A  ALLOW JES2 SP2 TO RUN ON NON SP2 BCP'S                      SCL 115
*B  ORIGINAL C J KINN 12 MAY 81                                 SCL 115
*C  NUC                                                         SCL 115
*D  ALTER THE $GETUCBS ROUTINE TO USE THE UCB ADDRESS           SCL 115
*D  POINTER VECTOR TRADITIONALLY USED BY PRIOR RELEASES.        SCL 115
*D  THIS WILL ALLOW JES2 SP 2 TO RUN ON ANY VERSION OF          SCL 115
*D  THE BCP.                                                    SCL 115

********************************************************************************
*                                                                              *
*         F I L E   7 8    T U C   S P 2   M O D S                             *
*                                                                              *
********************************************************************************
*
*        JIM WALKER
*        TRIANGLE UNIVERSITIES COMPUTATION CENTER (TUC)
*        BOX 12076
*        RESEARCH TRIANGLE PARK, NC  27709
*        (919) 549-0671
*
*        SP JES2 COMMAND EXIT - EXIT5
*
*        THIS ROUTINE PROVIDES A SAMPLE EXIT5 WITH SEVERAL FUNCTIONS
*        ADDED:
*          1. COMMAND LOOKUP ROUTINE
*          2. HASPCOMM MACROS AND SERVICES AVAILABLE
*          3. $ESTAE ENVIRONMENT ESTABLISHED AROUND COMMAND PROCESSING
*          4.  SEVERAL COMMANDS WHICH MAY OR MAY NOT BE OF INTEREST
*              A. $DMJ EXTENSION ALLOWS MESSAGE TO BE SENT TO JOB
*                 NOT IN EXECUTION.
*              B. ATTACH, DETACH SUBTASK COMMANDS. I ALSO HAVE
*                 DISPATCHER MODS TO ALLOW JES2 PCE TO COMMUNICATE
*                 WITH SUBTASK SO ATTACHED IF ANYONE IS INTERESTED.
*              C. DUMP JQE COMMAND
*
*        L=CCA VERIFICATION AND AUTOMATIC REDIRECTION IS NOT
*        DONE HERE BUT PROBABLY SHOULD BE. IF ANYONE DOES THESE
*        PLEASE SEND ME A COPY.
*
*        I THINK THE MOST SIGNIFICANT PART OF THIS EXIT IS THE
*        INCLUSION OF HASPCOMM MACRO FACILITIES IN IT. USER
*        COMMAND EXTENSIONS CAN BE CODED HERE IN THE SAME
*        MANNER AS IF THE CODE WERE IN HASPCOMM. SMALL
*        ADDITIONS TO SOME COMMANDS CAN BE DONE AS I DID THE
*        $DMJ ADDITION. I INTEND TO 'COPY' SOME STANDARD
*        COMMANDS INTO THIS CSECT FOR MODIFICATION RATHER
*        THAN MAKING HASPCOMM UPDATES.
*
*        I WILL OF COURSE OVER TIME ADD MANY LOCAL COMMANDS
*        HERE. I SUGGEST THAT THIS MIGHT BE A GOOD PLACE
*        FOR OTHERS TO PUT THEIR COMMANDS FOR DISTRIBUTION.
*
********************************************************************************
*                                                                              *
*         F I L E   7 9    T U C   S P 2   J E S D U M P                       *
*                                                                              *
********************************************************************************
*
JESD     TITLE 'JESDUMP JES2 CONTROL BLOCK DUMP UTILITY - DESCRIPTION'
*              JES/SP VERSION OF JESDUMP                        JFW
* JACK SCHUDEL OF NERDC AT THE UNIVERSITY OF FLORIDA            JFW
* CONVERTED JESDUMP TO RUN ON JES2/SP. I HAD TO REMOVE SOME     JFW
* OF HIS LOCAL DEPENDENT CODE, AND REMOVED A REQUIREMENT TO     JFW
* SPECIFY 'SYSPARM' TO SKIP AROUND IT. SOME FUNCTIONS HAVE      JFW
* NOT BEEN CHECKED OUT, BUT MOST SEEM TO WORK OK.               JFW
* IF YOU HAVE PROBLEMS, OR SPECIFICALLY IF YOU MAKE FIXES       JFW
* PLEASE NOTIFY:                                                JFW
*        JIM WALKER                                             JFW
*        TUCC                                                   JFW
*        PO BOX 12076                                           JFW
*        RESEARCH TRIANGLE PARK, NC 27709                       JFW
*        (919) 549-0671                                         JFW
*                                                               JFW
*                                                                 NERDC
* THIS IS THE NERDC VERSION OF THE TUCC JESDUMP PROGRAM.          NERDC
* NERDC MODIFICATIONS TO SUPPORT NJE3 AND SOME OF THE NERDC       NERDC
* CONTROL BLOCK EXTENSIONS ARE FLAGGED WITH THE WORD "NERDC" IN   NERDC
* COLUMNS 67-71.                                                  NERDC
* CHANGES TO SUPPORT THE MVS/SP2-JES2 VERSION ARE FLAGGED "SP2".  NERDC
* NON-NERDC USERS SHOULD ASSEMBLE THE PROGRAM USING AN ASSEMBLER  NERDC
* PARM OF 'SYSPARM=STOCK' TO SKIP SOME OF THE NERDC FIELDS IN     NERDC
* THE JQE AND JCT.                                                NERDC
*                                                                 NERDC
* THIS VERSION OF JESDUMP WAS TAKEN FROM THE SHARE JES2 PROJECT   NERDC
* MODS TAPE, AT THE VERSION 5 LEVEL, AND HAS BEEN RESEQUENCED.    NERDC
*                                                                 NERDC
* GENERAL DESCRIPTION OF NERDC MODIFICATIONS:                     NERDC
* - THE $WARN MACRO WAS MODIFIED TO NOT GENERATE THE MNOTE, BUT   NERDC
*   THIS SHOULD BE FIXED BACK THE FIRST FEW TIMES THAT THE SYSTEM NERDC
*   IS PUT UP AT A NEW INSTALLATION.                              NERDC
* - GET DCBBLKSI FOR SPOOL FROM CHECKPOINT AREA                   NERDC
* - ADD HCT COMMAND TO DUMP CHECKPOINTED AREA                     NERDC
* - AREADMP OF JCT WILL DUMP ENTIRE BUFFER, SINCE NJE HEADERS AND NERDC
*   TRAILERS FOLLOW THE JCT IN THE BUFFER.                        NERDC
* - ADD VALIDITY CHECKING TO READIT SUBROUTINE.                   NERDC
*   NOTE:  THIS CODE IS HAS CONSTANTS FOR 3350 DASD IN IT.        NERDC
* - ADD SYNAD ROUTINE FOR SPOOL IO THAT ABENDS SE CAN LOOK AT THE NERDC
*   ERROR.                                                        NERDC
* - ADD OPTION TO CHAIN COMMAND TO SPECIFY THE NUMBER OF BUFFERS  NERDC
*   TO CHAIN THROUGH BEFORE RETURNING CONTROL TO THE CALLER.      NERDC
*   CHAINING WILL ALSO STOP IF THE CHAIN FIELD BECOMES ZERO.      NERDC
*   (USEFUL FOR GETTING TO THE LAST BUFFER IN A LARGE SYSOUT.)    NERDC
* - CHANGES TO INITHCT AND RDCKPT FOR SUPPORT OF NJE3 SPOOL.      NERDC
* - CHANGES TO FORMAT OUTPUT TO ADD SOME LOCAL FIELDS AND DELETE  NERDC
*   OTHERS.                                                       NERDC
* - ADD HOLD INDICATORS TO FORMAT OUTPUT.                         NERDC
* - ADD DEST INFORMATION TO FORMAT OUTPUT.                        NERDC
* - CHANGE LENGTH OF FMTWK FIELD.                                 NERDC
* - DISPLAY NUMBER OF TRACK GROUPS ALLOCATED TO EACH JOB ON       NERDC
*   FORMAT OUTPUT.  (LAST FIELD - UNLABELED)                      NERDC
* - ADD MACRO CALLS TO GENERATE DSECTS FOR $TGM, $CAT             SP2
* - JQE, JOE, AND JOT OFFSETS WERE 2 BYTE FIELDS, REPRESENTING    SP2
*   THE OFFSET/4.  THESE FIELDS ARE NOW 3 BYTES, AND REPRESENT    SP2
*   THE TRUE OFFSET.                                              SP2
* - PULL ADDITIONS OF 10000 AND 20000 FOR STC AND TSU             SP2
* - SKIP AROUND ALL CODE DEALING WITH THE HQT, SINCE WE DO NOT    SP2
*   KNOW WHAT HAPPENED TO IT IN THE SP2 VERSION.                  SP2
* - ADD FIELDS FOR $JIXSIZE, $JOBQSIZ, AND $JOTSIZE               SP2
* - CHANGES TO INITHCT AND RDCKPT FOR SUPPORT OF SP2 SPOOL..      SP2
* - CHANGE DEST INFO ON FORMAT OUTPUT TO ONLY PRINT THE LOW-ORDER SP2
*   BYTE OF THE NODE NUMBER AND REMOTE NUMBER.                    SP2
* - JQEFLAG3 NOW USED TO INDICATE IF A STC/TSU/JOB STATUS.        SP2
*                                                                 NERDC
*                                                                 NERDC
* NOTE:  THE JOE LOOKUP ROUTINES SHOULD BE CHANGED TO FIND THE    NERDC
*        JOE BY CHAINING FROM JQEJOE, BUT I HAVE NOT DONE THIS    NERDC
*        YET.                                                     NERDC
* NOTE:  I DOUBT IF THE SYSLOG COMMANDS WORK PROPERLY, BUT I WILL NERDC
*        BE RUNNING THE SP2 JES2 SYSTEM AS A SECONDARY SUBSYSTEM  NERDC
*        FOR A LONG TIME, AND WILL NOT BE IN A POSITION TO TEST   NERDC
*        IT UNTIL THEN.                                           NERDC
* NOTE: SYSLOG COMMANDS SEEM TO WORK TO ME ALTHOUGH I              TUC
*        HAVEN'T TRIED ALL OF THEM  10/14/81                       TUC
*
********************************************************************************
*                                                                              *
*         F I L E   8 0    A G S   J E S M O D S                               *
*                                                                              *
********************************************************************************
   David Williams    Telephone: 403-427-2720
   Software Support Area, Technical Support Branch             Guide - FKI
   Alberta Government Services                                 SHARE - PAR
   Room 304, Terrace Building, 9515 - 107 Street
   Edmonton, Alberta, CANADA  T5K 2C4

   TABLE OF CONTENTS

   SYSOUT    A TSO command that allocates a sysout data set.  This command
             provides practically all possible parameters: FCB, HOLD, UCS,
             CHARS, BURST, MODIFY, DEST, FLASH, USING, REUSE, COPIES,
             SYSOUT/CLASS, FORM, FILE/DDNAME, PROGRAM/PGM and OUTLIM.
             Missing parameters are the JES2 LINECT and 3800 Printer copy
             groups.  This command is written in assembler language.  An
             OS/VS2 MVS (R038) operating system with JES2 (R041) and the
             3800 Printer Enhancements is required.  The command has been
             sucessfully tested under MVS/SP1.  I don't know if the
             command will work with JES3.
   SYSOUTH   Sample TSO HELP for the TSO SYSOUT command.  The member would
             typically be copied to SYS1.HELP(SYSOUT).
   ASMFCL    Sample JCL used to assemble the TSO SYSOUT command.
   $DYNABLK  A macro used in assembling the TSO SYSOUT command.
   $DYNAL    A macro used in assembling the TSO SYSOUT command.
   $REGS     A macro used in assembling the TSO SYSOUT command.
   $START    A macro used in assembling the TSO SYSOUT command.
   $TU       A macro used in assembling the TSO SYSOUT command.
   $TUP      A macro used in assembling the TSO SYSOUT command.
   R         A sample TSO command list that prints a data set using the
             TSO SYSOUT command (e.g. %R dsname CHARS('GF10 GF12') +
             FCB(LIN6) MODIFY(COPY) COPIES(3) OPTCDJ).
   RH        Sample TSO HELP for the TSO %R clist.  The member would
             typically be copied to SYS1.HELP(R).
   PRNTGF5   A PL/1 program to produce 5 cpi & 3 lpi Gothic printing.
   JCLGF5    A sample job stream containing a suggested catalogued
             procedure for using PGM=PRNTGF5.
   CHARGF5   IEBIMAGE input to produce the graphic modification modules
             and character arrangement tables required for PGM=PRNTGF5.
   CHARFR    IEBIMAGE input to produce CHARS=FR10, FR12 & FR15 which are
             similar to the IBM Format characters except that they have
             rounded corners.
   CHARGX10  IEBIMAGE input to produce CHARS=GX10 which are very large 10
             CPI gothic characters that must be printed at 6 LPI.
   CHARG10   IEBIMAGE input to produce CHARS=G10U & G10L the upper and
             lower halves respectively of 10 CPI & 6 LPI Gothic
             characters. These halves can be printed on two adjacent 12
             LPI lines to form complete characters.  At the same time GF15
             or GFC characters can be placed on the same lines allowing
             two lines of 12 LPI characters on the "same" line as one line
             of 6 LPI Gothic characters.  Note that the cent sign (¢) has
             been re-defined as a "pseudo-blank" to provide for 10 CPI
             blanks.
   CHARGR    IEBIMAGE input to produce CHARS=G10R, G12R & G15R which are
             white Gothic letters on a black background.  These characters
             are only suitable for isolated spots on a printed page as too
             large a concentration of "blackness" will cause your output
             to fade.  The cent sign (¢) has been re-defined as a
             "pseudo-blank" to provide for "black" blanks.
   CHARGE    IEBIMAGE input to produce CHARS=GE10, GE12 & GE15 which are
             Gothic letters with faint eyescan lines below each character.
             An entire page printed using these characters gives the
             impression that the page was ruled side to side with faint
             lines.  As with underscoring these faint lines are not
             visible at 12 LPI.  The cent sign (¢) has been re-defined as
             a "pseudo-blank" to provide for "underlined" blanks.
   FCBGE     IEBIMAGE input to produce FCB=8580 & 8584 which are 3800
             Printer FCBs that intermix 8 & 12 LPI.  These FCBs are named
             so that the first 2 characters indicate the page depth
             whereas the second 2 characters indicate the number of lines
             per page.  When one of these FCBs is used with GE15 the
             eyescan lines are visible ONLY on the 8 LPI lines thereby
             producing intermittent eyescan lines down the page.  For
             example, when using FCB 8584, 12 eyescan lines appear, spaced
             at 5/8" intervals.  This provides a simple method to simulate
             lined paper without special programming or form flashes.
   CHARGS13  IEBIMAGE input to produce CHARS=GS13 & GS11.  These C.A.T.
             are used with PGM=PRNTGS13 to produce simulated 13.3 & 11
             CPI printing on the 3800 Printer.
   PRNTGS13  A PL/1 program to produce simulated 13.3 & 11 CPI printing.
             The following table provides the print line character
             capacities for several 3800 Printer form widths:
                  Paper Width     11 pitch     13.3 pitch
                     9.5"             92            113
                      11"            109            133
                      12"            120            146
                    14.875"          148            181
             The input data set can contain fixed length, variable length
             or undefined length records.  CC must be specified in the
             PARM string as M (machine carriage control characters) or N
             (no carriage control characters) if the default of A (ANSI
             carriage control characters) is not acceptable.  The
             simulated pitch produced depends on the CHARS specified on
             SYSUT2.  Either 6 or 8 LPI can be used with the supplied
             characters.  This program is useful for printing reports
             designed for a line printer (i.e. 132 characters wide) on 11"
             wide paper as it provides larger characters than the usual
             GF15 or GFC for such reports.
   JCLGS13   A sample job stream containing a suggested catalogued
             procedure for using PGM=PRNTGS13.
   CHARMG12  IEBIMAGE imput to produce CHARS=MG12.  These are Greek
             text characters (the same ones as in MC12).
   CHARMC12  IEBIMAGE imput to produce CHARS=MC12.  This character
             arrangement table contains text, Greek text and mathematical
             characters.
   DESCMC12  An article from our local computing publication ("ISD
             Newsletter") describing the contents of CHARS=MC12 and the
             usage of a special Fortran program written to compose
             documents using these characters.
   E02ATEXT  The Fortran program with CLG JCL and sample input data.  See
             the comments in the program for more information.  This
             program may be useful if you don't have something like
             SCRIPT/VS.
   CHARLIST  A Fortran program with CLG JCL to produce a one page document
             used with E02ATEXT.
   CHARBITS  A Fortran program with CLG JCL to produce a several page
             document describing each character in MC12.
        I am the author of everything except the TSO SYSOUT command and
   the Greek & mathematical character related items.  The latter were
   programmed by Mitchell Choukalos of Alberta Environment, another
   department of the Government of Alberta.  The TSO SYSOUT command was
   originally written by Mike Holden - I significantly enhanced it to
   provide 3800 Printer support & other new parameters.
        The contents of this tape may be distributed for non-profit
   purposes to any other installation.

********************************************************************************
*                                                                              *
*         F I L E   8 1    D W R   J E S M O D S                               *
*                                                                              *
********************************************************************************


  JE00003 - $ROUTE COMMAND AUTHORIZATION TABLE
  JE00012 - LIMIT THE USE OF PRTY, DPRTY, AND PERFORM

    THIS MODS WORK WITH JES2 R4.1.  JE00012 WORKS WITH NJE R3.1 AT
    PTF LEVEL 8106. JE00003 HAS NOT BEEN TESTED WITH NJE.

  SUBMITTOR:  KEVIN MUZIN
              DEAN WITTER REYNOLDS
              17TH FLOOR, TECHNICAL SYSTEMS
              2 BROADWAY
              NEW YORK, NY 10004
              212-524-4101

********************************************************************************
*                                                                              *
*         F I L E   8 2    O N L   S P O O L   A C C E S S   R O U T I N E S   *
*                                                                              *
********************************************************************************

The following is an abstract of the mods supplied by the Oak Ridge
National Laboratory:

SHARE Installation Code = ONL

Installation Contact = Robert M. Jinkins
   (JES2 only)         Computer Sciences Division
                       Union Carbide Corp., Nuclear Division
                       Oak Ridge National Laboratory
                       P.O. Box X
                       Oak Ridge, Tennessee  37830

                       Phone: (615) 574-7208/5300
                               FTS  624-7208/5300

JES2 Version = MVS System Product V1.R3

Last Update = NOV 1981

Mod Format = NIH Hasp Merge Format (Convertible to IEBUPDTE format)

Mod Documentation = Member $$$INDEX (The member you are now reading)

Disclaimer = The authors, make no representation or warranty of any
   kind whatsoever, including, but not limited to, representations
   or warranties, express or implied, or merchantability, fitness for
   use or purpose, accuracy or completeness of processes, procedures,
   designs, definitions, instructions, information, or functioning of
   any programs, documents, or related materials; the authors further
   expressly disclaim any knowledge of purpose for which these programs,
   documents, or related material may be utilized or their applicability
   for such use, nor shall the fact of making them available constitute
   any such representation, warranty, or knowledge; nor do the authors
   assume any liability, responsibility, or obligation arising from the
   use or malfunctioning of these computer programs, documentation, or
   related materials.

Notes = The 'Index of ONL Mods' (see below) is listed in order
   of functional categories rather than alphabetically. A brief
   abstract of each mod is given along with the name(s) of the
   member(s) in which a mod is located. The mods are documented
   extensively and may describe some functional capabilities
   which are not given in this abstract.

***********************
*  Index of ONL Mods  *
***********************
                                                             | Member
Description of Mod, Program, or Documentation                | Name(s)
=============================================================#=========
The member you are reading now is called $$$INDEX.           | $$$INDEX
-------------------------------------------------------------+---------
JESSPOOL is a set of subroutines which provide the caller    | JESSPOOL
with easy access to the JES2 Checkpoint and Spool data sets. | JESDATA
Some of the most significant features are listed below:      |
 - Extensive validity checking is performed and diagnostic   |
   information is made available to the caller.  A Return    |
   Code and an Error Information provide the primary sources |
   of diagnostic information.                                |
 - The entire Checkpoint data set may be read including the  |
   Check record, Lock record, Master record, and 4K Queue    |
   records.  Optionally, the reading of the 4K Queue records |
   may be restricted to the JIX and JQE Queues.  The Check   |
   record is always read first and the Master record is read |
   last to allow detection of Checkpoint updates which may   |
   have occurred while the Checkpoint was being read. If     |
   this occurs, the Checkpoint data set will be re-read      |
   until a valid copy is obtained or a specified number of   |
   re-reads have been performed.                             |
 - The JESSPOOL routines can operate with missing spool      |
   volumes including the primary spool volume.  Normally,    |
   only the volumes which were in use at the last JES2 Nodal |
   Warm-Start will be used.  However, at the user's request, |
   JESSPOOL will attempt to use all spools in existence.  If |
   this option is chosen, the user may also request that     |
   Return codes not be set when volumes which were not       |
   useable at the last JES2 Nodal Warm-Start are still       |
   unuseable.                                                |
 - Dynamic Allocation is used; no DD statements are required.|
 - Any Count-Key-Data type direct access device is supported.|
 - If for some reason, a problem developed with the check-   |
   point or spool volumes and the names of the spool volumes |
   were CLIPPED, the user could specify the first five       |
   characters of the renamed spool volumes and use these     |
   routines as part of a postmortem or recovery program.     |
 - The JESSPOOOL entry points are:                           |
     JESSPOOL- Builds the JESDATA area mapped by the JESDATA |
               macro and is used to communicate between the  |
               caller and the JESSPOOL entry points.         |
     JESALOC - Allocates the JES2 Checkpoint and Spool data  |
               sets and performs the first read of the JES2  |
               Checkpoint data set.                          |
     JESFREE - Releases all resources held by the JESSPOOL   |
               routines.                                     |
     JESCKPT - Reads the JES2 Checkpoint data set.           |
     JESREAD - Reads a record from the JES2 Spool.           |
     JESRJCT - Reads a JCT from the JES2 Spool.              |
-------------------------------------------------------------+---------
The QPURGE program runs as a started task under MVS/JES2.    | QPURGE
It purges jobs from the JES2 Job Queue which have remained   |
in the system for more than a specified number of days since |
the job began output processing, or if no output processor   |
time stamp is available, the number of days since the job    |
ended execution.  The program can operate in either TEST or  |
CANCEL mode, the diference being whether or not the jobs are |
actually purged via subsystem cancel requests.  An audit     |
trail is provided in the form of WTO messages which give the |
job number, jobname, and age of the job's output for each    |
job which is purged.  The program includes numerous validity |
checks and any problems are brought to the operator's        |
attention via WTO messages.                                  |
=============================================================#=========
********************************************************************************
*                                                                              *
*         F I L E   8 3    O N L   W O R K S T A T I O N                       *
*                                                                              *
********************************************************************************

The following is an abstract of the HASP Remote Terminal Programs
supplied by the Oak Ridge National Laboratory:

SHARE Installation Code = ONL

Installation Contact = Robert M. Jinkins
   (JES2 only)         Computer Sciences Division
                       Union Carbide Corp., Nuclear Division
                       Oak Ridge National Laboratory
                       P.O. Box X
                       Oak Ridge, Tennessee  37830

                       Phone: (615) 574-7208/5300
                               FTS  624-7208/5300

JES2 Version = Any

Last Update = NOV 1981

Mod Format = Source, Documentation, and RMTGEN input.

Mod Documentation = Member $$$INDEX in the first file
                    (The member you are now reading).

Disclaimer = The authors, make no representation or warranty of any
   kind whatsoever, including, but not limited to, representations
   or warranties, express or implied, or merchantability, fitness for
   use or purpose, accuracy or completeness of processes, procedures,
   designs, definitions, instructions, information, or functioning of
   any programs, documents, or related materials; the authors further
   expressly disclaim any knowledge of purpose for which these programs,
   documents, or related material may be utilized or their applicability
   for such use, nor shall the fact of making them available constitute
   any such representation, warranty, or knowledge; nor do the authors
   assume any liability, responsibility, or obligation arising from the
   use or malfunctioning of these computer programs, documentation, or
   related materials.

Acknowledgment: The basic workstation program mods were written at the
   University of Iowa and were futher modified by Jack Schudel at the
   University of Florida.

Note: Member RMTJOUT is an example of using VSAM to write to an
      internal reader.

                                                             | Member
Description of Program or Documentation                      | Name(s)
=============================================================#=========
The member you are reading now is called $$$INDEX.           | $$$INDEX
-------------------------------------------------------------+---------
This is the IBM source for the HASP II.3.1 System 360        | HRTPB360
workstation program. This stand-alone workstation source is  |
used with RMTGEN type update mods to create new workstation  |
programs which run on MVT and MVS systems.                   |
-------------------------------------------------------------+---------
This member contains the default options needed to do a      | HRTPOPTS
RMTGEN.                                                      |
-------------------------------------------------------------+---------
This is the RMTGEN input to create a workstation program     | HRTP
which can run as a task on an MVT or MVS system. The members | JCL
are:                                                         | PROC
  HRTP - The RMTGEN input.                                   |
  JCL  - Model JCL to do the RMTGEN.                         |
  PROC - Model PROC to execute the workstation program.      |
-------------------------------------------------------------+---------
*** The following code has not been used since July 1981 *** |
The HASP II.3.1 System 360 stand-alone workstation program   | DOCRMT1
was modified to run as a task under MVT or MVS. At ONL, the  | DOCRMT91
workstation program has been futher modified to create two   | DOCST91
special purpose workstations:                                | RMT1
 - A workstation which receives job streams as punched data  | RMT91
   and passes the jobs to MVT/HASP via an internal reader.   | RMTCONEX
 - A workstation which receives SYSOUT output along with     | RMTJOUT
   special separator information which is used to generate   | RMTPPU
   a job using the user's Jobname, Account number, Programmer|
   name, Destination, SYSOUT Class, and Forms number.        |
These workstation programs along with a few MVT/HASP mods    |
allow an MVT/HASP system to function as a sort of crude NJE  |
node. The package consists of the following members:         |
  DOCRMT1  - Operator documentation for the SYSOUT Receiver. |
  DOCRMT91 - Operator documentation for the Job Receiver.    |
  DOCST91  - Operator documentation on a special command     |
             to determine the availibility of the links.     |
  RMT1     - The SYSOUT Receiver workstation update.         |
  RMT91    - The Job Receiver workstation update.            |
  RMTJOUT  - A subroutine used by RMT1 to generate Jobs.     |
  RMTPPU   - A program executed to reconstruct SYSOUT output.|
=============================================================#=========

********************************************************************************
*                                                                              *
*         F I L E   8 2    O N L   R M T G E N                                 *
*                                                                              *
********************************************************************************

  THIS FILE IS AN IEBCOPY UNLOADED FILE CONTAINING THE HASP RMTGEN
PROGRAMS NECESSARY TO RUN THE WORKSTATION GENS IN THE PREVIOUS FILE.
SEE THE MODEL JCL IN THE PREVIOUS FILE.

********************************************************************************
*                                                                              *
*         E N D   O F   S H A R E   J E S 2   M O D S   T A P E                *
*                                                                              *
********************************************************************************
