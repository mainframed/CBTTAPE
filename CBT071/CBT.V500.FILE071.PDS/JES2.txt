<plaintext>
.rt top    all ////
.rt bottom all ////
.rh off
.rf off
.ju left
.ll 80
.if &SHORT_ABS = "YES" .th .go TOC
.nf
@  V099 SHARE-JES2 MODS TAPE  13 FEB 98  @$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$                                                                              $
$                                                                              $
$              JJJJJJJJJJ  EEEEEEEEEEEE   SSSSSSSSSS    2222222222             $
$              JJJJJJJJJJ  EEEEEEEEEEEE  SSSSSSSSSSSS  222222222222            $
$                  JJ      EE            SS        SS  22        22            $
$                  JJ      EE            SS                      22            $
$                  JJ      EE            SSS                     22            $
$                  JJ      EEEEEEEE       SSSSSSSSS             22             $
$                  JJ      EEEEEEEE        SSSSSSSSS          22               $
$                  JJ      EE                     SSS       22                 $
$            JJ    JJ      EE                      SS     22                   $
$            JJ    JJ      EE            SS        SS   22                     $
$            JJJJJJJJ      EEEEEEEEEEEE  SSSSSSSSSSSS  222222222222            $
$             JJJJJJ       EEEEEEEEEEEE   SSSSSSSSSS   222222222222            $
$                                                                              $
$                                                                              $
$                                                                              $
$            MM        MM  OOOOOOOOOOOO  DDDDDDDDD      SSSSSSSSSS             $
$            MMM      MMM  OOOOOOOOOOOO  DDDDDDDDDD    SSSSSSSSSSSS            $
$            MMMM    MMMM  OO        OO  DD       DD   SS        SS            $
$            MM MM  MM MM  OO        OO  DD        DD  SS                      $
$            MM  MMMM  MM  OO        OO  DD        DD  SSS                     $
$            MM   MM   MM  OO        OO  DD        DD   SSSSSSSSS              $
$            MM        MM  OO        OO  DD        DD    SSSSSSSSS             $
$            MM        MM  OO        OO  DD        DD           SSS            $
$            MM        MM  OO        OO  DD        DD            SS            $
$            MM        MM  OO        OO  DD       DD   SS        SS            $
$            MM        MM  OOOOOOOOOOOO  DDDDDDDDDD    SSSSSSSSSSSS            $
$            MM        MM  OOOOOOOOOOOO  DDDDDDDDD      SSSSSSSSSS             $
$                                                                              $
$                                                                              $
$                                                                              $
$            TTTTTTTTTTTT   AAAAAAAAAA   PPPPPPPPPPP   EEEEEEEEEEEE            $
$            TTTTTTTTTTTT  AAAAAAAAAAAA  PPPPPPPPPPPP  EEEEEEEEEEEE            $
$                 TT       AA        AA  PP        PP  EE                      $
$                 TT       AA        AA  PP        PP  EE                      $
$                 TT       AA        AA  PP        PP  EE                      $
$                 TT       AAAAAAAAAAAA  PPPPPPPPPPPP  EEEEEEEE                $
$                 TT       AAAAAAAAAAAA  PPPPPPPPPPP   EEEEEEEE                $
$                 TT       AA        AA  PP            EE                      $
$                 TT       AA        AA  PP            EE                      $
$                 TT       AA        AA  PP            EE                      $
$                 TT       AA        AA  PP            EEEEEEEEEEEE            $
$                 TT       AA        AA  PP            EEEEEEEEEEEE            $
$                                                                              $
$                                                                              $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
.pa
.nf
@VER@***************************************************************************
*                                                                              *
*       S H A R E   J E S 2   M O D S   T A P E                                *
*                                                                              *
********************************************************************************

          VERSION 99 - 13 FEB 98

.pa
.nf
@AVAILABILITY@******************************************************************
*                                                                              *
*                       A V A I L A B I L I T Y                                *
*                                                                              *
********************************************************************************

.nf
The SHARE JES2 Project Mods Tape is distributed by:

   Fred Robinson
   SHARE Program Library Agency
   University of Miami
   P. O. Box 248011
   Coral Gables, FL 33124-4220

Current cost is $45.00.
Do not send tapes.  Available on 6250 only.
No P. O. Boxes allowed.
Make check payable to "University of Miami".
Company Purchase Orders are $5.00 extra for servicing.
.pa
Contributions to the tape are always welcome.
Send to:

    Jack Schudel
    Northeast Regional Data Center
    233 Space Sciences Research Building
    University of Florida
    Gainesville, FL 32611
    (352) 392-4601
    (352) 392-9440 FAX
    SCHUDEL @ UFL.EDU
    US4QN9WN @ IBMMAIL

If you are contributing mods on a tape and shipping from outside the
United States of America, please include the proper customs declaration
tags. Indicate 1 reel or cartridge of magnetic tape with no commercial
value.

Please submit the following information for including mods on the tape.

SHARE INSTALLATION CODE (if any) __________

INSTALLATION CONTACT ______________________   PHONE _______________

EMAIL ADDRESS        ______________________

MAILING ADDRESS      ______________________

                     ______________________

                     ______________________

NUMBER OF FILES      ______________________

VERSION OF JES2      ______________________

If you are contributing mods, please include a machine readable abstract.
The abstract should be a short (1 - 2 page) description that can be
incorporated readily in this Abstract file. Full documentation is highly
desirable but is not appropriate for the abstract itself.

Submissions can be made on 3480 or 6250 tape, PC diskette, or via EMAIL.
If you submit via 3480 tape, I will return your tape with a current copy
of the JES2 Mods Tape, once your data has been integrated.
.pa
.nf
@DISCLAIMER@********************************************************************
*                                                                              *
*                       D I S C L A I M E R                                    *
*                                                                              *
********************************************************************************

.ju left
THE MODS ON THIS TAPE HAVE BEEN USED SUCCESSFULLY AND TO THE BEST OF OUR
KNOWLEDGE ARE OPERATIONAL.  HOWEVER, NO WARRENTY IS MADE TO THE ACCURACY
OF THE PROGRAMS OR RELATED MATERIALS.  NO RESPONSIBILITY IS ASSUMED FOR
ANY MODIFICATION DIRECTLY OR INDIRECTLY CAUSED BY THESE MODS.  IT IS THE
RESPONSIBILITY OF THE USERS TO EVALUATE THE USEFULNESS AND APPLICABILITY
OF ANY MODS IN THEIR INSTALLATION.

WE DO NOT GUARANTEE TO KEEP ANY MATERIAL PROVIDED UP TO DATE NOR DO WE
GUARANTEE TO PROVIDE ANY CORRECTIONS OR EXTENSIONS BY THE AUTHOR OR THE
USERS IN THE FUTURE.

...TOC
.pa
.nf
@TOC@***************************************************************************
*                                                                              *
*         T A B L E   O F   C O N T E N T S                                    *
*                                                                              *
********************************************************************************

 FILE #   FILE CONTENTS                              VERSION  LAST UPDATE
 ------   ---------------------------------------    -------  -----------
   1      ABSTRACT OF TAPE CONTENTS (UNFORMATTED, VB)           CURRENT
   2      ABSTRACT OF TAPE CONTENTS (FORMATTED 66 L/P, FBA)     CURRENT
   3      JCL TO RELOAD TAPE TO DISK                            CURRENT
   4      UTILITY PROGRAMS FOR TAPE MAINTENANCE               11/86   V69
   5      NIH - JES2 MERGE PROGRAM                            01/79   V01
   6      OR SPOOL ACCESS ROUTINES & JES2 MODS       (1.3.0)  04/83   V11
   7      TRIANGLE UNIVERSITIES - JESDUMP            (1.3.0)  08/84   V30
   8      TRIANGLE UNIVERSITIES - EXIT005            (1.3.0)  04/82   V01
   9      TRIANGLE UNIVERSITIES - USER PROCLIBS      (1.3.0)  04/82   V01
  10      LOCKHEED JESMODS                           (1.3.0)  11/83   V16
  11-13   MELLON BANK JESMODS                        (1.3.0)  09/82   V07
  14      MELLON BANK MODS TO HJSTP FOR SP2          (1.3.0)  01/83   V09
  15      NERDC QUEUE COMMAND                  (1.3.0-1.3.4)  12/84   V37
  16      NERDC RMT360 WORKSTATION PACKAGE                    05/82   V01
  17      NERDC JESMODS                              (1.3.0)  04/83   V11
  18      OR REMOTE 360 WORKSTATION MODS                      06/82   V03
  19      OR RMTGEN SUPPORT FOR WORKSTATION MODS              06/82   V03
  20-21   NULL                                                03/83   V10
  22      E. F. MACDONALD EXIT005              (1.3.0-2.1.5)  12/87   V84
  23      ABSTRACT FROM OLD JES2 MODS TAPE                    02/82   V05
  24      JES2 PERFORMANCE MONITOR                   (1.3.0)  09/82   V06
  25      HITACHI XREFASM PROGRAM                             10/82   V08
  26      US CHAMBER OF COMMERCE MODS                (1.3.0)  03/83   V10
  27      COPENHAGEN HANDELSBANK SNA 3287 MODS       (1.3.0)  04/83   V11
  28      TRIANGLE UNIVERSITIES - NETWORK JOB HEADER (1.3.0)  05/83   V12
  29      HALLMARK CARDS - TSO LOGON TO SECONDARY             05/83   V12
  30      NORTHWESTERN BANK MODS               (1.3.0-1.3.6)  02/87   V73
  31      MELLON BANK JESMODS FOR SP 1.3.3/4         (1.3.4)  09/84   V31
  32      MELLON BANK MODS TO HJSTP FOR 133/4        (1.3.4)  09/84   V31
  33      INSURANCE CO. OF NORTH AMERICA MODS        (1.3.0)  10/83   V15
  34      ANR VERSION OF QUEUE FOR 1.3.3             (1.3.3)  09/84   V31
  35      KIMBERLY CLARK MODS  FOR 1.3.0             (1.3.0)  12/83   V17
  36      JES2 PERFORMANCE MONITOR FOR 1.3.3         (1.3.3)  01/84   V18
  37      INA JOB QUEUE FORMAT UTILITY FOR 1.3.0     (1.3.0)  01/84   V18
  38      LOCKHEED JESMODS FOR 1.3.3/1.3.4           (1.3.4)  03/85   V41
  39      TUCC - NETMODS FOR JES2 - RSCS             (1.3.0)  08/84   V30
  40      GATX - MODS FOR XEROX 8700/9700            (1.3.0)  02/84   V21
  41      OR SPOOL ACCESS ROUTINES & JESMODS         (1.3.3)  09/84   V34
  42      TUCC - USER PROCLIBS                       (1.3.3)  09/84   V32
  43      PSU - SMOO - SPOOL CLEANUP PROGRAM                  09/84   V33
  44      NULL                                                02/85   V39
  45      LSU EXIT DRIVER                                     06/84   V26
  46      TRIANGLE UNIVERSITIES - EXIT005            (1.3.3)  06/84   V27
  47      ANR EXITS FOR 1.3.3                        (1.3.3)  09/84   V31
  48      JES2 PERFORMANCE MONITOR FOR 1.3.4         (1.3.4)  09/86   V64
  49      TUCC - NETMODS FOR JES2 - RSCS             (1.3.3)  12/84   V37
  50-52   BAR ILAN UNIVERSITY (UBI) MODS             (1.3.3)  04/85   V43
  53      BAR ILAN UNIVERSITY (UBI) QUEUE            (1.3.3)  04/85   V41
  54      CANADA SYSTEMS GROUP (CSG) MODS            (1.3.4)  08/87   V80
  55      NERDC JESMODS                              (1.3.4)  06/86   V57
  56      B. F. GOODRICH QUEUE (W/ ISPF SUPPORT)     (1.3.4)  01/87   V72
  57      PSU - QUASI SECONDARY OPERATOR FACILITY             08/85   V47
  58      ALLERGAN MODS FOR CP CLOSE UNDER VM/PMA             09/85   V48
  59      OR SPOOL ACCESS ROUTINES & JESMODS         (1.3.4)  09/85   V49
  60      LOCKHEED JESMODS FOR 1.3.6/2.1.5           (2.1.5)  06/87   V79
  61      LOCKHEED QUEUE   FOR 1.3.6/2.1.5           (2.1.5)  10/86   V66
  62      MELLON BANK JESMODS FOR 1.3.6/2.1.5        (2.1.5)  12/86   V84
  63      MELLON BANK PSF EXIT ROUTINES                       02/86   V52
  64      NULL
  65      SKK NETWORK JOB HEADER/TRAILER ADD & DELETE (2.1.5) 03/86   V54
  66      TSSO PACKAGE FROM MARK SCHARE                       12/86   V70
  67      AIRFORCE JESMODS                           (1.3.4)  04/87   V77
  68      TUCC - CREATE SMF 229 RECORD FOR NJE MAIL  (1.3.3)  06/86   V57
  69      LOCKHEED CONNECT CARD MODS FOR RSCS V2.             06/86   V58
  70-75   WASHINGTON STATE DPSC MODS.                (1.3.4)  06/86   V59
  76      UT - COMMAND TO RELOAD EXIT MODULES        (1.3.4)  08/86   V60
  77      LSU MOD TO PREVENT USER CANCEL OF IMS JOBS (1.3.4)  08/86   V61
  78      TRW QUEUE COMMAND                    (1.3.0-1.3.4)  08/86   V61
  79      TRIANGLE UNIVERSITIES - JESDUMP FOR 1.3.6  (1.3.6)  09/86   V62
  80      JES2 PERFORMANCE MONITOR FOR 1.3.6/2.1.5   (2.1.5)  10/86   V65
  81      JES2 PERFORMANCE MONITOR FOR 134, 136/215  (2.1.5)  10/86   V66
  82      NERDC JESMODS                              (2.2.0)  11/87   V83
  83      LEONARD WOREN'S QUEUE COMMAND        (1.3.0-5.2.0)  02/96   V97
  84      LEONARD WOREN'S MACLIB                              02/96   V97
  85      USC PROGRAMS                                        11/86   V69
  86      B. F. GOODRICH QUEUE (W/ ISPF SUPPORT)     (2.1.5)  08/89   V90
  87      U N C   PLOTTER MODS                       (1.3.4)  02/87   V73
  88      WELLS FARGO BANK MODS FOR 2.1.5            (2.1.5)  02/87   V73
  89      BENJ. FRANKLINS'S XEROX FORMS CONTROL      (1.3.4)  02/87   V73
  90-91   TEXAS EDUCATION AGENCY XEROX 8700 MODS     (1.3.4)  03/87   V75
  92      JES2 EXIT 15 TO SET PRINTER XLATE TABLES   (2.1.5)  03/87   V75
  93      BELL & HOWELL JES2 MODS                             04/87   V76
  94-96   BAR ILAN UNIVERSITY (UBI) MODS             (1.3.6)  05/87   V78
  97      CITY OF LONG BEACH (CA) EXIT 6 ROUTINE     (2.1.5)  08/87   V80
  98      ARTHUR ANDERSON MODS                       (2.1.5)  08/87   V81
  99      A. DUDA MODS                               (1.3.6)  10/87   V82
 100      US ARMY INFORMATION SYSTEMS MODS           (2.1.5)  01/88   V85
 101      NERDC QUEUE COMMAND (2.2.0 ONLY)           (2.2.0)  02/88   V86
 102      MELLON SHARED SPOOL MODS AND SPOOL FORMAT  (2.2.0)  01/92   V93
 103      SECURITY PACIFIC AUTOMATION JES2 MODS      (2.2.0)  05/88   V87
 104-109  WASHINGTON STATE DPSC MODS.                (2.1.5)  06/88   V88
 110      $QNET COMMAND (DORON SHIKMANI, BAR-ILAN)     (all)  02/96   V97
 111      SECURITY PACIFIC AUTOMATION SDSF MODS      (1.1.0)  07/88   V88
 112      USC EXTENSIONS TO UBI PROCLIB & MISC MODS  (2.2.0)  01/92   V93
 113      MELLON SHR SPOOL, SPOOL FMTR, EXT WRITER   (3.1.1)  01/92   V93
 114      NFI (NOW FIRST UNION NAT'L BANK) MODS      (2.2.0)  08/89   V90
 115      UNIVERSITY OF NEW BRUNSWICK VTAM FSS DOC   (2.2.0)  01/89   V89
 116      UNIVERSITY OF NEW BRUNSWICK VTAM FSS MODS  (2.2.0)  01/89   V89
 117      FRICK ADAPTATION OF SDSF FOR CICS 1.6.1    (0.2.2)  01/89   V89
 118      B. F. GOODRICH QUEUE/ISPF (EG&G IDAHO)     (3.1.1)  08/89   V90
 119      NERDC QUEUE COMMAND (EG&G IDAHO)           (3.1.1)  08/89   V90
 120      B. F. GOODRICH QUEUE COMMAND WITH ISPF     (2.2.0)  08/89   V90
 121      PRUDENTIAL EXTERNAL WRITER FOR XEROX PRTRS ( ALL )  08/89   V90
 122-28   NATIONAL ADVANCED SYSTEMS MODS W/ TSO/ISPF (2.2.0)  08/89   V90
 129      CALIF. HEALTH AND WELFARE MODS             (2.2.0)  01/90   V91
 130      SECURITY PACIFIC AUTOMATION SDSF MODS      (1.2.0)  02/90   V91
 131      MELLON SHR SPOOL, SPOOL FMTR, EXT WRITER   (3.1.3)  01/92   V93
 132      MELLON SHR SPOOL, SPOOL FMTR, EXT WRITER   (4.2.0)  05/93   V95
 133      NASA/GSFC QUEUE for JES2 4.2.0             (4.2.0)  03/93   V94
 134      MELLON SHR SPOOL                           (4.3.0)  07/94   V96
 135      NERDC QUEUE COMMAND                        (5.x.0)  02/96   V97
 136      VA COMMUNITY COLLEGE SYSTEM MPF EXIT       ( ANY )  02/96   V97
 137      MELLON SHR SPOOL                           (5.1.0)  12/96   V98
 138      MELLON SHR SPOOL                           (5.2.0)  12/96   V98
 139      MELLON SHR SPOOL                           (1.2.0)  02/98   V99
 140      Bob Break's $REPEXIT/$ADDEXIT commands     ( ANY )  02/98   V99
.pa
.nf
@HISTORY@***********************************************************************
*                                                                              *
*         V E R S I O N   H I S T O R Y                                        *
*                                                                              *
********************************************************************************

V-099   13 FEB 98  - Add Mellon Mods for OS/390 JES2 1.1.0 & 1.2.0  (FILE 139).
                   - Add Bob Break's $REPEXIT/$ADDEXIT commands     (FILE 140).
V-098   12 DEC 96  - Add Mellon Mods for 5.1.0                      (FILE 137).
                   - Add Mellon Mods for 5.2.0                      (FILE 138).
V-097   22 FEB 96  - Add NERDC QUEUE for 5.1.0/5.2.0                (FILE 135).
                   - Update $QNET command (Doron, Shikamni, UBI)    (FILE 110).
                   - Add Va Community College System MPF exit       (FILE 136).
                   - Update Leonard Woren's QUEUE for 5.2.0         (FILE  83).
                   - Update Leonard Woren's MACLIB                  (FILE  84).
                     (formerly called USC.MACLIB)
V-096   18 JUL 94  - Update Leonard Woren's QUEUE for 4.3.0         (FILE  83).
                     (formerly called USC QUEUE, but Leonard has moved.)
                   - Add Mellon Mods for 4.3.0                      (FILE 134).
V-095   20 MAY 93  - Update MELLON MODS FOR 4.2.0                   (FILE 132).
V-094   10 MAR 93  - Tape is now being maintained by Jack Schudel
                   - ADD    NASA/GSFC QUEUE for 4.2.0               (FILE 133).
V-093   18 JAN 92  - UPDATE USC QUEUE COMMAND                    (FILES 83-84).
                   - UPDATE USC PROCLIB AND MISC MODS               (FILE 112).
                   - UPDATE MELLON MODS FOR 2.2.0                   (FILE 102).
                   - UPDATE MELLON MODS FOR 3.1.1                   (FILE 113).
                   - UPDATE MELLON MODS FOR 3.1.3                   (FILE 131).
                   - ADD    MELLON MODS FOR 4.2.0                   (FILE 132).
V-092    4 AUG 90  - UPDATE USC QUEUE COMMAND                    (FILES 83-84).
                   - UPDATE USC PROCLIB AND MISC MODS               (FILE 112).
                   - UPDATE MELLON MODS FOR 2.2.0                   (FILE 102).
                   - UPDATE MELLON MODS FOR 3.1.1                   (FILE 113).
                   - ADD MELLON MODS FOR 3.1.3                      (FILE 131).
V-091   10 FEB 90  - UPDATE SPAC 2.2.0 NOTIFY MODS FOR XA/ESA       (FILE 103).
                   - ADD SPAC SDSF MODS UPDATED FOR SDSF 1.2.0      (FILE 130).
                   - ADD IEF287I/SYSLOG/JOBLOG TO SPAC JES MODS     (FILE 103).
                   - CORRECT B. F. GOODRICH QUEUE FOR 1.3.6/2.1.5   (FILE 086).
                   - CORRECT B. F. GOODRICH QUEUE FOR 2.2.0         (FILE 120).
                   - ADD CALIF. HEALTH AND WELFARE MODS FOR 2.2.0   (FILE 129).
                   - INCREASE JES2 MODS TAPE FEE TO $30.00         (FILES 1/2).
V-090   12 AUG 89  - CHANGE FORMATTED ABSTRACT FILE TO FBA            (FILE 2).
                   - UPDATE B. F. GOODRICH QUEUE FOR 1.3.6/2.1.5    (FILE 086).
                   - UPDATE MELLON MODS FOR 2.2.0                   (FILE 102).
                   - UPDATE MELLON MODS FOR 3.1.1                   (FILE 113).
                   - ADD EG&G IDAHO B. F. GOODRICH QUEUE FOR 3.1.1  (FILE 118).
                   - ADD EG&G IDAHO NERDC QUEUE FOR 3.1.1           (FILE 119).
                   - ADD B. F. GOODRICH QUEUE FOR 2.2.0             (FILE 120).
                   - ADD PRUDENTIAL EXTERNAL WRITER FOR XEROX PRTRS (FILE 121).
                   - ADD NATIONAL ADVANCED SYSTEMS JES2 MODS   (FILES 122-128).
V-089   28 JAN 89  - UPDATE SPAC JES2 2.2.0 MODS (SEE ABSTRACT)     (FILE 103).
                   - UPDATE MELLON MODS TO 3.1.1, ADD BATCH EXT WTR (FILE 113).
                   - UPDATE NFI (FIRST UNION NAT'L BANK) MODS 2.2.0 (FILE 114).
                   - ADD VTAM PTR FSS FROM UNIV NEW BRUNSWICK  (FILES 115-116).
                   - ADD SDSF CICS ADAPTATION FROM COURT FRICK      (FILE 117).
V-088   20 JUL 88  - UPDATE SAMPLE RELOAD JCL FOR USE WITH TMS        (FILE 3).
                   - UPDATE WPSC MODS FOR 1.3.4                  (FILES 70-75).
                   - UPDATE USC QUEUE COMMAND FOR 2.2.0          (FILES 83-84).
                   - ADD WPSC MODS FOR 2.1.5                   (FILES 104-109).
                   - ADD $QNET COMMAND (DORON SHIKMANI, UBI)        (FILE 110).
                   - ADD SPAC SDSF MODS                             (FILE 111).
                   - ADD USC EXTENSIONS TO UBI PROCLIB FACILITY     (FILE 112).
V-087   01 MAY 88  - FIRST TAPE UPDATE BY J. O. SKIP ROBINSON
                   - ADD SCRIPTABLE UNFORMATTED ABSTRACT
                   - CHG FMT'D ABSTRACT TO VBA (WATERLOO SCRIPT O/P)
                   - ADD MELLON MODS AND SPOOL FORMAT UTILITY 2.2.0 (FILE 102).
                   - ADD SECURITY PACIFIC AUTOMATION MODS     2.2.0 (FILE 103).
V-086   12 FEB 88  - ADD NERDC QUEUE FOR 2.2.0                      (FILE 101).
V-085   15 JAN 88  - ADD USAISC MODS FOR 2.1.5                      (FILE 100).
V-084   14 DEC 87  - UPDATE E. F. MACDONALD MODS TO 1.3.6/2.1.5 LEVEL(FILE 22).
                   - UPDATE MELLON 2.1.5 MODS TO 8701 LEVELSET.      (FILE 62).
V-083   13 NOV 87  - UPGRADE NERDC MODS FOR 2.1.5 TO 2.2.0 LEVEL.    (FILE 82).
V-082   25 OCT 87  - ADD A. DUDA MODS FOR 1.3.6.                     (FILE 99).
V-081   05 SEP 87  - REMOVE SHARE JES2 REQUIREMENTS FILE.
V-080   16 AUG 87  - ADD ARTHUR ANDERSON MODS FOR 2.1.5              (FILE 98).
V-080   01 AUG 87  - UPDATE CSG MODS FOR 1.3.4                       (FILE 54).
                   - ADD LONG BEACH EXIT 6 ROUTINE FOR 3480 TAPES    (FILE 97).
V-079   19 JUN 87  - UPDATE LOCKHEED MODS FOR 2.1.5                  (FILE 60).
V-078   22 MAY 87  - ADD UBI MODS FOR 1.3.6.                      (FILE 94-96).
V-077   29 APR 87  - UPDATE AIRFORCE JESMODS                         (FILE 67).
V-076   15 APR 87  - ADD BELL & HOWELL MODS                          (FILE 93).
V-075   11 MAR 87  - ADD SECOND FILE FOR TEA XEROX 8700 FONTS        (FILE 91).
                   - MOVE EXIT 15 CODE FROM FILE 91 TO 92 FOR ABOVE  (FILE 92).
V-074   23 FEB 87  - UPDATE USC QUEUE COMMAND                        (FILE 83).
                   - UPDATE JESMON REPORT PROGRAM FOR HIGH WATER MKS (FILE 81).
                   - ADD TEXAS EDUCATION AGENCY (TEA) XEROX 8700 MODS(FILE 90).
                   - EXIT 15 ROUTINE TO SET PRINTER TRANSLATE TABLES (FILE 91).
V-073   21 FEB 87  - ADD UNC PLOTTER MODS FOR 1.3.4                  (FILE 87).
                   - ADD WELLS FARGO BANK MODS FOR 2.1.5             (FILE 88).
                   - ADD BENJ. FRANKLINS'S XEROX FORMS CONTROL 1.3.4 (FILE 89).
V-072   26 JAN 87  - UPDATE BFG QUEUE FOR 1.3.4                      (FILE 56).
                   - ADD BFG QUEUE W/ IPSF SUPPORT FOR 1.3.6/2.1.5   (FILE 86).
V-071   25 JAN 87  - UPDATE JES2 REQUIREMENTS                        (FILE 64).
                   - UPDATE LOCKHEED 2.1.5 MODS                      (FILE 60).
                   - UPDATE NERDC 2.1.5 MODS                         (FILE 82).
                   - UPDATE USC QUEUE FOR 2.1.5                      (FILE 84).
V-070   10 DEC 86  - UPDATE TSSO TO V43 PTF 2                        (FILE 66).
                   - CHANGE LOCKHEED USERPROC MOD FOR 2.1.5          (FILE 60).
V-069   03 NOV 86  - NIH HASP MERGE PROGRAM & DOC NOW ONE FILE.      (FILE  4).
                   - ADD UTILITY PROGRAMS FOR TAPE MAINTENANCE.      (FILE  3).
                   - ADD USC QUEUE COMMAND FOR 1.3.0-1.3.4.          (FILE 84).
                   - ADD USC MACLIB REQUIRED FOR QUEUE.              (FILE 84).
                   - ADD USC UTILITY PROGRAMS.                       (FILE 86).
V-068   27 OCT 86  - UPDATE LOCKHEED USERPROC MOD FOR 2.1.5.         (FILE 60).
V-067   21 OCT 86  - UPDATE LOCKHEED DIRECTED MOD FOR 2.1.5.         (FILE 60).
V-066   19 OCT 86  - UPDATE TSSO TO VERSION 4.3                      (FILE 66).
                   - UPDATES TO QUEUE FOR 2.1.5                      (FILE 61).
                   - ADD JES2 PERF MONITOR FOR 134, 136/215          (FILE 81).
                   - ADD NERDC JESMODS FOR 2.1.5                     (FILE 82).
V-065   05 OCT 86  - ADD JES2 PERFORMANCE MONITOR FOR 1.3.6/2.1.5    (FILE 80).
V-064   25 SEP 86  - UPDATE JES2 PERFORMANCE MONITOR FOR 1.3.4       (FILE 48).
V-063   24 SEP 86  - UPDATE NORTHWESTERN BANK MODS FOR   1.3.4       (FILE 30).
V-062   08 SEP 86  - UPDATE JES2 PERFORMANCE MONITOR FOR 1.3.4       (FILE 48).
                   - UPDATE LOCKHEED STCPURGE MODS FOR 2.1.5         (FILE 60).
                   - ADD TUCC JESDUMP FOR 1.3.6                      (FILE 79).
V-061   25 AUG 86  - ABSTRACT FILE NOW VBM 255/3156                  (FILE  1).
                   - ADD LSU MOD TO PREVENT USER CANCEL OF IMS JOBS. (FILE 77).
                   - UPDATE BFG ISPF QUEUE TO FIX MINOR BUGS.        (FILE 56).
                   - ADD TRW QUEUE COMMAND                           (FILE 78).
V-060   06 AUG 86  - ADD UT EXIT RELOADER FOR 1.3.4      (FILE 76).
                   - UPDATE AIRFORCE MODS FOR 1.3.4      (FILE 67).
                   - DELETE OLD AIRFORCE MODS.           (FILE 17).
V-059   29 JUN 86  - ADD WSO MODS FOR 1.3.4              (FILE 70-75).
V-058   15 JUN 86  - UPDATE BF GOODRICH Q FOR ISPF V2.   (FILE 56).
                   - ADD LOCKHEED RSCS V2 CONNECT CARD MODS  (FILE 69).
V-057   05 JUN 86  - MINOR CHANGE TO NERDC 1.3.4 MODS.   (FILE 55).
                   - CHANGES TO LOCKHEED Q FOR 2.1.5     (FILE 61).
                   - ADD TUCC SMF 229 MODS FOR 1.3.4     (FILE 68).
V-056   05 MAY 86  - ADD AIRFORCE MODS FOR 1.3.4         (FILE 67).
V-055   20 APR 86  - ADD TSSO Package from Mark Schare   (FILE 66).
V-054   10 MAR 86  - ADD SKK MODS FOR NETWORK HEADERS    (FILE 65).
V-053   05 MAR 86  - ADD JES2 PROJECT REQUIREMENTS LIST  (FILE 64).
V-052   20 FEB 86  - ADD LOCKHEED MODS  FOR 2.1.5   (FILE 60).
                   - ADD LOCKHEED QUEUE FOR 2.1.5   (FILE 61).
                   - ADD MELLON MODS    FOR 2.1.5   (FILE 62).
                   - ADD MELLON PSF EXITS 1, 2, & 5 (FILE 63).
V-051   15 JAN 86  - REPLACE NORTHWESTERN BANK MODS (FILE 30).
V-050   14 OCT 85  - ADD APPLICABLE JES2 RELEASE NUMBER TO TABLE OF CONTENTS.
V-049   23 SEP 85  - ADD OR MODS FOR SP 1.3.4 (FILE 59).
V-048   16 SEP 85  - ADD ALLERGAN MODS TO ISSUE CP CLOSE WHEN UNDER VM/PMA.
V-047   30 AUG 85  - ADD PSU SOF FILE (FILE 57).
V-046   25 JUL 85  - REPLACE AIRFORCE MODS FILE.
                   - ADD B. F. GOODRICH QUEUE COMMAND W/ ISPF SUPPORT.
V-045   11 JUN 85  - FIX TO CSG-1N.
V-044   15 MAY 85  - ADD CSG-1N (MULTIPLE TP BUFFER POOLS) TO FILE 54.
                   - ADD NERDC JESMODS FOR 1.3.4  (FILE 55).
V-043   23 APR 85  - UPDATES TO UBI MODS FOR $NDEF & $DCON.
V-042   03 APR 85  - UPDATES TO UBI QUEUE COMMAND (FILE 53).
V-041   28 MAR 85  - UPDATES TO LOCKHEED MODS FOR 1.3.4 (DIRECTED LOAD, XM$WTO).
V-040   12 MAR 85  - ADD CSG MODS FOR 1.3.4.
V-039   15 FEB 85  - ADD BAR ILAN UNIVERSITY (UBI) MODS FOR 1.3.3.
                   - ADD BAR ILAN UNIVERSITY (UBI) QUEUE COMMAND.
                     (REMOVE FILE 44 WHICH WAS THEIR OLD 1.3.3 MODS).
                   - MINOR UPDATES TO NERDC QUEUE COMMAND.
V-038   13 DEC 84  - UPDATE TO LOCKHEED MODS FOR 1.3.4 (SNA 6670 SUPPORT).
V-037   07 DEC 84  - ADD TUCC NETMODS FOR 1.3.3.
                   - FIX BUG IN NERDC QUEUE COMMAND HEXDUMP ROUTINE.
                   - UPDATES TO LOCKHEED MODS FOR 1.3.4.
V-036   26 OCT 84  - UPDATE NERDC QUEUE TO INCLUDE OAK RIDGE MODS.
V-035   11 OCT 84  - UPDATE NERDC QUEUE TO INCLUDE LOCKHEED MODS.
V-034   25 SEP 84  - UPDATES TO OR JESSPOOL, QPURGE, & SETLOG (FILE 41).
                   - UPDATE NERDC QUEUE TO ADD IOT COMMAND AND SUPPORT
                     FOR REMOVED SPOOL VOLUMES.
V-033   17 SEP 84  - UPDATES TO PSU SMOO PROGRAM.
                   - ADD JES2 PERFORMANCE MONITOR FOR 1.3.4 (FILE 48).
                   - UPDATE CL MODS FOR CHANGE TO VTAMPRT MOD.
V-032   06 SEP 84  - UPDATE TUCC USER PROCLIB MOD FOR 1.3.3 TO REMOVE SOME
                     LOCAL CODE.
                   - UPDATE NERDC QUEUE COMMAND TO GET CLEAN ASSEMBLY UNDER
                     1.3.4.
V-031   04 SEP 84  - UPDATE MELLON MODS TO 1.3.4 LEVEL.
                   - UPDATE MELLON HJSTP MODS TO 1.3.4 LEVEL.
                   - UPDATES TO ANR QUEUE COMMAND FOR 1.3.3 (FILE 34).
                   - ADD ANR EXITS FOR 1.3.3 (FILE 47).
V-030   20 AUG 84  - ADD REQUIRED MACROS TO TUCC JESDUMP FILE 6.
                   - ADD INMXZ02 EXIT TO TUCC NETMODS FILE 39.
V-029   10 AUG 84  - REPLACE AIRFORCE MODS FILE.
V-028   09 AUG 84  - UPDATES TO LOCKHEED MODS FOR 1.3.4.
V-027   09 JUL 84  - UPDATE OR MODS FOR 1.3.3.
                   - ADD TUCC EXIT005 FOR 1.3.3.
                   - UPDATE LOCKHEED MODS FOR 1.3.4.
                   - UPDATE NFI MODS FOR 1.3.3.
V-026   04 JUN 84  - ADD UBI MODS FOR 1.3.3.
                   - ADD LSU EXIT DRIVER.
V-025   24 APR 84  - ADD TUCC USER PROCLIB SUPPORT FOR 1.3.3.
                   - PSU SMOO PROGRAM.
                   - UPDATE MELLON MODS FOR 1.3.3.
V-024   11 APR 84  - UPDATES TO LOCKHEED MODS FOR 1.3.3.
                   - CORRECT NERDC QUEUE COMMAND FOR BUG IN DDNAME COMMAND
                     WITH 1.3.0.
V-023   08 APR 84  - ADD FILE41, OR MODS FOR 1.3.3.
V-022   23 MAR 84  - UPDATES TO LOCKHEED MODS FOR 1.3.3.
V-021   27 FEB 84  - ADD FILE40, GATX XEROX 9700 MODS.
V-020   23 FEB 84  - ADD FILE39, TUCC NETMODS.
V-019   19 FEB 84  - ADD FILE38, LOCKHEED MODS FOR 1.3.3.
V-018   22 JAN 84  - ADD FILE36, JES2 PERF MON FOR 1.3.3.
                   - ADD FILE37, INA QUEUE FORMAT ROUTINE.
                   - UPDATE FILES 31&32, MELLON MODS FOR 1.3.3 TO INCLUDE NEW
                     FUNCTION AND FIXES.
                   - CHANGE REFERENCES FROM ONL TO OR TO REFLECT INSTALLATION
                     CODE CHANGE.
V-017   20 DEC 83  - ADD FILE35, KIMBERLY CLARK MODS.
V-016   15 NOV 83  - UPDATE TO LOCKHEED UCBLU MOD.
                   - UPDATES TO NERDC QUEUE COMMAND FOR SP 1.3.3
                   - REMOVE FILE 32 (NERDC QUEUE FOR 1.3.3 ONLY)
                   - UPDATES TO MELLON MODS FOR 1.3.3 (FILE31).
                   - ADD MELLON MODS FOR HJSTP FOR 1.3.3 (FILE32).
                   - ADD ANR QUEUE COMMAND FOR 1.3.3 (FILE 34).
V-015   07 OCT 83  - ADDITION OF FILE 33 (INA MODS).
V-014   15 SEP 83  - ADDITION OF FILE 31 (MELLON MODS FOR 1.3.3).
                   - UPDATES TO NERDC QUEUE COMMAND.
V-013   15 AUG 83  - ADDITION OF FILE 30 (NORTHWESTERN BANK MODS).
V-012   24 MAY 83  - ADDITION OF TUCC NETWORK JOB HEADER MODS.
                   - ADDITION OF HALLMARK MODS TO ALLOW TSO LOGON TO SECONDARY.
V-011   28 APR 83  - UPDATE TO ONL MODS.
                   - ADDITION OF COPENHAGEN HANDELSBANK SNA 3287 SUPPORT.
                   - UPDATES TO AIRFORCE MODS.
                   - UPDATES TO NERDC QUEUE COMMAND.
                   - UPDATES TO NERDC JESMODS.
V-010   17 MAR 83  - UPDATE TO LOCKHEED MODS.
                   - ADD US CHAMBER OF COMMERCE MODS.
                   - US SENATE MODS REMOVED AT THEIR REQUEST.
V-009   24 JAN 83  - UPDATE TO MELLON HJSTP MODS TO FIX SOME ERRORS. (FROM CBT).
                   - UPDATE TO NERDC QUEUE COMMAND.
V-008   17 OCT 82  - UPDATE TO LOCKHEED MODS TO FIX AN ERROR IN DYNALLOC.
                   - UPDATE TO NERDC QUEUE COMMAND (FILE 14).
                   - UPDATE TO ONL MODS (FILE 5).
                   - ADD FILE 25 HITACHI XREFASM PROGRAM.
V-007   27 SEP 82  - UPDATE TO MELLON BANK SHARED SPOOL MODS (FILES 10-12).
                   - UPDATE TO NERDC QUEUE COMMAND (FILE 14).
V-006   15 SEP 82  - ADD FILE 24 JES2 PERFORMANCE MONITOR.
V-005   10 SEP 82  - UPDATE FILE 9 WITH ADDITION OF DYNAMIC PROCLIB
                     ALLOCATION AND MULTIPLE PSO PCE SUPPORT.
                   - UPDATES TO FILE 16.
                   - ADD FILES 20 & 21 SENATE JOB SCHEDULER.
                   - ADD FILE 22 E. F. MACDONALD EXIT005.
                   - ADD ABSTRACT FILE FROM OLD JES2 TAPE THAT IS ONLY
                     AVAILABLE FROM SPLA.
V-004   16 AUG 82  - UPDATED NERDC QUEUE.
V-003   03 JUL 82  - UPDATE ONL FILES.
V-002   07 JUN 82  - ADD AIRFORCE MODS.
V-001   17 MAY 82  - INITIAL SP MODS TAPE.
.if &SHORT_ABS = "YES" .th .qu
.pa
.nf
@FILE001@***********************************************************************
*                                                                              *
*         F I L E   1   S H A R E   J E S 2   M O D S   A B S T R A C T        *
*                                                                              *
********************************************************************************

.ju left
THIS FILE CONTAINS THE DESCRIPTION OF THE SHARE JES2 MODS TAPE THAT
YOU ARE READING. IT WAS CREATED WITH THE FOLLOWING DCB ATTRIBUTES:

    RECFM=VB      LRECL=255     BLKSIZE=32760

IT CONTAINS SIMPLE SCRIPT COMMANDS BUT HAS *NOT* BEEN FORMATTED. YOU
MAY FORMAT THIS FILE WITH, FOR EXAMPLE, IBM OR WATERLOO SCRIPT.

.nf
@FILE002@***********************************************************************
*                                                                              *
*         F I L E   2   S H A R E   J E S 2   M O D S   A B S T R A C T        *
*                                                                              *
********************************************************************************

.ju left
THIS FILE CONTAINS THE DESCRIPTION OF THE SHARE JES2 MODS TAPE THAT
YOU ARE READING. IT WAS CREATED WITH THE FOLLOWING DCB ATTRIBUTES:

    RECFM=VBA     LRECL=255     BLKSIZE=32760

THIS IS THE FORMATTED VERSION OF THE ABSTRACT (FILE001). IT HAS BEEN
FORMATTED FOR 66 LINES PER PAGE VIA WATERLOO SCRIPT (NSCRIPT).

.nf
@FILE003@***********************************************************************
*                                                                              *
*         F I L E   3   S H A R E   J E S 2   M O D S   T A P E   J C L        *
*                                                                              *
********************************************************************************

.ju left
THIS FILE CONTAINS JCL TO RESTORE THE SHARE JES2 MODS TAPE TO DISK.
THE FILE WAS CREATED WITH THE FOLLOWING DCB ATTRIBUTES:

    RECFM=FB      LRECL=80      BLKSIZE=32720

TO FIND THE DCB ATTRIBUTES OF ANY FILE ON THIS TAPE, LOOK AT THE JCL
IN THIS FILE TO RESTORE THAT FILE.

.nf
@FILE004@***********************************************************************
*                                                                              *
*         F I L E   4     M O D S   T A P E   U T I L I T Y    P G M S .       *
*                                                                              *
********************************************************************************

.ju left
This file contains programs and job streams that are used for tape
maintenance.  It is expected that other members will be added at a
later time.

JES2INFO - This is a job stream that can be used to convert the Mods
           Tape Abstract file into a VSAM database that can be
           processed by INFO/SYS Version 1.  (If anyone converts it to
           work with INFO/SYS Version 2, please send me a copy and it
           will be included here).
.pa
.nf
@FILE005@***********************************************************************
*                                                                              *
*         F I L E   5     N I H   M E R G E   P R O G R A M                    *
*                                                                              *
********************************************************************************

.ju left
LAST FILE UPDATE - JAN. 1979.

HASP MERGE IS A UTILITY PROGRAM DEVELOPED AT NIH TO MERGE PTFS AND USER
MODS WITH AN UNDISTURBED SOURCE BASE TO CREATE A TEMPORARY SOURCE LIB
FOR TEST ASSEMBLIES. THERE ARE 235 LINES OF TEXT IN THIS FILE.

ANY QUESTIONS OR COMMENTS ON THESE MODIFICATIONS MAY BE ADDRESSED TO:

                   ROGER FAJMAN  BLDG 12 ROOM 2235
                   NATIONAL INSTITUTE OF HEALTH
                   BETHESDA, MARYLAND
                               20014
.pa
.nf
@FILE006@***********************************************************************
*                                                                              *
*         F I L E   6     O N L   J E S 2   M O D S                            *
*                                                                              *
********************************************************************************

The following is an abstract of the mods supplied by the
Oak Ridge National Laboratory:

SHARE Installation Code = ONL

Installation Contact = Robert M. Jinkins
   (JES2 only)         Oak Ridge National Laboratory
                       Bldg. 4500-N  MS-255
                       P.O. Box X
                       Oak Ridge, Tennessee  37830

                       Phone: (615) 574-7208/5300
                               FTS  624-7208/5300

JES2 Version = System Product V1.3.0

Last Update = April 1983

Distribution Format = IEBCOPY Unloaded PDS
                      PDS: DCB=(RECFM=FB,LRECL=80,BLKSIZE=3600),
                           UNIT=3350,SPACE=(TRK,(120,20,20))
                      Tape: DCB=(RECFM=FB,LRECL=80,BLKSIZE=32720)
                            Non-labeled, 6250 BPI.

Mod Format = NIH Hasp Merge Format (Convertible to IEBUPDTE format)

Mod Documentation = Member $$$INDEX (The member you are now reading)

Editor's note: please see File 59 for disclaimer and additional
documentation
.pa
.nf
@FILE007@***********************************************************************
*                                                                              *
*         F I L E   7   T U C   S P 2   J E S D U M P                          *
*                                                                              *
********************************************************************************

THIS FILE WAS COPIED FROM VERSION 24 OF THE OLD JES2 MODS TAPE.

JESD     TITLE 'JESDUMP JES2 CONTROL BLOCK DUMP UTILITY - DESCRIPTION'
*              JES/SP VERSION OF JESDUMP                        JFW
* JACK SCHUDEL OF NERDC AT THE UNIVERSITY OF FLORIDA            JFW
* CONVERTED JESDUMP TO RUN ON JES2/SP. I HAD TO REMOVE SOME     JFW
* OF HIS LOCAL DEPENDENT CODE, AND REMOVED A REQUIREMENT TO     JFW
* SPECIFY 'SYSPARM' TO SKIP AROUND IT. SOME FUNCTIONS HAVE      JFW
* NOT BEEN CHECKED OUT, BUT MOST SEEM TO WORK OK.               JFW
* IF YOU HAVE PROBLEMS, OR SPECIFICALLY IF YOU MAKE FIXES       JFW
* PLEASE NOTIFY:                                                JFW
*        JIM WALKER                                             JFW
*        TUCC                                                   JFW
*        PO BOX 12076                                           JFW
*        RESEARCH TRIANGLE PARK, NC 27709                       JFW
*        (919) 549-0671                                         JFW
*                                                               JFW
*                                                                 NERDC
* THIS IS THE NERDC VERSION OF THE TUCC JESDUMP PROGRAM.          NERDC
* NERDC MODIFICATIONS TO SUPPORT NJE3 AND SOME OF THE NERDC       NERDC
* CONTROL BLOCK EXTENSIONS ARE FLAGGED WITH THE WORD "NERDC" IN   NERDC
* COLUMNS 67-71.                                                  NERDC
* CHANGES TO SUPPORT THE MVS/SP2-JES2 VERSION ARE FLAGGED "SP2".  NERDC
* NON-NERDC USERS SHOULD ASSEMBLE THE PROGRAM USING AN ASSEMBLER  NERDC
* PARM OF 'SYSPARM=STOCK' TO SKIP SOME OF THE NERDC FIELDS IN     NERDC
* THE JQE AND JCT.                                                NERDC
*                                                                 NERDC
* THIS VERSION OF JESDUMP WAS TAKEN FROM THE SHARE JES2 PROJECT   NERDC
* MODS TAPE, AT THE VERSION 5 LEVEL, AND HAS BEEN RESEQUENCED.    NERDC
*                                                                 NERDC
* GENERAL DESCRIPTION OF NERDC MODIFICATIONS:                     NERDC
* - THE $WARN MACRO WAS MODIFIED TO NOT GENERATE THE MNOTE, BUT   NERDC
*   THIS SHOULD BE FIXED BACK THE FIRST FEW TIMES THAT THE SYSTEM NERDC
*   IS PUT UP AT A NEW INSTALLATION.                              NERDC
* - GET DCBBLKSI FOR SPOOL FROM CHECKPOINT AREA                   NERDC
* - ADD HCT COMMAND TO DUMP CHECKPOINTED AREA                     NERDC
* - AREADMP OF JCT WILL DUMP ENTIRE BUFFER, SINCE NJE HEADERS AND NERDC
*   TRAILERS FOLLOW THE JCT IN THE BUFFER.                        NERDC
* - ADD VALIDITY CHECKING TO READIT SUBROUTINE.                   NERDC
*   NOTE:  THIS CODE IS HAS CONSTANTS FOR 3350 DASD IN IT.        NERDC
* - ADD SYNAD ROUTINE FOR SPOOL IO THAT ABENDS SE CAN LOOK AT THE NERDC
*   ERROR.                                                        NERDC
* - ADD OPTION TO CHAIN COMMAND TO SPECIFY THE NUMBER OF BUFFERS  NERDC
*   TO CHAIN THROUGH BEFORE RETURNING CONTROL TO THE CALLER.      NERDC
*   CHAINING WILL ALSO STOP IF THE CHAIN FIELD BECOMES ZERO.      NERDC
*   (USEFUL FOR GETTING TO THE LAST BUFFER IN A LARGE SYSOUT.)    NERDC
* - CHANGES TO INITHCT AND RDCKPT FOR SUPPORT OF NJE3 SPOOL.      NERDC
* - CHANGES TO FORMAT OUTPUT TO ADD SOME LOCAL FIELDS AND DELETE  NERDC
*   OTHERS.                                                       NERDC
* - ADD HOLD INDICATORS TO FORMAT OUTPUT.                         NERDC
* - ADD DEST INFORMATION TO FORMAT OUTPUT.                        NERDC
* - CHANGE LENGTH OF FMTWK FIELD.                                 NERDC
* - DISPLAY NUMBER OF TRACK GROUPS ALLOCATED TO EACH JOB ON       NERDC
*   FORMAT OUTPUT.  (LAST FIELD - UNLABELED)                      NERDC
* - ADD MACRO CALLS TO GENERATE DSECTS FOR $TGM, $CAT             SP2
* - JQE, JOE, AND JOT OFFSETS WERE 2 BYTE FIELDS, REPRESENTING    SP2
*   THE OFFSET/4.  THESE FIELDS ARE NOW 3 BYTES, AND REPRESENT    SP2
*   THE TRUE OFFSET.                                              SP2
* - PULL ADDITIONS OF 10000 AND 20000 FOR STC AND TSU             SP2
* - SKIP AROUND ALL CODE DEALING WITH THE HQT, SINCE WE DO NOT    SP2
*   KNOW WHAT HAPPENED TO IT IN THE SP2 VERSION.                  SP2
* - ADD FIELDS FOR $JIXSIZE, $JOBQSIZ, AND $JOTSIZE               SP2
* - CHANGES TO INITHCT AND RDCKPT FOR SUPPORT OF SP2 SPOOL..      SP2
* - CHANGE DEST INFO ON FORMAT OUTPUT TO ONLY PRINT THE LOW-ORDER SP2
*   BYTE OF THE NODE NUMBER AND REMOTE NUMBER.                    SP2
* - JQEFLAG3 NOW USED TO INDICATE IF A STC/TSU/JOB STATUS.        SP2
*                                                                 NERDC
*                                                                 NERDC
* NOTE:  THE JOE LOOKUP ROUTINES SHOULD BE CHANGED TO FIND THE    NERDC
*        JOE BY CHAINING FROM JQEJOE, BUT I HAVE NOT DONE THIS    NERDC
*        YET.                                                     NERDC
* NOTE:  I DOUBT IF THE SYSLOG COMMANDS WORK PROPERLY, BUT I WILL NERDC
*        BE RUNNING THE SP2 JES2 SYSTEM AS A SECONDARY SUBSYSTEM  NERDC
*        FOR A LONG TIME, AND WILL NOT BE IN A POSITION TO TEST   NERDC
*        IT UNTIL THEN.                                           NERDC
* NOTE: SYSLOG COMMANDS SEEM TO WORK TO ME ALTHOUGH I              TUC
*        HAVEN'T TRIED ALL OF THEM  10/14/81                       TUC
*
.pa
.nf
@FILE008@***********************************************************************
*                                                                              *
*         F I L E   8   T U C   S P 2   M O D S                                *
*                                                                              *
********************************************************************************
*
*        JIM WALKER
*        TRIANGLE UNIVERSITIES COMPUTATION CENTER (TUC)
*        BOX 12076
*        RESEARCH TRIANGLE PARK, NC  27709
*        (919) 549-0671
*
*        SP JES2 COMMAND EXIT - EXIT5
*
*        THIS ROUTINE PROVIDES A SAMPLE EXIT5 WITH SEVERAL FUNCTIONS
*        ADDED:
*          1. COMMAND LOOKUP ROUTINE
*          2. HASPCOMM MACROS AND SERVICES AVAILABLE
*          3. $ESTAE ENVIRONMENT ESTABLISHED AROUND COMMAND PROCESSING
*          4.  SEVERAL COMMANDS WHICH MAY OR MAY NOT BE OF INTEREST
*              A. $DMJ EXTENSION ALLOWS MESSAGE TO BE SENT TO JOB
*                 NOT IN EXECUTION.
*              B. ATTACH, DETACH SUBTASK COMMANDS. I ALSO HAVE
*                 DISPATCHER MODS TO ALLOW JES2 PCE TO COMMUNICATE
*                 WITH SUBTASK SO ATTACHED IF ANYONE IS INTERESTED.
*              C. DUMP JQE COMMAND
*
*        L=CCA VERIFICATION AND AUTOMATIC REDIRECTION IS NOT
*        DONE HERE BUT PROBABLY SHOULD BE. IF ANYONE DOES THESE
*        PLEASE SEND ME A COPY.
*
*        I THINK THE MOST SIGNIFICANT PART OF THIS EXIT IS THE
*        INCLUSION OF HASPCOMM MACRO FACILITIES IN IT. USER
*        COMMAND EXTENSIONS CAN BE CODED HERE IN THE SAME
*        MANNER AS IF THE CODE WERE IN HASPCOMM. SMALL
*        ADDITIONS TO SOME COMMANDS CAN BE DONE AS I DID THE
*        $DMJ ADDITION. I INTEND TO 'COPY' SOME STANDARD
*        COMMANDS INTO THIS CSECT FOR MODIFICATION RATHER
*        THAN MAKING HASPCOMM UPDATES.
*
*        I WILL OF COURSE OVER TIME ADD MANY LOCAL COMMANDS
*        HERE. I SUGGEST THAT THIS MIGHT BE A GOOD PLACE
*        FOR OTHERS TO PUT THEIR COMMANDS FOR DISTRIBUTION.
.pa
.nf
@FILE009@***********************************************************************
*                                                                              *
*         F I L E   9      T U C C   U S E R    P R O C L I B S                *
*                                                                              *
********************************************************************************

.ju left
LAST FILE UPDATE - 08/19/81

 JIM WALKER
 TRIANGLE UNIVERSITIES COMPUTATION CENTER
 P. O. BOX 12076
 RESEARCH TRIANGLE PARK, NC  27709
 (919) 549-0671

***      USER PROCLIB ABSTRACT

ALLOW ANY PDS TO BE SPECIFIED AS THE FIRST CONCATENATION PROCLIB FOR A
JOB.

MODIFIES:
   HASPXEQ - ADD $EXIT STATEMENTS FOR EXITS 240-243
   $JCT    - ADD TWO FIELDS TO JCTDSECT FOR PROCLIB DSNAME AND OPTIONAL
             VOLUME SERIAL NUMBER

ADDS:
   EXIT4   - EXIT4 (JCL AND CONTROL CARD EXIT) TO CHECK FOR /*PROCLIB
             STATEMENT AND SAVE THE SPECIFIED PROCLIB DSNAME AND
             OPTIONAL VOLUME SERIAL NUMBER IN THE JCT.
   UPROCXIT- EXITS 240, 241, 242, AND 243 WHICH ARE CALLED FROM HASPXEQ.

THIS MODIFICATION IS PERFORMED ALMOST ENTIRELY IN EXITS.  HASPXEQ CODE
MODIFICATIONS ARE REQUIRED IN ORDER TO INVOKE 4 EXITS (240-243) HOWEVER.
IN ADDITION, TWO FIELDS MUST BE ADDED TO THE JCT.

THE MOD ALLOWS A USER TO INSERT A PROCLIB CONTROL STATEMENT IN A JOB, IN
THE FORM:
         /*PROCLIB=ANY.DSNAME  ,VOLSER
WHERE:
         ANY.DSNAME IS THE DSNAME OF THE DESIRED PROCLIB VOLSER IS THE
         VOLUME SERIAL NUMBER OF THE PROCLIB IF IT IS NOT CATALOGED.
         NOTE: I RECOMMEND THAT YOU REQUIRE THE PROCLIB TO BE CATALOGED
         AND REMOVE THE OPTIONAL VOLSER CODE.

STANDARD IBM EXIT 4 IS USED TO CAPTURE THE PROCLIB DSNAME AND OPTIONAL
VOLSER AND STORE IN THE JCT.  NO OTHER FUNCTION IS PERFORMED AT HASPRDR
TIME. THIS CODE IS IN MEMBER EXIT004.

MEMBER $JCT IS AN IEBUPDTE INPUT DECK TO ADD THE TWO REQUIRED FIELDS TO
THE JCT DSECT.

MEMBER HASPXEQ IS AN IEBUPDTE INPUT DECK TO ADD COPY STATEMENTS AND ONE
REQUIRED LABEL TO THE HASPXEQ MODULE.  THE COPY STATEMENTS COPY MEMBERS
TUC1081A, TUC1081B, TUC1081C, AND TUC1081D INTO HASPXEQ.  THESE MEMBERS
SET THE ENVIRONMENT AND ISSUE THE $EXIT MACROS TO INVOKE EXITS 240 THRU
243.

MEMBER UPROCXIT CONTAINS EXITS 240 THRU 243.

   EXIT240. THIS EXIT ESTABLISHES THE USER PROCLIB IF IT WAS SPECIFIED.
   IT CLOSES THE OLD PROCLIB IF OPEN, DYNAMICALLY ALLOCATES THE
   SPECIFIED USER PROCLIB, CONCATENATES IT BEFORE THE SPECIFIED
   /*JOBPARM PROCLIB (OR DEFAULT), AND RETURNS TO HASPXEQ WITH A RETURN
   CODE TO CAUSE HASPXEQ TO RE-OPEN THE PROCLIB.

   EXIT241. IF THE SPECIFIED PROCLIB WAS ENQUEUED AND THUS COULD NOT BE
   ALLOCATED, THIS EXIT PERFORMS THE FOLLOWING TASKS;
            HOLDS THE JOB
            RESCHEDULES THE JOB FOR CONVERSION
            SETS AN AUTOMATIC OPERATOR COMMAND TO RELEASE THE JOB AFTER
                  5 MINUTES

   EXIT242. CLOSES AND UNALLOCATES THE USER PROCLIB.

   EXIT243. CLOSES AND UNALLOCATES THE USER PROCLIB IN CASE
   OF CONVERTER ABEND.

ANY DATASET MAY BE SPECIFIED AS THE USER PROCLIB. IF THE DATASET DOES
NOT EXIST, THE CONVERTER PROCESSOR WILL INCLUDE THE NORMAL NUMBERED IBM
ERROR MESSAGES IN THE JOB CONSOLE LOG AND TERMINATE THE JOB.  THE
BLOCKSIZE OF THE PROCLIB MUST BE 4240 OR LESS AS THE CODE IS
DISTRIBUTED, BUT THIS IS EASILY MODIFIED IF DESIRED.  LRECL MUST BE 80.
THE CODE MAKES NO CHECK TO INSURE THAT A PDS HAS BEEN SPECIFIED, BUT THE
CONVERTER DOES AND FLUSHES THE JOB WITH NUMBERED IBM MESSAGES IF SOME
ILLOGICAL SITUATION IS SPECIFIED.

NOTE THAT SINCE THE CONVERTER RUNS AS A SUBTASK OF JES2, IT CAN ACCESS
PROCLIBS THAT ARE EITHER PASSWORD OR RACF PROTECTED.  I BELIEVE THAT
ACF2 PROTECTION MAY BE CHECKED IF YOU DESIRE, BUT THIS CODE IS NOT
PROVIDED.
.pa
.nf
@FILE010@***********************************************************************
*                                                                              *
*         F I L E   1 0     L O C K H E E D   S P 2   M O D S                  *
*                                                                              *
********************************************************************************

.ju left
THESE MODIFICATIONS ARE FROM LOCKHEED CALIFORNIA COMPANY (CL)

THE INSTALLATION CONTACT IS:

 JOHN KINN
 LOCKHEED CALIFORNIA COMPANY
 PLANT A-1, BLDG 67, DEPT 8321
 P.O. BOX 551
 BURBANK, CALIFORNIA 91520

TELEPHONE (213) 847-7492

MODIFICATION NAME BSCTRACE  (LAST UPDATED 22 MAR 82)

IBM'S SUPPLIED LINE TRACE (TRACE ID 4) FORMATS ONLY THE BUFFER IN WHICH
THE IOB APPEARS.  THUS, ONLY INPUT TRAFFIC IS SEEN.  OUTPUT TRAFFIC IS
PICKED UP FROM A DIFFERENT BUFFER.  THIS CHANGE WILL TRACE ALL DATA
POINTED TO BY READ OR WRITE CCW'S

MODIFICATION NAME COMMXIT     (LAST UPDATED 23 MAR 82)

THIS MODIFICATION PROVIDES EXIT 5 FROM HASPCOMM THE NECESSARY MACROS
NEEDED TO DO MOST INSTALLATION COMMANDS.  SUPPORT IS PROVIDED FOR THE
FOLLOWING COMMANDS:
       $CFSEL
       $CFCVE
       $CFCVB
       $CFDCTL
       $CFVQE
       $CFRTR
       $CFRTRA

MODIFICATION NAME DYNALLOC

THIS CODE SUPPORTS A NEW VERB IN THE HASP INITIALIZATION DECK, DYNALLOC.
THIS VERB IS USED TO SPECIFY THE PROCLIBS USED BY THE CONVERTER.  FROM 1
TO 16 DATA SETS CAN BE SPECIFIED FOR EACH DDNAME.  IF THE CATALOG IS
USED TO LOCATE THE DATA SETS, THE DATA SETS NEED NOT BE CATALOGED IN THE
MASTER CATALOG AS THEY WOULD IF THEY WERE ALLOCATED VIA DD CARDS.

MODIFICATION NAME EXIT10   (LAST UPDATED 6 MAY 82)

THIS IS THE EXIT 10 MODULE RUNNING AT OUR INSTALLATION (ALMOST).  IT
ACCOMPLISHES THE FOLLOWING:

QUEUES MESSAGES DESTINED FOR REMOTES TO THE CPU THAT THE REMOTE IS
SIGNED ON TO.  THIS ELIMINATES MESSAGE SPOOLING.  CAUSES ALL MESSAGES
THAT EMANATE FROM THE JES2 ADDRESS SPACE THAT ARE OF INTEREST TO THE
REMOTE WORK STATION TO BE SENT TO THE REMOTE AS WELL AS THE LOCAL
CONSOLE.

MODIFICATION NAME HOTNEWS     (LAST UPDATED 17 AUG 81)

THIS SHOWS CODE THAT SHOULD BE ADDED TO THE END OF YOUR EXIT1 MODULE IN
ORDER TO STILL SUPPORT HOTNEWS.

MODIFICATION NAME MULTICNV (ADDED 10 MAR 83)

THIS MODIFICATION ALLOWS AN INSTALLATION TO SPECIFY THE NUMBER OF
CONVERTER SUB-TASKS THAT ARE TO BE SUPPORTED BY JES2.  THE PARAMETER IS
&NUMCNV=XX WHERE XX IS A NUMERIC VALUE BETWEEN 1 AND 10.

         CAUTION CAUTION CAUTION CAUTION CAUTION CAUTION

IF YOU USE THIS MOD AND YOU SPECIFY MORE THAN ONE CONVERTER (I.E.
&NUMCNV DOES NOT = 1), THEN YOU MUST CODE YOUR EXIT 6 MODULE(S)
RE-ENTRANTLY SINCE ONLY ONE COPY OF THEM IS LOADED BY JES2
INITIALIZATION.

MODIFICATION NAME SMF226    (ADDED 10 MAR 83)

THIS MODIFICATION CAUSES AN SMF 226 RECORD (ALMOST IDENTICAL TO THE TYPE
26 RECORD) TO BE GENERATED WHENEVER A JOB HAS AN ERROR EITHER AT
CONVERTER TIME OR INTERPRETER TIME.  THIS IS ESPECIALLY USEFUL FOR USERS
OF APOLLO/STARS OR DCMS FROM VALUE COMPUTING INC.

MODIFICATION NAME MULTIPSO  (LAST UPDATED 11 MAR 83)

THIS MODIFICATION ACTUALLY CONSISTS OF TWO MODIFICATIONS.  THE FIRST
(WHICH THE SECOND DEPENDS UPON) EXPANDS THE ECF SUPPORT FROM A HALF WORD
TO A FULL WORD IN SSSM AND NUC.  THE SECOND MAKES THE NUMBER OF PSO
PCE'S SPECIFIABLE WITH A VALUE FROM 1 TO 9.  THE DEFAULT IS 1.  THIS
MEANS THAT THE TSO AND XWTR SUPPORT AND XEQ WILL BE MULTI-THREADED.

MODIFICATION NAME RDRXIT     (LAST UPDATED 17 AUG 81)

THIS SHOWS THE CODE REQUIRED TO SUPPORT THE HASPRDR SCAN ROUTINE IN USER
EXITS.

MODIFICATION NAME UCBLU     (LAST UPDATED 11 MAR 83)

THIS IS THE MODIFICATION TO THE HASPNUC UCB LOOKUP ROUTINE THAT WILL
ALLOW JES2 SP 1.3 TO RUN UNDER PRIOR RELEASES OF THE BASE CONTROL
PROGRAM.  THE LASTEST CHANGE CORRECTS A PROBLEM WHICH OCCURS AFTER APARS
OZ60304 AND OZ66199 ARE APPLIED TO JES2 SP 1.3.0.

MODIFICATION NAME XBMSIMPL

THIS IS A SIMPLE SAMPLE OF AN XBM PROGRAM WHICH INVOKES PANVALET USING
THE PANVALET CONTROL STATEMENTS PROVIDED BY THE USER.  THIS WAS USED BY
US FOR YEARS IN ORDER TO UPDATE PRODUCTION JCL ON A PANVALET LIB AND
SUBMIT THE ALTERED JCL TO THE JOB QUEUE VIA THE INTERNAL READER.
.pa
.nf
@FILE011-13@********************************************************************
*                                                                              *
*         F I L E   1 1 - 1 3   M E L L O N   B A N K   J E S M O D S          *
*                                                                              *
********************************************************************************

.ju left
THESE FILES UPDATED 27 SEP 82 TO FIX TWO KNOWN PROBLEMS:
   1.  AN ASSEMBLY ERROR ON EXITCOMM IF MBNUMRJE IS LESS THAT 16.
   2.  ABEND S0C1 OR S0C4 IN EXITCOMM FROM $DQ AND $DN COMMANDS CAUSED
       BY AN ERROR IN THE INSTALL PROCEDURE.
.nf

 $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
 $        SSSS  PPPPP            J EEEEEE  SSSS   2222      $
 $       S    S P    P           J E      S    S 2    2     $
 $       S      P    P           J E      S           2     $
 $        SSSS  PPPPP            J EEEE    SSSS   22222     $
 $            S P                J E           S 2          $
 $       S    S P           J    J E      S    S 2          $
 $        SSSS  P            JJJJ  EEEEEE  SSSS  222222     $
 $                                                          $
 $           SSSS  H    H RRRRR   SSSS  PPPPP  L            $
 $          S    S H    H R    R S    S P    P L            $
 $          S      H    H R    R S      P    P L            $
 $           SSSS  HHHHHH RRRRR   SSSS  PPPPP  L            $
 $               S H    H R  R        S P      L            $
 $          S    S H    H R  R   S    S P      L            $
 $           SSSS  H    H R   R   SSSS  P      LLLLLL       $
 $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

  PLEASE SEE DESCRIPTION OF FILE 132 FOR A FULL ABSTRACT.
.pa
.nf
@FILE014@***********************************************************************
*                                                                              *
*         F I L E   1 4    M E L L O N   B A N K   H J S T P   M O D S         *
*                                                                              *
********************************************************************************

.ju left
      HJSTP  SP3 MODIFICATIONS

ONLY TWO MODULES IN HJSTP NEED REPLACING:  QUEUE INITIALIZATION AND
QUEUE PROCESSING. COMPLETE MODULE REPLACEMENTS ARE IN THIS PDS. THEY
NEED TO BE RE-ASSEMBLED AND RE-LINKED INTO THE LOAD MOUDLE. IF YOU ARE
CURRENTLY RUN NJE, THESE MODULES WILL AND MUST REPLACE YOUR CURRENT
ONES. REASON BEING THAT I MADE THE MODS IN Q1 AND QP BE ACCESSED AS
NJE2R2 PARM IN THE HJSTP PROGRAM. SINCE SP3 HAS NJE INTEGRATED, I
THOUGHT THERE WAS NO PROBLEM. IF YOU DO HAVE NJE, YOU MUST THEREFORE
HAVE TWO SEPARATE LOAD MODULES-ONE FOR NJE/3 AND ONE FOR SP3.

THERE ARE NO DD CARD OR LINK CHANGES

TWO NOTES:  1) IN THE HJSTMAP MODULES, UPDATES SHOULD BE MADE TO
               MAP EQUIVALENCE TABLES INTO THE NEW FORMAT (NNNNRRRR).
               I HAVE NOT DONE THIS TO DATE.

            2) I CURRENTLY DO NOT RUN NJE-THEREFORE THERE COULD
               BE ERRORS IN HJSTP THAT I HAVE NOT FOUND YET. I'LL
               BE GLAD TO DISCUSS THESE ON THE TELEPHONE.

                                              CHUCK KALISH
                                              MELLON BANK, N.A.
                                              (412) 234-5743
.pa
.nf
@FILE015@***********************************************************************
*                                                                              *
*         F I L E   1 5    N E R D C   Q U E U E   C O M M A N D               *
*                                                                              *
********************************************************************************

.ju left
      JACK SCHUDEL              (904) 392-4601
      NORTHEAST REGIONAL DATA CENTER
      233 SPACE SCIENCES RESEARCH BUILDING
      UNIVERSITY OF FLORIDA
      GAINESVILLE, FLORIDA  32611

THIS FILE IS THE NERDC'S VERSION OF THE QUEUE COMMAND, WHICH SUPPORTS 3278
MODELS 2, 3, 4, AND 5, AND CAN BE ASSEMBLED TO OPERATE IN THE FOLLOWING
ENVIRONMENTS:
     MVS/JES2-SP 1.3.0
     MVS/JES2-SP 1.3.3

SEE MEMBER $UFDOC FOR FURTHER INFORMATION.

SEE MEMBER $LOG FOR A LIST OF THE MODIFICATIONS MADE FOR EACH TAPE VERSION.

AS OF VERSION 4 OF THIS TAPE, THE QUEUE COMMAND HAS BEEN UPDATED WITH
MODIFICATIONS PROVIDED BY WALT FARRELL OF RAINIER NATIONAL BANK.
THESE MODIFICATIONS ARE DETAILED IN MEMBER $RNBDOC, AND ARE SUMMARIZED BELOW:
     - IMPROVED TCAM SUPPORT
     - RACF SUPPORT
     - PROCESS BOTH THE LOCAL AND REMOTE QUEUES FOR JOBS AWAITING PRINT/PUNCH
     - STATUS AND DJ COMMANDS WILL PROCESS THE CONVERSION, DUMP, AND OUTPUT Q.

AS OF VERSION 14 OF THIS TAPE, THE QUEUE COMMAND HAS BEEN UPDATED WITH
MODIFICATIONS PROVIDED BY BOB JINKINS AT ONL.
THESE MODIFICATIONS ARE DETAILED IN MEMBER $ONLDOC, AND ARE SUMMARIZED BELOW:
     - CREATE A SINGLE AUTHORIZATION CSECT THAT CONTAINS ALL OF THE USER
       AUTHORIZATION TESTS FOR THE QUEUE COMMAND.  THIS INCLUDES COMMAND,
       JOB, AND DATASET TESTING, WITH FACILITIES FOR USE OF RACF OR ACF2.
     - THE HELP COMMAND ONLY LISTS COMMANDS WHICH ARE VALID FOR THE CURRENT
       USER.

AS OF VERSION 24 OF THIS TAPE, THE NERDC WILL NO LONGER BE SUPPORTING THE
QUEUE COMMAND FOR VERSIONS OF JES2 PRIOR TO SP 1.3.0.  AN ATTEMPT WILL BE MADE
TO KEEP THE OLD SUPPORT IN THE QUEUE COMMAND, BUT THERE ARE NO FACILITIES HERE
FOR TESTING THE OLDER VERSIONS.
.pa
.nf
@FILE016@***********************************************************************
*                                                                              *
*         F I L E   1 6    N E R D C   R M T 3 6 0   W O R K S T A T I O N     *
*                                                                              *
********************************************************************************

.ju left
     JACK SCHUDEL              (904) 392-4601
     NORTHEAST REGIONAL DATA CENTER
     233 SPACE SCIENCES RESEARCH BUILDING
     UNIVERSITY OF FLORIDA
     GAINESVILLE, FLORIDA  32611

THIS FILE CONTAINS THE NERDC'S VERSION OF THE OLD IOWA WORKSTATION PACKAGE
THAT ALLOWS A PROGRAM RUNNING UNDER MVS OR MVT TO EMULATE A HASP MULTILEAVING
WORKSTATION.  THIS IS USEFUL FOR TESTING AND AS A WAY TO PASS JOBS AND
OUTPUT TO SYSTEMS THAT ARE NOT YET RUNNING A NETWORKING VERSION OF JES2.
.pa
.nf
@FILE017@***********************************************************************
*                                                                              *
*         F I L E   1 7    N E R D C   J E S M O D S                           *
*                                                                              *
********************************************************************************

.ju left
      JACK SCHUDEL              (904) 392-4601
      NORTHEAST REGIONAL DATA CENTER
      233 SPACE SCIENCES RESEARCH BUILDING
      UNIVERSITY OF FLORIDA
      GAINESVILLE, FLORIDA  32611

THIS FILE CONTAINS SEVERAL OF THE NERDC'S MODIFICATIONS TO THE SP VERSION OF
JES2.
THE FOLLOWING MODIFICATIONS ARE INCLUDED:
    NE000    * DOCUMENTATION CONTROL.
    NE001    * SUPPRESSION OF $HASPGEN COPY CODE EXPANSION.
    NE003    * ISSUE LOAD POINT MESSAGES.
    NE004    * CONDITIONAL INITIALIZATION PROCESSING.
    NE005    * INITIATORS WILL BE INITIALIZED AS DRAINED ($PI).
    NE008    * NERDC CONTROL BLOCK FILLERS.
    NE009    * SUPPORT FOR NERDC COMMAND ADDITIONS.
    NE010    * $YM COMMAND TO LIST MODULE ADDRESSES.
    NE011    * CHANGE $D'JOBNAME' TO NOT REQUIRE ENDING APOSTROPHE.
    NE012    * JOB DISPLAY BY PREFIX.
    NE013    * HASPXJ04 - READER CONTROL CARD SCAN EXIT.
    NE016    * OUTPUT HEADER LINE SPECIFICATION.
    NE020    * PLACE STARS ON FOLD OF HEADER PAGE.
    NE021    * SELECTABLE PRINT TRANSLATION.
    NE026    * CHANGE $COFCVE IN HASPCOMM TO SUPPORT NUMBERS > 99999.
    NE028    * RESTRICTIONS ON $ COMMANDS FROM READERS.
    NE030    * ALLOW 'REMOTE' ON ROUTE CARDS.
    NE031    * SMF ID OF CREATING SYSTEM ON SYSLOG.
    NE044    * CHECK SMFWTM RETURN CODES IN HASPMISC.
    NE045    * DO NOT PRINT DELETED JOBS ROUTED TO LOCAL.
    NE052    * $YB COMMAND TO LIST AVAILABLE BUFFERS.
    NE067    * ALLOW SNA/SCS 3287'S AS REMOTE PRINTERS (MAY NOT WORK).
    NE068    * PERFORMANCE CHANGE IN HASPBSC COMPRESSION ROUTINE.
    NE072    * TREAT /*EOF AND /*EOJ CARDS AS VALID JECL.
    NE075    * CHANGE $DQ TO LIST NUMBER OF HELD JOBS OF THOSE LISTED.
    NE076    * CHANGE $DQ & $DN TO IGNORE HELD JOBS IF "H=N" IS
               SPECIFIED.

IN ADDITION, A VERSION OF THE JES2 PERFORMANCE MONITOR IS INCLUDED IN
MEMBERS:
    JESMON   * THE MONITOR PROGRAM
    JESMONR  * THE REPORT PROGRAM
    JESMOND  * THE DOCUMENTATION FILE (TSO FORMAT / WATERLOO
               SCRIPT INPUT FILE)

IN ADDITION, MODS TO VM/RSCS ARE PROVIDED TO ALLOW A VM NODE TO BE
ATTACHED TO A JES2 NETWORK WITHOUT THE NEED OF CONNECT CARDS AT THE JES2
NODE.  THIS WILL ONLY WORK IF THE VM NODE IS AN 'ENDNODE' (NO STORE AND
FORWARD), SINCE RSCS WILL ACCEPT BUT NOT UNDERSTAND THE NCC RECORDS.
    RSCS2NJE * THE VERSION FOR RELEASE 2 OF RSCS
    RSCS3NJE * THE VERSION FOR RELEASE 3 OF RSCS
               (NOTE THAT THE RELEASE 3 VERSION WILL NOT WORK WITH CTC'S).
.pa
.nf
@FILE018-19@********************************************************************
*                                                                              *
*         F I L E   1 8 - 1 9    O N L   R M T 3 6 0   W O R K S T A T I O N   *
*                                                                              *
********************************************************************************

.ju left
The following is an abstract of the HASP Remote Terminal Programs
supplied by the Oak Ridge National Laboratory:

SHARE Installation Code = ONL

Installation Contact = Robert M. Jinkins
   (JES2 only)         Computer Sciences Division
                       Union Carbide Corp., Nuclear Division
                       Oak Ridge National Laboratory
                       P.O. Box X
                       Oak Ridge, Tennessee  37830

                       Phone: (615) 574-7208/5300
                               FTS  624-7208/5300

JES2 Version = Any

Last Update = NOV 1981

Distribution Format = IEBCOPY Unloaded PDS
   File 1 = Source and Documentation:
               PDS: DCB=(RECFM=FB,LRECL=80,BLKSIZE=3120),
                    UNIT=3350,SPACE=(TRK,(60,10,5)
               Tape: DCB=(RECFM=FB,LRECL=80,BLKSIZE=32720)
                     Non-labeled, 6250 BPI.
   File 2 = Old HASP RMTGEN Load Module:
               PDS: DCB=(RECFM=U,BLKSIZE=7294),
                    UNIT=3350,SPACE=(TRK,(2,,2))
               Tape: DCB=(RECFM=VS,LRECL=7310,BLKSIZE=7314)
                     Non-labeled, 6250 BPI.

Mod Format = Source, Documentation, and RMTGEN input.

Mod Documentation = Member $$$INDEX in the first file
                    (The member you are now reading).

Disclaimer = The authors, make no representation or warranty of any
kind whatsoever, including, but not limited to, representations
or warranties, express or implied, or merchantability, fitness for
use or purpose, accuracy or completeness of processes, procedures,
designs, definitions, instructions, information, or functioning of
any programs, documents, or related materials; the authors further
expressly disclaim any knowledge of purpose for which these programs,
documents, or related material may be utilized or their applicability
for such use, nor shall the fact of making them available constitute
any such representation, warranty, or knowledge; nor do the authors
assume any liability, responsibility, or obligation arising from the
use or malfunctioning of these computer programs, documentation, or
related materials.

Acknowledgment: The basic workstation program mods were written at the
University of Iowa and were futher modified by Jack Schudel at the
University of Florida.

Note: Member RMTJOUT is an example of using VSAM to write to an
      internal reader.
                                                              | Member
.nf
Description of Program or Documentation                      | Name(s)
=============================================================#=========
The member you are reading now is called $$$INDEX.           | $$$INDEX
-------------------------------------------------------------+---------
This is the IBM source for the HASP II.3.1 System 360        | HRTPB360
workstation program. This stand-alone workstation source is  |
used with RMTGEN type update mods to create new workstation  |
programs which run on MVT and MVS systems.                   |
-------------------------------------------------------------+---------
This member contains the default options needed to do a      | HRTPOPTS
RMTGEN.                                                      |
-------------------------------------------------------------+---------
This is the RMTGEN input to create a workstation program     | HRTP
which can run as a task on an MVT or MVS system. The members | JCL
are:                                                         | PROC
  HRTP - The RMTGEN input.                                   |
  JCL  - Model JCL to do the RMTGEN.                         |
  PROC - Model PROC to execute the workstation program.      |
-------------------------------------------------------------+---------
*** The following code has not been used since July 1981 *** |
The HASP II.3.1 System 360 stand-alone workstation program   | DOCRMT1
was modified to run as a task under MVT or MVS. At ONL, the  | DOCRMT91
workstation program has been futher modified to create two   | DOCST91
special purpose workstations:                                | RMT1
 - A workstation which receives job streams as punched data  | RMT91
   and passes the jobs to MVT/HASP via an internal reader.   | RMTCONEX
 - A workstation which receives SYSOUT output along with     | RMTJOUT
   special separator information which is used to generate   | RMTPPU
   a job using the user's Jobname, Account number, Programmer|
   name, Destination, SYSOUT Class, and Forms number.        |
These workstation programs along with a few MVT/HASP mods    |
allow an MVT/HASP system to function as a sort of crude NJE  |
node. The package consists of the following members:         |
  DOCRMT1  - Operator documentation for the SYSOUT Receiver. |
  DOCRMT91 - Operator documentation for the Job Receiver.    |
  DOCST91  - Operator documentation on a special command     |
             to determine the availibility of the links.     |
  RMT1     - The SYSOUT Receiver workstation update.         |
  RMT91    - The Job Receiver workstation update.            |
  RMTJOUT  - A subroutine used by RMT1 to generate Jobs.     |
  RMTPPU   - A program executed to reconstruct SYSOUT output.|
=============================================================#=========
.pa
.nf
@FILE022@***********************************************************************
*                                                                              *
*         F I L E   2 2    E . F . M A C D O N A L D   E X I T 0 0 5           *
*                                                                              *
********************************************************************************

.ju left
THIS PROGRAM IS A JES2/SP1.3.6 (FMID HJE1367) AND JES2/SP2.1.7 (HJE2215)
USER EXIT #5 ROUTINE.

THERE ARE NO INSTALLATION UNIQUE CONSIDERATIONS EXCEPT THAT THE COMMANDS
"$JC", "$JL", "$JM" AND "$JD" ARE NOT BEING USED FOR ANYTHING ELSE.  NO
CHANGES TO JES2 CODE ARE REQUIRED.

WHILE THIS PROGRAM IS NOT SUPPORTED IN ANY WAY WHEN USED OUTSIDE THE
AUTHORS INSTALLATION, WE WOULD LIKE TO HEAR OF ANY SUGGESTIONS OR
PROBLEMS.

                       TOM SLONE
                       E. F. MACDONALD MOTIVATION
                       DATA PROCESSING DEPT - 9TH FLOOR
                       111 NORTH MAIN STREET
                       DAYTON, OHIO   45402
                       (513) 226-5520

THE PROGRAM PROVIDES FOUR BASIC FUNCTIONS:

   1.  CANCEL ALL JOES (JOB OUTPUT ELEMENTS) OF A SPECIFIED JOB
       IN A SPECIFIED SYSOUT CLASS.  SIMILAR TO VS1 "C JOBNAME,OUT=X"
       EXAMPLES:
          $JCJ175,Q=D (CANCEL ALL SYSOUT=D JOES OF J175)
          $JC'MYJOB',Q=E (CANCEL ALL SYSOUT=E JOES OF JOBNAME "MYJOB"
       THE OPERAND "Q=" IS REQUIRED; USE JES2 "$C" COMMAND TO CANCEL
       ALL OUTPUT OF A JOB.

   2.  LIST ALL JOES IN SYSOUT CLASS ORDER.
       LIST MAY BE RESTRICTED TO A SELECTED CLASS, OR ALL CLASSES
       EXCEPT A SELECTED CLASS.  SIMILAR TO THE VS1 "SO" COMMAND.
       EXAMPLES:
          $JL      (LIST ALL JOES IN SYSOUT CLASS ORDER)
          $JL,Q=Z  (LIST ALL JOES IN SYSOUT QUEUE Z)
          $JL,Q=-P (LIST ALL JOES EXCEPT THOSE IN SYSOUT QUEUE P)
       EACH SELECTED JOE IS LISTED IN THE FOLLOWING FORMAT:
       JNNNN JJJJJJJJ C I.I.I FORM  X/Y P=NNN LLLLLLLLL
       WHERE JNNNN IS THE JES2 JOB NUMBER (J175, S3968, ETC.),
       JJJJJJJJ IS THE JOBNAME, I.I.I IS THE JOE ID, FORM IS
       THE FORM NUMBER, FCB IS THE FCB NAME, "X" IS "Y" IF THE DEST
       IS LOCAL, "Y" IS "Y" IF THE JOE IS SELECTABLE AND THE *JOB*
       IS NOT HELD, "Y" IS "N" IF THE JOE IS NOT SELECTABLE,
       "Y" IS "H" IF THE JOB IS HELD, "NNN" IS THE PRIORITY OF THE
       JOE (NOT THE JOB), AND LLLLLLLLL IS THE JOE LINECOUNT.
       TO LIST ALL JOES OF A PARTICULAR JOB, USE THE JES2
       "$L...,ALL" COMMAND.

   3.  MOVE THE JOES OF A SELECTED JOB FROM A SELECTED SYSOUT CLASS
       TO A DIFFERENT SELECTED SYSOUT CLASS.  SIMILAR TO VS1
       "E JOBNAME,CLASS=X,OUT=Y".  EXAMPLES:
          $JMJ175,FROMQ=X,TOQ=Y (MOVE J175 SYSOUT=X JOES TO SYSOUT=Y)
          $JM'MYJOB',TOQ=C,FROMQ=G (MOVE JOBNAME "MYJOB" SYSOUT=G
                                    JOES TO SYSOUT=C)
       TO MOVE *ALL* JOES OF A JOB TO A SELECTED SYSOUT CLASS, USE
       THE JES2 "$TO" COMMAND.

   4.  DISPLAY THE CURRENT JULIAN DATE.  THIS IS INTENDED FOR
       USE WITH THE JES2 AUTOMATIC COMMAND FACILITY TO DATESTAMP
       HARDCOPY LOGS.  FORMAT IS "$JD"; NO OPERANDS.
.pa
.nf
@FILE023@***********************************************************************
*                                                                              *
*         F I L E   2 3    A B S T R A C T   F R O M   O L D   T A P E         *
*                                                                              *
********************************************************************************

.ju left
THIS FILE CONTAINS THE ABSTRACT FILE FROM THE ORIGINAL JES2 PROJECT MODS
TAPE THAT WAS STARTED BY STEVE ANDERSON IS NOW AVAILABLE ONLY THROUGH
THE SHARE PROGRAM LIBRARY AGENCY AS PROGRAM NUMBER 370D-05.6.001.  THAT
TAPE CONTAINS MODIFICATIONS THAT ARE APPLICABLE TO JES2 AND NJE VERSIONS
PRIOR TO SP 1.3.0.
.pa
.nf
@FILE024@***********************************************************************
*                                                                              *
*         F I L E   2 4    J E S 2   P E R F O R M A N C E   M O N I T O R     *
*                                                                              *
********************************************************************************

.ju left
THIS FILE CONTAINS A VERSION OF THE JES2 PERFORMANCE MONITOR THAT HAS
BEEN UPDATED FOR JES2 AT THE SP 1.3.0 LEVEL.

THE ORIGINAL MONITOR WAS DEVELOPED BY STEVE MYERS OF INA, WITH
ENHANCEMENTS PROVIDED BY SELBY SHANLY OF DATACROWN.  SP SUPPORT WAS
PROVIDED BY MELLON BANK, AND FURTHER EXTENDED BY JOHN KINN AT LOCKHEED
AND BILL MOSTELLER AT BOEING COMPUTER SERVICES.
.pa
.nf
@FILE025@***********************************************************************
*                                                                              *
*         F I L E   2 5    H I T A C H I   X R E F A S M   P R O G R A M       *
*                                                                              *
********************************************************************************

AUTHOR:        A. BRUCE LELAND
               HITACHI AMERICA, LTD.
               1800 BERING DRIVE
               SAN JOSE, CALIF. 95112
               (408) 292-6404

XREFASM:       A CROSS REFERENCE CONSOLIDATION PROGRAM FOR SYSTEMS
               OF ASSEMBLER ROUTINES (SUCH AS THE JES2 SUBSYSTEM).

OPERATION:     THE ASSEMBLER LISTINGS ARE READ BY THE PROGRAM
               WHICH ABSTRACTS THE LISTING CROSS REFERENCE DATA,
               SORTS SYMBOLS ALPHABETICALLY AND PRODUCES THE FINAL
               CONSOLIDATED CROSS REFERENCE REPORT.

SUPPORTED ASSEMBLERS:

     A.  STANDARD MVS ASSEMBLER (IFOX)

     B.  ASSEMBLER "H" PRODUCT

JCL:

     //STEPNAME  EXEC PGM=XREFASM
     //LISTINGS    DD DSN=ASSEMBLER.INPUT.LIST,DISP=SHR
     //SORTWK01    DD UNIT=SYSDA,SPACE=(CYL,(10,10))
     //SORTWK02    DD UNIT=SYSDA,SPACE=(CYL,(10,10))
     //SORTWK03    DD UNIT=SYSDA,SPACE=(CYL,(10,10))
     //SYSOUT      DD SYSOUT=A                   -SORT PGM MESSAGES-
     //SORTLIB     DD DSN=SYS1.SORTLIB,DISP=SHR  -MAY NOT BE NEEDED-
     //SYSPRINT    DD SYSOUT=A                   -CONSOLIDATED XREF-

OPTIONS:

     A.  IF A FULL CROSS REFERENCE (LIKE THE XREF(FULL) OPTION) IS
         DESIRED, PARM=FULL MAY BE CODED ON THE EXEC STATEMENT.  NOTE
         THAT THIS OPTION IS ONLY EFFECTIVE IF THE LISTING DATA SET
         WAS GENERATED WITH THE XREF(FULL) OPTION IN THE ASSEMBLIES.

     B.  THE LISTINGS DD STATEMENT MAY DEFINE A PDS (PARTITIONED
         DATA SET).  IF THAT IS THE CASE, ALL DATA FROM ALL OF THE
         PDS MEMBERS WILL BE USED.

     C.  THE LISTINGS DD STATEMENT MAY DEFINE ONE OR MORE CONCATENATED
         SEQUENTIAL DATA SETS.  IF THIS IS DONE, THE DATA SET WITH
         THE LARGEST BLOCKSIZE MUST BE THE FIRST DATA SET IN THE
         THE CONCATENATION SEQUENCE (ALTERNATIVELY, A LARGE BLOCKSIZE
         COULD BE PROVIDED FOR THE FIRST DATA SET BY OVERRIDING THE
         DCB PARAMETER WITH A LARGE, VALID BLOCKSIZE VALUE).

RESTRICTIONS:

     A.  THE FIRST "TITLE" STATEMENT OF EACH ASSEMBLY PROGRAM SHOULD
         HAVE A ONE-TO-EIGHT CHARACTER NAME FIELD WHICH IDENTIFIES
         THE PROGRAM SO THAT A SYMBOL CAN BE TRACKED BACK TO ITS USE
         BY MODULE NAME.

     B.  ALTHOUGH LITERALS ARE ALSO CROSS REFERENCED, THEY ARE ONLY
         ALLOWED A 100 CHARACTER LISTING LENGTH (AS APPOSED TO THE
         THEORETIC MAXIMUM OF ABOUT 174 CHARACTERS).  LITERALS WITH
         MORE LISTING CHARACTERS WILL PROBABLY CAUSE INCORRECT
         RESULTS ON AT LEAST THE OUTPUT LINES LISTING THOSE LITERALS.
.pa
.nf
@FILE026@***********************************************************************
*                                                                              *
*         F I L E   2 6    U . S .   C H A M B E R   O F   C O M M E R C E     *
*                                                                              *
********************************************************************************

.ju left
        THIS IS THE EQUIV OF US SENATES IEFUJV CONVERTED TO JES EXIT-6

          IT IS IN PRODUCTION AT US CHAMBER OF COMMERCE

            FOR FURTHER INFO CONTACT DICK CEASER AT (301) 468-5169


            INSTALLION INSTRUCTION
    ----------------------------------------
    1. COPY $CLASS, CLASSTAB, CLEXAMP AND SMF239 TO YOUR MACLIB
    2. ASSEMBLE CLASS TABLE AND EXIT6 INTO A LNKLST LIBRARY
      (SEE EXAMPLES IN MEMBERS CLA$TAB2 AND EXIT6  )
    3. ALLOCATE A SNAP DUMP DATA SET AND PUT DD STMT IN JES2 PROC
    4. MODIFY JES PARMS DEFINE AND LOAD JESXIT6
        (E.G. EXIT006  JESXIT6,ENABLE      AND
              LOAD JESXIT6 )
       MODIFY PARMLIB MEMBER SMFPRM00 TO GATHER TYPE 239 RECORDS
    5. TEST... SMFPGM WILL PRINT REPORT OF SMF TYPE 239 USER RECORDS
         SO YOU MAY WANT TO ASM AND LINK AND USE THIS PROGRAM TO TRACK
         JOB CLASS ASSIGNMENTS
       ALSO SNAP WILL PRINT THE KEY DATA AREAS SNAPPED
       (YOU CAN ZAP THE VARIOUS BRANCH INSTRUCTIONS TO FORCE SNAPS)

NOTE: DSFIND AND FINDMEM ARE LITTLE PGMS I FOUND HANDY TO 'FIND THINGS'
      SEE LISTINGS
.pa
.nf
@FILE027@***********************************************************************
*                                                                              *
*         F I L E   2 7    S N A   3 2 8 7   S U P P O R T                     *
*                                                                              *
********************************************************************************

.ju left
                    JES2 modifications for
                      SNA printer support

                         Knud Nielsen
                    Copenhagen Handelsbank
                        EDP Department
                        Holmens Kanal 2
                     DK-1091 Copenhagen K
                            Denmark
                 Tel. +45 2 96 55 33 ext. 2183
                        March 14, 1983

In the following description, the individual modifications will be
designated  by the SMP  SYSMOD identifications  assigned for our
system, e.g. LOC0058.  The modifications are shipped on the tape in SMP
format.  All modifications apply to JES2 release SP1.3.0.

LOC0043

This  update for  HASPSNA  provides  support for  SNA  printers (3287,
7436, 3289) as JES2 remote printers.  Other SNA printers (3776,  8100)
can  be  used by  JES2  as  before applying  this change.  Developed by
B&W Diesel, Copenhagen.

LOC0042

This update for HASPSNA provides sharing of SNA printers between JES2
and IMS or another similar VTAM application.  May be  applied jointly
with modification  LOC0043 or  without LOC0043.  Developed by
Copenhagen Handelsbank, November 1980.

LOC0058

This update for HASPCOMM enhances  the response to the operator command
    $DU,RMTnnn
when the actual remote is an SNA work station.  With this update, the
SNA LUNAME  will be  displayed on  the console.   This information
will help  operators  diagnose  problems with  I/O errors etc.
   If operators  are able  to alter  the LUNAME  (see LOC0059), this
mod is  required to see the actual LUNAME  assigned to the remote.
Developed by Copenhagen Handelsbank, March 1982.

LOC0059

This update for HASPCOMM provides a new operand
    N=luname
in the operator command
    $TRMTnnn
which makes by operator able to alter the LUNAME of a SNA remote.  See
syntax rules in the actual code.

NOTE:
This modification has been used to alter LUNAMEs, not to assign a
LUNAME to a SNA remote  without LUNAME specified in JES2PARM.  If an
empty LUNAME  is to be replaced, we suggest  you add this statement in
the SETLUNAM copy member after EX R15,LUNAMMVC:
  OI  RATFLAGS,RATPILUN   LUNAME permanently assigned  KHB00645
Developed by Copenhagen Handelsbank, March 1982.

LOC0100

Teamco, Norway has experienced a  problem with the present JES2 SNA
support if 3270-type SNA printers are used on a JES2 system which  also
communicates with  IBM  8100  og IBM  3970.   This problem was solved
by Teamco using an additional JES2 modification which is also included
on the tape.

NOTE:

The following comments contributed by Bill Mosteller (BCG). (03 AUG 83)
There may be problems with regular SNA RJE devices since some of them do
not request FM Headers in the bind, but do require them from JES2.
Possible fixes are being worked on by a few sites, and will be included
as soon as they are available.
.nf
.pa
.nf
@FILE028@***********************************************************************
*                                                                              *
*         F I L E   2 8    T U C C   N J H   M O D S                           *
*                                                                              *
********************************************************************************

.ju left
                        ABSTRACT

TUCC NJE HEADER AND TRAILER USER SECTION EXTENSIONS.

JIM WALKER
TRIANGLE UNIVERSITIES COMPUTATION CENTER
P. O. BOX 12076
RESEARCH TRIANGLE PARK, NC  27709
(919) 549-0671

THIS MODIFICATION IS DISTRIBUTED AS AN UNLOADED PDS WITH 12 MEMBERS.

TUCC EXTENDS THE NJE HEADER AND TRAILER TO INCLUDE LOCALLY REQUIRED
INFORMATION.  OTHER INSTALLATIONS MAY BE INTERESTED IN THE TECHNIQUE
USED FOR THE USER SECTION EXTENSIONS, BUT PROBABLY NOT IN THE SPECIFIC
TUCC DATA.

THE MODIFICATION IS WRITTEN TO ALLOW NON-TUCC TYPE USER SECTIONS TO BE
RECEIVED, SAVED, AND RETURNED.  WE CONSIDER THIS TO BE AN IMPORTANT
FEATURE, BECAUSE IT ALLOWS US TO COMMUNICATE WITH OTHER NODES WHICH MAY
HAVE A DIFFERENT FORMAT.

THE MODIFICATION IS IMPLEMENTED VIA 4 USER EXITS.  EXIT 236 IS INVOKED
FROM HASPRDR TO ADD A TUCC USER SECTION TO THE NJE HEADER AND TRAILER
UNLESS ANOTHER NODES USER SECTION WAS RECEIVED VIA NJE.  IF ANOTHER
FORMAT USER SECTION WAS RECEIVED, IT IS SAVED UNMODIFIED AND WILL BE
RETURNED.  EXITS 237-239 ARE INVOKED FROM HASPNET TO UPDATE THE TUCC
USER SECTION ON JOBS BEING TRANSMITTED IF A TUCC USER SECTION EXISTS
FOR THE JOB.  IF A TUCC USER SECTION DOES NOT EXIST, THESE EXITS DO
NOTHING.

MUCH OF THE INFORMATION INCLUDED IN THE TUCC USER SECTIONS IS GATHERED
FROM SMF RECORDS AS THE JOB RUNS. THEREFORE THE DATA IS NOT AVAILABLE
UNTIL THE JOB HAS COMPLETED EXECUTION.  INSTEAD OF KEEPING THE
INFORMATION UPDATED AT ALL TIMES, WE UPDATE IT JUST AS IT IS BEING
TRANSMITTED.  HENCE THE REQUIREMENT FOR THE UPDATE EXITS FROM HASPNET.

.nf
THE FOLLOWING MEMBERS ARE INCLUDED:

ABSTRACT - THE MEMBER YOU ARE CURRENTLY READING
HASPRDR  - IEBUPDTE STATEMENTS TO UPDATE HASPRDR (1 COPY STATEMENT)
HASPNET  - IEBUPDTE STATEMENTS TO UPDATE HASPNET (3 COPY STATEMENTS)
$NHD     - IEBUPDTE STATEMENTS TO UPDATE THE NJE HEADER
           DSECT (2 COPY STATEMENTS FOR HEADER AND TRAILER ADDITIONS)
TUCNJH   - TUCC USER SECTION HEADER DEFINITION, COPIED INTO $NHD
TUCNJT   - TUCC USER SECTION TRAILER DEFINITION, COPIED INTO $NHD
TUC1360A - EXIT 239 INVOCATION, COPIED INTO HASPNET
TUC1360B - EXIT 237 INVOCATION, COPIED INTO HASPNET
TUC1360D - EXIT 238 INVOCATION, COPIED INTO HASPNET
TUC1360E - EXIT 236 INVOCATION, COPIED INTO HASPRDR
EXIT236  - EXIT 236 CODE
NJEHDRX  - EXIT 237, 238, AND 239 CODE
.pa
.nf
@FILE029@***********************************************************************
*                                                                              *
*         F I L E   2 9    H C I   S E C O N D A R Y   L O G O N               *
*                                                                              *
********************************************************************************

.ju left
  MIKE MINTER    HALLMARK CARDS, INC.
                 DP TECHNICAL SERVICES - #352
                 2501 MCGEE
                 KANSAS CITY, MO. 64108
         PHONE  (816) 274-5965
                (816) 274-5421

THIS FILE IS FROM HALLMARK CARDS, INC. AND CONTAINS MVS MODIFICATIONS TO
ALLOW TSO LOGONS AND MVS START COMMANDS TO BE DIRECTED TO A SECONDARY
JES2 SUBSYSTEM.

NO COMMITMENT IS MADE THAT WE WILL MAINTAIN THESE PROGRAMS, OR THAT THEY
WILL FUNCTION WITH LATER RELEASES OF MVS.  THE MODIFICATIONS HAVE BEEN
USED SUCESSFULLY IN THE FOLLOWING ENVIRONMENTS:
     MVS SE RELEASE 3.8
     MVS SP VERSION 1 RELEASE 1.1  (SP 1.1.1)
     MVS SP VERSION 1 RELEASE 3.1  (SP 1.3.1)

*****************
* DOCUMENTATION *
*****************

$DOC     - COMPLETE DOCUMENTATION.

$SMPJCL  - SAMPLE JCL TO INSTALL THESE USERMODS VIA SMP4.

HVT      - A MAPPING MACRO USED TO DEFINE THE HALLMARK VECTOR TABLE
           (HVT) WHICH IS POINTED TO BY THE CVTUSER FIELD OF THE CVT.  A
           ONE BIT FLAG IS USED IN THIS TABLE TO INDICATE THAT THE
           SECONDARY JES2 LOGON/START CODE IS ENABLED OR DISABLED.

TMVS024  - SOURCE CODE FOR USERMOD TMVS024 THAT WILL INSTALL THE
           "HALJSWT" CSECT INTO THE STARTED TASK CONTROL LOAD MODULE
           (IEESB605).  THE USERMOD IS COMPLETELY INSTALLED VIA SMP4
           RECEIVE AND APPLY PROCESSING.  CHANGE THE FMID FROM JBB1326
           TO YOUR LEVEL OF MVS.  REMOVE OR ALTER THE CODE THAT
           REFERENCES THE HVT TO SUIT YOUR OWN NEEDS.

TMVS025  - THIS IS A USERMOD SUPERZAP TO MODULE IGG0193K WHICH IS NEEDED
           TO ALLOW THE IEFSSREQ OPEN REQUEST FOR THE STCINRDR OR THE
           TSOINRDR TO BE PROCESSED BY THE SECONDARY JES2.
.pa
.nf
@FILE030@***********************************************************************
*                                                                              *
*         F I L E   3 0    N F I   M O D S   F O R   1. 3. 0. - 1. 3. 6.       *
*                                                                              *
********************************************************************************

.ju left
      NORTHWESTERN BANK EXITS, PROGRAMS, AND UTILITIES

      JOHN V. HOOPER
      FIRST COMPUTER SERVICES
      420 BRUSHY MOUNTAIN ROAD
      WILKESBORO, N.C. 28697
      (919) 651-5414

NORTHWESTERN BANK NO LONGER EXISTS.  WE HAVE MERGED WITH FIRST COMPUTER
SERVICES IN CHARLOTTE, N.C. AS PART OF THE CHANGING BANKING INDUSTRY.
I DON'T KNOW IF WE WILL BE ABLE TO MAINTAIN THESE EXITS IN THE FUTURE,
BUT WE WILL TRY.  BEST OF LUCK.

THE JES2 EXITS PREFIXED WITH 'JES' ARE FOR MVS SP 1.3.3 (HJE2329), SP
1.3.4 (HJE2330) OR SP 1.3.6 (HJE1367).  THE EXITS PREFIXED WITH 'JSP'
ARE FOR MVS SP 1.3.0 (HJE2326).  THERE ARE SOME FUNCTIONAL DIFFERENCES
BETWEEN THE MODULES BECAUSE OF LOCAL REQUIREMENTS BUT ON THE WHOLE, THE
EXITS ARE ALMOST IDENTICAL.

JES$LF   - A JES2 EXIT (5) TO PROVIDE OPERATOR CAPABILITY TO DISPLAY
           DETAILED INFORMATION ABOUT JOBS IN THE PRINT QUEUE.  IT IS
           DESIGNED TO ENHANCE THE DISPLAY NORMALLY PROVIDED BY THE $DF
           COMMAND.

JESEXIT1 - A JES2 EXIT (1) TO PROVIDE ENHANCEMENTS TO THE IBM SUPPLIED
           SEPARATOR PAGE.  SUPPORT IS ALSO PROVIDED FOR THE KODAK
           KOMSTAR MICROFICHE PROCESSOR, THE DATAGRAPHIX ARIS II
           MICROFICHE PROCESSOR, THE IBM 6670 DOCUMENTATION PROCESSOR,
           AND THE XEROX 9700 PRINTER.

JESEXIT3 - A JES2 EXIT (3) TO CREATE AN NJE JOB HEADER TO SAVE JOB
           ACCOUNTING INFORMATION LONGER THAN 4 CHARACTERS.  NOTE THAT
           THIS EXIT IS USED IN CONJUNCTION WITH JESEXIT7 TO PRODUCE AN
           SMF TYPE 30 RECORD FOR NJE PRINT JOBS AT THE RECEIVING NODE
           TO ALLOW JOB ACCOUNTING FOR NJE PRINT.

JESEXIT5 - A JES2 EXIT (5) TO FILTER JES2 COMMANDS TO DISALLOW CERTAIN
           COMMANDS OR OPERANDS ON THE COMMANDS.

JESEXIT6 - A JES2 EXIT (6) TO PERFORM STANDARDS ENFORCEMENT FOR JCL AS
           WELL AS SET THE JOB CLASS BASED UPON THE RESOURCES SUCH AS
           TAPE UNITS, REGION SIZE, OR CPU TIME.  VIOLATIONS TO
           STANDARDS AND JOB CLASS REPORTING IS MADE TO THE JOB MESSAGE
           DATA SET FOR THE JOB AS IF THE CONVERTER WAS PRODUCING THE
           ERROR MESSAGES.

JESEXIT7 - A JES2 EXIT (7) TO CREATE AN SMF TYPE 30 RECORD FOR NJE
           PRINT JOBS AT THE RECEIVING NODE TO ALLOW JOB ACCOUNTING FOR
           NJE PRINT.  NOTE THAT THIS EXIT IS USED IN CONJUNCTION WITH
           JESEXIT3 TO PROVIDE JOB ACCOUNTING INFORMATION.

JESEXIT9 - A JES2 EXIT (9) TO ABEND TEST JOBS WHICH EXCEED THE
           ESTIMATED LINE COUNT WHILE ALLOWING ALL OTHER JOBS TO
           CONTINUE.

JESXIT17 - A JES2 EXIT (17) TO VALIDATE THE SIGNON CARD FROM BSC RJE
           WORKSTATIONS.  THIS EXIT WILL ISSUE A CALL TO ACF2 TO
           VALIDATE THE PASSWORD FOR THE REMOTEID.  THE SIGNON ATTEMPT
           WILL BE REJECTED WITH APPROPRIATE MESSAGES IF THE PASSWORD
           IS INVALID.

JESXIT21 - A JES2 EXIT (21) TO EXAMINE JES2 SMF RECORDS TO INSERT
           JOBNAME IN THE SMF TYPE57 RECORD.  THIS NJE SYSOUT
           TRANSMISSION RECORD CONTAINS JOB NUMBER BUT NO JOB NAME.  IT
           IS DIFFICULT TO PRODUCE NJE STATISTICS WITHOUT THE JOBNAME.

TESTJES  - A PROGRAM WHICH CAN BE USED TO TEST THE SP 1.3.3/1.3.4
           VERSION OF JESEXIT6 BY SETTING UP A FAKE EXIT ENVIRONMENT
           AND THEN CALLING THE MAIN ENTRY POINT OF THE EXIT.

TESTJ136 - A PROGRAM WHICH CAN BE USED TO TEST THE SP 1.3.6/2.1.5
           VERSION OF JESEXIT6 BY SETTING UP A FAKE EXIT ENVIRONMENT
           AND THEN CALLING THE MAIN ENTRY POINT OF THE EXIT.

TESTJSP  - A PROGRAM WHICH CAN BE USED TO TEST THE SP 1.3.0 VERSION OF
           JESEXIT6 BY SETTING UP A FAKE EXIT ENVIRONMENT AND THEN
           CALLING THE MAIN ENTRY POINT OF THE EXIT.
.pa
.nf
@FILE031@***********************************************************************
*                                                                              *
*         F I L E   3 1   M E L L O N   B A N K   J E S M O D S   F O R   1.3.4*
*                                                                              *
********************************************************************************

THIS FILE CONTAINS A PDS WITH THE FOLLOWING MEMBERS:
  $$SHRSPL - DOCUMENTATION FOR THE MELLON SHARED SPOOL MODS
  SHRSPL   - THE ACTUAL SHARED SPOOL MODS
  HASPFMT  - A PROGRAM TO PRE-FORMAT NEW SPOOL VOLUMES.
  $$RESMSG - DOCUMENTATION FOR THE RESOURCE SHORTAGE MESSAGE MODIFICATION.
  RESMSG   - THE ACTUAL RESOURCE SHORTAGE MESSAGE MODIFICATION.
 $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
 $  ****  ****  **   ****   ****      * *****  ****   ****  $
 $ *    * *   *  *  *    * *    *     * *     *    * *    * $
 $ *      *   *  *       *      *     * *     *           * $
 $  ****  ****   *   ****   ****      * ***    ****   ****  $
 $      * *      *       *      *     * *          * *      $
 $ *    * *      *  *    * *    * *   * *     *    * *      $
 $  ****  *     ***  ****   ****   ***  *****  ****  *****  $
 $                                                          $
 $  ****  ****  **   ****   *   *     * *****  ****   ****  $
 $ *    * *   *  *  *    *  *   *     * *     *    * *    * $
 $ *      *   *  *       *  *   *     * *     *           * $
 $  ****  ****   *   ****   *****     * ***    ****   ****  $
 $      * *      *       *      *     * *          * *      $
 $ *    * *      *  *    *      * *   * *     *    * *      $
 $  ****  *     ***  ****       *  ***  *****  ****  *****  $
 $                                                          $
 $          ****  *    * *****   ****  *****  *             $
 $         *    * *    * *    * *    * *    * *             $
 $         *      *    * *    * *      *    * *             $
 $          ****  ****** *****   ****  *****  *             $
 $              * *    * *  *        * *      *             $
 $         *    * *    * *  *   *    * *      *             $
 $          ****  *    * *   *   ****  *      ******        $
 $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

  PLEASE SEE DESCRIPTION OF FILE 132 FOR A FULL ABSTRACT.
.pa
.nf
@FILE033@***********************************************************************
*                                                                              *
*         F I L E   3 3    I  N  A    M O D S                                  *
*                                                                              *
********************************************************************************

.ju left
There modifications are from Insurance Company of North America (INA).

The installation contact is:

    J. Stephen Myers
    Insurance Company of North America
    Mail Zone 34
    401 White Horse Road
    Voorhees, New Jersey  08043
    (609) 346-5778

This file contains two JES2 modifications: BSCCPU and DFEXPAND.  These
modifications are for the JES2 component of MVS/SP 1.3.0 or MVS/SP 2.0.

                            BSCCPU

The purpose of the BSCCPU modification is to reduce the processor
utilization of data compression for multileaving BSC terminals.  This
modification is valuable only in a large installation running high
speed NJE or many active BSC terminals.  Processor utilization is
reduced by using the TRT operation rather than a programmed loop to
scan through blank character strings in the output streams generated by
JES2 for NJE or for multileaving RJE workstations.  Based on rough
measurements this modification will reduce processor utilization of
this segment of JES2 by about 8 to 10%.

                            DFEXPAND

The purpose of the DFEXPAND modification is to make two alterations in
the output generated by the JES2 $DF command.  The first alteration is
to eliminate the restriction that if a class count is greater than 99
the command will insert ** rather than the class count into the output
message.  The second alteration is to place all class counts left
justified within the output field.  For example, if the output from the
standard $DF command looks like this:

OUT R=LOCAL   F=STD. C=***** T=***** W = (NONE)  CLASS B= 3,L= 2,M=**
CLASS N=**,Y=11

then the new output will look like this:

OUT R=LOCAL   F=STD. C=***** T=***** W = (NONE)  CLASS B=3,L=2,M=661
CLASS N=787,Y=11
.pa
.nf
@FILE034@***********************************************************************
*                                                                              *
*         F I L E   3 4    A N R   Q U E U E   F O R   1 3 3                   *
*                                                                              *
********************************************************************************

This file contains a version of the QUEUE command for SP 1.3.3.

The installation contact is:

    Glenn Harper
    American Natural Resources Production Company
    5075 Westheimer   Suite 1000 East
    Houston, Texas  77056
    (713) 623-0300
.pa
.nf
@FILE035@***********************************************************************
*                                                                              *
*         F I L E   3 5    K I M B E R L Y   C L A R K   M O D S               *
*                                                                              *
********************************************************************************

THIS DATASET CONTAINS THE SOURCE AND OBJECT CODE FOR 4 PROGRAMS:

     X0202 - $TX     - JES2 EXITS USED AT KIMBERLY CLARK.  EXITS 1, 3,
                       AND 4 ARE PROBABLY TOO SPECIFIC FOR YOU TO
                       USE DIRECTLY, BUT THEY CAN SERVE AS SAMPLES.
                       EXITS 5, 6, AND 7 IMPLEMENT THE $TX COMMAND
                       WHICH CAN BE USED TO DIRECT PROGRAMS TO A
                       DESIGNATED CPU IN A M.A.S. ENVIRONMENT WITHOUT
                       THE NEED TO PUT /*JOBPARM CARDS IN THE JCL.
                       WE USE THIS TO CONTROL THE USE OF PROGRAMS
                       WHICH ARE LISCENCED FOR ONLY ONE CPU.

     X0204 - SETUP   - DISPLAYS JES2 /*SETUP AND /*MESSAGE TEXT
                       FOR JOBS.  JOBS MAY BE SELECTED BY JOBNUMBER,
                       JOBNAME, CLASS, HOLD-STATUS, AND MESSAGE TEXT.
                       SETUP MAY BE USED FROM TSO OR FROM A CONSOLE.

     X0207 - $D      - DISPLAYS JES2 CHECKPOINT DATA FOR TSO USERS
                       INCLUDING QUEUE POSITION AND QUEUE LENGTHS.
                       JOBS MAY BE DISPLAYED BY JOB NAME PREFIX, JOB
                       NUMBER, OR JOB CLASS.  ALSO DISPLAYS ACTIVE
                       JOBS/TSUS/STCS AND NON-EXECUTION QUEUES.  JOBS
                       RUNNING THE ON CPU EXECUTING THE COMMAND WILL
                       HAVE THE STEP NAME AND CPU TIME DISPLAYED.

     X0238 - $DF,ALL - DISPLAYS JOES FOR OPERATOR.  HELPS PRINTER
                       OPERATORS SELECT PRIORITY PRINT JOBS.  ALLOWS
                       REMOTE OPERATORS TO SEE JOBS WAITING TO PRINT
                       EVEN IF THE JOB'S DEFAULT PRINT AND PUNCH
                       ROUTING ARE FOR ANOTHER LOCATION.

     CONTACT: PAUL DIXON
              KIMBERLY-CLARK CORPORATION
              401 NORTH LAKE STREET
              NEENAH, WI 54956
              414-735-2164

THIS SEQUENTIAL DATASET SHOULD BE LOADED INTO A PDS USING IEBUPDTE.
SINCE IT WILL CONTAIN OBJECT DECKS, LIMIT THE BLOCKSIZE TO 3200.  THE
PDS USED 19 TRACKS ON A 3350 (9 ON A 3380) AND 2 DIRECTORY BLOCKS.

     //#1      EXEC PGM=IEBUPDTE,PARM=NEW
     //SYSIN     DD DSN=DOESNT.MATTER,DISP=SHR,
     //             VOL=SER=XXXXXX,LABEL=(<N>,NL),        <- ENTER FILE
     //             DCB=(RECFM=FB,BLKSIZE=32000,LRECL=80)
     //SYSPRINT  DD DUMMY   (USE SYSOUT=* TO PRINT EVERYTHING)
     //SYSUT2    DD DSN=XXX.XXX.XXX.XXX,DISP=(NEW,CATLG), <- ENTER DSN
     //             SPACE=(TRK,(10,10,3)),UNIT=DISK,
     //             DCB=(RECFM=FB,BLKSIZE=3200,LRECL=80)

THE MEMBERS OF THE PDS WILL BE:

     $$$DOC   - THIS DOCUMENTATION
                ---------- X0202 ($TX) MEMBERS ----------
     $$$X0202 - INSTALLATION INSTRUCTIONS FOR X0202 ($TX)
     $TX      - $TX DOCUMENTATION FOR OPERATORS
     X0202    - ASSEMBLER JES2 EXITS FOR JES2/SP1.3 (HJE2226)
     X0202#   - OBJECT DECK FOR X0202
                ---------- X0204 (SETUP) MEMBERS ----------
     $$$X0204 - INSTALLATION INSTRUCTIONS FOR X0204
     $SETUP   - CLIST TO INVOKE SETUP FROM TSO
     $SETUP#  - TSO HELP TEXT FOR $SETUP
     @CVT     - MACRO USED TO COMPILE X0204
     @OFFSET  - MACRO USED TO COMPILE X0204
     PLICOMP  - MACRO USED TO ASSEMBLE SYSSVC
     PLIENTRY - MACRO USED TO ASSEMBLE SYSSVC
     PLIEXIT  - MACRO USED TO ASSEMBLE SYSSVC
     PLIREQU  - MACRO USED TO ASSEMBLE SYSSVC
     SETUP    - PROCEDURE USED TO INVOKE SETUP FROM A CONSOLE
     SETUP#   - DOCUMENTATION FOR SETUP PROCEDURE
     SYSSVC   - SUBROUTINE USED BY X0204 TO ISSUE WTO
     SYSSVC#  - OBJECT DECK FOR SYSSVC
     X0204    - PL/I MAIN PROGRAM TO DISPLAY /*SETUP AND /*MESSAGE TEXT
     X0204#   - OBJECT DECK FOR X0204
     X0205    - SUBROUTINE USED BY X0204 TO READ THE SPOOL
     X0205#   - OBJECT DECK FOR X0205
                ---------- X0207 ($D) MEMBERS ----------
     $$$X0207 - INSTALLATION INSTRUCTIONS FOR X0207 ($D)
     $D       - TSO HELP TEXT FOR $D (NORMAL USER)
     $D#      - TSO HELP TEXT FOR $D (OPERATOR CAPABILITY)
     X0207    - ASSEMBLER MAIN PROGRAM TO DISPLAY CHECKPOINT DATA
     X0207#   - OBJECT DECK FOR X0207
                ---------- X0238 ($TX) MEMBERS ----------
     $$$X0238 - INSTALLATION INSTRUCTIONS FOR X0238 ($DF,ALL)
     $DFALL   - $DF,ALL DOCUMENTATION FOR OPERATORS
     X0238    - ASSEMBLER JES2 EXIT FOR JES2/SP1.3 (HJE2226)
.pa
.nf
@FILE036@***********************************************************************
*                                                                              *
*         F I L E   3 6    J E S 2   P E R F .   M O N .   F O R   1 3 3       *
*                                                                              *
********************************************************************************

.ju left
THIS FILE CONTAINS A VERSION OF THE JES2 PERFORMANCE MONITOR THAT HAS BEEN
UPDATED FOR JES2 AT THE SP 1.3.3 LEVEL.

THE ORIGINAL MONITOR WAS DEVELOPED BY STEVE MYERS OF INA, WITH ENHANCEMENTS
PROVIDED BY SELBY SHANLY OF DATACROWN.
SP 2 SUPPORT WAS PROVIDED BY MELLON BANK, AND FURTHER EXTENDED BY JOHN KINN
AT LOCKHEED AND BILL MOSTELLER AT BOEING COMPUTER SERVICES.
SP 1.3.3 SUPPORT WAS PROVIDED BY BILL MOSTELLER AT BOEING COMPUTER SERVICES.
.pa
.nf
@FILE037@***********************************************************************
*                                                                              *
*         F I L E   3 7    J O B   Q U E U E   F O R M A T   R O U T I N E     *
*                                                                              *
********************************************************************************

.ju left
This code is from Insurance Company of North America (INA).

The installation contact is:

    J. Stephen Myers
    Insurance Company of North America
    Mail Zone 34
    401 White Horse Road
    Voorhees, New Jersey  08043
    (609) 346-5778

               THE JES2 JOB QUEUE FORMAT UTILITY

The JES2 Job Queue Format Utility is a productivity aid that generates a
formatted display of the contents of the checkpoint data set of the JES2
component of MVS/SP 1.3.0 or MVS/SP 2.1.0.  In addition to the display
the utility also validates the contents of the checkpoint data set.

The output display includes:

- The contents of the HCT Checkpoint Area.

- The contents of the QSE's.

- The contents of the direct access checkpoint area.  In addition the
utility calculates the number of track groups assigned to each volume
and determines the number of "bad" track groups and the amount of space
allocated to job on the volume.

- The contents of the Checkpoint Information Elements.  Following the
display for each KIT the utility displays the checkpoint control bytes
for the checkpoint records associated with the KIT.

- The contents of the remote signon table.

- The contents of the first job queue element.  This job queue element
contains a message that contains the time, date and system id of the
system performing the last JES2 cold start.

- A summary of the number of active job queue entries and job output
elements.

- A listing of all currently active jobs in the system.

- A detailed listing of the contents of the job queue.  Optional output
includes a summary of data from the JCT and allocation IOT's for each
job, and a listing of the Job Output Elements assigned to the job.

- A detailed listing of the contents of the Job Output Table, sorted by
the route code assigned to the Job Output Element.

- A list of jobs that appear to have some sort of problem.

- Two directories.  The first directory is sorted by job number and
contains the job number and output page on which the job queue data for
the job appears.  The second directory is sorted by job name and
contains the job name and the output page on which the job queu data for
the job appears.

                    POTENTIAL APPLICATIONS

The applications for which the utility can be used include:

- Validation of the contents of the primary and secondary JES2
checkpoints following a Kxx ABEND.  This validation may prevent
unnecessary cold starts or all-system warm starts.

- Validation of sections of the JES2 checkpoint that are not formatted
using the JES2 command structure or which require multiple commands to
completely format the output.  An example is the display of the remote
signon table, which cannot be displayed using JES2 commands.

- Obtain a display of the JES2 checkpoint parameters that are actually
being used.

- Obtain a display of jobs that have some sort of unusual condition.  If
the optional JCTLIST paramater is specified, this display also includes
the "golden oldies" and "block buster" jobs.

- Determine the amount of SPOOL space that cannot be allocated because
it is not in the free space map or any allocation map.

The output from the utility is intended to be displayed on a printer or
by using TSO/SPF browse.
.pa
.nf
@FILE038@***********************************************************************
*                                                                              *
*         F I L E   3 8    L O C K H E E D   S P 1 3 3 / 1 3 4   M O D S       *
*                                                                              *
********************************************************************************

.ju left
THESE MODIFICATIONS ARE FROM LOCKHEED CALIFORNIA COMPANY (CL)

THE INSTALLATION CONTACT IS:

  RICHARD PACE
  LOCKHEED CALIFORNIA COMPANY
  PLANT A-1, BLDG 67, DEPT 8321
  P.O. BOX 551
  BURBANK, CALIFORNIA 91520

TELEPHONE (818) 847-7492

DATE OF LAST TRANSMISSION TO JES2 SHARE MODS TAPE: 20 SEPT  1985

MODIFICATION $TEXIT      (UPDATED 5 DEC 1984)

THIS IS AN EXIT 5 MODULE WHICH WILL REQUIRE THAT ANY $T EXIT COMMAND
WILL REQUIRE A P=XXXXXXXX KEYWORD.  THE XXXXXXXX WILL BE A 1 TO 8
CHARACTER PASSWORD.  AFTER VERIFYING THE SUPPLIED VALUE, THE P=XXXXXXXX
TEXT WILL BE REMOVED AND PROCESSING WILL RETURN TO NORMAL IBM CODE TO
PROCESS.

MODIFICATION NAME BSCTRACE  (UPDATED 5 DEC 84)

IBM'S SUPPLIED LINE TRACE (TRACE ID 4) FORMATS ONLY THE BUFFER IN WHICH
THE IOB APPEARS.  THUS, ONLY INPUT TRAFFIC IS SEEN.  OUTPUT TRAFFIC IS
PICKED UP FROM A DIFFERENT BUFFER.  THIS CHANGE WILL TRACE ALL DATA
POINTED TO BY READ OR WRITE CCW'S

MODIFICATION NAME CES         (ADDED 11 APR 84)

THIS MODIFICATION TAKES CARE OF THE PERMANENTLY DISCONNECTED NODE
PROBLEM.  REFER TO APAR OZ62754.  THE APPROACH TAKEN WITH THIS
MODFICATION IS TO REMEMBER THE HIGH WATER MARK OF CES VALUES GENERATED
BY THE NODE ON WHICH THE MODFICATION HAS BEEN PLACED.  ANY TIME A NEW
CES IS GENERATED THE VALUE NORMALLY TAKEN IS THAT OF THE TOD CLOCK.
HOWEVER, IF THAT VALUE IS LOWER THAN THAT OF THE HIGH WATER MARK, THE
HIGH WATER MARK + 1 IS USED AND THE HIGH WATER MARK VALUE IS UPDATED.

HODIFICATION NAME COMMXIT     (LAST UPDATED  5 DEC 84)

THIS MODIFICATION PROVIDES EXIT 5 FROM HASPCOMM THE NECESSARY MACROS
NEEDED TO DO MOST INSTALLATION COMMANDS.  SUPPORT IS PROVIDED FOR THE
FOLLOWING COMMANDS:
   $CFSEL
   $CFCVB
   $CFDCTL
   $CFVQE

MODIFICATION NAME DIRECTED    (ADDED 11 MAR 85)

THIS MODIFICATION CAUSES ALL JES2 MODULES IDENTIFIED WITH TWO NEW VERBS
TO BE LOADED INTO CSA AT JES2 INITIALIZATION TIME.  THE MODULES WILL BE
FREEMAINED WHEN JES2 TERMINATES NORMALLY (I.E. $P JES2).

MODIFICATION DUMPLOAD         (ADDED 15 FEB 84)

THIS CODE MAKES DUMPERS AND LOADERS EXTREMELY EASY FOR OPERATORS TO USE
ON AN AD HOC BASIS.  INSTEAD OF REQUIRING THAT TAPE DATA SETS BE
PRE-CATALOGED IN ORDER TO START A DUMPER, THE OUTPUT DATA SETS ARE
DYNAMICALLY ALLOCATED USING A DISPOSITION OF (NEW,CATLG,DELETE).  NOTE
THAT IF YOU PREFER TO MIX MODES OF OPERATION BY HAVING SOME
PRE-CATALOGED DATA SETS AND SOME AD HOC REQUIREMENTS, THAT THIS CODE
SUPPORTS BOTH MODES.

IN ADDITION THE TAPE DATA SETS READ BY LOADERS ARE AUTOMATICALLY
UNCATALOGED WHEN THE LOAD PROCESS IS COMPLETE.

MODIFICATION NAME DYNALLOC      (MODIFIED 15 FEB 84)

THIS CODE SUPPORTS A NEW VERB IN THE HASP INITIALIZATION DECK, DYNALLOC.
THIS VERB IS USED TO SPECIFY THE PROCLIBS USED BY THE CONVERTER.  FROM 1
TO 16 DATA SETS CAN BE SPECIFIED FOR EACH DDNAME.  IF THE CATALOG IS
USED TO LOCATE THE DATA SETS, THE DATA SETS NEED NOT BE CATALOGED IN THE
MASTER CATALOG AS THEY WOULD IF THEY WERE ALLOCATED VIA DD CARDS.

MODIFICATION NAME EXIT10   (UPDATED 20 SEP 85)

THIS IS THE EXIT 10 MODULE RUNNING AT OUR INSTALLATION (ALMOST).  IT
ACCOMPLISHES THE FOLLOWING:

      QUEUES MESSAGES DESTINED FOR REMOTES TO THE CPU
      THAT THE REMOTE IS SIGNED ON TO.  THIS ELIMINATES
      MESSAGE SPOOLING.

      CAUSES ALL MESSAGES THAT EMANATE FROM THE JES2
      ADDRESS SPACE THAT ARE OF INTEREST TO THE
      REMOTE WORK STATION TO BE SENT TO THE REMOTE
      AS WELL AS THE LOCAL CONSOLE.

MODIFICATION GATEWAY           (UPDATED 18 APR 84)

PROVIDE A MEANS TO HAVE TWO NETWORKS HAVE TOTAL NETMAIL COMMUNICATION
BETWEEN THEM WITHOUT EITHER HAVING TO KNOW ALL THE OTHER'S NODE NAMES.
THE BASIC APPROACH IS THAT ONE NODE IN EACH NETWORK KNOW OF EACH OTHER,
BUT NEITHER NEED KNOW ABOUT ANY OTHER NODES IN THE OPPOSITE NETWORK.  AS
NETMAIL TYPE OUTPUT IS PRESENTED TO EXIT 13, THE RECEIVING NODE EXAMINES
THE USERID GATEWAY TABLE FOR A MATCH ON THE (POSSIBLY) PSEUDO USERID.
IF FOUND, IT USES THE REROUTING INFORMATION TO CHANGE THE NODE NAME AND
THE USERID.

MODIFICATION NAME GENTRACE     (ADDED 15 FEB 84)

THIS CODE, WHICH RESIDES IN A SEPARATE MODULE, SUPPORTS THE FORMATT
ING OF TRACE IDS 200 THRU 230.  THE INTERFACES TO ACCOMPLISH THIS ARE
ALL IBM SUPPORTED AND PROVIDED.

MODIFICATION JESDUMP        (ADDED 20 MAR 84)

THIS IS THE VERSION WHICH WE HAVE MODIFIED TO WORK UNDER JES2 SP 1.     3.3.

MODIFICATION OUTPUT         (ADDED   20 APR 84)

THIS MODIFICATION ESSENTIALLY REINSTATES THE GLOBAL OUTPUT INITALIZATION
STATEMENT DROPPED AFTER SP 1.3.0. THIS STATEMENT PROVIDES DEFAULT VALUES
FOR ALL OF THE SUB-PARAMETERS PROVIDED WITH THE STATEMENT. THE STATE-
MENT SUPPORTS ALL OF THE SAME FUNCTIONS AS THOSE SUPPORTED BY THE
/*OUTPUT STATEMENT AND MOST OF THOSE SUPPORTED BY THE OUTPUT JCL
STATEMENT.

MODIFICATION NAME SMF226    (UPDATED 9 APR 84)

THIS MODIFICATION CAUSES AN SMF 226 RECORD (ALMOST IDENTICAL TO THE TYPE
26 RECORD) TO BE GENERATED WHENEVER A JOB HAS AN ERROR EITHER AT
CONVERTER TIME OR INTERPRETER TIME.  THIS IS ESPECIALLY USEFUL FOR USERS
OF APOLLO/STARS OR DCMS FROM VALUE COMPUTING INC.

MODIFICATION SPOOLPAR       (ADDED 22 MAR 84)

THIS MODIFICATION IS A SAMPLE SPOOL PARTITIONING ALGORITHM.  IT IS
IMPLEMENTED USING EXIT 11.  THE APPROACH IS TO DETERMINE HOW MANY ACTIVE
SPOOL VOLUMES THERE ARE AND TO USE THAT NUMBER TO COMPUTE AN EXTENT
NUMBER FOR A NEW JOB.  THAT JOB IS THEN RESTRICTED TO USING ONLY THAT
EXTENT.  THE MAIN USEFULNESS OF THE MOD IS TO "CUT YOUR LOSSES" IF YOU
LOSE AN ENTIRE SPOOL EXTENT.

MODIFICATION STCPARM        (UPDATED 7 DEC 84)

THIS MODIFICATION PROVIDES THE INSTALLATION A MEANS BY WHICH AN OPERATOR
OR SYSTEMS PROGRAMMER CAN PROVIDE JOB AND /*JOBPARM TYPE DATA FOR
STARTED TASKS.  THE INFORMATION THAT CAN BE PROVIDED IS:
         (1) JOBNAME
         (2) MSGCLASS
         (3) PRINT ROUTE
         (4) NOTIFY ID
         (5) ROOM NUMBER
         (6) JOB COPIES
         (7) PROGRAMMER NAME
NOTICE BY PROVIDING A JOB NAME THAT MATCHES A TIME SHARING USER ID ALONG
WITH A MSGCLASS WHICH IS A "HELD" CLASS, THE TSO USER CAN EXAMINE THE
OUTPUT FOR A STARTED TASK AT HIS TSO TERMINAL.

THE INFORMATION CAN BE PROVIDED TWO WAYS:
    (1) BY SUPPLYING A SPECIAL DD CARD (DDNAME IS $$$$$$$$) WITH
        NORMAL KEYWORDS WHICH ARE INTERPRETED BY THE JES2 TEXT EXIT.
    (2) BY SUPPLYING SPECIAL KEYWORDS ON THE START COMMAND WHICH ARE
        RECOGNIZED BY THE JES2 TEXT EXIT.
THIS MODIFICATION REQUIRES ABSOLUTELY NO MVS MODIFICATIONS AND ONLY
THE ADDITION OF ONE EXIT POINT IN JES2.

MODIFICATION STCPURGE       (UPDATED 9 APR 84)

THIS MODIFICATION CAUSES STARTED TASK AND TSU JOBS TO BE
AUTOMATICALLY PURGED IF THE JOB CREATED NOTHING OTHER THAN THE
NORMAL SUB-SYSTEM DATA SETS.  THE IDEA IS TO USE A NORMAL SYSOUT
CLASS (E.G. A) FOR THE STCMCLAS AND TSUMCLAS AND TO ONLY PRINT
STC'S AND TSU'S IF SOMETHING UNUSUAL HAPPENS.  CURRENTLY THE
UNUSUAL THINGS ARE:
    1. JCL ERROR
    2. JOB ABEND
    3. NON SUB-SYSTEM SYSOUT DATA SETS CREATED

MODIFICATION TSOCMD         (UPDATED 9 APR 84)

THIS IS A RATHER STANDARD MODIFICATION TO ALLOW TSO USERS TO ISSUE JES2
COMMANDS AND TO RECEIVE THE RESPONSES BACK AT THEIR TERMINALS.  NOTICE
THAT THE RESPONSES ARE SENT BACK VIA TPUT, RATHER THAN SEND COMMANDS.

MODIFICATION USERPROC       (ADDED 12 APR 84)

HE ORIGIN OF THIS MODIFICATION WAS THE SHARE JES2 MODS APE. THE
CONTRIBUTOR WAS JIM WALKER OF TUCC.  ADDED T LOCKHEED WAS THE ACF2
VALIDATION AND THE USE OF THE SCAN FACILITY TO SCAN THE JECL STATEMENT.
ALSO ADDED AS THE USE OF EXITS EXCLUSIVELY RATHER THAN CODE ADDED O IBM
MODULES. FINALLY A CALL TO IKJEFF18 FOR THE RROR MESSAGE GENERATION WAS
ADDED.

MODIFICATION VTAMPRT        (UPDATED 29 MAR 85)

THIS MODIFICATION IS AN UPDATE AND ENHANCEMENT OF THE MODIFICATION
ORIGINALLY SUBMITTED TO THE JES2 SHARE MODS TAPE BY KNUD NIELSEN.  THE
CODE HAS BEEN ENHANCED AS FOLLOWS:

  (1) JES2 GENERATES A STREAM OF HASP094 MESSAGES IF AN ATTEMPT
      IS MADE TO ESTABLISH A SESSION WITH A PRINTER WITH INTERVENTION
      REQUIRED.  THE SOLUTION IS TO RECOGNIZE THIS FAILURE AND SIMPLY
      RETRY THE NEXT AUTOLOGON CYCLE.
  (2) JES2 HALTS A PRINTER WITH WHICH HE HAS ESTABLISHED A SESSION
      (DCTSTOP IS TURNED ON) IF THE PRINTER HAS INTERVENTION
      REQUIRED.  THE SOLUTION IS TO TURN OFF DCTSTOP AND $POST
      THE OWNING PCE WHEN THE LUSTAT IS RECEIVED SAYINT THE PRINTER
      IS NOW READY.
  (3) AUTOLOGON IS LOST FOR REMOTES IF A SIMLOGON IS DONE
      UNSUCCESSFULLY.  THE SOLUTION IS TO SUPPORT AN RPL WITH
      THE SIMLOGON SPECIAL ACTION AND ONLY THEN TURN OFF AUTOLOGON.

MODIFICATION XM$WTO         (ADDED 27 MAR 85)

ADD THE ABILITY TO SEND $WTO MESSAGES FROM ANY ADDRESS SPACE.  THIS
PRIMARILY IS USED TO SEND MESSAGES TO RJE SITES FROM ADDRESS SPACES
OTHER THAN THE JES2 ADDRESS SPACE.  THE TECHNIQUE USED IS TO HAVE A
SUB-SYSTEM CALL AVAILABLE WHICH IS CALLED WITH THE ADDRESS OF A CMB.
THIS CODE IN TURN CROSS MEMORY POSTS A NEW PCE IN THE JES2 ADDRESS SPACE
AFTER QUEUEING THE CMB.  THE NEW PCE PICKS UP ALL MESSAGES AND QUEUES
THEM FOR THE WTO SUB-TASK OR THE REMOTE CONSOLE PROCESSOR.
.pa
.nf
@FILE039@***********************************************************************
*                                                                              *
*         F I L E   3 9    T U C C   N E T M O D S                             *
*                                                                              *
********************************************************************************

          JIM WALKER
          TRIANGLE UNIVERSITIES COMPUTATION CENTER
          P. O. BOX 12076
          RESEARCH TRIANGLE PARK, NC  27709
          (919) 549-0671

 *        TUCC NETWORK MODS TO MAKE JES2/NJE AND VM/RSCS
 *        WORK BETTER TOGETHER
 *
 *        SEVERAL MODS ARE INCLUDED, EACH IN A SEPARATE MEMBER.
 *
 *  1. EXIT10. VM MESSAGES HAVE BLANK TIME STAMP AND HASP MSGID.
 *        THIS EXIT COMPRESSES THE LEADING BLANKS, AND ADDS THE
 *        ORIGINATING NODE NAME TO THE INCOMING VM MESSAGE BEFORE
 *        IT IS SENT TO A TSO USER VIA THE SEND COMMAND. IT IS QUITE
 *        USEFUL IF YOU DEAL WITH MULTIPLE RSCS SYSTEMS THAT
 *        MAY SEND YOUR TSO USERS MESSAGES. ONE OF THE MORE
 *        IMPORTANT MESSAGES IS THAT A JOB HAS PRINTED ON THE
 *        VM SYSTEM. IN ADDITION, THE EXIT ACTUALLY ISSUES THE TPUT
 *        OF THE MESSAGE TO THE TSO USER. WITHOUT THIS FEATURE
 *        ALL MESSAGES ARE SENT VIA THE OPERATOR 'SEND' COMMAND
 *        WHICH IS QUITE EXPENSIVE.
 *
 *  2. TUC1370B. RSCS SETS BOTH THE CMBFLAGW (REMOTE) AND
 *        CMBFLAGT (USER) IN MESSAGES. JES2 TRIES TO SEND
 *        ALL MESSAGES WITH CMBFLAGW TO A REMOTE. THIS SIMPLE
 *        MOD CHECKS FOR BOTH BITS SET AND SENDS TO A USER IF
 *        THIS IS THE CASE. THESE 3 INSTRUCTIONS ARE REQUIRED
 *        TO GET RSCS MESSAGES BACK TO A TSO USER.
 *
 *  3.  TUC1380A. CONVERT VM PUNCH FILES TO TSO/E RECEIVE FILES.
 *        IF YOUR VM USERS STILL USE THE OLD PUNCH FORMAT, THIS
 *        MOD ALLOWS THESE FILES TO BE RECEIVED VIA THE RECEIVE
 *        COMMAND.
 *
 *  4.  TUC1390A. JES3 AND VAX SYSTEMS CAN NOT HANDLE NJE HEADER
 *        OR TRAILER RECORDS LONGER THAN 253 BYTES - IE THEY
 *        DON'T HANDLE SPANNED HEADERS. THE TUCC USER SECTION
 *        FOR BOTH HEADERS AND TRAILERS CAUSE THE TOTAL
 *        SIZE OF BOTH TO EXCEED THIS MAXIMUM.  THIS MOD REMOVES
 *        USER SECTIONS TO SELECTED NODES - IN OUR CASE ALL
 *        NODES GREATER THAN NODE20.
 *
 *  5.  EXIT005A. THIS IS A STANDALONE EXIT5 THAT PROCESSES ONE
 *        NEW COMMAND:  $UM,NODE,USER,'FROMUSER MSG'
 *        THE USER MSG COMMAND ($UM) SENDS A MESSAGE TO A USER
 *        AT ANOTHER NODE. ACCORDING TO RSCS STANDARDS, THE FIRST
 *        8 BYTES OF THE MESSAGE TEXT IS THE 'FROM USERID', SO
 *        IT IS A GOOD IDEA TO PLACE THE SENDING USERID IN THE
 *        FIRST 8 TEXT BYTES.
 *
 *        NOTE THAT A VCON WAS USED TO REFERENCE A SYMBOL IN
 *        HASPCON, SO THIS EXIT MUST BE LINKEDITED WITH THE
 *        HASJES20 MODULE.
 *
 *
 *  6.  VMSG. VMSG IS A SIMPLE TSO COMMAND WHICH ISSUES THE $UM
 *        COMMAND FOR A TSO USER. IT PLACES THE SENDERS USERID
 *        IN THE FIRST 8 TEXT BYTES OF THE MESSAGE AS DESCRIBED
 *        ABOVE. WITH VMSG AND EXIT005A INSTALLED, A TSO USER
 *        CAN SEND A MESSAGE TO A TSO USER OR A RSCS USER ON
 *        ANOTHER NODE.  THIS TECHNIQUE IS PARTICULARILY USEFUL
 *        IN SENDING REQUESTS TO THE BITSERVE DISCONNECTED VM
 *        MACHINE AT CUNY.
.pa
.nf
@FILE040@***********************************************************************
*                                                                              *
*         F I L E   4 0    G A T X   X E R O X   9 7 0 0   M O D S             *
*                                                                              *
********************************************************************************

     AUTHOR: NARM TCHUN, LEAD SYSTEMS PROGRAMMER,
             GATX NETWORK SERVICES, GATX CORPORATION,
             120 SOUTH RIVERSIDE PLAZA, CHICAGO, ILLINOIS 60606

             PHONE:  (312) - 621 - 6514

     DATE:   JULY 7, 1983

     DESCRIPTIVE NAME:  XEROX 8700 / 9700 SUPPORT JES2 USER EXIT

     RELATIONAL NAME:  USER EXIT1 UNDER MVS/SP 1.3.0

     FUNCTION:   THIS EXIT PERFORMS THE FOLLOWING FUNCTIONS;

         .  TELLS XEROX PRINTER AS REGARDS WHAT FORM AND WHAT
            PDE'S ARE REQUIRED FOR THIS OUTPUT VIA DJDE FORMS
            IMAGE TABLE ENTRY (DFITE)

         .  DISPLAYS JOBNAME ASSOCIATED WITH THIS OUTPUT AT THE
            XEROX PRINTER CONTROL CONSOLE VIA PAGE SETUP MESSAGE
            TABLE ENTRY (PSMTE)

         .  SPECIFIES THE BANNER PAGE FRAME VIA DJDE VFU IMAGE
            TABLE ENTRY (DVITE)

         .  PAPER TRAY MESSAGE TABLE ENTRY (PTMTE) IS NOT USED AT
            PRESENT, BUT RETAINED FOR THE NEXT RELEASE AND FOR
            THE COMPATIBILITY WITH THE GREAT AMERICAN INSURANCE
            MODIFICATION.
.pa
.nf
@FILE041@***********************************************************************
*                                                                              *
*         F I L E   4 1   O R   J E S 2   M O D S   F O R   1 3 3              *
*                                                                              *
********************************************************************************

.ju left
The following is an abstract of the mods supplied by the Oak Ridge
National Laboratory:

SHARE Installation Code = OR

Installation Contact = Robert M. Jinkins
   (JES2 only)         Oak Ridge National Laboratory
                       Bldg. 4500-N  MS-255
                       P.O. Box X
                       Oak Ridge, Tennessee  37830

                       Phone: (615) 574-7208/5300
                               FTS  624-7208/5300

JES2 Version = System Product V1.3.3

Last Update = June 1984

Distribution Format = IEBCOPY Unloaded PDS
                      PDS: DCB=(RECFM=FB,LRECL=80,BLKSIZE=3600),
                           UNIT=3350,SPACE=(TRK,(120,20,20))
                      Tape: DCB=(RECFM=FB,LRECL=80,BLKSIZE=32720)
                            Non-labeled, 6250 BPI.

Mod Format = NIH Hasp Merge Format (Convertible to IEBUPDTE format)

Mod Documentation = Member $$$INDEX (The member you are now reading)

Disclaimer = The author, make no representation or warranty of any kind
whatsoever, including, but not limited to, representations or
warranties, express or implied, or merchantability, fitness for use or
purpose, accuracy or completeness of processes, procedures, designs,
definitions, instructions, information, or functioning of any programs,
documents, or related materials; the author further expressly disclaim
any knowledge of purpose for which these programs, documents, or related
material may be utilized or their applicability for such use, nor shall
the fact of making them available constitute any such representation,
warranty, or knowledge; nor do the author assume any liability,
responsibility, or obligation arising from the use or malfunctioning of
these computer programs, documentation, or related materials.

Notes = The 'Index of ONL Mods' (see below) is listed in order of
functional categories rather than alphabetically.  A brief abstract of
each mod is given along with the name(s) of the member(s) in which a mod
is located.  The mods are documented extensively and may describe
functional capabilities omitted from this abstract.  The member names of
the JES2 mods are in the following formats:

     ONL$xxxx  Where 'xxxx' is the mod identifier.  Members with names
               in this format contain a brief abstract of the mod, NIH
               HASP Merge (IEBUPDTE like) control statements, and if the
               mod is not entirely in exits, assembler language code
               with sequence numbers dependent on the IBM JES2 source.
               In general, the member contains only a few assembler
               statements if any.  Some of these statements may invoke a
               macro called ONL$xxxx (where 'xxxx' is the mod ID).
               Note: Member names in this format must be edited as
                     non-line-numbered' data sets.

     $xxxxMAC  Where 'xxxx' is the mod identifier.  Members with
               names in this format contain an NIH HASP Merge 'ADD'
               control statement followed by the macro definition
               of the ONL$xxxx macro (where 'xxxx' is the mod ID).
               These members usually contain extensive documentaion
               and assembler code which may be generated in various
               JES2 modules under control of a macro operand.
               Note: Members in this format should be edited as
                     line numbered data sets.  The line numbers are
                     not dependent on the JES2 source.  However, if
                     you install an ONL mod which names another ONL
                     mod as a prerequisite, it may contain updates
                     dependent on the line numbers of the prerequisite
                     ONL mod.

     J2X$xxxx  Where 'xxxx' is the mod identifier.  Members with
               names in this format contain an NIH HASP Merge 'ADD'
               control statement followed a JES2 exit module.  These
               members usually contain extensive documentaion about
               the exit module.
               Note: Members in this format should be edited as
                     line numbered data sets.  The line numbers are
                     not dependent on the JES2 source.  However, if
                     you install an ONL mod which names another ONL
                     mod as a prerequisite, it may contain updates
                     dependent on the line numbers of the prerequisite
                     ONL mod.

     DOCxxxxx  Where 'xxxxx' is the document identifier.  Members with
               names in this format may contain general documention
               about ONL mods or operator instructions.  All DOCxxxxx
               members are designed to be printed with 60 lines per
               page (/*JOBPARM LINECT=60).

   Member names with other formats are individually described below.

.nf
***********************
*  Index of ONL Mods  *
***********************
                                                             | Member
Description of Mod, Program, or Documentation                | Names
=============================================================#=========
The member you are reading now is called $$$INDEX.           | $$$INDEX
-------------------------------------------------------------+---------
JESSPOOL is a set of subroutines which provide the caller    | JESSPOOL
with easy access to the JES2 Checkpoint and SPOOL data sets. | JESDATA
Some of the most significant features are listed below:      |
 - Extensive validity checking is performed and diagnostic   |
   information is made available to the caller.  A Return    |
   Code and an Error Information Code provide the primary    |
   sources of diagnostic information.                        |
 - The entire Checkpoint data set may be read including the  |
   Check record, Lock record, Master record, and 4K Queue    |
   records.  Optionally, the reading of the 4K Queue records |
   may be restricted to the JIX and JQE Queues.  The Check   |
   record is always read first and the Master record is read |
   last to allow detection of Checkpoint updates which may   |
   have occurred while the Checkpoint was being read. If     |
   this occurs, the Checkpoint data set will be re-read      |
   until a valid copy is obtained or a specified number of   |
   re-reads have been performed.                             |
 - The JESSPOOL routines can operate with missing SPOOL      |
   volumes.  Normally, only the volumes marked as            |
   "selectable" will be used.  However, at the user's        |
   request, JESSPOOL will attempt to use all SPOOLs in       |
   existence.  If this option is chosen, the user may also   |
   request that Return Codes not be set when JESSPOOL is     |
   unable to use a non-selectable volume.                    |
 - Dynamic Allocation is used; no DD statements are required.|
 - Any Count-Key-Data type direct access device is supported.|
 - If for some reason, a problem developed with the check-   |
   point or SPOOL volumes and the names of the SPOOL volumes |
   were CLIPped, the user could specify the first five       |
   characters of the renamed SPOOL volumes and use these     |
   routines as part of a postmortem or recovery program.     |
 - The JESSPOOOL entry points are:                           |
     JESSPOOL- Builds the JESDATA area mapped by the JESDATA |
               macro and is used to communicate between the  |
               caller and the JESSPOOL entry points.         |
     JESALOC - Allocates the JES2 Checkpoint and SPOOL data  |
               sets and performs the first read of the JES2  |
               Checkpoint data set.                          |
     JESFREE - Releases all resources held by the JESSPOOL   |
               routines.                                     |
     JESCKPT - Reads the JES2 Checkpoint data set.           |
     JESREAD - Reads a record from the JES2 SPOOL.           |
     JESRJCT - Reads a JCT from the JES2 SPOOL.              |
Notes:                                                       |
   (1) A value of less than one second for the &MINHOLD JES2 |
       Initialization Parameter may have an adverse effect   |
       on JESSPOOL performance when reading the Checkpoint.  |
       Please call me if you experience this problem.        |
   (2) You may wish to change the following constants in     |
       the JESSPOOL module:                                  |
          - Symbol DSNPRFX is used to initialize symbol      |
            JDSNPRFX in the JESDATA area.  It contains the   |
            DSNAME prefix for the JES2 Checkpoint and SPOOL  |
            datasets.                                        |
          - Symbol DFLTCKPT is used to initialize symbol     |
            JCKVOL in the JESDATA area.  It contains the     |
            volume serial number of the JES2 Checkpoint      |
            dataset.  If the volume serial number is blank,  |
            then the system catalog is used to locate the    |
            JES2 Checkpoint dataset.                         |
-------------------------------------------------------------+---------
The QPURGE program runs as as either a batch job or started  | QPURGE
task under MVS/JES2.  It purges jobs from the JES2 Job Queue |
which have remained in the system for more than a specified  |
number of days since the job began output processing, or if  |
no output processor time stamp is available, the number of   |
days since the job ended execution.  The program can operate |
in either TEST or CANCEL mode, the diference being whether   |
or not the jobs are actually purged via subsystem cancel     |
requests.  An audit trail is provided in the form of WTO     |
messages which give the job number, jobname, and age of the  |
job's output for each job which is purged.  The program      |
includes numerous validity checks and any problems are       |
brought to the operator's attention via WTO messages.        |
-------------------------------------------------------------+---------
TICKETS is the front-end of a program which reads the JES2   | TICKETS
Checkpoint and SPOOL data sets using the JESSPOOL routines,  |
and generates job setup tickets.  No system mods or          |
subsystem interfaces are required.  The tickets program uses |
its own checkpoint data set to keep track of which jobs have |
had setup tickets produced.  Restart capabilities include    |
job number ranges, time of day requests, and an automatic    |
warm start capability.  The TICKETS front-end can also be    |
used to list the JES2 Log, the input JCL, the expanded JCL,  |
and the system messages for a given job, started task, or    |
TSO user.  The front-end does not format or print job setup  |
tickets; this is done by the TIFSUB (Tickets Interface       |
SUBroutine) or by routines called from TIFSUB.  The          |
interface consists of a single entry point which is used to  |
receive a 'Call Code' which identifies the remainder of the  |
parameter list.  The TICKETS front-end uses return codes     |
from the TIFSUB to direct futher processing.  The TIFSUB can |
be coded in either FORTRAN or assembler.  The 'Call Codes'   |
indicate one of the following:                               |
                                                             |
  Initialization - Called once at the beginning of the run.  |
  New Job - Called when processing begins for a new job      |
    setup ticket.                                            |
  Internal Text - Called once for each internal text record  |
    for a job.  Spanned records are assembled into a single  |
    record before calling TIFSUB.  An end-of-file call is    |
    made after all internal text records for a job have been |
    processed.                                               |
  Input JCL - Called once for each input JCL record.  An     |
    End-of-file call is made after the last JCL record has   |
    been processed.                                          |
  End of JOB - Called at the end of processing for a each    |
    job setup ticket.                                        |
  End of Run - Called after all job setup tickets for the    |
    current run have been processed.                         |
  Abort Job - Called to abort the processing of a job setup  |
    ticket when an internal text or JCL buffer has an invalid|
    job key, DSID, or is not formatted correctly. Processing |
    resumes with the next job setup ticket.                  |
                                                             |
The TIFSUB can request the following via return codes:       |
  - Continue with normal processing.                         |
  - Abort the current job setup ticket without comment.      |
  - Abort the current job setup and flag the job in error.   |
  - Request that no more calls be made for internal text     |
    records for the current job setup ticket.                |
  - Request that no more calls be made for input JCL records |
    for the current job setup ticket.                        |
  - Request the TICKETS front-end to take an ABEND Dump.     |
                                                             |
The TICKETS front-end formats and presents error information |
returned from the JESSPOOL routines as well as providing a   |
number of its own diagnostics.                               |
-------------------------------------------------------------+---------
Two test versions of the TIFSUB routine (see TICKETS above)  | TIFSUBA
are provided; one in assembler and the other in FORTRAN.     | TIFSUBF
-------------------------------------------------------------+---------
The HASP Merge program and its documentation from the        | NIHPROSE
National Institute of Health (NIH) are included since        | HSPMERGE
the ONL JES2 mods are in NIH HASP Merge format.              |
-------------------------------------------------------------+---------
This mod uses an exit 5 routine to replace the JES2 $A and   | ONL$AJHJ
$H commands and an exit 252 routine with code supporting the | J2X$AJHJ
HOLD function.  The $A and $H commands provide the following |
function:                                                    |
  (1) The $A command prevents RJE operators from releasing   |
      SETUP jobs awaiting execution.  SETUP jobs are those   |
      jobs which indicate TYPRUN=HOLD in the Class Attribute |
      Table (CAT).                                           |
  (2) The $A command will release jobs to run on a specific  |
      system using a system ID operand which designates the  |
      system on which a released job must execute.  The      |
      integrity of the System Affinities for a job is        |
      preserved and a warning will be issued if a job is     |
      released which can not execute on any system in the    |
      JES2 complex because of a resource conflict.           |
      The Resource Facility mod defines $AJ-sid resources    |
      which can only be set/reset by $A and $H commands.     |
      The $AJ-sid resources are attached by the Resource     |
      Facility during initialization (exit 24) and can not   |
      be displayed or altered by $DR, $QA, $QD, $QN, or $QQ  |
      commands.  $AJ-sid resource names do appear in HASP608 |
      Job Information messages generated by commands such as |
      $DJ or $DC.                                            |
  (3) The $H command holds jobs and resets the $AJ-sid       |
      resources using exit 252.                              |
  (4) Exit 252 resets the $AJ-sid resources.  The exit is    |
      called by the $H command sub-processor.  The ONL$EJCH  |
      mod also calls this exit routine.                      |
Note:  This mod uses exits 5 and 252.                        |
-------------------------------------------------------------+---------
Eliminates the punching of blank cards at the end of punched | ONL$BCRD
data sets at selected remotes.                               | $BCRDMAC
-------------------------------------------------------------+---------
Expands the JQE and QSE control blocks.  A cold-start is     | ONL$BLKS
required.  After that, mods which require the additional     |
space may be installed without futher cold-starts.           |
-------------------------------------------------------------+---------
The ONL Automatic Job Classing Mod:                          | ONL$CLAS
 - Determine the system resources required for a job by      | $CLASMAC
   examining installation defined accounting parameters and  | J2x$CLAS
   the job's internal text, and based on those resource      |
   requirements, compute a job class.                        |
 - Pass information about a job to SMF by storeing           |
   information in the JMR User Identification field          |
   (JCTUSEID).                                               |
Note:  This mod uses exits 3, 6, 7, and 20.                  |
-------------------------------------------------------------+---------
The $COMWORK macro has been expanded to include a 50 word    | ONL$COMW
work area for use by local mods in HASPCOMM and exit 5.      |
-------------------------------------------------------------+---------
The $D'jobname command has been modified to allow a partial  | ONL$DN01
Jobname to be specified.                                     |
-------------------------------------------------------------+---------
The $EJ command mod uses an exit 5 routine to perform the    | ONL$EJCH
same function as a $EJ-$HJ-$CJ command sequence.  If a job   | J2X$EJCH
is not restartable across warm-starts because of JES2        |
initialization defaults or because RESTART=N was specified   |
on a JOBPARM control statement, then a message saying "NOT   |
RESTARTABLE AT USER'S REQUEST" will be issued.  Also, if you |
display the job, the HASP608 Job Information message will    |
include text saying "NO-RESTART".                            |
Note:  This mod uses exits 5, 20, and 252.                   |
------------------------------------------------------------ +---------
Support has been added to support a /*RELAY control          | ONL$HRLY
statement for transmitting unit record data sets.  The       | $HRLYMAC
/*RELAY control statement's main advantage over TYPRUN=COPY  | J2X$HRLY
is that it can transmit anything ... and without             |
modification.  All card images following the /*RELAY         |
statement are transmitted until an end-of-file is reached on |
the input device.  The code is modeled after TUC's RELAY mod |
but has been expanded in scope.  If any errors are found in  |
the /*RELAY statement, the illegal /*RELAY card image and    |
associated error messages will be printed at the default     |
destination for the input device.  The format of the /*RELAY |
statement is:                                                |
                                                             |
/*RELAY  PRINT  destination   jobname   account#   pgmr-name |
         PUNCH                                               |
Note:  This mod uses exit 2.                                 |
-------------------------------------------------------------+---------
JES2 Internal Text Scan Exit to enforce ONL's JCL standards: | ONL$INTX
 - Occurrences of TIME=1440 in the internal text for batch   | J2X$INTX
   jobs is changed to TIME=1439.                             |
 - The ADDRSPC=VIRT parameter is added to the internal text  |
   of job statements for non-privileged job classes.         |
Note:  This mod uses exit 6.                                 |
-------------------------------------------------------------+---------
/*$command control cards presented to an Internal Reader are | ONL$IRCS
ignored if the submittor is not a started task and does not  | J2X$IRCS
have the ACF2 operator priviledge.  Selected STC'S are also  | JUX$IRCS
prohibited from submitting JES2 commands thru Internal       |
Readers.                                                     |
Note:  This mod uses exits 4 and 8.                          |
-------------------------------------------------------------+---------
Here is yet another (yes, another) separator page/card exit. | ONL$JSEP
One novel feature about this mod is that separator lines for | J2X$JSEP
narrow forms, e.g. mailing labels, are rotated one position  |
to the left on each succeeding line so that all the separator|
information will be printed on the form.                     |
Note:  This mod uses exit 1.                                 |
-------------------------------------------------------------+---------
This mod allows operators to control RJE Line Error Logging  | ONL$LERR
by using a $TCON,0,TP command to turn-on error logging and a | $LERRMAC
$TCON,15,TP command to turn-off line error logging. A Master |
Console Informational route code was added to the $DMR...    |
command to prevent the loss of messages from RJE's.          |
-------------------------------------------------------------+---------
The $LQ command, implemented in Exit 5, is used to list      | ONL$LQCM
output data set information for JOEs which match specified   | J2X$LQCM
characteristics including job number range, destination      |
range (by JOE destination instead of job routing), JOE       |
select, SYSOUT class, form name, FCB, UCS, writer name, 3800 |
forms overlay frame, 3800 burst option, and PRMODE.  The     |
JOEs thus selected are displayed using the HASP688 message   |
format.                                                      |
Note:  This mod uses exit 5.                                 |
-------------------------------------------------------------+---------
Exit 10 is used to add a user route code to HASP190 device   | ONL$M190
setup messages for local consoles.                           | J2X$M190
Note:  This mod uses exit 10.                                |
-------------------------------------------------------------+---------
The HASP646 percent SPOOL utilization message is modified in | ONL$M646
Exit 10 to include the total number of jobs in the system.   | J2X$M646
Note:  This mod uses exit 10.                                |
-------------------------------------------------------------+---------
An exit 5 routine is used to replace the $P and $C job list  | ONL$PJCJ
commands and support additional jobname prefix and job       | DOC$PJCJ
select operands.  These operands prevent the inadvertent     | J2X$PJCJ
deletion of the job queue and provides greater operator      |
control at the jobname level.                                |
Note:  This mod uses exit 5.                                 |
-------------------------------------------------------------+---------
The Resource Facility is used to control job execution       | ONL$RSRC
scheduling by requiring all resources needed by a job to be  | $RSRCADD
logically attached to a CPU before the CPU can select the    | J2X$RSRC
job for execution.  The Resource Facility may be used in     |
implementing functions other than abstract resource          |
scheduling via the use of attributes associated with the     |
definition of each resource.  The facility can support up to |
256 resources.                                               |
Note:  This mod uses exits 2, 4, 5, 14, 20, 24, and 254.     |
-------------------------------------------------------------+---------
The ONL HASPCOMM Exit Services Mod is based on code written  | ONL$SERV
by John Kinn at California Lockheed (SHARE Installation Code | DOC$SERV
CL).  Its purpose is to provide Exit 5 routines with many of | $SERVADD
the services available to command sub-processors within      |
HASPCOMM.  In fact, this mod will allow some command sub-    |
processors to be moved from HASPCOMM to Exit 5 routines with |
little or no modification.  Other features include a $ESTAE  |
environment created before Exit 5 is invoked.  In the event  |
of a program check, the command being processed is discarded |
and an error message is issued.  Another feature is a new    |
exit point in the COFJMSG service routine in HASPCOMM.  The  |
COFJMSG routine is invoked by a $CFJMSG macro instruction    |
and issues the HASP608 Job Information Message.  The new     |
exit (Exit 254) allows the HASP608 message text to be        |
changed prior to issuing a $CWTO.  The exit may issue its    |
own $CWTO's if additional message lines are needed.          |
Note:  This mod uses exit 254.                               |
-------------------------------------------------------------+---------
This mod adds a user field in the $SJB macro (Subsystem Job  | ONL$SJBD
Block DSECT).                                                |
-------------------------------------------------------------+---------
The Time/Date Validation mod adds a user defined exit to     | ONL$TODV
HASPIRDA.  The exit validates the TOD (GMT) and LOCAL clocks | $TODVMAC
during JES2 Initialization.  This includes a comparison with | J2X$TODV
the gregorian date, day of week, and with the JES2 Checkpoint|
time stamps for this and other systems in the JES2 complex.  |
Note:  This mod uses exit 256.                               |
-------------------------------------------------------------+---------
The following improvements have been made to the JES2 Trace  | ONL$TRID
Facility:                                                    | $TRIDADD
   (1) Trace ID 4 has been modified so that all transmitted  | J2X$TRID
       and received data for BSC Lines are traced.           |
   (2) Trace IDs 240 thru 255 have been defined to print     |
       user trace data using the standard dump format.  The  |
       code provided here is only for formatting trace       |
       output; you must code your own $TRACE macros to       |
       collect the trace data for these trace IDs.           |
This code was written by John Kinn at the Lockheed           |
California company (SHARE code CL) and was re-packaged at    |
the Oak Ridge National Lab.                                  |
Note:  This mod uses exit 24.                                |
-------------------------------------------------------------+---------
This code provides a framework for other installation mods   | ONL$USER
which need User Control Table (UCT) entries.  The mod        | $USERADD
contains a table module with a UCT, a $UCT DSECT macro, and  | USERTABS
a $USERCB macro.                                             |
=============================================================#=========

**************************
*  Exit Cross-Reference  *
**************************

 EXIT # |  Modification ID(s) of exits using or calling a given exit #
========#==============================================================
     1  |  ONL$JSEP
     2  |  ONL$HRLY  ONL$RSRC
     3  |  ONL$CLAS
     4  |  ONL$IRCS  ONL$RSRC
     5  |  ONL$AJHJ  ONL$EJCH  ONL$LQCM  ONL$PJCJ  ONL$RSRC
     6  |  ONL$CLAS  ONL$INTX
     7  |  ONL$CLAS
     8  |  ONL$IRCS
    10  |  ONL$M190  ONL$M646
    14  |  ONL$RSRC
    20  |  ONL$CLAS  ONL$EJCH  ONL$RSRC
    24  |  ONL$RSRC  ONL$TRID
   252  |  ONL$AJHJ  ONL$EJCH
   254  |  ONL$RSRC  ONL$SERV
   255  |  ONL$TODV
========#==============================================================

**********************************************
*  Exit Initialization Parameter Statements  *
**********************************************

EXIT1   ROUTINE=J2X#JSEP     PRINT/PUNCH SEPARATOR
EXIT2   ROUTINE=(RSRCX2,J2X#HRLY,ACF2XJOB)  JOB STATEMENT SCAN
EXIT3   ROUTINE=CLASACCT     JOB STATEMENT ACCOUNTING FIELD SCAN
EXIT4   ROUTINE=(RSRCX4,J2X#IRCS,ACF2XJCL)  JCL/JES2 CNTL STMT SCAN
EXIT5   ROUTINE=(AJHJX5,PJCJX5,LQCMX5,RSRCX5,EJCHX5)  CMD PREPROCESSOR
EXIT6   ROUTINE=(J2X#INTX,CLASINTX,ACF2XXEQ)  INTERNAL TEXT SCAN
EXIT7   ROUTINE=CLASJCTW     JCT READ/WRITE (JES2 ADDRSPC)
EXIT8   ROUTINE=JUX#IRCS     JCT READ/WRITE (USER ADDRSPC)
EXIT10  ROUTINE=(J2X#M190,J2X#M646)  $WTO SCREEN
EXIT14  ROUTINE=RSRCX14      JOB QUEUE WORK SELECT
EXIT20  ROUTINE=(CLASREND,EJCHX20,RSRCX20)  END OF JOB INPUT
EXIT24  ROUTINE=(RSRCX24,J2X#TRID)  POST INITIALIZATION
EXIT220 ROUTINE=ACF2XJBS     ACF2 EXIT - JOB SELECT
EXIT221 ROUTINE=ACF2XIRD     ACF2 EXIT - INTERNAL READER
EXIT222 ROUTINE=ACF2XTRM     ACF2 EXIT - INPUT JOB END
EXIT223 ROUTINE=ACF2XPRE     ACF2 EXIT - USER PRE-VALIDATION
EXIT252 ROUTINE=AJHJX252     RESET $AJ-SID RESOURCES
EXIT254 ROUTINE=RSRCX254     JOB INFORMATION MESSAGE SCAN
EXIT255 ROUTINE=J2X#TODV,TRACE=NO  SYSTEM CLOCKS VALIDATION
*
LOAD ACF2U1J2                EXIT MODULE - ACF2
LOAD ACF2X1J2                EXIT MODULE - ACF2
LOAD ACF2X2J2                EXIT MODULE - ACF2
LOAD J2X$AJHJ                EXIT MODULE - $A AND $H COMMAND MODS
LOAD J2X$CLAS                EXIT MODULE - AUTOMATIC JOB CLASSING MOD
LOAD J2X$EJCH                EXIT MODULE - $EJ COMMAND MOD
LOAD J2X$HRLY                EXIT MODULE - HASP RELAY MOD
LOAD J2X$INTX                EXIT MODULE - JCL STANDARDS MOD
LOAD J2X$IRCS                EXIT MODULE - INTRDR COMMAND SCREEN
LOAD JUX$IRCS                EXIT MODULE - INTRDR COMMAND SCREEN
LOAD J2X$JSEP                EXIT MODULE - PRINT/PUNCH SEPARATOR
LOAD J2X$LQCM                EXIT MODULE - ONL $LQ COMMAND
LOAD J2X$M190                EXIT MODULE - PROCESS HASP190 MESSAGE
LOAD J2X$M646                EXIT MODULE - MODIFY HASP646 MESSAGE
LOAD J2X$PJCJ                EXIT MODULE - $P AND $C JOB LIST COMMANDS
LOAD J2X$RSRC                EXIT MODULE - ONL RESOURCE FACILITY
LOAD J2X$TODV                EXIT MODULE - VALIDATION OF SYSTEM CLOCKS
LOAD J2X$TRID                EXIT MODULE - TRACE ID IMPROVEMENTS
.pa
.nf
@FILE042@***********************************************************************
*                                                                              *
*         F I L E   4 2   T U C C   U S E R   P R O C L I B   F O R   1 3 3    *
*                                                                              *
********************************************************************************

.ju left
  JIM WALKER
  TRIANGLE UNIVERSITIES COMPUTATION CENTER
  P. O. BOX 12076
  RESEARCH TRIANGLE PARK, NC  27709
  (919) 549-0671

***      USER PROCLIB ABSTRACT

ALLOW ANY PDS TO BE SPECIFIED AS THE FIRST CONCATENATION PROCLIB FOR A
JOB.

MODIFIES:
   HASPCNVT - ADD $EXIT STATEMENTS FOR EXITS 240-243
   $JCT    - ADD TWO FIELDS TO JCTDSECT FOR PROCLIB DSNAME AND OPTIONAL
             VOLUME SERIAL NUMBER

ADDS:
   EXIT4   - EXIT4 (JCL AND CONTROL CARD EXIT) TO CHECK FOR /*PROCLIB
             STATEMENT AND SAVE THE SPECIFIED PROCLIB DSNAME AND
             OPTIONAL VOLUME SERIAL NUMBER IN THE JCT.
   UPROCXIT- EXITS 240, 241, 242, AND 243 WHICH ARE CALLED FROM
             HASPCNVT.

THIS MODIFICATION IS PERFORMED ALMOST ENTIRELY IN EXITS.  HASPCNVT CODE
MODIFICATIONS ARE REQUIRED IN ORDER TO INVOKE 4 EXITS (240-243)
HOWEVER.  IN ADDITION, TWO FIELDS MUST BE ADDED TO THE JCT.

THE MOD ALLOWS A USER TO INSERT A PROCLIB CONTROL STATEMENT IN A JOB,
IN THE FORM:
         /*PROCLIB=ANY.DSNAME  ,VOLSER
WHERE:
         ANY.DSNAME IS THE DSNAME OF THE DESIRED PROCLIB VOLSER IS THE
         VOLUME SERIAL NUMBER OF THE PROCLIB IF IT IS NOT CATALOGED.
         NOTE: I RECOMMEND THAT YOU REQUIRE THE PROCLIB TO BE CATALOGED
         AND REMOVE THE OPTIONAL VOLSER CODE.

STANDARD IBM EXIT 4 IS USED TO CAPTURE THE PROCLIB DSNAME AND OPTIONAL
VOLSER AND STORE IN THE JCT.  NO OTHER FUNCTION IS PERFORMED AT HASPRDR
TIME. THIS CODE IS IN MEMBER EXIT004.

MEMBER $JCT IS AN IEBUPDTE INPUT DECK TO ADD THE TWO REQUIRED FIELDS TO
THE JCT DSECT.

MEMBER HASPCNVT IS AN IEBUPDTE INPUT DECK TO ADD COPY STATEMENTS AND
ONE REQUIRED LABEL TO THE HASPCNVT MODULE.  THE COPY STATEMENTS COPY
MEMBERS TUC1081A, TUC1081B, TUC1081C, AND TUC1081D INTO HASPCNVT.
THESE MEMBERS SET THE ENVIRONMENT AND ISSUE THE $EXIT MACROS TO INVOKE
EXITS 240 THRU 243.

MEMBER UPROCXIT CONTAINS EXITS 240 THRU 243.

   EXIT240. THIS EXIT ESTABLISHES THE USER PROCLIB IF IT WAS SPECIFIED.
   IT CLOSES THE OLD PROCLIB IF OPEN, DYNAMICALLY ALLOCATES THE
   SPECIFIED USER PROCLIB, CONCATENATES IT BEFORE THE SPECIFIED
   /*JOBPARM PROCLIB (OR DEFAULT), AND RETURNS TO HASPCNVT WITH A
   RETURN CODE TO CAUSE HASPCNVT TO RE-OPEN THE PROCLIB.

   EXIT241. IF THE SPECIFIED PROCLIB WAS ENQUEUED AND THUS COULD NOT BE
   ALLOCATED, THIS EXIT PERFORMS THE FOLLOWING TASKS;
            HOLDS THE JOB
            RESCHEDULES THE JOB FOR CONVERSION
            SETS AN AUTOMATIC OPERATOR COMMAND TO RELEASE THE
                  JOB AFTER 5 MINUTES

   EXIT242. CLOSES AND UNALLOCATES THE USER PROCLIB.

   EXIT243. CLOSES AND UNALLOCATES THE USER PROCLIB IN CASE OF CONVERTER
   ABEND.

ANY DATASET MAY BE SPECIFIED AS THE USER PROCLIB. IF THE DATASET DOES
NOT EXIST, THE CONVERTER PROCESSOR WILL INCLUDE THE NORMAL NUMBERED IBM
ERROR MESSAGES IN THE JOB CONSOLE LOG AND TERMINATE THE JOB.  THE
BLOCKSIZE OF THE PROCLIB MUST BE 4240 OR LESS AS THE CODE IS
DISTRIBUTED, BUT THIS IS EASILY MODIFIED IF DESIRED.  LRECL MUST BE 80.
THE CODE MAKES NO CHECK TO INSURE THAT A PDS HAS BEEN SPECIFIED, BUT
THE CONVERTER DOES AND FLUSHES THE JOB WITH NUMBERED IBM MESSAGES IF
SOME ILLOGICAL SITUATION IS SPECIFIED.

NOTE THAT SINCE THE CONVERTER RUNS AS A SUBTASK OF JES2, IT CAN ACCESS
PROCLIBS THAT ARE EITHER PASSWORD OR RACF PROTECTED.  I BELIEVE THAT
ACF2 PROTECTION MAY BE CHECKED IF YOU DESIRE, BUT THIS CODE IS NOT
PROVIDED.
.pa
.nf
@FILE043@***********************************************************************
*                                                                              *
*         F I L E   4 3   P S U   S P O O L   P U R G E   P R O G R A M        *
*                                                                              *
********************************************************************************

.ju left
SMOO - A spool clean-up program.  This program is used to read a job's
JCT from  spool and then  optionally purge  it.   The source  for this
program, given below, is intended to be a base for you to build on.  I
have removed  the sections of code  that were dependent on  our system
and you would probably want to insert  your own code in these postions
anyhow.  The places to look at closely are marked '**NOTE**' in column
1.   The first place to look is  in the SRB code (SMOOSRB).   The only
**NOTE** there,  is to mark the place where you could change the logic
of which  jobs are  looked at.    It is  written to  only look  at the
HARDCPY  queue.    In the  main  program  (SMOO)  most  **NOTE**s  are
suggestions.    The  only  critical  one is  the  last  one  which  is
immediatly before  label 'PURGE'.    You should  develop some  code to
choose which jobs to purge and which  to not purge and branch to label
'PURGE' or  'NOPURGE' respectively.    If you do  not insert  any code
here, then all jobs found by the SRB will be purged.  Both SMOOSRB and
SMOO  should  be  linkedited  into either  a  LNKLIST  library  or  an
authorized STEPLIB library.  An example PROC is shown below:
.nf

      //*------ SMOO - TEST PROC ------
      //SMOO    PROC CYL=30,CORE=MAX
      //SMOO    EXEC PGM=SMOO,PERFORM=4
      //OUTPUT   DD DSN=&&REPT,UNIT=SYSDA,SPACE=(TRK,(10,10)),
      //            DISP=(NEW,PASS),DCB=(RECFM=F,LRECL=80,BLKSIZE=80)
      //MESSAGES DD SYSOUT=A
      //SYSUDUMP DD SYSOUT=A

Any questions should be referred to : RAK at PSUVM on BITNET
                                 or : Rex Knepp
                                      122G Computer Building
                                      University Park, PA  16802
.pa
.nf
@FILE045@***********************************************************************
*                                                                              *
*         F I L E   4 5   L S U   E X I T   D R I V E R                        *
*                                                                              *
********************************************************************************

    AUTHOR   BUTCH O'QUINN
             SYSTEM NETWORK COMPUTER CENTER
             LOUISIANA STATE UNIVERSITY
             BATON ROUGE, LOUISIANA  70808

    NAME     TESTEXIT

    FUNCTION PROVIDE AN EXIT TESTER FOR JES2 EXITS  SO THAT THE
             EXIT MAY BE DEBUGGED UNDER TEST CMD OF TSO.

    NOTES  - INCLUDE YOUR EXITS AT LINKEDIT TIME.  CHANGE NAME
             IN THE VCON REFERENCE TO MATCH $ENTRY NAME.

           - IT DOES NOT DRIVE MORE THAN ONE ROUTINE PER EXIT, YET.

           - PLACE STORAGE IN ORDER OF LEAST LIKELY TO BE UPDATED
             THRU MOST LIKELY TO BE UPDATED, IN CASE EXITS GO WILD.

           - TPUT IS USED TO COMMUNICATE WITH USER, SO RUNS ONLY
             UNDER TSO--NOT BATCH NOR TSOBATCH.
             (BEST WAY TO CHANGE THIS IS TO CODE YOUR OWN TPUT
             MACRO TO DO WHATEVER OUTPUT YOU CHOOSE).

   ===>    - PROVIDE VALUES FOR WHATEVER FIELDS YOUR EXIT REQUIRES.

           - IF YOU UPDATE AND ADD EDMK OR TRT OR ANY OTHER INSTR
             THAT MIGHT UPDATE R2, BE AWARE THAT IT IS ASSUMED TO
             CONTAIN THE JQE ADDRESS.  YOU SHOULD REFRESH R2 AFTER
             THESE INSTRUCTIONS.

           - IF YOU UPDATE THE CODE AND REFERENCE JCT ADDRESSES,
             YOU MUST BE SURE THAT R10 CONTAINS THE JCT ADDRESS.
             ALSO, R10 MUST BE RESET TO ZERO IF THATS WHAT IT IS
             SUPPOSED TO BE.

           - THIS EXIT IS VERY CRUDE AND PROVIDES VERY LIMITED
             FUNCTION ($$WTO $SAVE $RETURN).  YOU WILL HAVE TO CODE
             ANY OTHER REQUIRED FUNCTIONS.

  ======>    BUT, IT'S BETTER THAN SENDING YOUR SECONDARY SUBSYSTEM
  ======>    INTO A NON-CANCELLABLE NON-FORCEABLE ENDLESS LOOP!!

    INPUT    SUPPLY A FILE (CARDS) OF JOB STREAMS.
             OTHER CARDS ARE SKIPPED BY DRIVER.
             NOTE--THERE ARE SOME CONTROLS THAT MAY BE PASSED TO
                   THE DRIVER; READ THE CODE.  THEY ALL BEGIN WITH
                   //*DRIVER .
.pa
.nf
@FILE046@***********************************************************************
*                                                                              *
*         F I L E   4 6   T U C C   S P   1 3 3   M O D S                      *
*                                                                              *
********************************************************************************
 *
 *        JIM WALKER
 *        TRIANGLE UNIVERSITIES COMPUTATION CENTER (TUC)
 *        BOX 12076
 *        RESEARCH TRIANGLE PARK, NC  27709
 *        (919) 549-0671
 *
 *        SP JES2 COMMAND EXIT - EXIT5
 *
 *        THIS ROUTINE PROVIDES A SAMPLE EXIT5 WITH SEVERAL FUNCTIONS
 *        ADDED:
 *          1. COMMAND LOOKUP ROUTINE
 *          2. HASPCOMM MACROS AND SERVICES AVAILABLE
 *          3. $ESTAE ENVIRONMENT ESTABLISHED AROUND COMMAND PROCESSING
 *          4.  SEVERAL COMMANDS WHICH MAY OR MAY NOT BE OF INTEREST
 *              A. $DMJ EXTENSION ALLOWS MESSAGE TO BE SENT TO JOB
 *                 NOT IN EXECUTION.
 *              B. ATTACH, DETACH SUBTASK COMMANDS. I ALSO HAVE
 *                 DISPATCHER MODS TO ALLOW JES2 PCE TO COMMUNICATE
 *                 WITH SUBTASK SO ATTACHED IF ANYONE IS INTERESTED.
 *              C. DUMP JQE COMMAND
 *
 *        L=CCA VERIFICATION AND AUTOMATIC REDIRECTION IS NOT
 *        DONE HERE BUT PROBABLY SHOULD BE. IF ANYONE DOES THESE
 *        PLEASE SEND ME A COPY.
 *
 *        I THINK THE MOST SIGNIFICANT PART OF THIS EXIT IS THE
 *        INCLUSION OF HASPCOMM MACRO FACILITIES IN IT. USER
 *        COMMAND EXTENSIONS CAN BE CODED HERE IN THE SAME
 *        MANNER AS IF THE CODE WERE IN HASPCOMM. SMALL
 *        ADDITIONS TO SOME COMMANDS CAN BE DONE AS I DID THE
 *        $DMJ ADDITION. I INTEND TO 'COPY' SOME STANDARD
 *        COMMANDS INTO THIS CSECT FOR MODIFICATION RATHER
 *        THAN MAKING HASPCOMM UPDATES.
 *
 *        I WILL OF COURSE OVER TIME ADD MANY LOCAL COMMANDS
 *        HERE. I SUGGEST THAT THIS MIGHT BE A GOOD PLACE
 *        FOR OTHERS TO PUT THEIR COMMANDS FOR DISTRIBUTION.
.pa
.nf
@FILE047@***********************************************************************
*                                                                              *
*         F I L E   4 7   A N R   S P   1 3 3   E X I T S                      *
*                                                                              *
********************************************************************************

This file contains exits for JES2/SP 1.3.3.

The installation contact is:

    Glenn Harper
    American Natural Resources Production Company
    5075 Westheimer   Suite 1000 East
    Houston, Texas  77056
    (713) 623-0300

The exits are:
    EXIT  1 - Limited support for a XEROX 9700 printer.
    EXIT  5 - $LF Command.
    EXIT  6 - Determine job class based on device utilization.
             Includes support for the OUTPUT JCL statement.
    EXIT 20 - Force LINECT=0 for TSO LOGONs.
.pa
.nf
@FILE048@***********************************************************************
*                                                                              *
*         F I L E   4 8    J E S 2   P E R F .   M O N .   F O R   1 3 4       *
*                                                                              *
********************************************************************************

.ju left
THIS FILE CONTAINS A VERSION OF THE JES2 PERFORMANCE MONITOR THAT HAS
BEEN UPDATED FOR JES2 AT THE SP 1.3.4 LEVEL.

THE ORIGINAL MONITOR WAS DEVELOPED BY STEVE MYERS OF INA, WITH
ENHANCEMENTS PROVIDED BY SELBY SHANLY OF DATACROWN.  SP 2 SUPPORT WAS
PROVIDED BY MELLON BANK, AND FURTHER EXTENDED BY JOHN KINN AT LOCKHEED
AND BILL MOSTELLER AT BOEING COMPUTER SERVICES.  SP 1.3.3 SUPPORT WAS
PROVIDED BY BILL MOSTELLER AT BOEING COMPUTER SERVICES.  SP 1.3.4
SUPPORT WAS PROVIDED BY JOHN KINN AT LOCKHEED.

29 AUG 86 : BILL MOSTELLER
          - CHANGES TO REPORT MODULE TO CORRECT HANDLING OF LAST MODULE
            IN PAGE FAULT / CPU USAGE REPORTS.
08 SET 86 : JACK SCHUDEL
          - CORRECT MINOR ERRORS IN THE PCE TABLE.
          - CHANGES IN MONITOR PROGRAM TO CORRECT ERRORS WHEN RUNNING
            UNDER MVS/XA.
          - FIX ERROR IN CALCULATING NUMBER OF CMBS IN USE.
          - ADD SAS REPORT PROGRAM FOR ANALYZING MONITOR DATA.
25 SEP 86 : BILL MOSTELLER
          - EXTEND MODULE MAPPING TO INCLUDE USER EXITS.

(See file 81 for an updated version).
.pa
.nf
@FILE049@***********************************************************************
*                                                                              *
*         F I L E   4 9    T U C C   N E T M O D S   F O R   1 3 4             *
*                                                                              *
********************************************************************************

          JIM WALKER
          TRIANGLE UNIVERSITIES COMPUTATION CENTER
          P. O. BOX 12076
          RESEARCH TRIANGLE PARK, NC  27709
          (919) 549-0671

 *        TUCC NETWORK MODS TO MAKE JES2/NJE AND VM/RSCS
 *        WORK BETTER TOGETHER
 *
 *        SEVERAL MODS ARE INCLUDED, EACH IN A SEPARATE MEMBER.
 *
 *  1. EXIT10. VM MESSAGES HAVE BLANK TIME STAMP AND HASP MSGID.
 *        THIS EXIT COMPRESSES THE LEADING BLANKS, AND ADDS THE
 *        ORIGINATING NODE NAME TO THE INCOMING VM MESSAGE BEFORE
 *        IT IS SENT TO A TSO USER VIA THE SEND COMMAND. IT IS QUITE
 *        USEFUL IF YOU DEAL WITH MULTIPLE RSCS SYSTEMS THAT
 *        MAY SEND YOUR TSO USERS MESSAGES. ONE OF THE MORE
 *        IMPORTANT MESSAGES IS THAT A JOB HAS PRINTED ON THE
 *        VM SYSTEM. IN ADDITION, THE EXIT ACTUALLY ISSUES THE TPUT
 *        OF THE MESSAGE TO THE TSO USER. WITHOUT THIS FEATURE
 *        ALL MESSAGES ARE SENT VIA THE OPERATOR 'SEND' COMMAND
 *        WHICH IS QUITE EXPENSIVE.
 *
 *        RSCS SETS BOTH THE CMBFLAGW (REMOTE) AND
 *        CMBFLAGT (USER) BITS IN THE NMR MESSAGES.
 *        JES2 TRIES TO SEND ALL MESSAGES WITH CMDFLAGW
 *        SET TO A REMOTE. THERE IS CODE IN EXIT 10 TO
 *        DO THE TPUT EVEN IF THE REMOTE FLAG IS SET, SO
 *        THIS PART OF THE CODE IS NEEDED EVEN IF THE
 *        OTHER FEATURES ARE NOT DESIRED
 *
 *
 *  2.  TUC1380A. CONVERT VM PUNCH FILES TO TSO/E RECEIVE FILES.
 *        IF YOUR VM USERS STILL USE THE OLD PUNCH FORMAT, THIS
 *        MOD ALLOWS THESE FILES TO BE RECEIVED VIA THE RECEIVE
 *        COMMAND. NOTE THAT THE RECEIVE COMMAND WILL NOT LIKE
 *        THE FORMAT AND WILL RECEIVE INTO THE FILE:
 *               RECEIVE.INVALID.FILE
 *        WHICH IS NOT AS CONVENIENT AS NORMAL FILES, BUT DOES
 *        WORK.
 *
 *  3.  TUC1390A. JES3 AND VAX SYSTEMS CAN NOT HANDLE NJE HEADER
 *        OR TRAILER RECORDS LONGER THAN 253 BYTES - IE THEY
 *        DON'T HANDLE SPANNED HEADERS. THE TUCC USER SECTION
 *        FOR BOTH HEADERS AND TRAILERS CAUSE THE TOTAL
 *        SIZE OF BOTH TO EXCEED THIS MAXIMUM.  THIS MOD REMOVES
 *        USER SECTIONS TO SELECTED NODES - IN OUR CASE ALL
 *        NODES GREATER THAN NODE20.
 *
 *      TUC1390B PERFORMS THE SAME FUNCTION FOR INPUT JOBS.
 *
 *  4.  EXIT005A. THIS IS A STANDALONE EXIT5 THAT PROCESSES TWO
 *        NEW COMMANDS:  $UM,NODE,USER,'FROMUSER MSG'
 *                       $UC,NODE,FROMUSER,'COMMAND FOR OTHER SYSTEM'
 *        THE USER MSG COMMAND ($UM) SENDS A CONSOLE MESSAGE TO A USER
 *        AT ANOTHER NODE. ACCORDING TO RSCS STANDARDS, THE FIRST
 *        8 BYTES OF THE MESSAGE TEXT IS THE 'FROM USERID', SO
 *        IT IS A GOOD IDEA TO PLACE THE SENDING USERID IN THE
 *        FIRST 8 TEXT BYTES.
 *
 *        THE $UC COMMAND IS USED TO SEND COMMANDS FROM THE TSO
 *        SESSION AND GET THE RESPONSE BACK TO THE SESSION. IT
 *        IS SPECIFICALLY REQUIRED TO ISSUE COMMANDS TO VNET.
 *
 *        NOTE THAT A VCON WAS USED TO REFERENCE A SYMBOL IN
 *        HASPCON, SO THIS EXIT MUST BE LINKEDITED WITH THE
 *        HASJES20 MODULE.
 *
 *
 *  5.  VMSG. VMSG IS A SIMPLE TSO COMMAND WHICH ISSUES THE $UM
 *        COMMAND FOR A TSO USER. IT PLACES THE SENDERS USERID
 *        IN THE FIRST 8 TEXT BYTES OF THE MESSAGE AS DESCRIBED
 *        ABOVE. WITH VMSG AND EXIT005A INSTALLED, A TSO USER
 *        CAN SEND A MESSAGE TO A TSO USER OR A RSCS USER ON
 *        ANOTHER NODE.  THIS TECHNIQUE IS PARTICULARILY USEFUL
 *        IN SENDING REQUESTS TO THE BITSERVE DISCONNECTED VM
 *        MACHINE AT CUNY. NOTE THAT THE DEFAULT NODE/USERID IS
 *        BITSERVE AT CUNYVM. VMSG MUST BE LINKEDITED AUTHORIZED.
 *
 *  6.   VCMD. VCMD IS A SIMPLE TSO COMMAND WHICH ISSUES THE
 *        $UC COMMAND TO SEND A JES2 OR RSCS COMMAND TO ANOTHER
 *        NODE. THE RESPONSE TO THE COMMAND IS RETURNED TO THE
 *        TSO USER WHO ISSUED THE COMMAND. THIS COMMAND IS SPECIFICALLY
 *        REQUIRED TO ESTABLISH VNET VIRTUAL PATHS. VCMD MUST BE
 *        LINKEDITED AUTHORIZED
.pa
.nf
@FILE050@***********************************************************************
*                                                                              *
*         F I L E   5 0   U B I   D O C U M E N T A T I O N   F O R   M O D S  *
*                                                                              *
********************************************************************************

.ju left
             Doron Shikmoni  - Systems   (P85025@BARILAN - BITnet).

             Bar-Ilan University - Computer Center
             Ramat-Gan
             Israel

     Bar-Ilan University  -  JES2 modifications and exits.
     +++++++++++++++++++     ++++++++++++++++++++++++++++

                             Current JES2 level: HJE2329  UZ68540
                                                 (PUT 8401).

    The Bar-Ilan modifications are packaged into 2 data sets (on the
JESMODS tape, 2 IEBCOPY unloaded data sets):

1.  SYS2.JES2MODS (JES2MODS on the tape).
    This data set contains the following types of members:

    U@xxxx - This is an IEBUPDTE control statememt stream, to update
             a member in HASPSRC. For example, U@CNVT updates
             HASPCNVT and U@$JCT updates $JCT. This updates contains
             ALL the updates done to that member in Bar Ilan; each line
             of updated source is identified with *xxxxx where xxxxx
             is the modification name. Thus, to install a specific
             mod, only cards marked with its name should be applied.
             An effort has been made to keep mods as separated as
             possible.

    @xxxxxa - This is a copy code member. All modifications to JES2
             source are made using COPY assembler statements, To
             minimize code transition and repackaging problems.
             "xxxxx" here is the modification ID, and "a" is a
             letter / digit to identify the specific copy code member.

    EX@aaaaa - This is an exit package module. Exits are packaged
             together on a subject basis, rather than on the exit type.
             Thus, for examples, several exit 4 routines can (and do)
             exist in several modules. An exit cross reference will
             be maintained in the $$EXITS member of JES2DOC.

    Others -  These are members that have to be called by some other
             name because of some restriction. For example, HASPXIT0
             has to be called so because of JES2 restriction in
             exit call time. Any added macro is another example.
             A third example is macros and routines from external
             sources of mods (SHARE etc.).

2.  SYS2.JES2DOC (JES2DOC on the tape).
    This data set contains the documentation required for the
    modifications. The following members can be found:
    $$DOC  - You are reading it.

    $$MODS  - This is the modification index. It contains 3-4
             lines of description for every JES2  modification
             done (including and modification that is done solely
             within exits, with no source updates).

    $$EXITS - Contains an exits table, which can be used to locate
             an exit within a module, and gives a brief description
             of the exit's function.

    xxxxx  - Where xxxxx is a modification ID - This is a detailed
             and thorough description of a modification, including
             source pieces changed, exits used, exit load mudules,
             copy code members etc.

       Any suggestions, comments, error correction and whatever
    Will be gratefully accepted and reviewed by:

            Doron Shikmoni  - Systems   (P85025@BARILAN - BITnet).
            Bar-Ilan University - Computer Center
            Ramat-Gan
            Israel
.pa
.nf
@FILE051@***********************************************************************
*                                                                              *
*         F I L E   5 1   U B I   M O D S   F O R   1 3 3                      *
*                                                                              *
********************************************************************************

            Doron Shikmoni  - Systems
            Bar-Ilan University - Computer Center
            Ramat-Gan
            Israel

  Bar  Ilan  University  JES2 (HJE2329) Modification index
                         Current JES2 level: see $$DOC.

=======================================================================
MOD        HITS          ABSTRACT
=======================================================================
ACF314    HASPRDR        ACF2 3.1.5 installation. The updates were
ACF315    HASPSSSM       merged into the U@ members for easy
TSxxxxx   HASPTERM       maintenance.
=======================================================================
BJ001     HASPSSSM      Enable JES2 to reply to TSO user originated
                        commands, to the terminal.
=======================================================================
BJ002     HASPCON       Enhance HASPCON to try using TPUT with USERIDL
                        before issuing SEND oper command to send msgs
                        to TSO terminals.
=======================================================================
BJ003     HASPCNVT      Enhance HASPCNVT to support the new /*PROCLIB
          $JCT          control card, for using user-proclib data sets.
                     >> This is a greatly enhanced and improved version
                     >> of the famous mod from TUCC. Includes ACF2
                     >> support (option), better syntax, recovery,
                     >> reliability etc.

            Exits:      4 user exits: 4 (IBM), 240,241,242  (user).
                        All packaged in EX@PROC module.
                        Exit 243 (module EX@PROCA) is ACF2 support.
=======================================================================
BJ004     HASPPRPU      JES2 will not eject to top of page after and
                        before a SYSOUT. Instead, exits 1 and 15
                        will issue an on-fold mark during separator,
                        and eject between data sets at all other times.

            Exits:      2 user exits connected: 1 and 15. Note that
                        these exit routines also contain code with
                        other purposes. Packaged in EX@PRNT module.
=======================================================================
BJ005     HASPPRPU      JES2 is updated to count printed pages for
                        SMF only if the CCW is a "skip to channel 1",
                        instead of counting each "channel" CCW. This
                        ensures more accurate SMF accounting.
=======================================================================
BJ006     $JCT          Genaral updates to the JCT to accomodate
                        the Bar Ilan user fields (these are defined
                        over the JCTUSERx fields).
=======================================================================
BJ007     HASPSCAN      Solve an IBM bug in HASPSCAN - S0C7 when
                        field is CONV=(CHARN,.) and value is 11.11 .
                        Waiting for IBM fix.
 *** Obsolete ***
                        17/08/84 - IBM fix is AZ80659. BJ007 removed.

=======================================================================
BJ008     None.         New JECL card syntax: /*JOBPARM.
                        The whole card is scanned in exit 4 routine
                        CCSX4 using $SCAN.
            Exits:      Exit 4 routine (CCSX4) in module EX@CCS
                        does the scanning.
=======================================================================
BJ009     HASPRDR       Support the "HOLD" parameter of JOBPARM (or
          HASPSSSM      any equivalent) - to hold all sysout data sets
                        for a job.
=======================================================================
BJ010     HASPSSSM      Force a default MSGCLASS=A for INTRDR's
                        allocated to STC/TSU. This is just a default
                        MSGCLASS, the submitted job can override.
=======================================================================
BJ011     HASPRDR       ACF2 pre- and post-validation. Class selection,
                        priority setting and other job-finilization
                        functions.

            Exits:      ACF2APRE in EX@ACF2 is the pre-validation exit.
                        ACF2APST in EX@ACF2 is the post validation
                        (class selection) exit.
=======================================================================
BJ012     None.         Disallow page ejects during printing for users
                        who are not allowed to skip or do not wish to
                        do so. Undesired skips are converted to "skip
                        3 lines".

            Exits:      PRNTX15 in EX@PRNT is involved in the task -
                        CCW translation table is modified according
                        to selection.
=======================================================================
BJ013     HASPTERM.     Introduce JXE: Job eXecution Element, to
                        maintain information about job's resource
                        consumption.
                        The JXE is updated by non-JES2 routines
                        (IEASMFEX with Bar Ilan mods, IEFAB423
                        device allocation with Bar Ilan mods etc.).
                        Those can also schedule job cancel - the
                        required cancelling code is within this mod.
                        More information in member BJ013 in JES2DOC.

            Exits:      JOBX8 in EX@JOBX is used as a job init/term
                        exit to associate a JXE with the batch job.
                        INITX24 in EX@INIT is and exit 24 routine
                        that builds the JXE pool and connects it
                        to the SSVT.

                        Part of INITX24 in EX@INIT is used to
                        initialize the JXE pool when JES2 comes up.

=======================================================================
BJ014     None.         JCL internal text scan: eliminate unauthorized
                        JCL keyword (ADDRSPC, PERFORM etc.) and insert
                        TIME keyword for batch job cards with the
                        JOBPARM time estimate.

            Exits:      JCLX6 in EX@JCL is used to perform these tasks.

=======================================================================
BJ015     $JQE          Modify $JQE to contain fields that are
                        required for the Bar Ilan JES2 mods.
            Exits:      None.

=======================================================================
BJ016     HASPCOMM      Reject the $EJ command if it is issued against
          $JQE (BJ015)  a non-restartable job (RESTART=NO or NORESTART
                        in the JES2PARM class definition).

            Exits:      RDREX20  (End of input exit point 20) is used
                        to initialize the new JQE flag.

=======================================================================
BJ017     None.         Introduce the UCT (User Control Table) that
                        will contain the installation defined fields
                        that reside in the jES2 private area.

            Exits:      None.

=======================================================================
BJ018     None.         The Bar Ilan tape drive system. This system
                        sets up a "pool" of tape drives to be used
                        by JES2 batch jobs. The jobs should state
                        the number of tape drives they require, and
                        JES2 will initiate such jobs when enough drives
                        are available.

            Exits:      TAPEX5 in EX@TAPE is used to support the new
                               oper command @XT.
                        QGETX14 in EX@QGET is used for job selection
                               limiting.
                        CCSX4   in EX@CCS is used to extract the job's
                               tape count and put it in the JCT and JQE.

=======================================================================
BJ019     HASPSSSM.     The procedure name for XBATCH monitor job
                        will not include the initiator name - 1 proc
                        name for an XBATCH class.

            Exits:      None.

=======================================================================
BJ020     HASPCOMM.     @TPRTn,F=abcd for a 3203 printer will force
                        the FCB name to be the 4th character of the
                        form name.
            Exits:      None.

=======================================================================
BJ021     HASPBSC.      Enable a diskette reader that transfers 128
                        byte diskettes to work without losing a byte
                        from every second record.

            Exits:      None.

=======================================================================
BJ022     HASPPRPU      Introduce the hebrew new code support on
                        printers - translate printed output
                        according to sysout class.

            Exits:      PRNTX15 in EX@PRNT (partial).

=======================================================================
BJ023     None.         The $QF command, used to list output groups
                        according to forms, FCB, UCS, route etc.
                        A greatly enhanced version of $LF from NWB.

            Exits:      $QFX5 in EX@$QF.

=======================================================================
BJ024     None.         The $QS command, used to list /*SETUP card
                        contents for jobs that have requested setup.

            Exits:      $QSX5 in EX@STUP.

=======================================================================
BJ025     HASPCOMM      HASPCOMM is changed to support the ONL$SERV
                        mod from the JESMODS tape. This gives most of
                        the local $CF.. services for exit 5 routines,
                        and to support new exit (254) to modify
                        $HASP608 job info message.

            Exits:      None.

=======================================================================
BJ026     None.         The $HASP608 (job info) message is extended
                        to contain Bar Ilan job parameters etc.

            Exits:      JINFX254 in EX@JINFO.
                        Part of RDREX20 in EX@RDRE.

=======================================================================
BJ027     HASPIRDA      Install the ONL$TODV mod (from JESMODS tape)
                        to validate system clocks at startup.

            Exits:      TODVX255 in EX@TODV.

=======================================================================
BJ028     HASPAM        Enforce OUTLIM on dumps during ABEND - if
                        output is exceeded during RTM, stop printing.

            Exits:      None.
=======================================================================
BJ029     HASPSSSM      Write job log to spool after each WTO that
                        updates the job log, for better logging.

            Exits:      None.

=======================================================================
BJ030     HASPCOMM    1. HASPCOMM will not require an ending apostrophe
                         in a jobname command ($D'jjj', etc.).
                      2. It will treat the job name given in the command
                         as a prefix, i.e. will act on all jobs
                         whose names start with that prefix.

            Exits:      None.

=======================================================================
BJ031     HASPSSSM    1. XBATCH JCL will have MSGLEVEL=(0,0) rather then
                         MSGLEVEL=1.
                      2. XBATCH monitor continuation jobs will have
                         JCTPDDBK in the JCT updated, so that
                         COM-PLETE TP system can read such jobs'
                         sysouts.

            Exits:      None.

=======================================================================
BJ032     HASPNET     This mod puts several enhancements to the JES2
                      / VM RSCS interface, for BITnet or anything.
                       1. Enable RSCS originated user messages to
                          always reach a TSO user.
                       2. When VM user sends a message to a TSO user
                          and the latter is not logged on, send a
                          message back. The original message will
                          still be kept.
                       3. For all network originated messages,
                          issued to TSO users' terminal,
                          insert "from nodeid:" in fron of message
                          so that source is recognized.
                       4. If the originator of the message is
                          "MAILER" (the VM mailing machine), convert
                          it to the true sender name.
                       5. Make sure TSO/E mail message ($HASP549)
                          is always sent (even if user is not logged
                          on).
                       6. Overcome a JES2 bug in the above message
                          issuance.
                       7. Chenge old format PUNCH files to TSO/E
                          RECEIVEable files.
                       8. Introduce the $UM command, via exit 5,
                          to send a "user" message to a remote
                          node. This is similar to the TUCC $UM
                          command - with some modifications.

            Exits:      NETWKX5, NETWKX10 and NETWKX13 in EX@NETWK.
=======================================================================
BJ033    HASPNET       JES2 normally will not use a nondirect NJE
                       connection when there is an adjacent
                       pre-defined connection (even an inactive one).
                       JES2 is modified to allow connection even in
                       such case.
                       Please refer to member BJ033 for further
                       inforamtion. Final solution will be in another
                       mod.
=======================================================================
BJ034     None.       Dynamic network definition commands added:

                      1. $CONNECT to dynamically define a "pre-defined"
                         connection (JES2PARM CONNECT-statement-like)

                      2. $UNCONNECT dynamically deletes a pre-defined
                         connection.

                      3. $DCON displays an NJE connection - either
                         pre- or dynamically- defined.

                      4. $NDEF dynamically defines a new node or
                         modifies an existing node name.

                         Further details in member BJ034 in JES2DOC.

            Exits:       DYNNX5 in EX@DYNN (exit 5).

=======================================================================
BJ035     None.       JES2 will notify the TSO user (if NOTIFY was
                      requested) when an output group has been
                      printed.

            Exits:       Code is in EX@PRNT, Exit 1 (PRNTX1).

=======================================================================
BJ036     HASPNET     $TOJ will affect the target userid of files
                      going to the network. The userid will be taken
                      from WTRID. That is, $TOJ...,W=userid will
                      affect the NJE header of the file to that userid.

            Exits:       None.

=======================================================================
.pa
.nf
@FILE052@***********************************************************************
*                                                                              *
*         F I L E   5 2   U B I   S A M P L E   P R O G R A M S                *
*                                                                              *
********************************************************************************

.ju left
     SAMPLES DATA SET - BAR-ILAN UNIVERSITY JES2
     ===========================================

   This data set contains some sample programs that are used in Bar Ilan
University (UBI) in conjunction with JES2 and may be of some help to
other installation. The programs, however, were written mainly for local
use; no warranty whatsoever is granted.  Any comments or bug
descriptions will nevertheless be greatfully accepted by:

           Doron Shikmoni  (P85025@BARILAN - BITnet)
           Bar Ilan University - Computer Center
           Ramat Gan
           Israel.

   Contents:

BI00037 - This is an example of an MVS mod to IEASMFEX, that uses
          the JXE introduced by Bar Ilan mods to count EXCP's done
          by a batch job and to schedule a cancel for the job if the
          limit was exceeded. The mod zaps IEASMFEX in nucleus. More
          info in member itself.

BI00072 - This is an example of an MVS mod to IEFAB423 (common
          allocation) to use the above mentioned JXE to limit user's
          tape drive allocation. The special thing about this mod
          is that it has control over both JCL and dynamic allocation,
          and thus is a complete solution for tape drive limiting.
          The mod is used in conjunction with the tape drive system
          introduced by the Bar Ilan mods. More info in member.

BIUJQS  - Macro that maps the parm list to JQSCAN below.

JESW    - A program to switch a TSO user from primary to any selected
          secondary JES2 system, on the fly !!. This program has
          a lot of documentation inside; please read before
          installing.

JQSCAN  - A program that uses x-memory services to access JES2
          job queue to extract any required information (JQE's,
          mainly) for any STATUS commands and monitors. The
          huge advantage of this, of course, is the elimination
          of i/o to the checkpoint; all JQE's are read from JES2
          storage. More info in member.

RENTRY  - Macro required for assembly.

SI00037 - Source for above BI00037. These zaps are created using
          the ASMTOZAP program (from the CBT tape); if you have it,
          run it against SIxxxxx members to get the zap member. It's
          very easy to put changes using this program. If you can't
          get it, use the BIxxxxx member.

SI00072 - See above.

      Good luck.
.pa
.nf
@FILE053@***********************************************************************
*                                                                              *
*         F I L E   5 3   U B I   Q U E U E   C O M M A N D   F O R   1 3 3    *
*                                                                              *
********************************************************************************

            Doron Shikmoni  - Systems
            Bar-Ilan University - Computer Center
            Ramat-Gan
            Israel

Yet another version of the QUEUE command.
See member $BIDOC for details.
.pa
.nf
@FILE054@***********************************************************************
*                                                                              *
*         F I L E   5 4   C S G   M O D S                     F O R   1 3 4    *
*                                                                              *
********************************************************************************

.ju left
The following gives an abstract of each of the mods that have been
written at CSG.  The same abstract can be found in the front of each of
the specific mods.
If you have any problems of questions, please call me:

           Terry Burr   (416) 822-5200

If I'm not availble, then either Bill Rath or Paul Foley will be
able to help you
  ./      LEVEL CSG-1L
  ./      CHNGE $CSGMODS
 *A  SMF DATA ERROR HANDLING                                             D1L0010
 *B  ORIGINAL         751113 BURR                                        D1L0020
 *B  NJE              800323 MAGNO                                       D1L0030
 *B  SP1.3.0          830602 RATH                                        D1L0040
 *B  SP1.3.4          841023 RATH                                        D1L0050
 *C  HASPMISC                                                            D1L0060
 *D    HASPACCT NOW RESIDES AS AN ENTRY POINT INSIDE HASPMISC.           D1L0070
 *D  IF HASPACCT DETECTS AN ERROR IN WRITING ITS SMF RECORDS             D1L0080
 *D  A WARNING MESSAGE IS ISSUED.                                        D1L0090
 *D    IF SMF STOPS RECORDING, THE CONSOLE IS FLOODED WITH               D1L0100
 *D  MESSAGES TO INDICATE THE PROBLEM AND JES IS DRAINED                 D1L0110
 *D    A $S WILL START UP JES AGAIN                                      D1L0120
          SPACE 5                                                        D1L0130
  ./      LEVEL CSG-1V
  ./      CHNGE $CSGMODS
 *A  JES2 MONITOR                                                        D1V0010
 *B  ORIGINAL         770224 GOODALE / BURR  770519                      D1V0020
 *B  NJE              800411 BURR                                        D1V0030
 *B  SP1.3.0          830704 BURR                                        D1V0040
 *B  SP1.3.4          850108 CUDE                                        D1V0050
 *C  HASPBSC                                                             D1V0060
 *C  HASPNET                                                             D1V0070
 *C  HASPRDR                                                             D1V0080
 *C  HASPSNA                                                             D1V0090
 *C  CSGXIT5                                                             D1V0100
 *D                                                                      D1V0110
 *D  THIS MOD MONITORS JES2 INTERNAL ACTIVITY. A QUICK LOOK              D1V0120
 *D  CAN BE OBTAINED BY ENTERING $MO.                                    D1V0130
 *D  THE COMMAND SHOWS: FREE GENERAL BUFFERS                             D1V0140
 *D                     FREE STD RJE BUFFERS                             D1V0150
 *D                     FREE BIG RJE BUFFERS                             D1V0160
 *D                     FREE PRINT/PUNCH BUFFERS                         D1V0170
 *D                     FREE JQE'S                                       D1V0180
 *D                     FREE JOE'S                                       D1V0190
 *D                     FREE CMB'S                                       D1V0200
 *D                     BSC RMTS SIGNED ON                               D1V0210
 *D                     SNA RMTS SIGNED ON                               D1V0220
 *D                     H.W.CONCURRENT REMOTES                           D1V0230
 *D                     JOBS TRANSMITTED                                 D1V0240
 *D                     JOBS RECEIVED                                    D1V0250
 *D                     SYSOUTS TRANSMITTED                              D1V0260
 *D                     SYSOUTS RECEIVED                                 D1V0270
 *D                     %SPOOL UTILIZATION                               D1V0280
 *D                                                                      D1V0290
 *D  THE MAIN PART OF THE MOD IS CODED IN EXIT 5.  THIS CODE IS          D1V0300
 *D  ONLY THE SUPPORTING CODED NECESSARY TO CHANGE SOME OF THE           D1V0310
 *D  MONITORED FIELDS.                                                   D1V0320
 *D                                                                      D1V0330
          SPACE 5                                                        D1V0340
  ./      LEVEL CSG-1W
  ./      CHNGE $CSGMODS
 *A  BLANK OUT ACCOUNT NUMBER IN JOBCARD                                 D1W0010
 *B  ORIGINAL         ??0307 MAGNO                                       D1W0020
 *B  NJE              800323 MAGNO                                       D1W0030
 *B  SP1.3.0          830705 BURR                                        D1W0040
 *B  SP1.3.4          850124 BURR                                        D1W0050
 *C  HASPPRPU                                                            D1W0060
 *D                                                                      D1W0070
 *D  THIS MOD 'X'S OUT THE ACCOUNT NUMBER IN JOBCARD IF IT               D1W0080
 *D  APPEARS IN THE FIRST CARD ONLY.                                     D1W0090
 *D                                                                      D1W0100
 *D  IF THE PROG. NAME FIELD STARTS WITH A X'C0' , BLANKING IS           D1W0110
 *D  BYPASSED.                                                           D1W0120
 *D                                                                      D1W0130
 *D  MOD HAS BEEN SUPPLIED VIA THE USE OF EXIT 254.  THIS EXIT           D1W0140
 *D  DOES NOT REQUIRE AN ESTAE, SINCE THE ESTAE FROM PRPU IS             D1W0150
 *D  STILL IN EFFECT.                                                    D1W0160
 *D                                                                      D1W0170
          SPACE 5                                                        D1W0180
  ./      LEVEL CSGX05
  ./      CHNGE $CSGMODS
 *A  HASPCOMM  EXIT5                                                     DX05010
 *D  WARNING  WARNING  WARNING WARNING                                   DX05120
 *D  THIS IS A STRIPPED DOWN VERSION OF MY EXIT 5                        DX05200
 *D  AS SUPPLIED HERE THIS WILL NOT WORK                                 DX05270
 *D  YOU MUST COPY ALL THE SERVICE ROUTINES FROM                         DX05300
 *D  HASPCOMM                                                            DX05310
 *D      THE SSI FORMATTED COMMAND PROCESSOR ROUTINE SHOULD ALSO         DX05460
 *D  BE INSERTED TO COMPLETE THE COMEDIT ROUTINE.                        DX05470
 *D  THIS FILE ONLY CONTAINS THE MINIMAL CODE FOR:                       DX05490
 *D   2)  DISPLAY DISK BY ADDRESS OR VOLSER                              DX05540
 *D       -ALLOW FOR SPECIFIC REQUESTS RE: DASD OF THE FORM              DX05550
 *D            $DD,XXX      WHERE XXX IS THE UCB ADDR                    DX05560
 *D            $DD'YYYYYY'  WHERE YYYYYY IS THE VOLSER                   DX05570
 *D            $DD,ALL      FOR ALL DASD ONLINE DEVICES                  DX05580
 *D       -THE $DD IS ONLY ALLOWED LOCALLY                               DX05590
 *D   5)  NEW COMMANDS $QF,F=XXXX: DISPLAY JOBS NEEDING XX FORMS         DX05680
 *D                    $DZ       : DISPLAY QSETIME VARIANCES             DX05700
 *D   8)  $TEXIT COMMAND: THE DISABLE OPERAND HAS BEEN REPLACED          DX05980
 *D       BY 'ELBASID'.                                                  DX05990
 *D   9)  $MONITOR                                                       DX05991

  ./      LEVEL CSGX06
  ./      CHNGE $CSGMODS
 *A  CONVERTOR EXIT                                                      DX06010
 *B  ORIGINAL         100975 GOODALE/RATH/BURR/PARSONS                   DX06020
 *B  SP1.3.0          820604 RATH                                        DX06030
 *B  SP1.3.4          840301 RATH                                        DX06035
 *C  $CSGMODS                                                            DX06040
 *C  $JCT                                                                DX06050
 *C  USERTABS                                                            DX06070
 *C  HASPXEQ                                                             DX06080
 *C  CSGXIT6                                                             DX06110
 *D                                                                      DX06120
 *D  THIS MODIFICATION USES EXIT6 TO IMPLEMENT ALL THE MODS              DX06130
 *D  THAT ARE CURRENTLY IN HOSCNVT, THE CONVERTOR EXIT IN                DX06140
 *D  NJE 3.0 (HASJES20).                                                 DX06150
 *D  THE MODS TO BE MOVED TO EXIT6 ARE :                                 DX06160
 *D      CSG-AU   (CHANGE UNIT= GENERIC TO UNITNAMES)                    DX06170
 *D      CSG-AW   (REMOVE USE OF TIME= ON JOB CARD)                      DX06180
 *D      CSG-CZ   (RESTRICT BLKSIZE= TO 254 BYTES)                       DX06190
 *D   EXIT6 WILL CONTAIN THE FOLLOWING CODE:                             DX06260
 *D                                                                      DX06270
 *D  CHANGE UNIT=GENERIC TO UNIT=UNITNAME                                DX06280
 *D  ORIGINAL        200576 GOODALE/160377 RATH                          DX06290
 *D  RECODE FOR NJE  600402 BURR                                         DX06300
 *D  CODED FOR EXIT6 070682 RATH                                         DX06310
 *D  THIS MOD CHANGES ALL USES OF:                                       DX06320
 *D              UNIT=3330    TO UNIT=DISK                               DX06330
 *D              UNIT=3350    TO UNIT=DISK                               DX06340
 *D              UNIT=3330-1  TO UNIT=CSGWRK                             DX06350
 *D              UNIT=2400-3  TO UNIT=HSTAPE IF NO DEN                   DX06360
 *D              UNIT=3400-3  TO UNIT=HSTAPE IF NO DEN                   DX06370
 *D  SO AS NOT TO CAUSE PROBLEMS WITH THE METHOD OF                      DX06380
 *D  HANDLING MOUNTABLE DISK PACKS                                       DX06390
 *D                                                                      DX06400
 *D                                                                      DX06410
 *D  JOB CPU TIMING                                                      DX06420
 *D  ORIGINAL        130676 GOODALE/160377 RATH                          DX06430
 *D  RECODED FOR NJE 040280 BURR                                         DX06440
 *D  CODED FOR EXIT6 070682 RATH                                         DX06450
 *D                                                                      DX06460
 *D  1. ANY TIME= PARAMETER ON THE JOB CARD IS DELETED.                  DX06470
 *D                                                                      DX06480
 *D  2. A TIME= PARAMETER IS CONSTRUCTED ON THE JOB CARD                 DX06490
 *D     WHOSE VALUE IS THAT SPECIFIED BY THE TIME=                       DX06500
 *D     PARAMETER OF THE /*JOBPARM                                       DX06510
 *D                                                                      DX06520
 *D                                                                      DX06530
 *D  PREVENT WASTE OF SPOOL BY LARGE LRECL ON SYSOUT=                    DX06540
 *D  ORIGINAL        080781 BURR                                         DX06550
 *D  CODED FOR EXIT6 070682 RATH                                         DX06560
 *D  HASPPRPU                                                            DX06570
 *D  HASPSSSM                                                            DX06585
 *D     WHEN A USER SPECIFIES A LRECL FOR SYSOUT= FILES THAT             DX06590
 *D  IS NOT VALID FOR THE CURRENT PRINTER DEVICES, HE CAN WASTE          DX06600
 *D  ENORMOUS AMOUNTS OF SPOOL SPACE.  THE CURRENT MAXIMUM               DX06610
 *D  FOR PRINTERS IS 150 BYTES.                                          DX06620
 *D     USERS THINK THEY ARE OPTIMIZING THEIR JOBS BY BLOCKING           DX06630
 *D  SYSOUT FILES.  THIS IS NOT TRUE.  WHEN THEY BLOCK A FILE            DX06640
 *D  AND SUBSEQUENTLY FORGET TO SPECIFY LRECL, THE LRECL ASSUMES         DX06650
 *D  THE VALUE OF THE BLKSIZE.  THIS LEADS TO THE WASTED SPACE           DX06660
 *D  PROBLEM.  WHEN LRECL IS SPECIFIED JES2 IGNORES BLKSIZE.             DX06670
 *D     THE PROBLEM CAN ALSO OCCUR WHEN THE USER DELIBERATELY            DX06680
 *D  CODES A LARGE LRECL (OR BLKSIZE) IN HIS JCL OR DIRECTLY             DX06690
 *D  IN THE DCB IN HIS PROGRAM.                                          DX06700
 *D     APAR OZ35076 ADDRESSES THE PROBLEM BUT HAS BEEN CLOSED           DX06710
 *D  AS A USER ERROR.                                                    DX06720
 *D     TO PREVENT THIS WE HAVE ASSUMED THAT 254 WILL BE THE             DX06730
 *D  LARGEST ALLOWABLE VALUE FOR SYSOUT.  IF > 254 IS USED               DX06740
 *D  FOR BLKSIZE OR LRECL IN JCL, THEN THE JOB WILL BE KILLED.           DX06750
 *D  IN HASPSSSM WE HAVE PREVENTED THIS PROBLEM FROM OCCURING            DX06760
 *D  BY USERS WHO ERRONEOUSLY CODE BAD DCB PARAMETERS DIRECTLY           DX06770
 *D  INTO THEIR PROGRAM.  THE ACB LRECL AND BLKSIZE ARE CHECKED          DX06780
 *D  TO BE WITHIN THE MAX VALUE. AND, THE JFCB LRECL AND BLKSIZE         DX06790
 *D  ARE ALSO VALIDATED.                                                 DX06800
 *D                                                                      DX06810
 *D     THE ABOVE NARRATIVE IS INCLUDED TO DESCRIBE THE PROBLEM.         DX06820
 *D  IBM HAVE FIXED THIS PROBLEM IN SP1.3.4.                             DX06830
          SPACE 5                                                        DX06840
  ./      LEVEL CSGX0B
  ./      CHNGE $CSGMODS
 *A  EXIT11 AND EXIT12                                                   DX0B010
 *B  ORIGINAL         820622 BURR                                        DX0B020
 *B  SP1.3.4          841002 BURR                                        DX0B030
 *C  CSGXITB                                                             DX0B040
 *C  CSGXITC                                                             DX0B050
 *D      THIS MOD USES EXITS 11 AND 12 TO UTILIZE THE SPOOL              DX0B060
 *D  PARTITIONING FEATURE OF JES2.                                       DX0B070
 *D                                                                      DX0B080
 *D  -  EXIT 11 AND 12 ALGORITHM:                                        DX0B090
 *D   A) IF NO JCT (IE HOTNEWS) ALLOW ALLOCATION ANYWHERE.               DX0B100
 *D   B) WHEN WE ARE ABOUT TO ALLOC FOR A JOB                            DX0B110
 *D      LOOK AT THE DASTGALC AND DASNOTGE FIELDS IN THE                 DX0B120
 *D      DASDSECT AND BUILD A TABLE IN ASCENDING                         DX0B130
 *D      ORDER OF THE % OF ALLOCATION.  PICK THE FIRST ENTRY IN          DX0B140
 *D      THE TABLE, IF THIS VOLUME IS ALREADY IN THE JOB'S MASK          DX0B150
 *D      THEN GO TO THE NEXT ENTRY, TRY TO ADD IT ETC. ETC.              DX0B160
 *D                                                                      DX0B170
 *D  NOTE:                                                               DX0B180
 *D    EXIT12 CODE MUST BE LOADED INTO LPA, SINCE IT MUST EXEC           DX0B190
 *D  FROM THE USERS ADDRESS SPACE.  IF YOU DON'T UNDERSTAND THIS         DX0B200
 *D  PLEASE ASK.                                                         DX0B210
 *D                                                                      DX0B220
          SPACE 5                                                        DX0B230
  ./      LEVEL CSG-3H
  ./      CHNGE $CSGMODS
 *A  NJE RESTRICTED CONNECTION                                           D3H0010
 *B  ORIGINAL         870610 BURR                                        D3H0020
 *C  $DCT                                                                D3H0030
 *C  $NAT                                                                D3H0040
 *C  $NIT                                                                D3H0050
 *C  HASPCOMM                                                            D3H0060
 *C  HASPIRRE                                                            D3H0070
 *C  HASPNET                                                             D3H0080
 *C  USERTABS (VIA UTA2N005)                                             D3H0090
 *D                                                                      D3H0100
 *D     THIS MOD WAS ADDED TO ENSURE THAT NJE NCC RECORDS                D3H0110
 *D  WILL NOT BE PROPOGATED TO THOSE NODES THAT WE DO NOT                D3H0120
 *D  WANT TO KNOW ABOUT THE REST OF THE NETWORK.                         D3H0130
 *D     AN INITIALIZATION PARAMETER IS ADDED TO DEFINE A NODE            D3H0140
 *D  AS A RESTRICTED CONNECTION. IT USES THE FORMAT:                     D3H0150
 *D                                                                      D3H0160
 *D  N79 NAME=FRED,RESTRT   OR  N79 NAME=FRED,NORESTRT                   D3H0170
 *D                                                                      D3H0180
 *D  THE DEFAULT IS NORESTRT.  CONNECT STATEMENTS ARE OPTIONAL           D3H0190
 *D  BUT THE PREDEFINED CONNECTION WILL BE THE NORMAL MODE OF            D3H0200
 *D  USAGE SINCE WE ALSO PROBABLY DON'T WANT THE REST OF THE             D3H0210
 *D  NETWORK TO KNOW ABOUT THIS CONNECTION EITHER.                       D3H0220
 *D                                                                      D3H0230
 *D     AFTER INITIALIZATION THE BIT IN THE NIT IS EXTENDED              D3H0240
 *D  TO THE NAT WHENEVER THAT NAT IS BUILT, WHETHER IT BE AT             D3H0250
 *D  INITIALIZATION FOR PREDEFINED CONNECTIONS OR DYNAMICALLY            D3H0260
 *D  WHEN A CONNECTION IS MADE.                                          D3H0270
 *D                                                                      D3H0280
 *D     THE LINE DCT USES DCTUSER0 TO INDICATE LINE DCTS THAT            D3H0290
 *D  HAVE A RESTRICTED NAT ASSOCIATED WITH IT.                           D3H0300
 *D                                                                      D3H0310
 *D     CODE IS ADDED TO HASPNET TO PREVENT THE SENDING OF               D3H0320
 *D  NOTIFICATION MESSAGES IF THE NODE IS FLAGGED AS RESTRT              D3H0330
 *D  (IE RESTRICTED).                                                    D3H0340
 *D                                                                      D3H0350
 *D  THE MOD ASSUMES THE AVAILABILITY OF THE DCTUSER0 BYTE IN            D3H0360
 *D  THE DCT                                                             D3H0370
 *D                                                                      D3H0380
 *D  THE MOD ASSUMES THE EXISTENCE OF MODULE USERTABS IT LOOKS           D3H0390
 *D  SOMETHING LIKE:                                                     D3H0400
 *D            COPY $HASPGBL                                             D3H0410
 *D  USERTABS $MODULE NOTICE=NONE,TITLE='X',$NIT,$MIT,$MODMAP,..         D3H0420
 *D  USERNODT $SCANTAB TABLE=USER                                        D3H0430
 *D            COPY UTA2N005   (SEE TWO $SCANTAB AS BELOW)               D3H0440
 *D           $SCANTAB TABLE=END                                         D3H0450
 *D           $MODEND                                                    D3H0460
 *D            END                                                       D3H0470
 *D                                                                      D3H0480
 *D  FOR SAFETY BECAUSE OF CHANGE TO NITDSECT YOU SHOULD ALSO            D3H0490
 *D  ASSEMBLE BSC IRMA JOS MISC PRPU RDR RTAM SCAN SERV SNA              D3H0500
 *D  TABS AND XEQ                                                        D3H0510
.pa
.nf
@FILE055@***********************************************************************
*                                                                              *
*         F I L E   5 5    N E R D C   J E S M O D S          F O R   1 3 4    *
*                                                                              *
********************************************************************************

.ju left
      JACK SCHUDEL              (904) 392-4601
      NORTHEAST REGIONAL DATA CENTER
      233 SPACE SCIENCES RESEARCH BUILDING
      UNIVERSITY OF FLORIDA
      GAINESVILLE, FLORIDA  32611

THIS FILE CONTAINS SEVERAL OF THE NERDC'S MODIFICATIONS TO THE SP 1.3.4
VERSION OF JES2.  THE FOLLOWING MODIFICATIONS ARE INCLUDED:

     NE000    * DOCUMENTATION CONTROL.
     NE001    * SKELETONS FOR ADDED MODULES.
     NE002    * NERDC CONTROL BLOCK FILLERS.
     NE003    * SUPPORT FOR NERDC COMMAND ADDITIONS.
     NE004    * EXTEND ADDRESSABILITY IN SELECTED MODULES.
     NE008    * CONDITIONAL INITIALIZATION PROCESSING.
     NE011    * CHANGE DEFAULT WS= VALUES IN IRA AND IRMA.
     NE012    * INITIATORS INITIALIZED AS DRAINED ($PI).
     NE013    * CHANGE $D'JOBNAME' TO NOT REQUIRE ENDING APOSTROPHE.
     NE014    * JOB DISPLAY BY PREFIX.
     NE015    * $YB COMMAND TO LIST AVAILABLE BUFFERS.
     NE018    * $YM COMMAND TO LIST MODULE ADDRESSES.
     NE019    * CHANGE SYSZJES2 QNAME ON TEST SYSTEM FOR GRS.
     NE020    * CHANGES FOR RUNNING UNDER MOTHER TCB.
     NE023    * TSO/E NOTIFY EXIT PROCESSING.
     NE025    * CHANGE HASPRDR TO SUPPORT ERROR MSGS FROM EXIT 20.
     NE033    * PLACE STARS ON FOLD OF HEADER PAGE.
     NE036    * SMF ID OF CREATING SYSTEM ON SYSLOG.
     NE039    * HAVE $WTO EXIT CHANGE ROUTCDES FOR SELECTED MESSAGES.
     NE050    * CHANGE $COFCVE IN HASPCOMM TO SUPPORT NUMBERS > 99999.
     NE051    * SELECTABLE PRINT TRANSLATION.
     NE053    * RESTRICTIONS ON $ COMMANDS FROM READERS.
     NE060    * $DMU COMMAND TO SEND MESSAGE TO DISTANT USER.
     NE065    * CHANGE $DQ & $DN TO IGNORE HELD JOBS IF "H=N" IS SPECIFIED.
     NE073    * RESOLVE RSCS MESSAGES WITH BOTH CMBFLAGW & CMBFLAGT SET ON.
     NE075    * IMPROVED SUPPORT FOR MESSAGES TO TSO USERS.
     NE077    * CHANGE HASPCOMM TO SET/DISPLAY LUNAME FOR REMOTES.
     NE081    * CONVERT VM PUNCH FILES TO TSO/E RECEIVE FILES.
     NE082    * ALLOW AUTOLOGON FOR REMOTE INITIALIZATION.
     NE088    * SEND JOB RECEIVER MESSAGES BACK TO USER IF NOTIFY IS ON.
.pa
.nf
@FILE056@***********************************************************************
*                                                                              *
*         F I L E   5 6   B.  F.  G O O D R I C H   Q U E U E   ( I S P F )    *
*                                                                              *
********************************************************************************

      GUY L. ALBERTELLI
      BFGOODRICH
      DEPT 0658  BLDG 17F
      500 S. MAIN STREET
      AKRON, OHIO 44318

      PHONE: (216) 374-4071

      SHARE INSTALLATION CODE = BFG

      LAST UPDATE = JAN 87

 ISPF  -- IMPLEMENTED AN INTERFACE BETWEEN ISPF/PDF AND THE QUEUE COMMAND
          ** SEE MEMBER $BFGISPF FOR MORE INFO **

 BFG01 -- CHANGED METHOD TO READ THE CKPT FILE TO EXCP. IT PROVIDES
          NOTICABLE IMPROVEMENT TO THE SPEED OF QUEUE.
          (INIT,CKPT,QCOMMON)

 BFG02 -- ADDED COUNT OF DUPLICATE JOBS TO THE DQ COMMAND.
          (SEARCH)

 BFG03 -- CHANGED THE INITIATOR DISPLAY (XI) TO ALSO DISPLAY THE CLASS
          OF THE JOB CURRENTLY EXECUTING.  ALSO REREADS THE CKPT IF
          THE PIT AND CKPT DO NOT MATCH.
          (INITS)

 BFG04 -- IF DISPLAYING THE STATUS OF A "SYSLOG" DATASET, THEN
          DISPLAY THE FIRST TIME STAMP IN IT. (THIS MOD WAS ORIGINALLY
          FROM PWF.)
          (FORMAT)

 BFG05 -- ALLOW THE ISSUANCE OF BOTH JES2 COMMANDS AND OS COMMANDS FROM
          AUTHORIZED USERS AT ANY TIME IN THE SESSION.
          (DISPLAY,QCOMMON,AUTH)

 BFG06 -- ADD A DISPLAY OF THE CURRENT CPU BUSY PERCENT AND DEMAND
          PAGING RATE TO ALL DISPLAYS IN UPPER RIGHT CORNER OF SCREEN.
          (DISPLAY,QCOMMON)

 BFG07 -- ADD A COMMAND TO DISPLAY THE SCREEN OF THE MASTER CONSOLE AND
          ALL CURRENT WQE'S. (THE 'XC' COMMAND.)
          (CONSOLE(NEW),PARSE,HELP,DISPLAY,QSTART)

 BFG08 -- ADD COLUMN HEADING FOR DESTINATION OF JOBS OR JOES.
          (FORMAT)

 BFG09 -- ORGANIZE KEY 0 SUPPORT BY MOVING ENTRY AND EXIT CODE TO AUTH.
          ADD NEW VARIABLE &QBFG FOR BFG SPECIFIC AUTHORIZATION CODE.
          (QAUTHCK,AUTH,QCOMMON,CONSOLE,SYSOUT,DISPLAY,QSTART)

 BFG10 -- CORRECT DJ COMMAND TO ACCEPT JOB NUMBER OR '*' AS DOCUMENTED.
          (SEARCH)

 BFG11 -- REINSTALL ORIGINAL FCI MOD TO DA COMMAND TO SHOW JOBS ACTIVE
          ON OUTPUT QUEUE AND INPUT QUEUES (REALLY ON DEVICES).
          (SEARCH,$JQT)

 BFG12 -- DISPLAY THE TRANSMISSION AND SYSOUT RECEIVE QUEUES FOR NJE.
          THIS MOD WILL ENCOMPASS THE INITIAL NJE DISPLAY SUPPORT.
          ALSO IMPLEMENT THE 'NJ' COMMAND TO DISPLAY JUST NJE STUFF.
          (SEARCH,$JQT,FORMAT,QCOMMON,INIT,HELP,PARSE)

 BFG13 -- ADD NEW INPUT PARM SO THAT THE XI COMMAND FINDS THE CORRECT
          SSVT IF MORE THAN ONE JES IS ACTIVE, ALSO AFFECTS 'DA' AND
          'CAN'/'REQ'/'DEL'.
          ADD COMMAND 'SBSY' TO ALLOW RESET OF SUBSYSTEM ON FLY.
          THE INTENT OF THIS CHANGE IS TO DISALLOW ANY COMMAND THAT MAY
          DEPEND ON THE DATA IN THE SSVT CONTROL BLOCK, IF Q CANNOT
          VERIFY THAT THE SSVT IN QUESTION MATCHES THE CHECKPOINT THAT
          WAS SELECTED.
                THIS IS ACCOMPLISHED BY VALIDATING THE SUBSYSTEM NAME
                AND ASSOCIATED SSVT IN MODULE SUBSYS. THE RESULT IS
                SHOWN BY RETURN CODE. IF VALID, BITS ARE SET ON (IN THE
                AUTHORIZATION AND HELP SECTIONS) TO INDICATE THAT THE
                SSVT ENVIRONMENT IS VALID. IF NOT VALID, THE BITS ARE
                RESET TO INDICATE THE THE SSVT ENVIRONMENT IS NOT VALID.
                COMMANDS THAT ARE SENSITIVE TO THIS ARE: XI, DC, CAN,
                REQ, AND DEL.
          (INIT,INITS,ACTIVE,SYSOUT,QCOMMON,PARSE,HELP,SUBSYS(NEW))

 BFG14 -- ADD ADDITIONAL FIELDS TO THE DDNAME DISPLAY:
          FORM, FCB, UCS, COPY
          ADD ADDITIONAL FIELD TO THE PDDB DISPLAY:
          SPIN INDICATOR
          (DDNAME,CPDDB)

 BFG15 -- FIX INPUT COMMAND PROCESSING FROM INVOCATION LINE.
          THIS ALLOWS THE INPUT COMMAND TO HAVE PARAMETERS BY
          ENCLOSING THE ENTIRE COMMAND IN QUOTES.
          IF THE DEFAULT COMMAND IS DESIRED, OR IF THE OPTIONAL
          KEYWORD PARMS ARE USED THEN THE FIRST PARM MAY BE AN
          ASTERISK.
          (INIT,ISRQ)

 BFG16 -- WITH THE AID OF BFG13 AND BFG05, CHANGE THE COMMAND PROCESSING
          TO ACCEPT COMMANDS THAT START WITH A '.' ALL THE TIME, BUT
          ACCEPT COMMANDS THAT START WITH ANOTHER DELIMITER ONLY WHEN
          WE HAVE VALIDATED THE MATCH BETWEEN A SUBSYSTEM AND THE
          CHECKPOINT, THEN ACCEPT THAT SUBSYSTEM'S COMCHAR AS A DELIM.
          NET EFFECT: IF Q IS SET FOR PRODUCTION CHECKPOINT, THEN
                         PRODUCTION COMCHR IS VALID
                      IF Q IS SET FOR TEST CHECKPOINT, THEN IF CORRECT
                         SUBSYS(.) PARM USED OR CORRECT 'SBSY' COMMAND
                         ISSUED, THEN TEST COMCHR IS VALID
          NOTE: '$' NOLONGER A KEY CHARACTER, EXCEPT THAT IT MAY BE
                   THE CURRENT SUBSYSTEM'S COMCHR
          (SUBSYS,QCOMMON,DISPLAY)

 BFG17 -- CHANGE CODE AROUND ONL08 TO USE DIFFERENT SYMBOL AND THE
          'WXTRN' CARD.  THIS WILL PERMIT THE LINK TO SUCCEED AND THE
          ADDRESS WILL BE NON-ZERO ONLY IF Q0 IS INCLUDED BY HAND.
          THIS IS MUCH BETTER AND MORE AUTOMATIC THAN AIF CODING.
          (INIT,Q0)

 ***  NEW FOR MAY 86  ***

 BFG18 -- CODE CHANGES FOR XA AND ISPF VERSION 2
          (DISPLAY,LISTDS,FORMAT,QCOMMON,INIT)

 BFG19 -- ALLOW SYSOUT CLASS TO BE SPECIFIED AS OPTION IN SPIN
          AND FIX BUG WHEN "SPINNING" A JOB LOG
          (CSPIN)

 BFG20 -- CHANGE THE 'CAN', 'REQ', AND 'DEL' COMMANDS TO REQURIE
          POSITIVE RESPONSE FOR VALIDATION.  THIS WILL INSURE THAT
          REQUESTS ARE ACKNOWLEDGED, AND ALSO PERMIT USE UNDER ISPF.
          NOTE: ISPF WILL NOT PASS BACK A "NULL" INPUT.
          (SYSOUT, DISPLAY)

 BFG21 -- FIX SAME BUG IN "SAVE" AS EXISTED IN "SPIN" CONCERNING A JLOG
          DATASET. ALSO FOR BFG, IF NO PREFIX EXISTS THEN USE THE USER
          ID AS A PREFIX.
          (SAVE)

 BFG22 -- CORRECT FORMATING NUMBER OF LINES OF OUTPUT IN THE STATUS
          FORMAT (AND ALL THE COMMANDS THAT USE THE "FORMAT" ROUTINE).
          THIS WILL ALLOW LINE COUNTS GREATER THAN 9,999,999 TO DISPLAY
          IN TERMS OF MILLIONS OF LINES.
          (FORMAT)
.pa
.nf
@FILE057@***********************************************************************
*                                                                              *
*         F I L E   5 7   P.  S.  U.    S.  O.  F.                             *
*                                                                              *
********************************************************************************

 Rex Knepp
 Penn State University (PSU)
 122G Computer Building
 University Park,  PA  16802

 PSUSOF1 - A Quasi Secondary Operator Facility

 PSUSOF1 functions as an MVS subsystem to allow VM users to issue
 JES2 commands to control their jobs.
.pa
.nf
@FILE058@***********************************************************************
*                                                                              *
*         F I L E   5 8   A L L E R G A N   M O D S                            *
*                                                                              *
********************************************************************************

 PAUL BANKS
 ALLERGAN PHARMACEUTICALS
 2525 DUPONT DRIVE
 IRVINE, CALIFORNIA  92715
 (714) 752-4500 X4071

 $$INDEX   -  INDEX TO MODS
 MURPHYOS  -  WISE WORDS FROM MURPHY
 MURPHYVM  -  A VM VERSION OF MURPHYOS
 VMCLOSE   -  CLOSE JES2 VIRTUAL PRINTERS UNDER VM/PMA
 CONSOLE   -  FULL CONSOLE SUPPORT FOR TSO USERS
 TSOEXEC   -  RUN RACF PANELS WITHOUT TSO/E AND/OR EXEC ANY TSO
              THAT MUST RUN AUTHORIZED.
.pa
.nf
@FILE059@***********************************************************************
*                                                                              *
*         F I L E   5 9   O R   J E S 2   M O D S   F O R   1 3 4              *
*                                                                              *
********************************************************************************

.ju left
***** THIS MEMBER CONTAINS LOWER CASE CHARACTERS *****

The following is an abstract of the mods supplied by the
Oak Ridge National Laboratory:

SHARE Installation Code = OR

Installation Contact = Robert M. Jinkins
   (JES2 only)         Oak Ridge National Laboratory
                       Bldg. 4500-N  MS-259
                       P.O. Box X
                       Oak Ridge, Tennessee  37830

                       Phone: (615) 574-7208/5301
                               FTS  624-7208/5301

JES2 Version = System Product V1.3.4

Last Update = August 1985

Distribution Format = IEBCOPY Unloaded PDS
                      PDS: DCB=(RECFM=FB,LRECL=80,BLKSIZE=3600),
                           UNIT=3350,SPACE=(TRK,(140,20,20))
                      Tape: DCB=(RECFM=FB,LRECL=80,BLKSIZE=32720)
                            Non-labeled, 6250 BPI.

Mod Format = NIH Hasp Merge Format (Convertible to IEBUPDTE format)

Mod Documentation = Member $$$INDEX (The member you are now reading)

Disclaimer = The author, makes no representation or warranty of any kind
whatsoever, including, but not limited to, representations or
warranties, express or implied, or merchantability, fitness for use or
purpose, accuracy or completeness of processes, procedures, designs,
definitions, instructions, information, or functioning of any programs,
documents, or related materials; the author further expressly disclaims
any knowledge of purpose for which these programs, documents, or related
material may be utilized or their applicability for such use, nor shall
the fact of making them available constitute any such representation,
warranty, or knowledge; nor does the author assume any liability,
responsibility, or obligation arising from the use or malfunctioning of
these computer programs, documentation, or related materials.

Notes = The 'Index of ONL Mods' (see below) is listed in order of
functional categories rather than alphabetically.  A brief abstract of
each mod is given along with the name(s) of the member(s) in which a mod
is located.  The mods are documented extensively and may describe
functional capabilities omitted from this abstract.

   The member names of the JES2 mods are in the following formats:

     ONL$xxxx  Where 'xxxx' is the mod identifier.  Members with names
               in this format contain a brief abstract of the mod, NIH
               HASP Merge (IEBUPDTE like) control statements, and if the
               mod is not entirely in exits, assembler language code
               with sequence numbers dependent on the IBM JES2 source.
               In general, the member contains only a few assembler
               statements if any.
               Note: Member names in this format must be edited as
                     non-line-numbered data sets.

     ADD$xxxx  Where 'xxxx' is the mod identifier.  Members with names
               in this format contain an NIH HASP Merge 'ADD' control
               statement followed by macro definitions or copy code.

     J2X$xxxx  Where 'xxxx' is the mod identifier.  Members with names
               in this format contain an NIH HASP Merge 'ADD' control
               statement followed a JES2 exit module.  These members
               usually contain extensive documentation about the exit
               module.

     DOCxxxxx  Where 'xxxxx' is the mod identifier.  Members with names
               in this format may contain general documentation about
               ONL mods or operator instructions.  All DOCxxxxx members
               are designed to be printed with 60 lines per page
               (/*JOBPARM LINECT=60).

   Member names with other formats are individually described below.

.nf
***********************
*  Index of ONL Mods  *
***********************
                                                             | Member
Description of Mod, Program, or Documentation                | Names
=============================================================#=========
The member you are reading now is called $$$INDEX.           | $$$INDEX
-------------------------------------------------------------+---------
JESSPOOL is a set of subroutines which provide the caller    | JESSPOOL
with easy access to the JES2 Checkpoint and SPOOL data sets. | JESDATA
Some of the most significant features are listed below:      |
 - Extensive validity checking is performed and diagnostic   |
   information is made available to the caller.  A Return    |
   Code and an Error Information Code provide the primary    |
   sources of diagnostic information.                        |
 - The entire Checkpoint data set may be read including the  |
   Check record, Lock record, Master record, and 4K Queue    |
   records.  Optionally, the reading of the 4K Queue records |
   may be restricted to the JIX and JQE Queues.  The Check   |
   record is always read first and the Master record is read |
   last to allow detection of Checkpoint updates which may   |
   have occurred while the Checkpoint was being read. If     |
   this occurs, the Checkpoint data set will be re-read      |
   until a valid copy is obtained or a specified number of   |
   re-reads have been performed.                             |
 - The JESSPOOL routines can operate with missing SPOOL      |
   volumes.  Normally, only the volumes marked as            |
   "selectable" will be used.  However, at the user's        |
   request, JESSPOOL will attempt to use all SPOOL's in      |
   existence.  If this option is chosen, the user may also   |
   request that Return Codes not be set when JESSPOOL is     |
   unable to use a non-selectable volume.                    |
 - Dynamic Allocation is used; no DD statements are required.|
 - Any Count-Key-Data type direct access device is supported.|
 - If for some reason, a problem developed with the check-   |
   point or SPOOL volumes and the names of the SPOOL volumes |
   were CLIPped, the user could specify the first five       |
   characters of the renamed SPOOL volumes and use these     |
   routines as part of a postmortem or recovery program.     |
 - The JESSPOOL entry points are:                            |
     JESSPOOL- Builds the JESDATA area mapped by the JESDATA |
               macro and is used to communicate between the  |
               caller and the JESSPOOL entry points.         |
     JESALOC - Allocates the JES2 Checkpoint and SPOOL data  |
               sets and performs the first read of the JES2  |
               Checkpoint data set.                          |
     JESFREE - Releases all resources held by the JESSPOOL   |
               routines.                                     |
     JESCKPT - Reads the JES2 Checkpoint data set.           |
     JESREAD - Reads a record from the JES2 SPOOL.           |
     JESRJCT - Reads a JCT from the JES2 SPOOL.              |
Notes:                                                       |
   (1) A value of less than one second for the &MINHOLD JES2 |
       Initialization Parameter may have an adverse effect   |
       on JESSPOOL performance when reading the Checkpoint.  |
       Please call me if you experience this problem.        |
   (2) You may wish to change the following constants in     |
       the JESSPOOL module:                                  |
          - Symbol DSNPRFX is used to initialize symbol      |
            JDSNPRFX in the JESDATA area.  It contains the   |
            DSNAME prefix for the JES2 Checkpoint and SPOOL  |
            datasets.                                        |
          - Symbol DFLTCKPT is used to initialize symbol     |
            JCKVOL in the JESDATA area.  It contains the     |
            volume serial number of the JES2 Checkpoint      |
            dataset.  If the volume serial number is blank,  |
            then the system catalog is used to locate the    |
            JES2 Checkpoint dataset.                         |
-------------------------------------------------------------+---------
The QPURGE program runs as as either a batch job or started  | QPURGE
task under MVS/JES2.  It purges jobs from the JES2 Job Queue |
which have remained in the system for more than a specified  |
number of days since the job began output processing, or if  |
no output processor time stamp is available, the number of   |
days since the job ended execution.  The program can operate |
in either TEST or CANCEL mode, the difference being whether  |
or not the jobs are actually purged via subsystem cancel     |
requests.  An audit trail is provided in the form of WTO     |
messages which give the job number, jobname, and age of the  |
job's output for each job which is purged.  The program      |
includes numerous validity checks and any problems are       |
brought to the operator's attention via WTO messages.        |
-------------------------------------------------------------+---------
TICKETS is the front-end of a program which reads the JES2   | TICKETS
Checkpoint and SPOOL data sets using the JESSPOOL routines,  |
and generates job setup tickets.  No system mods or          |
subsystem interfaces are required.  The tickets program uses |
its own checkpoint data set to keep track of which jobs have |
had setup tickets produced.  Restart capabilities include    |
job number ranges, time of day requests, and an automatic    |
warm start capability.  The TICKETS front-end can also be    |
used to list the JES2 Log, the input JCL, the expanded JCL,  |
and the system messages for a given job, started task, or    |
TSO user.  The front-end does not format or print job setup  |
tickets; this is done by the TIFSUB (Tickets Interface       |
SUBroutine) or by routines called from TIFSUB.  The          |
interface consists of a single entry point which is used to  |
receive a 'Call Code' which identifies the remainder of the  |
parameter list.  The TICKETS front-end uses return codes     |
from the TIFSUB to direct further processing.  The TIFSUB can|
be coded in either FORTRAN or assembler.  The 'Call Codes'   |
indicate one of the following:                               |
                                                             |
  Initialization - Called once at the beginning of the run.  |
  New Job - Called when processing begins for a new job      |
    setup ticket.                                            |
  Internal Text - Called once for each internal text record  |
    for a job.  Spanned records are assembled into a single  |
    record before calling TIFSUB.  An end-of-file call is    |
    made after all internal text records for a job have been |
    processed.                                               |
  Input JCL - Called once for each input JCL record.  An     |
    End-of-file call is made after the last JCL record has   |
    been processed.                                          |
  End of JOB - Called at the end of processing for a each    |
    job setup ticket.                                        |
  End of Run - Called after all job setup tickets for the    |
    current run have been processed.                         |
  Abort Job - Called to abort the processing of a job setup  |
    ticket when an internal text or JCL buffer has an invalid|
    job key, DSID, or is not formatted correctly. Processing |
    resumes with the next job setup ticket.                  |
                                                             |
The TIFSUB can request the following via return codes:       |
  - Continue with normal processing.                         |
  - Abort the current job setup ticket without comment.      |
  - Abort the current job setup and flag the job in error.   |
  - Request that no more calls be made for internal text     |
    records for the current job setup ticket.                |
  - Request that no more calls be made for input JCL records |
    for the current job setup ticket.                        |
  - Request the TICKETS front-end to take an ABEND Dump.     |
                                                             |
The TICKETS front-end formats and presents error information |
returned from the JESSPOOL routines as well as providing a   |
number of its own diagnostics.                               |
-------------------------------------------------------------+---------
Two test versions of the TIFSUB routine (see TICKETS above)  | TIFSUBA
are provided; one in assembler and the other in FORTRAN.     | TIFSUBF
-------------------------------------------------------------+---------
The SETLOG program controls the selection and order of       | SETLOG
syslog output processed by an external writer.  The writer   |
should only process the SYSLOG output for a given system ID  |
on a given day in chronological order.  This program         |
controls the selection and order of SYSLOG's by issuing $TO  |
commands thru an internal reader.  SYSLOG information is     |
obtained by reading the JES2 CHECKPOINT and SPOOL datasets   |
using the JESSPOOL routines.                                 |
-------------------------------------------------------------+---------
The UIDHIST program generates a histogram of the number of   | UIDHIST
jobs in the system per user ID.  This is done by using the   |
JESSPOOL routines to read the JES2 CHECKPOINT dataset, using |
the checkpoint information to build a table of user ID's and |
job count pairs, sorting the pairs by job count, and         |
generating a printer plot histogram.                         |
-------------------------------------------------------------+---------
The HASP Merge program and its documentation from the        | NIHPROSE
National Institute of Health (NIH) are included since        | HSPMERGE
the ONL JES2 mods are in NIH HASP Merge format.              |
-------------------------------------------------------------+---------
This mod uses an EXIT5 routine to replace the JES2 $A and    | ONL$AJHJ
$H commands and an EXIT252 routine with code supporting the  | J2X$AJHJ
HOLD function.  The $A and $H commands provide the following |
function:                                                    |
                                                             |
  (1) The $A command prevents RJE operators from releasing   |
      SETUP jobs awaiting execution.  SETUP jobs are those   |
      jobs which indicate TYPRUN=HOLD in the Class Attribute |
      Table (CAT).                                           |
                                                             |
  (2) The $A command will release jobs to run on a           |
      specific system using a system ID operand which        |
      designates the system on which a released job must     |
      execute.  The integrity of the system affinities       |
      for a job is preserved and a warning will be           |
      issued if a job is released which cannot execute       |
      on any system in the JES2 complex because of a         |
      resource conflict.                                     |
                                                             |
      The resource facility mod defines $AJ-SID              |
      resources which can only be set/reset by $A AND $H     |
      commands.  The $AJ-SID resources are attached by       |
      the resource facility during initialization (EXIT24)   |
      and cannot be displayed or altered by $DR,             |
      $QA, or $QD commands.  $AJ-SID resource names do       |
      appear in HASP608 Job Information messages             |
      generated by commands such as $DJ or $DC.              |
                                                             |
  (3) The $AJ command calls EXIT251 (See the ONL$EJCH        |
      mod) to reset the "RE-QUEUED" resource.  This          |
      resource is set when jobs are re-queued by the $EJ     |
      command mod.  Operators can display re-queued jobs     |
      and will see the RE-QUEUED resource name in            |
      HASP608 Job Information messages.                      |
                                                             |
  (4) The $H command holds jobs and resets any $AJ-SID       |
      resources using EXIT252.                               |
                                                             |
  (5) EXIT252 resets the $AJ-SID resources.  The exit        |
      is called by the $H command sub-processor.  The        |
      ONL$EJCH mod also calls this exit routine.             |
                                                             |
Note:  This mod uses EXIT5, EXIT251, and EXIT252.            |
-------------------------------------------------------------+---------
Eliminates the punching of blank cards at the end of punched | ONL$BCRD
data sets at selected remotes.                               | ADD$BCRD
-------------------------------------------------------------+---------
Expands the JQE and QSE control blocks.  A cold-start is     | ONL$BLKS
required.  After that, mods which require the additional     |
space may be installed without further cold-starts.          |
-------------------------------------------------------------+---------
The ONL Automatic Job Classing Mod:                          | ONL$CLAS
 - Determine the system resources required for a job by      | ADD$CLAS
   examining installation defined accounting parameters and  | J2x$CLAS
   the job's internal text, and based on those resource      |
   requirements, compute a job class.                        |
 - Pass information about a job to SMF by storeing           |
   information in the JMR User Identification field          |
   (JCTUSEID).                                               |
                                                             |
Note:  This mod uses EXIT3, EXIT6, EXIT7, and EXIT20.        |
-------------------------------------------------------------+---------
The $COMWORK macro has been expanded to include a 50 word    | ONL$COMW
work area for use by local mods in HASPCOMM and EXIT5.       |
-------------------------------------------------------------+---------
The $D'jobname command has been modified to allow a partial  | ONL$DN01
Jobname to be specified.                                     |
-------------------------------------------------------------+---------
The $EJ command mod uses an EXIT5 routine to perform the     | ONL$EJCH
same function as a $EJ-$HJ-$CJ command sequence.  If a job   | J2X$EJCH
is not restartable across warm-starts because of JES2        |
initialization defaults or because RESTART=N was specified   |
on a JOBPARM control statement, then a message saying "NOT   |
RESTARTABLE AT USER'S REQUEST" will be issued.  Also, if you |
display the job, the HASP608 Job Information message will    |
include text saying "NO-RESTART".                            |
                                                             |
The "RE-QUEUED" resource will be set to flag jobs restarted  |
and held by the $EJ operator command.  This will cause the   |
HASP608 Job Information message to include the characters    |
"RE-QUEUED".  EXIT251 is provided to turn off the RE-QUEUED  |
resource when restarted jobs are later released (see the     |
ONL$AJHJ mod).                                               |
                                                             |
Note:  This mod uses EXIT5, EXIT20, EXIT251, and EXIT252.    |
-------------------------------------------------------------+---------
Support has been added to support a /*RELAY control          | ONL$HRLY
statement for transmitting unit record data sets.  The       | ADD$HRLY
/*RELAY control statement's main advantage over TYPRUN=COPY  | J2X$HRLY
is that it can transmit anything ... and without             |
modification.  All card images following the /*RELAY         |
statement are transmitted until an end-of-file is reached on |
the input device.  The code is modeled after TUC's RELAY mod |
but has been expanded in scope.  If any errors are found in  |
the /*RELAY statement, the illegal /*RELAY card image and    |
associated error messages will be printed at the default     |
destination for the input device.  The format of the /*RELAY |
statement is:                                                |
                                                             |
/*RELAY  PRINT  destination   jobname   account#   pgmr-name |
         PUNCH                                               |
                                                             |
Note:  This mod uses EXIT2.                                  |
-------------------------------------------------------------+---------
JES2 Internal Text Scan Exit to enforce ONL's JCL standards: | ONL$INTX
 - Occurrences of TIME=1440 in the internal text for batch   | J2X$INTX
   jobs is changed to TIME=1439.                             |
 - The ADDRSPC=VIRT parameter is added to the internal text  |
   of job statements for non-privileged job classes.         |
                                                             |
Note:  This mod uses EXIT6.                                  |
-------------------------------------------------------------+---------
/*$command control cards presented to an Internal Reader are | ONL$IRCS
ignored if the submittor is not a started task and does not  | J2X$IRCS
have the ACF2 operator privilege.  Selected STC'S are also   | JUX$IRCS
prohibited from submitting JES2 commands thru Internal       |
Readers.                                                     |
                                                             |
Note:  This mod uses EXIT4 and EXIT8.                        |
-------------------------------------------------------------+---------
Here is yet another (yes, another) separator page/card exit. | ONL$JSEP
One novel feature about this mod is that separator lines for | J2X$JSEP
narrow forms, e.g. mailing labels, are rotated one position  |
to the left on each succeeding line so that all separator    |
information will be printed on the form.                     |
                                                             |
Note:  This mod uses EXIT1.                                  |
-------------------------------------------------------------+---------
The $LQ command, implemented in EXIT5, is used to list       | ONL$LQCM
output data set information for JOE's which match specified  | J2X$LQCM
characteristics including job number range, destination      |
range (by JOE destination instead of job routing), JOE       |
select, SYSOUT class, form name, FCB, UCS, writer name, 3800 |
forms overlay frame, 3800 burst option, and PRMODE.  The     |
JOEs thus selected are displayed using the HASP688 message   |
format.                                                      |
                                                             |
Note:  This mod uses EXIT5.                                  |
-------------------------------------------------------------+---------
EXIT10 is used to discard HASP094 I/O ERROR ON LINE messages | ONL$M094
except for lines with tracing or diagnostic logging enabled. | J2X$M094
                                                             |
Note:  This mod uses EXIT10.                                 |
-------------------------------------------------------------+---------
EXIT10 is used to add a user route code to HASP190 device    | ONL$M190
setup messages for local consoles.                           | J2X$M190
                                                             |
Note:  This mod uses EXIT10.                                 |
-------------------------------------------------------------+---------
The HASP646 percent SPOOL utilization message is modified in | ONL$M646
EXIT10 to include the total number of jobs in the system.    | J2X$M646
                                                             |
Note:  This mod uses EXIT10.                                 |
-------------------------------------------------------------+---------
An EXIT5 routine is used to replace the $P and $C job list   | ONL$PJCJ
commands and support additional jobname prefix and job       | DOC$PJCJ
select operands.  These operands prevent the inadvertent     | J2X$PJCJ
deletion of the job queue and provides greater operator      |
control at the jobname level.                                |
                                                             |
Note:  This mod uses EXIT5.                                  |
-------------------------------------------------------------+---------
The Resource Facility is used to control job execution       | ONL$RSRC
scheduling by requiring all resources needed by a job to be  | ADD$RSRC
logically attached to a CPU before the CPU can select the    | J2X$RSRC
job for execution.  The Resource Facility may be used in     |
implementing functions other than abstract resource          |
scheduling via the use of attributes associated with the     |
definition of each resource.  The facility can support up to |
256 resources.                                               |
                                                             |
Note:  This mod uses EXIT2, EXIT4, EXIT5, EXIT14, EXIT20,    |
       EXIT24, and EXIT254.                                  |
-------------------------------------------------------------+---------
The ONL HASPCOMM Exit Services Mod is based on code written  | ONL$SERV
by John Kinn at California Lockheed (SHARE Installation Code | DOC$SERV
CL).  Its purpose is to provide EXIT5 routines with many of  | ADD$SERV
the services available to command sub-processors within      |
HASPCOMM.  In fact, this mod will allow some command sub-    |
processors to be moved from HASPCOMM to EXIT5 routines with  |
little or no modification.  Other features include a $ESTAE  |
environment created before EXIT5 is invoked.  In the event   |
of a program check, the command being processed is discarded |
and an error message is issued.  Another feature is a new    |
exit point in the COFJMSG service routine in HASPCOMM.  The  |
COFJMSG routine is invoked by a $CFJMSG macro instruction    |
and issues the HASP608 Job Information Message.  The new     |
exit (EXIT254) allows the HASP608 message text to be         |
changed prior to issuing a $CWTO.  The exit may issue its    |
own $CWTO's if additional message lines are needed.          |
                                                             |
Note:  This mod uses EXIT254.                                |
-------------------------------------------------------------+---------
This mod adds a user field in the $SJB macro (Subsystem Job  | ONL$SJBD
Block DSECT).                                                |
-------------------------------------------------------------+---------
This SPOOL Transfer Allocation Exit was written by John Kinn | ONL$STAL
at California Lockheed (SHARE Installation Code CL).  This   | ADD$STAL
mod creates a new exit (EXIT 253) which is taken before the  | J2X$STAL
allocation of a dumper or loader data set in HASPSTAM.  The  |
exit does the following:                                     |
                                                             |
  (1) When a dumper is started and an uncataloged data set   |
      is requested, the exit will allocate a tape data set   |
      with "DISP=(NEW,CATLG)".                               |
                                                             |
  (2) When a loader is started and a cataloged tape data set |
      is requested, The exit will allocate the data set with |
      "DISP=(OLD,UNCATLG,KEEP)".                             |
                                                             |
  (3) If allocation should fail, the DYNALLOC return code    |
      and the error/information codes are passed back to     |
      HASPSTAM for error processing.                         |
                                                             |
Note:  This mod uses EXIT253.                                |
-------------------------------------------------------------+---------
The Time/Date Validation mod adds a user defined exit to     | ONL$TODV
HASPIRDA.  The exit validates the TOD (GMT) and LOCAL clocks | ADD$TODV
during JES2 Initialization.  This includes a comparison with | J2X$TODV
the gregorian date, day of week, and with the JES2 Checkpoint|
time stamps for this and other systems in the JES2 complex.  |
                                                             |
Note:  This mod uses EXIT256.                                |
-------------------------------------------------------------+---------
This code provides a framework for other installation mods   | ONL$USER
which need User Control Table (UCT) entries.  The mod        | ADD$USER
contains a table module with a UCT, a $UCT DSECT macro, and  | USERTABS
a $USERCB macro.                                             |
=============================================================#=========

**************************
*  Exit Cross-Reference  *
**************************

 EXIT # |  Modification ID(s) of exits using or calling a given exit #
========#==============================================================
     1  |  ONL$JSEP
     2  |  ONL$HRLY  ONL$RSRC
     3  |  ONL$CLAS
     4  |  ONL$IRCS  ONL$RSRC
     5  |  ONL$AJHJ  ONL$EJCH  ONL$LQCM  ONL$PJCJ  ONL$RSRC
     6  |  ONL$CLAS  ONL$INTX
     7  |  ONL$CLAS
     8  |  ONL$IRCS
    10  |  ONL$M094  ONL$M190  ONL$M646
    14  |  ONL$RSRC
    20  |  ONL$CLAS  ONL$EJCH  ONL$RSRC
    24  |  ONL$RSRC
   251  |  ONL$AJHJ  ONL$EJCH
   252  |  ONL$AJHJ  ONL$EJCH
   253  |  ONL$STAL
   254  |  ONL$RSRC  ONL$SERV
   255  |  ONL$TODV
========#==============================================================

**********************************************
*  Exit Initialization Parameter Statements  *
**********************************************

EXIT1   ROUTINE=J2X#JSEP     PRINT/PUNCH SEPARATOR
EXIT2   ROUTINE=(RSRCX2,J2X#HRLY,ACF2XJOB)  JOB STATEMENT SCAN
EXIT3   ROUTINE=CLASACCT     JOB STATEMENT ACCOUNTING FIELD SCAN
EXIT4   ROUTINE=(RSRCX4,J2X#IRCS,ACF2XJCL)  JCL/JES2 CNTL STMT SCAN
EXIT5   ROUTINE=(AJHJX5,PJCJX5,LQCMX5,RSRCX5,EJCHX5)  CMD PREPROCESSOR
EXIT6   ROUTINE=(J2X#INTX,CLASINTX,ACF2XXEQ)  INTERNAL TEXT SCAN
EXIT7   ROUTINE=CLASJCTW     JCT READ/WRITE (JES2 ADDRSPC)
EXIT8   ROUTINE=JUX#IRCS     JCT READ/WRITE (USER ADDRSPC)
EXIT10  ROUTINE=(J2X#M094,J2X#M646,J2X#M190)  $WTO SCREEN
EXIT14  ROUTINE=RSRCX14      JOB QUEUE WORK SELECT
EXIT20  ROUTINE=(CLASREND,EJCHX20,RSRCX20,ACF2XTRM)  END OF JOB INPUT
EXIT24  ROUTINE=(RSRCX24,J2X#TRID)  POST INITIALIZATION
EXIT220 ROUTINE=ACF2XJBS     ACF2 EXIT - JOB SELECT
EXIT221 ROUTINE=ACF2XIRD     ACF2 EXIT - INTERNAL READER
EXIT223 ROUTINE=ACF2XPRE     ACF2 EXIT - USER PRE-VALIDATION
EXIT251 ROUTINE=EJCHX251     RESET RE-QUEUED RESOURCE
EXIT252 ROUTINE=AJHJX252     RESET $AJ-SID RESOURCES
EXIT253 ROUTINE=J2X#STAL     SPOOL TRANSFER ALLOCATION
EXIT254 ROUTINE=RSRCX254     JOB INFORMATION MESSAGE SCAN
EXIT255 ROUTINE=J2X#TODV,TRACE=NO  SYSTEM CLOCKS VALIDATION
*
LOAD ACF2U1J2                EXIT MODULE - ACF2
LOAD ACF2X1J2                EXIT MODULE - ACF2
LOAD ACF2X2J2                EXIT MODULE - ACF2
LOAD J2X$AJHJ                EXIT MODULE - $A AND $H COMMAND MODS
LOAD J2X$CLAS                EXIT MODULE - AUTOMATIC JOB CLASSING MOD
LOAD J2X$EJCH                EXIT MODULE - $EJ COMMAND MOD
LOAD J2X$HRLY                EXIT MODULE - HASP RELAY MOD
LOAD J2X$INTX                EXIT MODULE - JCL STANDARDS MOD
LOAD J2X$IRCS                EXIT MODULE - INTRDR COMMAND SCREEN
LOAD JUX$IRCS                EXIT MODULE - INTRDR COMMAND SCREEN
LOAD J2X$JSEP                EXIT MODULE - PRINT/PUNCH SEPARATOR
LOAD J2X$LQCM                EXIT MODULE - ONL $LQ COMMAND
LOAD J2X$M094                EXIT MODULE - SCREEN HASP094 MESSAGE
LOAD J2X$M190                EXIT MODULE - PROCESS HASP190 MESSAGE
LOAD J2X$M646                EXIT MODULE - MODIFY HASP646 MESSAGE
LOAD J2X$PJCJ                EXIT MODULE - $P AND $C JOB LIST COMMANDS
LOAD J2X$RSRC                EXIT MODULE - ONL RESOURCE FACILITY
LOAD J2X$STAL                EXIT MODULE - SPOOL TRANSFER ALLOCATION
LOAD J2X$TODV                EXIT MODULE - VALIDATION OF SYSTEM CLOCKS
LOAD J2X$TRID                EXIT MODULE - TRACE ID IMPROVEMENTS
.pa
.nf
@FILE060@***********************************************************************
*                                                                              *
*         F I L E   6 0   L O C K H E E D   M O D S   F O R   2 . 1 . 5        *
*                                                                              *
********************************************************************************

.ju left
 THESE MODIFICATIONS ARE FROM LOCKHEED CALIFORNIA COMPANY (CL)

 THE INSTALLATION CONTACT IS:

 RICHARD PACE
 LOCKHEED CALIFORNIA COMPANY
 PLANT A-1, BLDG 67, DEPT 8321
 P.O. BOX 551
 BURBANK, CALIFORNIA 91520

 TELEPHONE (818) 847-7492

MODIFICATIONS FOR JES2 RELEASE 2.1.5/1.3.6

DATE OF LAST TRANSMISSION TO JES2 SHARE MODS TAPE: 21 OCT 1986

MODIFICATION $TEXIT

THIS IS AN EXIT 5 MODULE WHICH WILL REQUIRE THAT ANY $T EXIT COMMAND
WILL REQUIRE A P=XXXXXXXX KEYWORD.  THE XXXXXXXX WILL BE A 1 TO 8
CHARACTER PASSWORD.  AFTER VERIFYING THE SUPPLIED VALUE, THE P=XXXXXXXX
TEXT WILL BE REMOVED AND PROCESSING WILL RETURN TO NORMAL IBM CODE TO
PROCESS.

MODIFICATION NAME BSCTRACE

IBM'S SUPPLIED LINE TRACE (TRACE ID 4) FORMATS ONLY THE BUFFER IN WHICH
THE IOB APPEARS.  THUS, ONLY INPUT TRAFFIC IS SEEN.  OUTPUT TRAFFIC IS
PICKED UP FROM A DIFFERENT BUFFER.  THIS CHANGE WILL TRACE ALL DATA
POINTED TO BY READ OR WRITE CCW'S

MODIFICATION NAME CES

THIS MODIFICATION TAKES CARE OF THE PERMANENTLY DISCONNECTED NODE
PROBLEM.  REFER TO APAR OZ62754.  THE APPROACH TAKEN WITH THIS
MODFICATION IS TO REMEMBER THE HIGH WATER MARK OF CES VALUES GENERATED
BY THE NODE ON WHICH THE MODFICATION HAS BEEN PLACED.  ANY TIME A NEW
CES IS GENERATED THE VALUE NORMALLY TAKEN IS THAT OF THE TOD CLOCK.
HOWEVER, IF THAT VALUE IS LOWER THAN THAT OF THE HIGH WATER MARK, THE
HIGH WATER MARK + 1 IS USED AND THE HIGH WATER MARK VALUE IS UPDATED.

HODIFICATION NAME COMMXIT

THIS MODIFICATION PROVIDES EXIT 5 FROM HASPCOMM THE NECESSARY MACROS
NEEDED TO DO MOST INSTALLATION COMMANDS.  SUPPORT IS PROVIDED FOR THE
FOLLOWING COMMANDS:
   $CFSEL
   $CFCVB
   $CFDCTL
   $CFVQE

MODIFICATION NAME DIRECTED

THIS MODIFICATION CAUSES ALL JES2 MODULES IDENTIFIED WITH TWO NEW VERBS
TO BE LOADED INTO CSA AT JES2 INITIALIZATION TIME.  THE MODULES WILL BE
FREEMAINED WHEN JES2 TERMINATES NORMALLY (I.E. $P JES2).

MODIFICATION DUMPLOAD

THIS CODE MAKES DUMPERS AND LOADERS EXTREMELY EASY FOR OPERATORS TO USE
ON AN AD HOC BASIS.  INSTEAD OF REQUIRING THAT TAPE DATA SETS BE
PRE-CATALOGED IN ORDER TO START A DUMPER, THE OUTPUT DATA SETS ARE
DYNAMICALLY ALLOCATED USING A DISPOSITION OF (NEW,CATLG,DELETE).  NOTE
THAT IF YOU PREFER TO MIX MODES OF OPERATION BY HAVING SOME
PRE-CATALOGED DATA SETS AND SOME AD HOC REQUIREMENTS, THAT THIS CODE
SUPPORTS BOTH MODES.

IN ADDITION THE TAPE DATA SETS READ BY LOADERS ARE AUTOMATICALLY
UNCATALOGED WHEN THE LOAD PROCESS IS COMPLETE.

MODIFICATION NAME DYNALLOC

THIS CODE SUPPORTS A NEW VERB IN THE HASP INITIALIZATION DECK, DYNALLOC.
THIS VERB IS USED TO SPECIFY THE PROCLIBS USED BY THE CONVERTER.  FROM 1
TO 16 DATA SETS CAN BE SPECIFIED FOR EACH DDNAME.  IF THE CATALOG IS
USED TO LOCATE THE DATA SETS, THE DATA SETS NEED NOT BE CATALOGED IN THE
MASTER CATALOG AS THEY WOULD IF THEY WERE ALLOCATED VIA DD CARDS.

MODIFICATION NAME EXIT10

THIS IS THE EXIT 10 MODULE RUNNING AT OUR INSTALLATION (ALMOST).  IT
ACCOMPLISHES THE FOLLOWING:

QUEUES MESSAGES DESTINED FOR REMOTES TO THE CPU THAT THE REMOTE IS
SIGNED ON TO.  THIS ELIMINATES MESSAGE SPOOLING.

CAUSES ALL MESSAGES THAT EMANATE FROM THE JES2 ADDRESS SPACE THAT ARE OF
INTEREST TO THE REMOTE WORK STATION TO BE SENT TO THE REMOTE AS WELL AS
THE LOCAL CONSOLE.

MODIFICATION GATEWAY

PROVIDE A MEANS TO HAVE TWO NETWORKS HAVE TOTAL NETMAIL COMMUNICATION
BETWEEN THEM WITHOUT EITHER HAVING TO KNOW ALL THE OTHER'S NODE NAMES.
THE BASIC APPROACH IS THAT ONE NODE IN EACH NETWORK KNOW OF EACH OTHER,
BUT NEITHER NEED KNOW ABOUT ANY OTHER NODES IN THE OPPOSITE NETWORK.  AS
NETMAIL TYPE OUTPUT IS PRESENTED TO EXIT 13, THE RECEIVING NODE EXAMINES
THE USERID GATEWAY TABLE FOR A MATCH ON THE (POSSIBLY) PSEUDO USERID.
IF FOUND, IT USES THE REROUTING INFORMATION TO CHANGE THE NODE NAME AND
THE USERID.

MODIFICATION NAME GENTRACE

THIS CODE, WHICH RESIDES IN A SEPARATE MODULE, SUPPORTS THE FORMATTING
OF TRACE IDS 200 THRU 230.  THE INTERFACES TO ACCOMPLISH THIS ARE ALL
IBM SUPPORTED AND PROVIDED.

MODIFICATION OUTPUT

THIS MODIFICATION ESSENTIALLY REINSTATES THE GLOBAL OUTPUT INITALIZATION
STATEMENT DROPPED AFTER SP 1.3.0. THIS STATEMENT PROVIDES DEFAULT VALUES
FOR ALL OF THE SUB-PARAMETERS PROVIDED WITH THE STATEMENT. THE STATE-
MENT SUPPORTS ALL OF THE SAME FUNCTIONS AS THOSE SUPPORTED BY THE
/*OUTPUT STATEMENT AND MOST OF THOSE SUPPORTED BY THE OUTPUT JCL
STATEMENT.

MODIFICATION NAME SMF226

THIS MODIFICATION CAUSES AN SMF 226 RECORD (ALMOST IDENTICAL TO THE TYPE
26 RECORD) TO BE GENERATED WHENEVER A JOB HAS AN ERROR EITHER AT
CONVERTER TIME OR INTERPRETER TIME.  THIS IS ESPECIALLY USEFUL FOR USERS
OF APOLLO/STARS OR DCMS FROM VALUE COMPUTING INC.

MODIFICATION SPOOLPAR

THIS MODIFICATION IS A SAMPLE SPOOL PARTITIONING ALGORITHM.  IT IS
IMPLEMENTED USING EXIT 11.  THE APPROACH IS TO DETERMINE HOW MANY ACTIVE
SPOOL VOLUMES THERE ARE AND TO USE THAT NUMBER TO COMPUTE AN EXTENT
NUMBER FOR A NEW JOB.  THAT JOB IS THEN RESTRICTED TO USING ONLY THAT
EXTENT.  THE MAIN USEFULNESS OF THE MOD IS TO "CUT YOUR LOSSES" IF YOU
LOSE AN ENTIRE SPOOL EXTENT.

MODIFICATION STCPARM

THIS MODIFICATION PROVIDES THE INSTALLATION A MEANS BY WHICH
AN OPERATOR OR SYSTEMS PROGRAMMER CAN PROVIDE JOB AND /*JOBPARM
TYPE DATA FOR STARTED TASKS.  THE INFORMATION THAT CAN BE PROVIDED IS:
   (1) JOBNAME
   (2) MSGCLASS
   (3) PRINT ROUTE
   (4) NOTIFY ID
   (5) ROOM NUMBER
   (6) JOB COPIES
   (7) PROGRAMMER NAME
NOTICE BY PROVIDING A JOB NAME THAT MATCHES A TIME SHARING USER ID ALONG
WITH A MSGCLASS WHICH IS A "HELD" CLASS, THE TSO USER CAN EXAMINE THE
OUTPUT FOR A STARTED TASK AT HIS TSO TERMINAL.

THE INFORMATION CAN BE PROVIDED TWO WAYS:
   (1) BY SUPPLYING A SPECIAL DD CARD (DDNAME IS $$$$$$$$) WITH
       NORMAL KEYWORDS WHICH ARE INTERPRETED BY THE JES2 TEXT EXIT.
   (2) BY SUPPLYING SPECIAL KEYWORDS ON THE START COMMAND WHICH ARE
       RECOGNIZED BY THE JES2 TEXT EXIT.

THIS MODIFICATION REQUIRES ABSOLUTELY NO MVS MODIFICATIONS AND ONLY
THE ADDITION OF ONE EXIT POINT IN JES2.

MODIFICATION STCPURGE

THIS MODIFICATION CAUSES STARTED TASK AND TSU JOBS TO BE AUTOMATICALLY
PURGED IF THE JOB CREATED NOTHING OTHER THAN THE NORMAL SUB-SYSTEM DATA
SETS.  THE IDEA IS TO USE A NORMAL SYSOUT CLASS (E.G. A) FOR THE
STCMCLAS AND TSUMCLAS AND TO ONLY PRINT STC'S AND TSU'S IF SOMETHING
UNUSUAL HAPPENS.  CURRENTLY THE UNUSUAL THINGS ARE:
    1. JCL ERROR
    2. JOB ABEND
    3. NON SUB-SYSTEM SYSOUT DATA SETS CREATED

MODIFICATION TSOCMD

THIS IS A RATHER STANDARD MODIFICATION TO ALLOW TSO USERS TO ISSUE JES2
COMMANDS AND TO RECEIVE THE RESPONSES BACK AT THEIR TERMINALS.  NOTICE
THAT THE RESPONSES ARE SENT BACK VIA TPUT, RATHER THAN SEND COMMANDS.

MODIFICATION USERPROC

THE ORIGIN OF THIS MODIFICATION WAS THE SHARE JES2 MODS TAPE. THE
CONTRIBUTOR WAS JIM WALKER OF TUCC.  ADDED AT LOCKHEED WAS THE ACF2
VALIDATION AND THE USE OF THE $SCAN FACILITY TO SCAN THE JECL STATEMENT.
ALSO ADDED WAS THE USE OF EXITS EXCLUSIVELY RATHER THAN CODE ADDED TO
IBM MODULES. FINALLY A CALL TO IKJEFF18 FOR THE ERROR MESSAGE GENERATION
WAS ADDED.

MODIFICATION VTAMPRT

THIS MODIFICATION IS AN UPDATE AND ENHANCEMENT OF THE MODIFICATION
ORIGINALLY SUBMITTED TO THE JES2 SHARE MODS TAPE BY KNUD NIELSEN.  THE
CODE HAS BEEN ENHANCED AS FOLLOWS:

  (1) JES2 GENERATES A STREAM OF HASP094 MESSAGES IF AN ATTEMPT
      IS MADE TO ESTABLISH A SESSION WITH A PRINTER WITH INTERVENTION
      REQUIRED.  THE SOLUTION IS TO RECOGNIZE THIS FAILURE AND SIMPLY
      RETRY THE NEXT AUTOLOGON CYCLE.
  (2) JES2 HALTS A PRINTER WITH WHICH HE HAS ESTABLISHED A SESSION
      (DCTSTOP IS TURNED ON) IF THE PRINTER HAS INTERVENTION
      REQUIRED.  THE SOLUTION IS TO TURN OFF DCTSTOP AND $POST
      THE OWNING PCE WHEN THE LUSTAT IS RECEIVED SAYINT THE PRINTER
      IS NOW READY.
  (3) AUTOLOGON IS LOST FOR REMOTES IF A SIMLOGON IS DONE
      UNSUCCESSFULLY.  THE SOLUTION IS TO SUPPORT AN RPL WITH
      THE SIMLOGON SPECIAL ACTION AND ONLY THEN TURN OFF AUTOLOGON.

MODIFICATION XM$WTO

ADD THE ABILITY TO SEND $WTO MESSAGES FROM ANY ADDRESS SPACE.  THIS
PRIMARILY IS USED TO SEND MESSAGES TO RJE SITES FROM ADDRESS SPACES
OTHER THAN THE JES2 ADDRESS SPACE.

THE TECHNIQUE USED IS TO HAVE A SUB-SYSTEM CALL AVAILABLE WHICH IS
CALLED WITH THE ADDRESS OF A CMB.  THIS CODE IN TURN CROSS MEMORY POSTS
A NEW PCE IN THE JES2 ADDRESS SPACE AFTER QUEUEING THE CMB.  THE NEW PCE
PICKS UP ALL MESSAGES AND QUEUES THEM FOR THE WTO SUB-TASK OR THE REMOTE
CONSOLE PROCESSOR.
.pa
.nf
@FILE061@***********************************************************************
*                                                                              *
*         F I L E   6 1   L O C K H E E D   Q U E U E   F O R   2 . 1 . 5      *
*                                                                              *
********************************************************************************

THIS FILE CONTAINS A VERSION OF THE QUEUE COMMAND FOR SP 1.3.3.

THE INSTALLATION CONTACT IS:

 RICHARD PACE
 LOCKHEED CALIFORNIA COMPANY
 PLANT A-1, BLDG 67, DEPT 8321
 P.O. BOX 551
 BURBANK, CALIFORNIA 91520

 TELEPHONE (818) 847-7492
.pa
.nf
@FILE062@***********************************************************************
*                                                                              *
*         F I L E   6 2   M E L L O N   M O D S   F O R   2 . 1 . 5            *
*                                                                              *
********************************************************************************

.ju left
THIS FILE CONTAINS TWO SEPARATE MODIFICATIONS.

FIRST IS A UTILITY PROGRAM TO PRE-FORMAT A SPOOL VOLUME.

HASPFMT WAS WRITTEN AS A COMPLEMENT TO THE DYNAMIC SPOOL FACILITIES
INTRODUCED BY THE SP1.3.3 RELEASE OF JES2.  JES2 WILL FORMAT START A
SPOOL VOLUME; HOWEVER, THIS OPERATION TENDS TO MONOPOLIZE THE CHANNEL
UPON WHICH THE SPOOL DATASET RESIDES.  THE IDEA BEHIND THIS UTILITY IS
TO "SLOWLY" FORMAT A SPOOL VOLUME AND MINIMIZE CHANNEL AND STRING
CONTENTION AS MUCH AS POSSIBLE.  HASPFMT WILL FORMAT ONE TRACK AT A
TIME USING EXCP AND THEN WAIT FOR A USER SPECIFIED TIME INTERVAL BEFORE
BEGINNING THE NEXT TRACK FORMAT OPERATION.  HASPFMT USES A STANDARD
TRACK FORMAT CCW STRING FOR COUNT-KEY-DATA DEVICES.

SECOND IS THE MELLON BANK "SHARED SPOOL MODIFICATIONS", DESCRIBED BELOW.
.nf

 $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
 $  ****  ****  **   ****   ****      * *****  ****   ****  $
 $ *    * *   *  *  *    * *    *     * *     *    * *    * $
 $ *      *   *  *       * *          * *     *           * $
 $  ****  ****   *   ****  *****      * ***    ****   ****  $
 $      * *      *       * *    *     * *          * *      $
 $ *    * *      *  *    * *    * *   * *     *    * *      $
 $  ****  *     ***  ****   ****   ***  *****  ****  *****  $
 $                                                          $
 $  ****  ****   ****  **  ******     * *****  ****   ****  $
 $ *    * *   * *    *  *  *          * *     *    * *    * $
 $ *      *   *      *  *  *          * *     *           * $
 $  ****  ****   ****   *  *****      * ***    ****   ****  $
 $      * *     *       *       *     * *          * *      $
 $ *    * *     *       *  *    * *   * *     *    * *      $
 $  ****  *     ****** ***  ****   ***  *****  ****  *****  $
 $                                                          $
 $          ****  *    * *****   ****  *****  *             $
 $         *    * *    * *    * *    * *    * *             $
 $         *      *    * *    * *      *    * *             $
 $          ****  ****** *****   ****  *****  *             $
 $              * *    * *  *        * *      *             $
 $         *    * *    * *  *   *    * *      *             $
 $          ****  *    * *   *   ****  *      ******        $
 $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

  PLEASE SEE DESCRIPTION OF FILE 132 FOR A FULL ABSTRACT.
.pa
.nf
@FILE063@***********************************************************************
*                                                                              *
*         F I L E   6 3   M E L L O N   P S F   E X I T S                      *
*                                                                              *
********************************************************************************

THIS FILE CONTAINS EXAMPLES OF PSF EXIT ROUTINES 1, 2, AND 5.

THE INSTALLATION CONTACT IS:

        CHUCK KALISH   MELLON BANK N.A.
                       ROOM 424
                       MELLON SQUARE
                       PITTSBURGH,  PA. 15230
               PHONE  (412) 234-1525
.pa
.nf
@FILE065@***********************************************************************
*                                                                              *
*         F I L E   6 5   S . K . K .   N J H   M O D S   F O R   2 . 1 . 5    *
*                                                                              *
********************************************************************************

.ju left
.US  JES2 SP 2.1.5/1.3.6 NJE HEADER/TRAILER SECTION MODIFICATION ROUTINES

This PDS contains a USERMOD to HASPNET to invoke a user exit (supplied)
to delete the SPOF (SPOOL OFFLOAD) section from both the header and
trailer before being transmitted removing the IBM restriction that the
SPOF section must be the last header/trailer section.  JES2 SP 2.1.5
requires that the SPOF section be the last section in both the header
and trailer sections due to the section not being transmitted and the
technique for deleting the section is to simply subtract the length of
the section from the header and trailer.  This requires that all user
sections be placed before the SPOF sections.  If your site dynamically
inserts user sections at the end of the header or trailer, you will
begin to get 'HASP121 ERROR READING JOB HEADER OR TRAILER' messages.
This is due to the SPOF section being before your user section.  Note
that this message appears on the receiving note and can put the JOB
RECEIVER in a loop attempting to recover from the error.  This mod will
allow you to insert user sections after the SPOF section.

.US  MEMBERS

HASPMOD  - Contains the USERMOD to HASPNET to insert the exit point and
           the SMP control cards to insert the source module NJESECT.

NJESECT  - JES2 load module containing 2 CSECTs - ADDSECT and DELSECT.
           The mod to HASPNET only references DELSECT inorder to delete
           the SPOF section.  DELSECT can delete ANY section from
           either the header or trailer.  ADDSECT will insert a user
           section (before the SPOF section) to either the header or
           trailer.  See documentation in NJESECT for more information.
           A third CSECT is included and is only generated if the test
           facility within NJESECT is used during assembly.  This
           allows for easy testing under TSO TEST or BATCH environment.
           The test facility will add and delete sections to a dummy
           header/trailer and will verify the results.

THE INSTALLATION CONTACT IS:

    John Haggard
    SKK, Inc.
    10400 West Higgins Rd.
    Rosemont, IL  60018
    (312) 635-1040
.pa
.nf
@FILE066@***********************************************************************
*                                                                              *
*         F I L E   6 6   T . S . S . O .   P A C K A G E                      *
*                                                                              *
********************************************************************************

.ju left
The Time Sharing Subsystem Option (TSSO) is a package designed to
increase operator productivity by automating tasks which need not be
performed manually. TSSO performs its function through three integrated
components.  The Operator Productivity Facility (OPF) extends the power
of TSO to the MVS operator's console.  The Automated Operations
Facility (AOF) enhances an installation's ability to control system
events based on console message traffic.  An interface to the Network
Communication Control Facility (NCCF) allows the network operator to
use TSSO as a command processor, issuing and receiving operating system
commands at the NCCF terminal.  TSSO also enhances end-user
productivity by allowing end-user access to the MVS command subsystem.

A complete users guide, including detailed installation instructions
exists in member UG43TERM in the distribution dataset.

Anyone with an interest in automated operations is invited to look at
TSSO as a software tool providing many of the primitives required for
common automated operations tasks.  These primitives include the
hilighting, lowlighting, replying and reacting to operating system
messages, in addition to the ability to issue a command and retrieve
the response in CLIST variables.

   Marc Schare
   Bell Communication Research, Inc.
   6 Corporate Place, Room 2C-211
   Piscataway, NJ 08854
   201-981-2796
.pa
.nf
@FILE067@***********************************************************************
*                                                                              *
*         F I L E   6 7    A I R F O R C E   J E S M O D S   F O R   1 . 3 . 4 *
*                                                                              *
********************************************************************************

                 J E S 2 / S P 1 .3    USER EXITS AND MODS

                        17  APRIL 1987

                                  JIM MARSHALL,CAPT,USAF
                                  DEPT OF DEFENSE - Y421
                                  9800 SAVAGE RD
                                  FT MEADE, MD     20755-6000
                                  1-301-688-6829
                                  AUTOVON  235-6829

            ENCLOSED ARE SOME JES2 EXITS AND ONE MOD THAT ORGINATED
          AT THE 1ST INFORMATION SYSTEMS GROUP (FORMERLY CALLED THE
          AIR FORCE DATA SERVICES CENTER), PENTAGON, WASHINGTON DC
          DC AND WERE BROUGHT WITH ME TO SAN ANTONIO. ALSO  I AM
          ENCLOSING MY EXITS AND AM IN THE PROCESS OF CODING MORE.

            HAVE CONVERTED ALL THE EXITS FROM JES2/SP1.3.0 TO
          JES2/SP1.3.4 WITH THE CHANGED FOR BOTH LEFT IN THE CODE.
          I USE A CONDITIONAL ASSEMBLY. MAY HELP SOMEONE TO SEE
          HOW BOTH WAYS TO PACKAGE THE CODE.

        *-----------------------------------------------------------*

        EXIT002  -  EXIT #2 FROM AFDSC, EXIT WILL SET THE JES SPOOL
                    MASK IN THE JCT TO DIRECT THE JOB TO SPOOL ONE.
                    THIS IS DONE BECAUSE SPOOL1 IS LARGER THAN SPOOL2
                    JOBS WILL ONLY GO TO SPOOL2 IF SPOOL1 IS FULL.
                    SOME LOCAL STANDARDS ARE ENFORCED. 'TIME='
                    IS DISALLOWED ON JOB CARD SO EXIT #6 CAN ADDS IT
                    BASED ON THE JOB CLASS.
                    CODE LEVEL IS JES2/SP1.3.0

        EXIT006  -  EXIT #6 FROM AFDSC. PLACES THE CORRECT 'TIME'
                    PARAMTER ON THE JOB CARD BASED ON THE SUBMITTED
                    JOBCLASS. ALSO CONTAINS A USEFUL TIP ON HOW TO
                    PRINT BEFORE AND AFTER IMAGES OF CONVERTED TEXT
                    ON YOUR OPERATOR CONSOLE.
                    CODE LEVEL IS JES2/SP1.3.0

        JEX254   -  EXIT #254 FROM DCA/DECEC, RESTON VA. THIS EXIT
                    PLACES A CAVEAT CLASSIFICATION ON THE TOP AND
                    BOTTOM OF EACH PAGE. REQUIRES 2 OTHER MEMBERS
                    AS MODS TO OPERATING SYSTEM.
                    CODE LEVEL IS JES2/SP1.3.0

        J13X1    -  EXIT #1 FROM 2ISG, PRINT AND PUNCH SEPARATOR
                    PAGE EXIT. INCLUDES A CALL TO EXIT255 TO PRODUCE
                    A RECEIPT FOR THE JOB IF PRINTED LOCALLY. THIS
                    RECEIPT IS PRINTED ON AN IBM 3287 TYPE PRINTER
                    USED AS A MCS OUPUT ONLY CONSOLE SET FOR ROUTE-
                    CDE=14. ADDED XEROX 8700 SUPPORT TO PRODUCE A
                    'DJDE'.
                    CONVERTED TO JES2/SP1.3.4

        J13X1TBL -  A TABLE OF 'MAIL STOPS'.

        J13X1ACT -  A TABLE OF X8700 ACCOUNT NUMBERS FOR PRT THAT
                    COMES ACROSS FROM VM/RSCS/NJI.

        J13X1XF  -  A TABLE OF X8700 VALID FORMS FOR X8700 PRT.

        J13X3    -  EXIT #3 FROM 2ISG. SCANS FOR PROPER JOBCLASS.
                    ON BATCH JOBS. ALSO DOES ACCOUNT CARD PROJECT
                    VALIDATION BASED ON FIRST TWO FIELDS IN STANDARD
                    JES2 JOBCARD.
                    CONVERTED TO JES2/SP1.3.4

        J13X3PVS -  PROJECT CODE TABLES FOR JEX3.

        J13X4    -  EXIT #4 FROM 2ISG. COMMENTS AN INVALID JECL CARD
                    LEFT OVER FROM 'OLD' NIH WYLBUR WE USED TO HAVE.
                    CONVERTED TO JES2/SP1.3.4

        J13X10   -  EXIT #10 FROM 2ISG. SCANS EACH WTO MSG FOR THE
                    MSG ID OF '066' AND DISGARDS THEM. THESE ARE
                    REALLY THE RECEIPTS BEING PRINTED. ALSO DISGARDS
                    ALL HASP317 RELATED MSGS
                    CONVERTED TO JES2/SP1.3.4

        J13X10N  -  EXIT #10 WITH ALL THE ITEMS FROM THE #10 ABOVE.
                    THIS ONE I ADDED CODED TO SELECTIVELY PROCESS
                    HASP094 MSGS BASED ON JINKINS' IDEA OF OAK RIDGE
                    NATIONAL LABS. A BSC RJE GIVES A ALOT OF TRASH
                    MSGS YOU JUST IGNORE ANYWAY. SO YOU SHOULD
                    SUPPRESS THEM. IF YOU TURN ON DIAGONSTIC LOGGING
                    YOU WILL SEE ALL OF THEM.

        J13X255  -  EXIT #255 FROM 2ISG. IT IS ENVOKED BY EXIT #1
                    TO BUILD THE JOB RECEIPTS ON IBM 3287 MCS PRT.
                    CONVERTED TO JES2/SP1.3.4

        SJE254A  -  SMP CARDS TO MOD JES2 IN SUPPORT OF EXIT 254.

        SJE254B  -  SMP CARDS TO MOD JES2 IN SUPPORT OF EXIT 254.

        UCBMOD   -  MODIFICATIONS TO JES2/SP1.3.2 (IPO J) TO ALLOW
                    THE ABOVE JES2 TO RUN WITH MVS/SP1.1 . I PUT
                    ALL MAINT ON JES2 TO THE 83-10 LEVEL BEFORE
                    I PUT ON THE MOD. THE INSTALL JOBSTREAM FOR THE
                    MOD IS IN 'HASP MERGE' FORMAT. MEMBER UCBMOD$
                    LOOK AT INSTALL JCL FOR SUBTLE GLUES. LIKE YOU
                    USE MVS/SP1.3 FOR COMPILATION (NOT MVS/SP1.1),
                    DO CLOBBER YOU REAL JES2/SP1.3 ON YOUR MVS/SP1.3
                    SYSTEM, ETC.  YOU CAN RUN WITH THE MOD ON, IT
                    WILL DISTINGUISH IF YOU ARE SP1.1 OR SP1.3
                    LOOK AT THE CODE !!!!!
.pa
.nf
@FILE068@***********************************************************************
*                                                                              *
*         F I L E   6 8    T U C C   N J E   S M F   R E C O R D    (1 . 3 . 4 *
*                                                                              *
********************************************************************************

.ju left
This modification creates a new SMF type 229 record for NJE mail.
The record is identical in format to the RSCS NJE accounting card
so that the results can be compared with other nodes on the network.
Most of the code is in an exit, with just the additional code to
invoke the exit required as a modification to the HASPNET code.

The members provided are:

  HASPNET  - 2 source update cards for HASPNET
  TUC1410A - Assembler code copied into HASPNET
  TUC1410B - Assembler code copied into HASPNET
  SMF229   - SMF type 229 record DSECT
  EXIT229  - Exit code to build and write the type 229 record.
  SASJOB   - Sample SAS job to analyze 229 records.

 Jim Walker
 Triangle Universities Computation Center
 P.O. Box 12076
 Research Triangle Park, NC  27709
 Phone: (919) 549-0671
 Bitnet Address:  TUCJFW@TUCC
.pa
.nf
@FILE069@***********************************************************************
*                                                                              *
*         F I L E   6 9    C . L .   R S C S   V 2   C O N N E C T   C A R D   *
*                                                                              *
********************************************************************************

 *   This member documents the modification identified by "CLVM002".
 *
 *   03 JUN 1986
 *
 *   This modification pertains to RSCS V2.1.0 and provides limited JES2
 *   path manager support for the RSCS NJE portion of the product.  It
 *   is designed to eliminate the requirement for connect cards in the JES2
 *   parameter deck describing VM/RSCS connections with JES2.  Connect cards
 *   are still required for those VM/RSCS nodes whose only connection to a
 *   network is via another VM/RSCS node.  The modification adds support for
 *   the reset (K) and concurrence (L) network connection control records.
 *   It is implemented through five (5) source update files:
 *        DMTNCR    -  common NJE initialization control routines (ASM)
 *        DMTNET    -  bi-sync NJE line driver (ASM)
 *        DMTSNE    -  SNA NJE line driver (ASM)
 *        NDWA      -  NJE dynamic work area (MACRO)
 *        NCC       -  NJE connection control (MACRO)
 *
 *   It is assumed that the reader is familiar with maintenence and update
 *   procedures in a VM environment.  The macros, NCC and NDWA, should be
 *   updated and included in a maclib that is referenced during assembly of
 *   DMTNCR, DMTNET, and DMTSNE.  The VM utility VMFMAC can be used to update
 *   the macros and VMFASM to assemble the modules.  Once the assemblies are
 *   done, VMFLKED can be used to create a new RSCS loadlib.
 *
 *   This modification adds a user parameter used in conjunction with the
 *   RSCS configuration control PARM statement specified for both NJE and
 *   SNANJE line drivers.  The parameter, PREDEF=YES/NO, would look like
 *   this:
 *
 *   LINK      BOSTON    NJE  030 * * * ....
 *   PARM      BOSTON    PREDEF=YES BUFF=1024.....
 *
 *   "PREDEF=YES" indicates that the line driver is to function as it
 *   does without this modification.  i.e. connect cards are required in
 *   JES2.  This allows the modification code to be put in place without
 *   requiring the JES2 connect cards to be removed.  When the connect
 *   cards are removed, change to PREDEF=NO.  PREDEF=YES should be specified
 *   if two RSCS's are connecting.
 *
 *   "PREDEF=NO" indicates that the line driver is to support reset and
 *   concurrence connection control records and provides for dynamic connection
 *   in a network.  This eliminates the need for predefined connections as long
 *   as RSCS is connecting to a JES2 with the Network Path Manager Support.
 *
 *   These modifications are applicable through PUT8602.
 *
 *   Questions regarding these modifications should be directed to:
 *
 *        Richard Pace
 *        D8321, B67, PA1
 *        Lockheed-California Co.
 *        P.O. BOX 551
 *        Burbank, Ca.  91520
 *
 *        Phone: 818 847-7492
 *
.pa
.nf
@FILE070-75*********************************************************************
*                                                                              *
*         F I L E   7 0 - 7 5   W S O   M O D S   F O R   1 3 4                *
*                                                                              *
********************************************************************************

 Dan Parsons/Jerry Travis
 Washington State Data Processing Service Center
 Office Building Two
 Room Z5
 Mail Stop: OB-01
 Olympia, Washington  98504-7001
 (206) 753-2148

 SUBJECT: JES2 Modifications

 ABSTRACT

.ju left
The  Washington State Data Processing Service Center (WDPSC) has made
many  user  modifications  to  JES2 version 1 release 3.4.  These
changes revolve around the  topics  of  extended  command support,
extended tape support, ease of use and security.

EXTENDED COMMAND SUPPORT

Commands Provided by SHARE

The $J_ commands in exit XJ05$J  are  basically  the same  as  provided
by SHARE.   The $QF command (exit XJ05$QF) has been expanded and
debugged.

Commands Written by WDPSC

Three new commands have been added.  The $ST and $TT commands (exits
XJ05$ST and  XJ05$TT)  are  used  to modify entries in a new table
pointed to by the UCT.  These commands help control different aspects
of the extended  tape  support.    The  other  new command, $UNDUMP
(exit XJ05UDMP) is used to take jobs off the dump queue  without
having  to unload  them.    It nullifies  all  $DUMP  commands since
the last spool unload.

Commands Modified by WDPSC

The commands; $A, $C, $DA, $DI, $DSPOOL,  $LJ,  $TI, $TJ  and $TPRT
have all been changed to some degree.

See the accompanying documentation for  the  details of these changes.

EXTENDED TAPE SUPPORT

The SETUP Processor

The  modifications for extended tape support consist of two separate
functions.  First, a  new  processor called  the  "SETUP" processor is
is attached to the JES2 main task.  Its purpose is to produce a  "SETUP
SHEET"  on a special hard copy log and then hold the job.  The setup
sheet contains information about any special resources needed by the
job,  like  a  tape mount.    In  this way, the operator can insure
that all such resources are available before the  job  is released.
The $ST command is provided to prevent more than one processor  in  a
Multi Access  Spool (MAS)  system from producing the setup sheets.
This is necessary  if  the  setup  messages,  which  are actually
WTO's, are all routed to the same hardcopy log by a global console
director.

Tape Drive Affinity

The  other  part  of  extended  tape  support  is  a facility  to  keep
jobs  that  require tapes and/or produce setup sheets from running on
certain members of the MAS.  This keeps processors that do not  have
access  to tape drives from selecting jobs that need tape drives.  The
$TT command is used to change  the tape job "affinity" on the various
systems.

NJE Accounting Modifications

Two exits were added to HASPNET to build SMF records for  received
sysout  and transmitted jobs.   These records contain the necessary
information to  insure that   the  proper  agency  gets  billed  for
these services.

MODIFICATIONS FOR EASE OF USE

Separator Page

A special separator page is created  displaying  the job  name,  class,
job number, room number (bin) and programmer's name in large block
letters.   This  is followed  by  several  lines  repeating the
standard information.

/*TITLE Card

/*TITLE, a new  JES2  control  statement,  has  been added to override
the programmer's name field on the separator page.  The characters that
follow the word "TITLE"  (separated  by one or more blanks) are used
instead of the programmer's name field in the banner page.  An "O="
parameter has been added to /*JOBPARM which will  also  override  the
programmer's  name.  /*TITLE  overrides  the  "O="  parameter if both
are present.

The Trouble Flag

A facility to disable all JES2 exit routines from  a single operator
command has been added.  This allows the system to come up even if some
faulty code in an installation  installed  exit  is  causing  JES2  to
abend.   Each exit checks a  "trouble  flag"  before doing  anything.
If it is on, the exit immediately returns to JES2 with a return code of
zero.

Initialization Parameter Changes

Several  changes  have  been  made   to   the   JES2 initialization
parameters.   The most noticeable of these  is  the  breaking  up  of
the   "CONVPARM=" parameter  of  &STC,  &TSU  and  &x.   This unwieldy
parameter  has  been  split  up  into  16  different parameters.

TSO Notify Message

The  TSO notify message has been extended to display the ending
program's return code, abend or user code and date and time
information.    Also,  up  to  15 /*NOTIFY  cards  may be included in
the JCL and each user  specified  will  be  notified  when  the   job
completes.

SECURITY

Command Restrictions

Some  of  the  remote  operator  commands  have been restricted to a
degree as well as commands coming in over  the  NJE  network.     See
the   accompanying documentation.

PRDUMP EXITS
     THE STANDARD JES2 PRDUMP CONTROL STMT. HAS BEEN ALTERED TO ALLOW
     FREE FORM KEYWORDS IN PLACE OF THE FIXED FORMAT.

     THE HASP USER DUMP EXITS ARE INVOKED BY THE HASPBLKS VERB WITH THE
     FOLLOWING KEYWORD OPTIONS.

     A(SID)=N...N        ASID, 1 OR MORE DECIMAL DIGITS
     N(AME)=C...C        SUBSYSTEM NAME, 4 CHARACTERS
     DCT                 DEVICE CONTROL TABLES
     HCT                 HASP CONTROL TABLES
     JESCT               JES CONTROL TABLE
     MODMAP              MODULE DIRECTORY
     PCE                 PROCESSOR CONTROL ELEMENTS
     SSCT                SUB SYSTEM CONTROL TABLE
     SSVT                SUB SYSTEM VECTOR TABLES
     UCT                 USER CONTROL TABLE
     x -- ANY SINGLE LETTER -- HASPFMTx FORMATTING MODULE TO
                         BE LOADED AND PROCESSED BY HASPBLKS
                         IN ADDITION TO THE STANDARD ONES.

EXAMPLE:
  1. HASPBLKS HCT,UCT,PCE,SSCT   (JES2 PRDMP CONTROL STMT.)
     PRINT CURRENT     (STANDARD PRDMP CONTROL STMT.)

  2. FORMAT            (STANDARD PRDMP CONTROL STMT.)
     HASPBLKS  N=JESS,HCT,JSCT  (JES2 PRDMP CONTROL STMT.)
     CPUDATA           (STANDARD PRDMP CONTROL STMT.)
.pa
.nf
@FILE076@***********************************************************************
*                                                                              *
*         F I L E   7 6    U . T .   E X I T   R E L O A D   C O M M A N D     *
*                                                                              *
********************************************************************************

   06 AUG 1986

   LOAD command

   Written by : Chris Burns
                Academic Computing Services
                B66 Davis Hall, Box 19318
                University of Texas at Arlington
                Arlington, Texas 76019

   Format:
           $LOAD,<routine name>  ,<new routine>

       where <routine name> is the exit routines name that you
       want to replace and <new routine> is an optional different
       routine to replace it with.
         If no <new routine> is given, a new copy of
       <routine name> is loaded.

   Restrictions:
         1. Each exit routine must be loaded separately.  No
            code, other than the (1) exit, can be in the same
            module.
         2. There is a potential problem in name lookup
            (described in the code).  It has never happened to me
            so I never noticed it before.  It all depends on what
            you name your exits.
         3. It may never be possible to have multiple exits in
            one module since only 1 would want to be changed at a
            time.
         4. This code is written for 1.3.4.  IT WILL NOT WORK FOR
            1.3.3.  The name in the XRT is different between the
            two releases.
         5. LOAD cannot load itself (the XRT use count is not 0).
.pa
.nf
@FILE077@***********************************************************************
*                                                                              *
*         F I L E   7 7    L . S . U .   M O D S                   (1 . 3 . 4) *
*                                                                              *
********************************************************************************

             Frank O'Quinn   (504) 388-1331
             System Network Computer Center (SNCC)
             Louisiana State University
             Baton Rouge, LA  70803-7606
             BUTCH @ NSNCC

This mod applies to HJE2330.  It prevents operators and IOF users from
cancelling IMS jobs that shouldn't be cancelled (a subset of all IMS
jobs).
.pa
.nf
@FILE078@***********************************************************************
*                                                                              *
*         F I L E   7 8    T . R . W .   Q U E U E                 (1 . 3 . 4) *
*                                                                              *
********************************************************************************

This is a version of QUEUE that fixes several problems when assembled
for a pre-SP release of JES2.

It also has enhancements to the TSO command interface,
and minor usability improvements.

 Dan Hurst
 M/S 27-111
 TRW Inc.
 23555 Euclid Ave.
 Cleveland, OH  44117
.pa
.nf
@FILE079@***********************************************************************
*                                                                              *
*         F I L E   7 9    T U C C   J E S D U M P   F O R   1 3 6             *
*                                                                              *
********************************************************************************

         JIM WALKER
         TRIANGLE UNIVERSITIES COMPUTATION CENTER
         P. O. BOX 12076
         RESEARCH TRIANGLE PARK, NC  27709
         (919) 549-0671

.ju left
TO MAKE THE 1.3.4 VERSION RUN WITH 1.3.6, THE RDCKPT ROUTINE WAS CHANGED
TO SCAN FOR THE BEGINNING OF THE JIX, JQE, AND JOT CHECKPOINT POOLS. IN
ADDITION, SEVERAL SYMBOL EQUATES WERE ADDEDED BECAUSE OF THE CHANGE IN
DSECT NAMES WITH 1.3.6.
.pa
.nf
@FILE080@***********************************************************************
*                                                                              *
*         F I L E   8 0    J E S 2   P E R F .   M O N   F O R   1 3 6 / 2 1 5 *
*                                                                              *
********************************************************************************

.ju left
THIS FILE CONTAINS A VERSION OF THE JES2 PERFORMANCE MONITOR THAT HAS BEEN
UPDATED FOR JES2 AT THE SP 1.3.6/2.1.5 LEVEL.

NOTE:  ONLY THE MODULES THAT HAVE CHANGED FROM THE 1.3.4 LEVEL ARE INCLUDED
       HERE.  YOU WILL HAVE TO LOOK AT THE DOCUMENTATION FOR THE 1.3.4
       VERSION OF THE MONITOR FOR INSTALLATION INSTRUCTIONS.

THE 2.1.5 VERSION OF THE CODE WAS PROVIDED BY RICHARD PACE AT LOCKHEED.
INTEGRATION OF THE RECENT MODIFICATIONS DONE TO THE 1.3.4 VERSION WAS DONE
BY JACK SCHUDEL.

(See file 81 for an updated version).
.pa
.nf
@FILE081@***********************************************************************
*                                                                              *
*         F I L E   8 1    J E S 2   P E R F .   M O N                         *
*                                                                              *
********************************************************************************

.ju left
This version of the JES2 Performance Monitor will work with the
following releases of JES2:
  2.2.0
  1.3.6/2.1.5
  1.3.4

The original monitor was developed by Steve Myers of INA, with
enhancements provided by Selby Shanly of Datacrown.  SP2 support was
provided by Mellon Bank, and further enhancements by John Kinn at
Lockheed and Bill Mosteller at Boeing.  SP 1.3.3 support was provided
by Bill Mosteller (BCG).  SP 1.3.4 support was provided by Kihn Kinn
(CL).  SP 1.3.6/2.1.5 support was provided by Richard Pace (CL).

Further enhancements for both 1.3.4 and 1.3.6/2.1.5 provided by Bill
Mosteller (BCG) and Jack Schudel (UF).

This version has includes the following changes over other versions
that are on the tape:
  01 OCT 86 - J Schudel
     - resolve addresses properly when running JES2 1.3.4 under MVS/XA.
     - add SAS program for formatting monitor output.
  01 OCT 86 - Bill Mosteller
     - extend module mapping to include mapping user exits.
  08 OCT 86 - J Schudel
     - change to collect and report 8 character module and exit names.
  20 DEC 87 - J Schudel
     - change report program for JES2 2.2.0 PCE names.
.pa
.nf
@FILE082@***********************************************************************
*                                                                              *
*         F I L E   8 2    N E R D C   J E S M O D S          F O R   2 2 0    *
*                                                                              *
********************************************************************************

     JACK SCHUDEL              (904) 392-4601
     NORTHEAST REGIONAL DATA CENTER
     233 SPACE SCIENCES RESEARCH BUILDING
     UNIVERSITY OF FLORIDA
     GAINESVILLE, FLORIDA  32611

THIS FILE CONTAINS SEVERAL OF THE NERDC'S MODIFICATIONS TO THE SP 2.2.0
VERSION OF JES2.

THE FOLLOWING MODIFICATIONS ARE INCLUDED:

    NE000    * DOCUMENTATION CONTROL.
    NE001    * SKELETONS FOR ADDED MODULES/MACROS.
    NE002    * NERDC CONTROL BLOCK FILLERS.
    NE003    * SUPPORT FOR NERDC COMMAND ADDITIONS.
    NE004    * EXTEND ADDRESSABILITY IN SELECTED MODULES.
    NE007    * DELETE ADDRESS OF IEFCMAUT FROM HCT.
    NE008    * CONDITIONAL INITIALIZATION PROCESSING.
    NE009    * SUPPORT FOR DYNALLOC INIT VERB.
    NE010    * NERDC SECONDARY CVT INSTALLATION.
    NE011    * CHANGE DEFAULT WS= VALUES IN HASPINIT.
    NE012    * INITIATORS INITIALIZED AS DRAINED ($PI).
    NE013    * CHANGE $D'JOBNAME' TO NOT REQUIRE ENDING APOSTROPHE.
    NE014    * JOB DISPLAY BY PREFIX.
    NE015    * $YB COMMAND TO LIST AVAILABLE BUFFERS.
    NE018    * $YM COMMAND TO LIST MODULE ADDRESSES.
    NE019    * CHANGE SYSZJES2 QNAME ON TEST SYSTEM FOR GRS.
    NE020    * CHANGES FOR RUNNING UNDER MOTHER TCB.
    NE023    * TSO/E NOTIFY EXIT PROCESSING.
    NE024    * ADD USER SECTION TO JOB HEADER RECORD.
    NE025    * CHANGE HASPRDR TO SUPPORT ERROR MSGS FROM EXIT 20.
    NE078    * REMOVE DESC=2 FOR CKPT LOCK HELD MSG FROM TEST SYSTEM.
    NE080    * OAK RIDGE $LQ COMMAND.
    NE083    * REMOVE DESC=11 FROM 095 CATASTROPHIC MSG IF NOT PRIMARY.
    NE089    * LOADLPA AND LOADSSSM INITIALIZATION VERBS.
    NE093    * INCREASE $MAXNODE SETTING ABOVE 1000.
    NE102    * ADD LIST OF APPLID'S TO $TN COMMAND OUTPUT.
    NE105    * SET DEFAULT NODE NUMBER IN DESTID TABLES.
    NE998    * DELETE SELECTED OLD INIT STATEMENTS.
    NE999    * ALLOW OLD FORMAT COMMENT CARDS IN INIT DECK.
             * NOTE:  You can get burned by using this code.
             * A comment card with a trailing comma will cause
             * JES2 to stream the next input statement onto
             * the end of the original comment statement.
             * If this happens, this mod will throw away that
             * statement as well.
             * MORAL:  If you use this code as a bridge to
             * allow you to use your old JES2PARM library to
             * get up onto the newer JES2 release, be careful,
             * and convert your library as soon as possible.
             * If you are using this mod to allow your BITNET
             * tables to be processed by JES2, you should
             * make sure of the tables that you receive, since
             * some of them may contain comments that have
             * trailing commas.
.pa
.nf
@FILE083@***********************************************************************
*                                                                              *
*         F I L E   8 3    L D W   Q U E U E   C M D   ( T H R U   4 . 3 . 0 ) *
*                                                                              *
********************************************************************************

This is a version of the QUEUE command that works with versions of JES2
through SP 5.2.0.

Please read member $$$INST for more information.

           Leonard D. Woren
           Stanford University
           Polya Hall  M/C 4136
           Stanford, CA 94305-4136
           ldw@lindy.stanford.edu

.nf
NOTE:  The latest version of Leonard's QUEUE command is always
available from his ftp server:

   ftp://lindy.stanford.edu/pub/mvs/queue

The maclib is available in /pub/mvs, and everyone should read
/pub/mvs/README before retrieving files from that site.
.sp 3
.nf
@FILE084@***********************************************************************
*                                                                              *
*         F I L E   8 4    L D W   M A C L I B                                 *
*                                                                              *
********************************************************************************

This is the macro library required to assemble Leonard Woren's
QUEUE command.
.sp 3
.nf
@FILE085@***********************************************************************
*                                                                              *
*         F I L E   8 5    U S C   U T I L I T Y   P R O G R A M S             *
*                                                                              *
********************************************************************************

.ju left
CONS is a TSO command to give you a picture of an operator's console,
and let you issue commands.  (Basically the same thing as the more
commonly circulated "SPY" command, but does more things.)  It needs
either a funny SVC or IKJEFTE2 (and preferably TSO/E Rel 2) to run
APF authorized.  It uses a service routine, called TERMIO.  TERMIO
is created by assembling TERMIO1 through TERMIO5, and linking them
all together into a loadmod called TERMIO, with entry point TERMIO1.

TMPSRV is a service routine invoked by the TMPMAC macro to allow any
TSO command to attach another TSO command, or to invoke a CLIST.  It
builds the whole environment that the attached command needs, with a
simple, easy to specify set of operands on TMPMAC.  TMPSRV is used by
the "TSO" subcommand of "QUEUE".

           Leonard D. Woren
           University of Southern California
           UCC 207  Mail Code 0251
           University Park
           Los Angeles, CA   90089-0251
.pa
.nf
@FILE086@***********************************************************************
*                                                                              *
*         F I L E   8 6   B.  F.  G O O D R I C H   Q U E U E   ( I S P F )    *
*                                                                              *
********************************************************************************

A version of the Queue command. It supports JES2 1.3.6/2.1.5 under
both ISPF 2.2 and 2.3. This version is based on the NERDC version from
Jack Schudel (NERDC), , and includes mods from Sam Golob of Newsweek and
Bill Balmer.

A version that supports JES2 2.2 is on another file on this tape.

See member $$BFGINS for installation instructions.

Guy L. Albertelli      216-374-4071
BF Goodrich (BFG)
3925 Embassy Parkway
Akron, Ohio   44313

.pa
.nf
@FILE087@***********************************************************************
*                                                                              *
*         F I L E   8 7    U N C   P L O T T E R   M O D S                     *
*                                                                              *
********************************************************************************

      WRITTEN BY JIMMY WORKMAN (UWORKJ)
                 UNC COMPUTATION CENTER
                 CHAPEL HILL, N. C.  27514

      LAST UPDATED 1/10/85 BY UWORKJ.  FOR JES2 1.3.4

THIS MODIFICATION TO HASPPRPU IS TO SUPPORT A CALCOMP PLOTTER WITH THE
BISYNC 907 CONTROLLER.  THE INPUT LINES FROM THE SPOOL ARE TRANSLATED
FROM ONE PLOT COMMAND CODE TO THE PLOT COMMAND CODE USED BY THE CALCOMP
PLOTTER.  ONE LINE OF THE PLOT COMMAND CODES WHICH ARE PRODUCED BY OUR
LOCAL PLOTTER PACKAGE CAN GENERATE UP TO 256 OUTPUT LINES OF CALCOMP
PLOT COMMAND CODES.

THE HEADER EXIT IS NOT REQUIRED, BUT IF USED WILL GET THE REQUIRED
WORK AREAS NEEDED BY THE HASPPRPU EXIT.
.pa
.nf
@FILE088@***********************************************************************
*                                                                              *
*         F I L E   8 8    W E L L S   F A R G O   B A N K   M O D S   (2.1.5) *
*                                                                              *
********************************************************************************

                      W E L L S   F A R G O   B A N K

                    JES2 EXITS AND RELATED PROGRAMS FOR

                              JES2 SP 2.1.5

INSTALLATION CONTACT:

         Vic Cozzoli      (WFB)
         Wells Fargo Bank, N. A.
         525 Market St.,  MAC 0103-141
         San Francisco, CA  94163
         (415) 396-6376

GENERAL DESCRIPTION OF CONTENTS:

         EXITPARM - Sample JES2 Initialization Parameters to Implement
                    WFB Exits
         EXIT001  - Print header and trailer page separators
         EXIT002  - JCL standards enforcement and automatic
                    job classing
         EXIT004  - SOUTWTR Support (add OUTPUT JCL statements to
                    certain types of jobs)
         EXIT008  - Maximum Condition Code / Abend Code Support for
                    the $HASP165 TSO Notify Message
         EXIT009  - TSO/E Transmit Overflow Support
         EXIT016  - Maximum Condition Code / Abend Code Support for
                    the $HASP165 TSO Notify Message
         JESLOGON - Allow TSO LOGON to any SECONDARY JES2 subsystem
         ROOM     - TSO ROOM command (updates JCT ROOM NUMBER field)

DATASET FORMAT:

         On tape:
                  IEBCOPY unloaded format
                  DCB=(RECFM=FB,LRECL=80,BLKSIZE=32720)

         On disk:
                  Standard PDS
                  DCB=(RECFM=FB,LRECL=80,BLKSIZE=9440)
                  Directory Blocks: 5
                  Space: 15 tracks on a 3380

DETAILED DESCRIPTION OF DATASET MEMBERS:

$CONTENT - You are looking at it.
 (mm/yy)   <=== Date of last update is shown below member name.

$INSTALL - JCL to assemble and link the contents of this dataset.
 (05/86)

EXITPARM - Sample JES2 Initialization Parameters to Implement WFB Exits
 (05/86)
           This member contains a sample set of EXIT and LOAD
           initialization parameters used to implement the exits
           listed below.

EXIT001  - Print header and trailer page separators.
 (05/86)
           This exit performs the following:
              1. Print JOBNAME nonslanted in block letters.
              2. Print ROOM NUMBER nonslanted in block letters.
              3. Print 5 of the standard IBM detail lines.
              4. Print first 8 characters of PROGRAMMER NAME in
                 slanted block letters.
              5. Print up to 9 lines of JESNEWS (if present).
              6. Print a second trailer page for production jobs.

EXIT002  - JCL standards enforcement and automatic job classing.
 (05/86)
           This exit performs the following:
              1. Set default FORMS to $TST for TSO users and test jobs.
                 (Test jobs at Wells Fargo are defined to be any job or
                 TSO user that starts with the letter Z.).
              2. Force PRIORITY to 9 for batch jobs.
              3. Validate MSGCLASS: Test jobs default to A but can
                 optionally use C, W, or X.  Production jobs default to
                 M but can optionally user N or O.
              4. Do not allow test jobs to submit production jobs via
                 the internal reader.
              5. Treat the estimated CPU time in the JOB card
                 accounting field as seconds (not minutes).
              6. Determine execution class of test jobs based on
                 estimated CPU seconds: 0-7 Class K; 8-20 Class D;
                 21-60 Class E; 61-120 Class B; over 120 Class N.
                 Additionally, execution classes M, N, R, S, and W are
                 allowed for special jobs and nighttime or weekend
                 rates.  Class C is allowed for tape jobs using less
                 than 120 CPU seconds.  PLEASE NOTE:  There is a known
                 "bug" in this area.  If a test job has anything in
                 column 71 of the JOB card, the execution class is
                 incorrectly determined to be class A (production).
                 The effort to fix this has frequently been avoided by
                 us due to the "spaghetti' code in this exit.  We'll
                 fix it...  some day.
              7. Allow account numbers in the JOB card to be specified
                 as either two four-digit strings or as one eight-digit
                 string.  The two four-digit format uses the standard
                 four byte ACCOUNT NUMBER field for the first four
                 digits of the account number and the four byte ROOM
                 NUMBER for the second four digits of the account
                 number.  The eight-digit format allows eight digits in
                 the standard accounting field thereby freeing the ROOM
                 NUMBER field for it's intended use (to specify room
                 number).  The eight-digit format also accepts a
                 seven-digit version since the eighth digit is always
                 zero.
              8. Validate that jobs submitted with execution Class S
                 specify the only valid account number for Class S.

EXIT004  - SOUTWTR Support (add an OUTPUT JCL statement to certain
 (05/86)   types of jobs)

           This exit performs the following:
              1. If a production job specifies MSGCLASS N or O, this
                 exit will add an OUTPUT JCL statement to the job so
                 that a copy of the JES datasets will be created with a
                 sysout class M.  This class M sysout is subsequently
                 processed by the SOUTWTR (SysOUT WriTeR) which is a
                 fancy external write that saves production output in
                 order to satisfy an auditing requirement we have.

EXIT008  - Maximum Condition Code / Abend Code Support for the
 (05/86)   $HASP165 TSO Notify Message.

           This is the first of two exits (the other is EXIT016)
           that adds text to the $HASP165 TSO NOTIFY message that is
           generated by NOTIFY= on the JOB card or by the JES2
           /*NOTIFY control card.  If the job does not abend, the
           maximum condition code of all the executed steps is
           added to the message.  If the job abends, the system or
           user abend code is added.
           Examples:
             $HASP165 jobname ENDED at node - MAX COND CODE 0004
             $HASP165 jobname ENDED at node - ABENDED SYSTEM 0C4
             $HASP165 jobname ENDED at node - ABENDED USER 0302

           This exit (EXIT008) locates the maximum condition code or
           the system or user abend code and stores the value in the
           JCTUSER1 field so that EXIT016 can later retrieve and
           process it.

EXIT009  - TSO/E Transmit Overflow Support
 (05/86)
           This exit allows the TSO/E transmit function to continue
           after exceeding the installation specified limit for punched
           data. (TSO/E transmit data is passed as punched records.)
           We chose to implement this exit instead of increasing ESTPUN
           because we wanted to allow TSO/E transmit to work while at
           the same time discouraging the creation of real punched
           data.

EXIT016  - Maximum Condition Code / Abend Code Support for the
 (05/86)   $HASP165 TSO Notify Message.

           This is the second of two exits (the other is EXIT008)
           that adds text to the $HASP165 TSO NOTIFY message that is
           generated by NOTIFY= on the JOB card or by the JES2
           /*NOTIFY control card.  If the job does not abend, the
           maximum condition code of all the executed steps is
           added to the message.  If the job abends, the system or
           user abend code is added.
           Examples:
             $HASP165 jobname ENDED at node - MAX COND CODE 0004
             $HASP165 jobname ENDED at node - ABENDED SYSTEM 0C4
             $HASP165 jobname ENDED at node - ABENDED USER 0302

           This exit (EXIT016) retrieves the maximum condition code or
           the system or user abend code that was stored by in the
           JCTUSER1 field by EXIT008.  It then adds this value along
           with the proper text to the $HASP165 message.

JESLOGON - Allows TSO LOGON to any SECONDARY JES2 subsystem
 (03/84)
           This program allow a TSO user to logon to any secondary JES2
           subsystem.  It acts as a one-time front end for the standard
           TMP and is intended to be executed by the LOGON procedure.
           Job submission and PSO (process sysout) requests are also
           handled by the secondary JES.

ROOM     - TSO ROOM command
 (05/86)
           This is a TSO command that allows the user to change the
           room number field in the JES2 JCT for the TSO session.  This
           command is necessary because the ROOM NUMBER field is not
           supported by UADS (and the field is overlayed by Wells Fargo
           accounting information during logon).  ROOM makes it easy
           for the user to specify delivery information (printed in
           block letters on the print header and trailer pages via WFB
           EXIT001) for all sysout created during the session,
           including spun datasets.

           This code can serve as a model for allowing a TSO user to
           change (through authorized means) any otherwise protected
           information in the JES2 JCT or similar control blocks.
.pa
.nf
@FILE089@***********************************************************************
*                                                                              *
*         F I L E   8 9    B F S   X E R O X   F O R M S   C O N T R O L       *
*                                                                              *
********************************************************************************

         BENJ. FRANKLIN FEDERAL SAVINGS AND LOAN ASSOCIATION

    ABSTRACT:         BENJ. FRANKLIN HAS DEVELOPED EXITS TO MVS/SP JES2
                      TO PROVIDE TABLE DRIVEN FORMS CONTROL FOR XEROX
                      8700/9700 LASER PRINTERS.  THE EXITS INSERT XEROX
                      DJDE COMMANDS BETWEEN REPORTS GOING TO THE
                      PRINTERS BASED ON THE SYSOUT CLASS AND FORMS ID
                      SPECIFIED IN STANDARD JCL.

    DATE:             FEBRUARY 10, 1987

    RELEASE:          MVS/SP JES2 1.3.4

    CURRENT AUTHOR:   MIKE SHEEDY, SENIOR SYSTEMS SPECIALIST
                      BENJ. FRANKLIN FEDERAL SAVINGS AND LOAN ASSN.
                      P.O. BOX 6400
                      PORTLAND, OREGON  97228-6400

    PHONE:            503-275-1229

    SHARE INSTALLATION CODE:  BFS

    MAILING ADDRESS:  BENJ. FRANKLIN FINANCIAL CENTER
                      P.O. BOX 6400
                      PORTLAND, OREGON  97228-6400

    SHIPPING ADDRESS: BENJ. FRANKLIN FINANCIAL CENTER
                      501 S.E. HAWTHORNE BLVD.
                      PORTLAND, OREGON  97214

    ORIGINAL AUTHOR:  NARM TCHUN, LEAD SYSTEMS PROGRAMMER
                      GATX NETWORK SERVICES, GATX CORPORATION
                      120 SOUTH RIVERSIDE PLAZA
                      CHICAGO, ILLINOIS  60606

               NOTE:  NARM TCHUN NO LONGER WORKS THERE.

      DOCUMENTATION:  SYS2.JES2134.EXITSRC($DESC)
.pa
.nf
@FILE090-091@*******************************************************************
*                                                                              *
*         F I L E   9 0 - 9 1   T E A    X E R O X   8 7 0 0       ( 1 3 4 )   *
*                                                                              *
********************************************************************************

    Steve Ryder
    Texas Education Agency
    Data Services Division
    1701 N. Congress Ave
    Austin, Texas  78701-1494
    (512) 463-9758

    Generate DJDE commands for XEROX 8700 printers based on Sysout Class.
    Code uses JES2 exits 1 and 15, plus a small mod to HASPPRPU.

    File 90 is the mod itself.
    File 91 contains fonts for the XEROX 8700 printer.
.pa
.nf
@FILE092@***********************************************************************
*                                                                              *
*         F I L E   9 2    P R I N T E R   T R A N S L A T E       ( 2 1 5 )   *
*                                                                              *
********************************************************************************

    Peter Sylvester
    Gesellschaft Fuer Mathematik und Datenverarbeitung MBH BONN
    - Rechenzentren -
    Schloss Birlinghoven
    5205 St. Augustin 1
    Bonn, West Germany
    GRZ027 at DBNGMD21.BITNET

    JES2 Exit 15 routine to set printer translate tables to simulate
    different UCS images, and a small mod to HASPPRPU to enable the
    translate change for non-1403 printers.
.pa
.nf
@FILE093@***********************************************************************
*                                                                              *
*         F I L E   9 3    B E L L   &   H O W E L L   M O D S                 *
*                                                                              *
********************************************************************************

              ROBERT M. SIRKIS
              TECHNICAL SUPPORT SPECIALIST
              BELL AND HOWELL COMPANY
              2231 WEST HOWARD STREET
              EVANSTON, IL 60202
              (312) 570-4687

     SOURCE        EXECUTABLE         FUNCTION

     IBHJ2001      IBHJ2001           JES2 EXIT(1.3.4/1.3.6)
                                      CONTROL XEROX 2700 PRINTER
     IBHJ2005      IBHJ2005           $DP COMMAND TO LIST JOES,
                                      AND ENHANCED $DA COMMAND.
                                      THE OUTPUT IS ROUTED TO THE CONSOLE
                                      ARE OF $DF OUTPUT.
     IBHJ2006      IBHJ2006           SAMPLE OF HOW TO SET TIME= ON
                                      EXEC CARDS.
     IBHJ2007      IBHJ2007           PLANT ROOM NUMBER IN JCT FOR STCS.
     IBHJ2008      IBHJ2008           ENHANCED NOTIFY/ABEND 722 SUPPORT.
     IBHJ2009      IBHJ2009           CANCEL JOBS THAT EXCEED 20K LINES.
     IBHJ2016      IBHJ2016           ENHANCED TSO NOTIFY EXIT.
     IBHJ2015      IBHJ2005           JES2 EXIT(1.3.4/1.3.6)
                                      INITIAL FONT CONTROL ON XEROR 9700
                                      PRINTER SUBSYSTEM.
     IBHJ2020      IBHJ2020           UPDATE JOB SELECT PRIORITY.
.pa
.nf
@FILE094@***********************************************************************
*                                                                              *
*         F I L E   9 4   U B I   D O C U M E N T A T I O N   F O R   M O D S  *
*                                                                              *
********************************************************************************

            Doron Shikmoni  - Systems   (P85025@BARILAN - BITnet).
            Bar-Ilan University - Computer Center
            Ramat-Gan
            Israel

    Bar-Ilan University  -  JES2 modifications and exits.
    +++++++++++++++++++     ++++++++++++++++++++++++++++

                            Current JES2 level: HJE1367  UZ82297
                                                (PUT 8606, approx).

   The Bar-Ilan modifications are packaged into 2 data sets (on the
JESMODS tape, 2 IEBCOPY unloaded data sets):

1.  SYS2.JES2MODS (JES2MODS on the tape).
    This data set contains the following types of members:

    U@xxxx - This is an IEBUPDTE control statememt stream, to update a
             member in HASPSRC. For example, U@CNVT updates HASPCNVT
             and U@$JCT updates $JCT. This updates contains ALL the
             updates done to that member in Bar Ilan; each line of
             updated source is identified with *xxxxx where xxxxx is
             the modification name. Thus, to install a specific mod,
             only cards marked with its name should be applied.  An
             effort has been made to keep mods as separated as
             possible.

    @xxxxxa - This is a copy code member. All modifications to JES2
             source are made using COPY assembler statements, To
             minimize code transition and repackaging problems.
             "xxxxx" here is the modification ID, and "a" is a letter /
             digit to identify the specific copy code member.

    EX@aaaaa - This is an exit package module. Exits are packaged
             together on a subject basis, rather than on the exit type.
             Thus, for examples, several exit 4 routines can (and do)
             exist in several modules. An exit cross reference will be
             maintained in the $$EXITS member of JES2DOC.

    Others -  These are members that have to be called by some other
             name because of some restriction. For example, HASPXIT0
             has to be called so because of JES2 restriction in exit
             call time. Any added macro is another example.  A third
             example is macros and routines from external sources of
             mods (SHARE etc.).

2.  SYS2.JES2DOC (JES2DOC on the tape).
    This data set contains the documentation required for the
    modifications. The following members can be found:  $$DOC  - You
    are reading it.

    $$MODS  - This is the modification index. It contains 3-4 lines of
             description for every JES2  modification done (including
             and modification that is done solely within exits, with no
             source updates).

    $$EXITS - Contains an exits table, which can be used to locate an
             exit within a module, and gives a brief description of the
             exit's function.

    xxxxx  - Where xxxxx is a modification ID - This is a detailed and
             thorough description of a modification, including source
             pieces changed, exits used, exit load mudules, copy code
             members etc.

       Any suggestions, comments, error correction and whatever
    Will be gratefully accepted and reviewed by:

            Doron Shikmoni  - Systems   (P85025@BARILAN - BITnet).
            Bar-Ilan University - Computer Center
            Ramat-Gan
            Israel
.pa
.nf
@FILE095@***********************************************************************
*                                                                              *
*         F I L E   9 5   U B I   M O D S   F O R   1 3 6                      *
*                                                                              *
********************************************************************************

            Doron Shikmoni  - Systems
            Bar-Ilan University - Computer Center
            Ramat-Gan
            Israel

  Bar  Ilan  University  JES2 (HJE1367) Modification index
                         Current JES2 level: see $$DOC.

=======================================================================
MOD        HITS          ABSTRACT
=======================================================================
ACF410    HASPSSSM       ACF2 4.1.0 update. The updates were merged
                         into the U@ members for easy maintenance.
=======================================================================
BJ001     HASPSSSM      Enable JES2 to reply to TSO user originated
                        commands, to the terminal.
=======================================================================
BJ002                   ** Obsolete
** Obsolete
=======================================================================
BJ003     HASPCNVT      Enhance HASPCNVT to support the new /*PROCLIB
          $JCT          control card, for using user-proclib data sets.

            Exits:      5 user exits: 4,24 (IBM), 240,241,242  (user).
                        All packaged in EX@PROC module.  Exit 243
                        (module EX@PROCA) is ACF2 support.
=======================================================================
BJ004     HASPPRPU      JES2 will not eject to top of page before and
                        after a SYSOUT file. Instead, exits 1 and 15
                        will issue an on-fold mark during separator,
                        and eject between data sets at all other times.

            Exits:      2 user exits connected: 1 and 15. Note that
                        these exit routines also contain code with
                        other purposes. Packaged in EX@PRNT module.
=======================================================================
BJ005     HASPPRPU      JES2 is updated to count printed pages for
                        SMF only if the CCW is a "skip to channel 1",
                        instead of counting each "channel" CCW. This
                        provides more accurate SMF accounting.
=======================================================================
BJ006     $JCT          General updates to the JCT to accomodate the
                        Bar Ilan user fields (these are defined over
                        the JCTUSERx fields).
=======================================================================
BJ007                   ** Obsolete **
** Obsolete
=======================================================================
BJ008     None.         New JECL card syntax: /*JOBPARM.
                        The whole card is scanned in exit 4 routine
                        CCSX4 using $SCAN.
            Exits:      Exit 4 routine (CCSX4) in module EX@CCS does
                        the scanning.
=======================================================================
BJ009     HASPHOPE      Support the "HOLD" parameter of JOBPARM (or
                        any equivalent) - to hold all sysout data sets
                        for a job.
=======================================================================
BJ010     None.         Force a default MSGCLASS=A for INTRDR's
                        allocated to STC/TSU. This is just a default
                        MSGCLASS, the submitted job can override.

           Exits:       Done in exit 2 (EX@JOBC).

=======================================================================
BJ011     HASPRDR       ACF2 pre- and post-validation. Class selection,
                        priority setting and other job-finalization
                        functions.

            Exits:      ACFJ2PRE in EX@ACF41 is the pre-validation exit.
                        ACFJ2PST in EX@ACF41 is the post validation
                        (class selection) exit.
=======================================================================
BJ012     None.         Disallow page ejects during printing for users
                        who are not allowed to skip or do not wish to
                        do so. Undesired skips are converted to "skip
                        3 lines".

            Exits:      PRNTX15 in EX@PRNT is involved in the task -
                        CCW translation table is modified according
                        to selection.
=======================================================================
BJ013     None.         Introduce JXE: Job eXecution Element, to
                        maintain information about job's resource
                        consumption.  The JXE is updated by non-JES2
                        routines (IEASMFEX with Bar Ilan mods, IEFAB423
                        device allocation with Bar Ilan mods etc.).
                        Those can also schedule job cancel - the
                        required cancelling code is within this mod.
                        More information in member BJ013 in JES2DOC.

            Exits:      JXEX8 in EX@JXE  is used as a job init/term
                        exit to associate a JXE with the batch job.
                        JXEX24 in EX@JXE is an exit 24 routine that
                        builds the JXE pool and connects it to the
                        SSVT. JXEX26 is an exit 26 routine that frees
                        up the JXE storage in an orderly JES2 shutdown.

=======================================================================
BJ014     None.         JCL internal text scan: eliminate unauthorized
                        JCL keyword (ADDRSPC, PERFORM etc.) and insert
                        TIME keyword for batch job cards with the
                        JOBPARM time estimate.

            Exits:      JCLX6 in EX@JCL is used to perform these tasks.

=======================================================================
BJ015     $JQE          Modify $JQE to contain fields that are required
                        for the Bar Ilan JES2 mods.
            Exits:      None.

=======================================================================
BJ016     HASPCOMM      Reject the $EJ command if it is issued against
          $JQE (BJ015)  a non-restartable job (RESTART=NO or NORESTART
                        in the JES2PARM class definition).

            Exits:      RDREX20  (End of input exit point 20) is used
                        to initialize the new JQE flag.

=======================================================================
BJ017     None.         Introduce the UCT (User Control Table) that
                        will contain the installation defined fields
                        that reside in the JES2 private area.

            Exits:      None.

=======================================================================
BJ018     None.         The Bar-Ilan tape drive system. This system
                        sets up a "pool" of tape drives to be used by
                        JES2 batch jobs. The jobs should state the
                        number of tape drives they require, and JES2
                        will initiate such jobs when enough drives are
                        available.

            Exits:      TAPEX5 in EX@TAPE is used to support the new
                               oper command @XT.
                        QGETX14 in EX@QGET is used for job selection
                               limiting.
                        CCSX4   in EX@CCS is used to extract the job's
                               tape count and put it in the JCT and JQE.

=======================================================================
BJ019     HASPSSSM.   1.The procedure name for XBATCH monitor job
                        will not include the initiator name - 1 proc
                        name for an XBATCH class.
                      2.The XBATCH JCL will have MSGLEVEL=(0,0).
                      3.All initiators will use same procname for
                        an XBATCH job.

            Exits:      None.

=======================================================================
BJ020       None        @TPRTn,F=abcd for a 3203 printer will force the
                        FCB name to be the 4th character of the form
                        name.

            Exits:      FCBX5 in EX@FCB preprocesses $TPRT commands.
=======================================================================
BJ021     HASPBSC.      Enable a diskette reader that transfers 128
                        byte diskettes to work without losing a byte
                        from every second record.

            Exits:      None.

=======================================================================
BJ022     HASPPRPU      Introduce the hebrew new code support on
                        printers - translate printed output according
                        to sysout class.

            Exits:      PRNTX15 in EX@PRNT (partial).

=======================================================================
BJ023     None.         The $QF command, used to list output groups
                        according to forms, FCB, UCS, route etc.  A
                        greatly enhanced version of $LF from NWB.

            Exits:      $QFX5 in EX@$QF.

=======================================================================
BJ024     None.         The $QS command, used to list /*SETUP card
                        contents for jobs that have requested setup.

            Exits:      $QSX5 in EX@STUP.

=======================================================================
BJ025     HASPCOMM      HASPCOMM is changed to support the ONL$SERV
*********************   mod from the JESMODS tape. This gives most of
** not implemented **   the local $CF.. services for exit 5 routines,
*********************   and to support new exit (254) to modify
                        $HASP608 job info message.

            Exits:      None.

=======================================================================
BJ026       HASPCOMM.   The $HASP608 (job info) message is introduced
                        to contain Bar Ilan job parameters etc.

            Exits:      JINFX254 in EX@JINFO.
                        Part of RDREX20 in EX@RDRE.

=======================================================================
BJ027     HASPIRDA      Install the ONL$TODV mod (from JESMODS tape)
                        to validate system clocks at startup.

            Exits:      TODVX255 in EX@TODV.

=======================================================================
BJ028     HASPAM        Enforce OUTLIM on dumps during ABEND - if
                        output is exceeded during RTM, stop printing.

            Exits:      None.
=======================================================================
BJ029     HASPSSSM      Write job log to spool after each WTO that
** Not  installed **    updates the job log, for better logging.

            Exits:      None.

=======================================================================
BJ030     HASPCOMM    1. HASPCOMM will not require an ending apostrophe
                         in a jobname command ($D'jjj', etc.).
                      2. It will treat the job name given in the
                         command as a prefix, i.e. will act on all jobs
                         whose names start with that prefix - if that
                         ending apostophe was not given.

            Exits:      None.

=======================================================================
BJ031     HASPSSSM    ** Merged with BJ019 ***
** Obsolete **
=======================================================================
BJ032     HASPNET     This mod puts several enhancements to the JES2 /
                      VM RSCS interface, for BITnet or anything.
                       1. Enable RSCS originated user messages to
                          always reach a TSO user. Try TPUT to send
                          them.
                       2. When a message is received for a TSO user and
                          the latter is not logged on, send a message
                          back. The original message will still be kept
                          (hopefully).
                       3. For all network originated messages, issued
                          to TSO users' terminal, insert "from nodeid:"
                          in fron of message so that source is
                          recognized.
                       4. Make sure TSO/E mail message ($HASP549) is
                          always sent (even if user is not logged on).
                       5. Chenge incoming files without WTRID to TSO/E
                          RECEIVEable format (WTRID = USERID)
                       6. Introduce the $UM/$UC commands, via exit 5,
                          to send a "user" message/cmd to a remote
                          node.

            Exits:      NETWKX5, NETWKX10 and NETWKX13 in EX@NETWK.

=======================================================================
BJ033                  ** Obsolete **
** Obsolete **

=======================================================================
BJ034     None.       Dynamic network definition commands added:

                      1. $CONNECT to dynamically define a "pre-defined"
                         connection (JES2PARM CONNECT-statement-like)

                      2. $UNCONNECT dynamically deletes a pre-defined
                         connection.
                      3. $DCON displays an NJE connection - either
                         pre- or dynamically- defined.

                      4. $NDEF dynamically defines a new node or
                         modifies an existing node name.

                         Further details in member BJ034 in JES2DOC.

            Exits:       DYNNX5 in EX@DYNN (exit 5).

=======================================================================
BJ035     None.       JES2 will notify the TSO user (if NOTIFY was
                      requested) when an output group has been printed.

            Exits:       Code is in EX@NOTIF, Exit 1 (NOTIFX1).

=======================================================================
BJ036     HASPNET     $TOJ will affect the target userid of files going
                      to the network. The userid will be taken from
                      WTRID. That is, $TOJ...,W=userid will affect the
                      NJE header of the file to that userid.

            Exits:       None.

=======================================================================
BJ037     $HASPEQU    Extend $MAXNODE from 1000 (the IBM node number
                      limit) to 3000 (for Bitnet).

=======================================================================
BJ038     None        Make initiators come up with the "all drained"
                      bit at startup, so that operator can start with
                      $SI and not $SIn.

=======================================================================
BJ039     None        JES2 will accept "old-style" comment cards -
                      i.e., init stmt cards that begin with an asterisk,
                      to support the BITNET monthly distribution.

=======================================================================
BJ040     $CAT        REGION limiting system: JES2 will accept
                      per-class limits for REGION in job selection.
                      Each job has its maximal REGION scanned for
                      during JCL conversion; if the amount is above a
                      class-related value, job will not be selected for
                      execution.

=======================================================================
BJ041     None.       Cataloged Procedures Reporter. An exit routine to
                      report, for each cataloged JCL procedure, the
                      exact dsname/volser it comes from, to user's JCL
                      images file and/or to SMF.

            Exits:    CPRX6 in EX@CPR (exit 6).
=======================================================================
BJ042     None.       Modify the behaviour of the OFFLOAD processing:
                      When an OFFLOAD device is being started, *all*
                      JQEs will initially be eligible for selection by
                      the processor. In normal JES2, once a JQE has
                      been dumped by OFFLOAD1, it will never be
                      selected again by this device (even thru IPL).

            Exits:    OFFRC5 in EX@OFFR (exit 5).
.pa
.nf
@FILE096@***********************************************************************
*                                                                              *
*         F I L E   9 6   U B I   S A M P L E   P R O G R A M S                *
*                                                                              *
********************************************************************************

    Samples Data Set - Bar-Ilan University JES2
    ===========================================

   This data set contains some sample programs that are used in Bar
Ilan University (UBI) in conjunction with JES2 and may be of some help
to other installation. The programs, however, were written mainly for
local use; no warranty whatsoever is granted.  Any comments or bug
descriptions will nevertheless be gratefully accepted by:

          Doron Shikmoni  (P85025@BARILAN - BITnet)
          Bar Ilan University - Computer Center
          Ramat Gan
          Israel.

   Contents:

BI00037 - This is an example of an MVS mod to IEASMFEX, that uses
          the JXE introduced by Bar Ilan mods to count EXCP's done
          by a batch job and to schedule a cancel for the job if the
          limit was exceeded. The mod zaps IEASMFEX in nucleus. More
          info in member itself.

BI00072 - This is an example of an MVS mod to IEFAB423 (common
          allocation) to use the above mentioned JXE to limit user's
          tape drive allocation. The special thing about this mod
          is that it has control over both JCL and dynamic allocation,
          and thus is a complete solution for tape drive limiting.
          The mod is used in conjunction with the tape drive system
          introduced by the Bar Ilan mods. More info in member.

BIUJQS  - Macro that maps the parm list to JQSCAN below.

JESW    - A program to switch a TSO user from primary to any selected
          secondary JES2 system, on the fly. This program has a lot of
          documentation inside; please read before installing.

JQSCAN  - A program that uses x-memory services to access JES2
          job queue to extract any required information (JQE's,
          mainly) for any STATUS commands and monitors. The
          main advantage of this, of course, is the elimination
          of i/o to the checkpoint; all JQE's are read from JES2
          storage. More info in member.

RENTRY  - Macro required for assembly.

SI00037 - Source for above BI00037. These zaps are created using
          the ASMTOZAP program (from the CBT tape); if you have it,
          run it against SIxxxxx members to get the zap member. It's
          very easy to put changes using this program. If you can't
          get it, use the BIxxxxx member.

SI00072 - See above.

      Good luck.
.pa
.nf
@FILE097@***********************************************************************
*                                                                              *
*         F I L E   9 7   L O N G   B E A C H   E X I T   6      ( 2 . 1 . 5 ) *
*                                                                              *
********************************************************************************

            Scott Wilson
            City of Long Beach, California
            333 West Ocean Boulevard, Lower Level
            Long Beach, CA  90802-4664
            (213) 590-6041

.ju left
A JES2 EXIT 6 routine that replaces "UNIT=TAPE" specifications in DD
statements with "UNIT=3420" or "UNIT=3480" based upon the requested
retention period or expiration date for output tapes, and by volume
serial number for input tapes.
.pa
.nf
@FILE098@***********************************************************************
*                                                                              *
*         F I L E   9 8   A R T H U R   A N D E R S O N   MODS   ( 2 . 1 . 5 ) *
*                                                                              *
********************************************************************************

            Gina Wright
            Arthur Anderson & Co.
            69 West Washington
            Chicago, IL 60602

* THIS SOFTWARE IS DISTRIBUTED "AS IS" WITH NO WARRANTIES EITHER
* EXPRESSED OR IMPLIED. NO GUARANTEES ARE ISSUED WITH THIS
* SOFTWARE. BY INSTALLING IT, YOU AGREE NOT TO HOLD ARTHUR
* ANDERSEN & CO. RESPONSIBLE FOR ANYTHING THAT MAY OCCUR BY ITS USE.

.ju left
THIS DATASET CONTAINS ARTHUR ANDERSEN & CO.'S VERSION OF THE STANDARD
JES2 EXITS 4, 5, AND 6. IT ALSO CONTAINS MODIFICATIONS TO STANDARD IBM
JES2 CODE TO ADD NEW FUNCTIONS. SOME OF THIS CODE WAS WRITTEN HERE, AND
SOME IS MODIFICATIONS OF CODE ALREADY ON THE SHARE TAPE. THESE EXITS
WERE ALL WRITTEN FOR JES2 2.1.5

THE CONTENTS ARE:

BW328X.  THIS IS IN MEMBERS BW328X1 THROUGH BW328X4. THE DOCUMENTATION
IS IN BW328X3. THIS IS A PROGRAM WRITTEN BY MAN B & W DIESEL IN
COPENHAGEN, TO ADD JES SUPPORT FOR 328X TYPE PRINTERS. THE CODE IS A
MODIFICATION OF HASPSNA TO CALL AN EXIT TO DRIVE THESE PRINTERS.  THE
PRINTERS ARE DEFINED TO JES AS RJES.

JRP.  THIS ALSO CAME OFF ANOTHER FILE ON THE SHARE TAPE. WE MADE
SEVERAL MODIFICATIONS TO IT TO FIX ABENDS. THIS IS A PROGRAM THAT RUNS
AS A SEPERATE ADDRESS SPACE TO DRIVE 328X TYPE PRINTERS. IT ISSUES
SUBSYSTEM REQUESTS TO JES TO GET OUTPUT, AND THE PRINTER CAN BE TREATED
AS A LOCAL PRINTER OR AN RJE. YOU MUST LOG ON TO JRP TO ISSUE COMMANDS
TO THE PRINTERS. SEE MEMBER JRPDOC FOR THE FULL DOCUMENTATION ON THIS
PRODUCT.

USERPROC. THIS IS A MODIFICATION OF THE ONE ALREADY ON THE SHARE TAPE,
AS LISTED BELOW.

MODIFIED ARTHUR ANDERSEN & CO. NOV. 86.  THE ORIGIN OF THIS
MODIFICATION WAS THE SHARE JES2 MODS TAPE.  THE CONTRIBUTOR WAS JIM
WALKER OF TUCC.  I DELETED THE ACF2 VALIDATION. IF ANYONE HAS TOP
SECRET VALIDATION, PLEASE LET ME KNOW. I ALSO CHANGED THE ALLOCATION TO
JES200 TO PROC00 BECAUSE WE ARE NOT RUNNING THE DYNAMIC PROCLIB
FACILITY. BECAUSE OF THIS WE HAVE BEEN RUNNING WITH ONLY ONE CONVERTER,
OR ABENDS RESULT. I REPLACED THE EXIT 4 WITH ONE I HAD IN THE 1.3.3
VERSION OF USERPROC, WHICH EXPECTS /*PROCLIB=DSN. THIS EXIT NOW CHECKS
FOR CERTAIN CLASSES WHICH ARE NOT ALLOWED TO USE /*PROCLIB, SO YOU MAY
WANT TO TAKE THAT OUT. THE EXIT ALSO INCLUDES COMMANDS TO CHANGE THE
MSGCLASS ETC. ON A STARTED TASK WHEN THE START COMMAND IS ISSUED.

THE FOLLOWING MODIFICATIONS WERE MADE PREVIOUSLY BY LOCKHEED MODIFIED C
J KINN   29 APR 83 THE ORIGIN OF THIS MODIFICATION WAS THE SHARE JES2
MODS TAPE.  THE CONTRIBUTOR WAS JIM WALKER OF TUCC.  ADDED AT LOCKHEED
WAS THE ACF2 VALIDATION AND THE USE OF THE $SCAN FACILITY TO SCAN THE
JECL STATEMENT.  ALSO ADDED WAS THE USE OF EXITS EXCLUSIVELY RATHER
THAN CODE ADDED TO IBM MODULES.  FINALLY A CALL TO IKJEFF18 FOR THE
ERROR MESSAGE GENERATION WAS ADDED.

CNVT

MOST OF THIS MODIFICATION IS CODED AS EXITS.  THREE NEW EXITS ARE ADDED
TO HASPCNVT:
   EXIT 208 - HOSCNVT ESTAE EXIT TIME
   EXIT 209 - HOSCNVT TERMINATION TIME
   EXIT 210 - CONVERTER PROCLIB OPEN TIME
   EXIT 249 - AT END OF CONVERSION - JQE REQUEUE TIME
IN ADDITION IBM EXITS 4 (FOR DECODING THE //*USERPROC JECL) AND 6 FOR
INTERNAL TEXT EXIT ARE USED.

THE INITIALIZATION STATEMENTS NEEDED ARE:
  EXIT4  ROUTINE=UPROC04,ENABLE
  EXIT6  ROUTINE=USER208A,ENABLE
  EXIT208 ROUTINE=USER208,ENABLE
  EXIT209 ROUTINE=USER209,ENABLE
  EXIT210 ROUTINE=USER210,ENABLE
  EXIT249 ROUTINE=UPROC,ENABLE

YOU MAY NOTICE THAT THE CODE IS SETUP TO LOAD A SEPARATE DATA CSECT
MODULE WHEN THE ROUTINE IS FIRST ENTERED.


ESXA5. THIS ADDS THE FOLLOWING COMMANDS:
 $DD'VOLSER'         DISPLAYS THE UNIT ADDRESS
 $DD,UNITADDRESS     DISPLAYS THE VOLSER
 $DD                 LISTS ALL DASD VOLSERS AND UNIT ADDRESSES
 $LF                 THIS CAME FROM ANOTHER FILE ON THE SHARE TAPE
                     IT LISTS OF OUTPUT FORMS.
 $TPRT               WE VALIDATE SOME OPERANDS ON THIS COMMAND
THIS EXIT ALSO ADDS PASSWORD VALIDATION FOR A COMMAND BY CODING A
MACRO.  WE ARE USING IT FOR THE $TI COMMAND . USE LINK5 TO ASSEMBLE AND
LINK THIS EXIT.

JESXA6. WE USE THE INTERNAL TEXT EXIT TO VALIDATE THAT OUR JCL
STANDARDS ARE BEING FOLLOWED. MOST OF THE CODE VALIDATES THAT THE TIME
LIMIT CODED IS VALID FOR THE JOB CLASS USED. IT ALSO CHECKS CLASSES
AGAINST PROGRAMS, AND SORT PARMS. USE LINK6 TO ASSEMBLE AND LINK THIS
EXIT.
.pa
.nf
@FILE099@***********************************************************************
*                                                                              *
*         F I L E   9 9   D U D A   M O D S    ( 1 . 3 . 6 )                   *
*                                                                              *
********************************************************************************

.ju left
THIS FILE CONTAINS UPDATES TO JES2 VERSION 1.3.6 WHILE THEY WILL
PROBABLY WORK ON VERSION 2.1.5 NO TEST HAS BEEN MADE

THESE UPDATES ARE SUBMITTED BY:

     WILLIAM H. WINTERS
     A. DUDA & SONS INC.
     P.O. BOX 257
     OVIEDO, FLORIDA 32765

     305/365-2103

DATE: OCTOBER 13,1987

DISCLAIMER

THE MODS IN THIS FILE HAVE BEEN USED SUCCESSFULLY AND TO THE BEST OF OUR
KNOWLEDGE ARE OPERATIONAL, HOWEVER NO WARRANTY IS MADE TO THE ACCURACY
OF THE UPDATED CODE PRODUCED BY THESE MODIFICATIONS AND  NO
RESPONSIBILITY IS ASSUMED FOR THE ACCURACY OR PERFORMANCE FROM THE
UPDATED CODE.  IT IS THE USERS RESPONSIBILITY TO EVALUATE THE USEFULNESS
OF THE MODIFICATIONS.

 ***********************************************************************
 *                                                                     *
 *                    INDEX OF MODIFICATIONS                           *
 *                                                                     *
 ***********************************************************************

MOD 02  SEND SVC 35 MESSAGES TO ORIGINATING REMOTE

         WHEN A WTO MESSAGE IS ISSUED TO A CONSOLE CONCERNING A JOB
         THAT WAS SUBMITTED FROM A REMOTE LOCATION THEN A COPY OF THAT
         MESSAGE IS ALSO SENT TO THE REMOTE CONSOLE.

         NOTE: THIS MOD REQUIRES THE RE-ASSEMBLY OF ALL JES2 PROGRAMS
               AFTER THE MACRO LIBRARY IS UPDATED.

         AFFECTED MODULES:  NUC RTAM SSSM $HCT $SVT

MOD 03  ALLOW /*ROUTE ALL

         SUPPORT /*ROUTE ALL XXXX.  THIS WILL ROUTE BOTH THE PRINT
         OUTPUT AND PUNCH OUTPUT TO THE SPECIFIED DESTINATION.
         OWNERSHIP OF THE JOB IS GIVEN TO THE SPECIFIED DESTINATION.

         AFFECTED MODULES:  RDR

MOD 05  $E COMMAND MODIFICATION

         ON $EJXXXX, CANCEL ACTIVE JOB AND HOLD EXECUTION.  THIS
         ELIMINATES THE NEED TO ISSUE A $HJXXXX AND A $EJXXXX BEFORE
         ISSUING THE CANCEL COMMAND.

         AFFECTED MODULES:  COMM SSSM

MOD 16  FORCE STANDARD FORMS ON JCL ERROR

         FORCE A JOB'S LOG, JCL IMAGES, AND JOB MESSAGES TO PRINT ON
         STANDARD FORMS IF THE JOB ENDS WITH A JCL ERROR.

         AFFECTED MODULES:  RDR

MOD 17  JOBNAME INSTEAD OF JOB NUMBER ON $DI COMMAND

         DISPLAY JOBNAME INSTEAD OF JOB NUMBER FOR THE DISPLAY
         INITIATORS OPERATOR COMMAND.

         AFFECTED MODULES:  COMM

MOD 19  $S COMMAND

         THIS OPERATOR COMMAND ALLOWS JOBS TO BE SUBMITTED FROM THE
         SYSTEM PROCLIB OR ANOTHER PDS JOB LIBRARY AS SPECIFIED IN THE
         ISTPROC DD STATEMENT DESCRIBED LATER.  IT ALLOWS INLINE 'SYSIN
         DD *' WHICH IS NOT NORMALLY ALLOWED FROM PROCEDURES.  IN
         ADDITION IT ALLOWS PARAMETER SUBSTITUTION NOT ONLY OF JCL
         STATEMENTS BUT ALSO ON DATA ANYWHERE INSIDE THE JOB.

         SYNTAX:

         $S'PROC','PARM1,PARM2,PARM3,...'

         OR

         $S'PROC'     IF NO SUBSTITUTION IS DESIRED.

         RULES FOR CODING:

         PROC   -  NAME OF JOB (MEMBER) CONTAINED IN PROCLIB OR OTHER
                   PDS JOB LIBRARY.  IT MUST HAVE A JOB CARD.
                   PARAMETER SUBSTITUTION IS PERMITTED ON THE JOBCARD
                   AND EVEN FOR THE JOBNAME IF DESIRED.  HOWEVER,
                   PARAMETER DEFAULTS (DESCRIBED BELOW) MAY NOT BE USED
                   ON THE JOB CARD.
         PARM#  -  PARAMETER TO BE SUBSTITUTED.  PARM1 WILL BE
                   SUBSTITUTED ANYWHERE IN THE JOB THAT THE STRING
                   &PARM1 IS LOCATED AND SO ON FOR PARM2 THRU PARM(N)

         DEFAULTS:

         //*DEFAULT PARM1='DEFAULT VALUE',PARM2='DEFAULT VALUE'

         THE //*DEFAULT CARD MUST BE CODED IMMEDIATELY AFTER THE JOB
         CARD TO SPECIFY DEFAULT SUBSTITUTIONS FOR ANY &PARM(N) IN THE
         JOB BUT NOT SPECIFIED ON THE $S COMMAND.  THE DEFAULT VALUE,
         IF NOT SPECIFIED, IS A NULL ('') VALUE.  DEFAULT PARMS CANNOT
         BE USED ON THE JOB CARD.

         EXAMPLE:

         //REALLOC  JOB (9991,OPER,0101),'REALLOCATE DATASET',CLASS=S,
         //  MSGCLASS=A
         //*DEFAULT PARM1='',PARM2=CYL,PARM3=1,PARM4=0,PARM5=36,PARM6=INTVOL
         /*ROUTE PRINT RMT13
         //***************************************************************
         //**     PARM1 = DATASET NAME
         //**     PARM2 = TYPE OF ALLOCATION (CYL,TRK,)
         //**     PARM3 = PRIMARY ALLOCATION
         //**     PARM4 = SECONDARY ALLOCATION
         //**     PARM5 = DIRECTORY BLOCKS
         //**     PARM6 = VOLSER FOR OUTPUT VOLUME
         //***************************************************************
         //ALLOC    EXEC PGM=IEFBR14
         //A        DD  DSN=X.&PARM1,UNIT=SYSDA,VOL=SER=&PARM6,
         //             DISP=(,CATLG,DELETE),DCB=&PARM1,
         //             SPACE=(&PARM2,(&PARM3,&PARM4,&PARM5))
         //COPY     EXEC PGM=IEBCOPY
         //SYSPRINT DD  SYSOUT=*
         //SYSUT1   DD  DSN=&PARM1,DISP=OLD
         //SYSUT2   DD  DSN=X.&PARM1,DISP=OLD
         //SYSUT3   DD  UNIT=SYSDA,SPACE=(CYL,50)
         //SYSUT4   DD  UNIT=SYSDA,SPACE=(CYL,50)
         //SYSIN    DD  DUMMY
         //*
         //TMP      EXEC PGM=IKJEFT01,DYNAMNBR=12,REGION=4096K,
         //    COND=(0,NE,COPY)
         //SYSTSPRT DD  SYSOUT=A
         //SYSPROC  DD  DSN=SYS1.CMDLIB,DISP=SHR
         //SYSTSIN  DD  *
         DEL &PARM1
         REN X.&PARM1 &PARM1
         LOGOFF
         /*

         NOTES:

         1. IN ADDITION TO THE INLINE MODIFICATIONS THE PROGRAM
            "HASP$S" MUST BE ASSEMBLED AND LINK EDITED INTO THE
            HASJES20 LOAD MODULE.

         2. THIS MOD REQUIRES THE RE-ASSEMBLY OF ALL JES2 PROGRAMS
            AFTER THE MACRO LIBRARY IS UPDATED.

         3. YOU MUST ADD THE FOLLOWING DD CARD TO YOUR JES2 PROC:

            //ISTPROC  DD  DSN=ANY.JOB.LIBRARY,DISP=SHR

           THIS LIBRARY CAN BE SYS1.PROCLIB OR ANY OTHER PDS JOB
           LIBRARY.  IF IT IS NOT CATALOGED IN THE MASTER CATALOG, THE
           UNIT AND VOLSER MUST BE SPECIFIED.

         AFFECTED MODULES:  CON IRPL IRMA SSSM TABS $DTE $HCT $MODMAP

MOD 32  PARTIAL JOBNAME DISPLAY

         ON THE OPERATOR $D'JOBNAME' COMMAND, A GENERIC JOBNAME MAY BE
         NOW BE ENTERED TO DISPLAY ALL JOBS THAT BEGIN WITH THAT
         CHARACTER STRING.

         EXAMPLE:

         $D'RS'     WILL DISPLAY ALL JOBS THAT BEGIN WITH "RS".

         AFFECTED MODULES:  COMM

MOD 37  MAKE LIM= WORK FOR STANDARD FORMS ONLY

         THE LIM= KEYWORD ON THE SET PRINTER OPERATOR COMMAND WILL
         AFFECT PRINTER SELECTION FOR STANDARD FORMS OUTPUT ONLY.
         SPECIAL FORMS OUTPUT WILL RECEIVE PRINTER SELECTION EVEN IF
         ITS LINE COUNT IS NOT WITHIN THE LIM= RANGE.

         AFFECTED MODULES:  SERV

MOD 42  BANGS

         AN EXCLAMATION MARK IN COLUMN 1 OF A SUBMITTED JOB WILL CAUSE
         THE "BANGED OUT" LINES TO BE IGNORED.  THIS MAY MAY BE DONE TO
         INLINE DATA IN ADDITION TO JCL STATEMENTS.   THIS CAN BE VERY
         USEFUL IN MAKING TEMPORARY JCL CHANGES WITHOUT HAVING TO
         DELETE THE LINES OR TURNING ON OR OFF A LIST OF SYSIN
         PARAMETERS.  IF AN EXCLAMATION MARK IN COLUMN 1 IS DESIRED,
         THEN YOU CAN OVERRIDE THIS PROCESS BY SPECIFYING "/*JOBPARM
         NOBANG" OR "/*JOBPARM G".

         BANGS WILL NOT EFFECT DATA REFERENCED BY YOUR JOB IN OTHER
         DATASETS FOR EXAMPLE:

         IF YOUR JOB CONTAINS THE JCL STATEMENT:

         //SYSIN DD DSN=OD.DATASET,DISP=SHR

         THEN EXCLAMATION MARKS IN COLUMN 1 OF OD.DATASET WILL NOT BE
         TREATED AS BANGED OUT LINES.

         AFFECTED MODULES:  RDR $JCT

MOD 43  $DOMACT MSGS LOCAL AND $EM TO DOM

         ANY $DMR0,'MESSAGE' MESSAGES TO THE OPERATOR FROM A REMOTE
         CONSOLE WILL APPEAR HIGHLIGHTED ON THE CONSOLE.  IN ADDITION,
         IF THESE MESSAGES ARE PHYSICALLY DELETED FROM THE CONSOLE THE
         OPERATOR CAN STILL DISPLAY THEM VIA THE OPERATOR DISPLAY
         REQUESTS COMMAND (D R).  AS EACH MESSAGE IS RECEIVED AT THE
         CONSOLE IT IS GIVEN AN I.D. FROM "AA" THRU "ZZ".  THE OPERATOR
         MAY UNHIGHLIGHT A PARTICULAR MESSAGE AND ALLOW IT TO ROLL OFF
         THE CONSOLE VIA THE $EMXX ERASE MESSAGE COMMAND, WHERE XX IS
         THE 2 CHARACTER ID ASSOCIATED WITH THE MESSAGE.  OPTIONALLY
         THE OPERATOR MAY DELETE ALL OUTSTANDING MESSAGES BY ENTERING
         "$EM,ALL".

         AFFECTED MODULES:  COMM

MOD 44  DISPLAY STEPNAME ON EXECUTING JOBS

         THE STEPNAME IN ADDITION TO THE JOBNAME IS DISPLAYED VIA THE
         OPERATOR $DA (DISPLAY ACTIVE) COMMAND.

         NOTE: THIS MOD REQUIRES THE RE-ASSEMBLY OF ALL JES2 PROGRAMS
               AFTER THE MACRO LIBRARY IS UPDATED.

         AFFECTED MODULES:  COMM SSSM XEQ $MODULE $SJB $SVT
                            $SVTC

MOD 52  COUNT ONLY SKIPS TO CHANNEL 1 AND 7 FOR PAGE COUNT PURPOSES.

         THIS MODIFICATION CAUSES JES TO ONLY COUNT SKIPS TO CHANNEL 1
         AND CHANNEL 7 AS PAGES.  UNMODIFIED JES COUNTS ALL SKIPS AS
         PAGES.  AS WE USE CHANNEL 7 AS THE FIRST LINE TO BE PRINTED ON
         ALL CUSTOM FORMS, BETTER CONTROL OF FORWARD OR BACKWARD PAGE
         SKIPPING IS GIVEN TO THE OPERATOR.

         AFFECTED MODULES:  PRPU

MOD 58  PREVENT SETUP MESSAGES FROM PRINTING AT A REMOTE WORKSTATION

         NORMALLY JES2 SENDS THE SETUP MESSAGE FOR A REMOTE PRINTER TO
         BOTH THE REMOTE CONSOLE (VIA $WTO) AND TO THE REMOTE PRINTER
         ITSELF.  THIS MOD PREVENTS SENDING THE SETUP MESSAGE TO THE
         REMOTE PRINTER IF THE WORKSTATION HAS A SEPARATE CONSOLE
         DEFINED.

         AFFECTED MODULES:  PRPU

MOD 59  ADD LPI SETTING TO FCB LOAD FOR SNA WORKSTATION PRINTERS

         THE FCB LOAD FUNCTION FOR SNA WORKSTATION PRINTERS WAS
         MODIFIED TO INCLUDE SETTING THE LINES PER INCH SPECIFICATION
         FROM THE FCB IMAGE AS WELL AS THE CHANNEL SKIPS.  HASPPRPU HAD
         TO ALSO BE MODIFIED NOT TO SEND OUT A SKIP TO CHANNEL ONE
         COMMAND BEFORE SENDING THE LOAD FCB COMMAND.  IT NOW SENDS THE
         CHANNEL SKIP AFTER THE LOAD.

         AFFECTED MODULES:  PRPU SNA

MOD 60  ADD EOF CALL FOR JCL EXIT

         THE JCL/JECL EXIT (EXIT 4) NOW GETS CALLED AT END OF FILE ON
         THE READER.  THIS WAS DONE TO ALLOW JCL TO BE ADDED TO THE END
         OF A JOBSTREAM.

         AFFECTED MODULES:  RDR $RDRWORK
.pa
.nf
@FILE100@***********************************************************************
*                                                                              *
*         F I L E   1 0 0   U S A I S C  M O D S   ( 2 . 1 . 5 )               *
*                                                                              *
********************************************************************************

Albert Dyer/Jim Graves

U. S. ARMY INFORMATION SYSTEM COMMAND _ PENTAGON
Attn:  ASNS-SESSD-S
Room  BE987
The  PENTAGON
Washington  D. C. 20310

JES2 modifications and exits

Current level HJE2215 Put8704

The following mods are included:

.ju left
1. SP01600 Rewrite of LOCKHEED'S USERPROC facility to make it re-entrant
and alter the ACF2 interface from 3.4 to 4.1. This mod will support
multiple converters.

2. SP01100 Rewrite of University of Texas $LOAD command to do away with
restrictions on naming modules and to allow for loading EXITS to be used
by HASPSSSM or that normally reside in LPALIB. Also the restriction of
single exits per load module has been lifted.

3. SP01200 An expansion of the $DEXIT command to include the $ENTRY and
the module name. Nice to be able to see what is running especially if
loading alternate Exits using the LOAD command.

4. SP03700 Change to the work selection criteria for printing, to
require only the leading characters of the job name as a selection
criteria.
.pa
.nf
@FILE101@***********************************************************************
*                                                                              *
*         F I L E   1 0 1    N E R D C   Q U E U E   F O R   2 . 2 . 0         *
*                                                                              *
********************************************************************************

     JACK SCHUDEL              (904) 392-4601
     NORTHEAST REGIONAL DATA CENTER
     233 SPACE SCIENCES RESEARCH BUILDING
     UNIVERSITY OF FLORIDA
     GAINESVILLE, FLORIDA  32611

This version of QUEUE is based on the LOCKHEED QUEUE for JES2 2.1.5, and
will only work at the JES2 2.2.0 level.

It assumes that you are running with CKPTDEF MODE=DUPLEX, and has not
been tested with MODE=DUAL checkpoints.  (It does not do any processing
with the DUAL mode change log, so if it works in that environment it will
always be using a back-level version of the checkpoint data.)
.pa
.nf
@FILE102@***********************************************************************
*                                                                              *
*         F I L E   1 0 2    M E L L O N   M O D S   F O R   2 . 2 . 0         *
*                                                                              *
********************************************************************************

 $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
 $            ****  ****   ****   ****   ****               $
 $           *    * *   * *    * *    * *   **              $
 $           *      *   *      *      * *  * *              $
 $            ****  ****   ****   ****  * *  *              $
 $                * *     *      *      **   *              $
 $           *    * *     *      *      *    *              $
 $            ****  *     ****** ******  ****               $
 $                                                          $
 $                  * *****  ****   ****                    $
 $                  * *     *    * *    *                   $
 $                  * *     *           *                   $
 $                  * ***    ****   ****                    $
 $                  * *          * *                        $
 $              *   * *     *    * *                        $
 $               ***  *****  ****  *****                    $
 $                                                          $
 $          ****  *    * *****   ****  *****  *             $
 $         *    * *    * *    * *    * *    * *             $
 $         *      *    * *    * *      *    * *             $
 $          ****  ****** *****   ****  *****  *             $
 $              * *    * *  *        * *      *             $
 $         *    * *    * *  *   *    * *      *             $
 $          ****  *    * *   *   ****  *      ******        $
 $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
 $                                                          $

  PLEASE SEE DESCRIPTION OF FILE 132 FOR A FULL ABSTRACT.

.pa
.nf
@FILE103@***********************************************************************
*                                                                              *
*         F I L E   1 0 3    S P A C    M O D S   F O R   2 . 2 . 0            *
*                                                                              *
********************************************************************************

SECURITY PACIFIC AUTOMATION JES2 MODS FOR 2.2.0 (HJE2221)

Updated January 1990 for notify to work under both XA and ESA
Updated January 1989 for command exit, $DU,LNE mod, and force netmail
        to class B.
File added to SHARE JES2 Mods Tape May 1988.

.ju left
The mods in this file have been updated for release 2.2.0.  In some
cases they may be used as is; in other cases, they are better used as
samples for installation-specific requirements. Several of the mods as
written depend on changes to control blocks such as JCT, PDDB, etc.,
which are not included here. The Node Security mods require a flag
definition in the NIT, which IS included here.

Please note the standard disclaimer notice that covers all
contributions to the JES2 Mods Tape. Questions are welcome, but
corrections cannot be promised.

Inquiries or suggestions may be directed to:

                 J. O. Skip Robinson
                 Security Pacific Automation, Inc.
                 611 N. Brand Blvd. MC G12-99
                 Glendale, CA  91203
                 (818) 507-3358

Following is a brief description of the SPAC mods, which are supplied
in SMPE format with REQ dependencies on other mods. PRE sysmods are
included to satisfy SMPE ID processing and to certify that the mod has
been verified to function properly with the indicated IBM maintenance.

- SECAUTH

This member contains modifications that allow an installation to
selectively propagate SAF (e.g. RACF) Userid and Group across network
nodes. As supplied by IBM, HASPNET and HASPRDR contain code that zero
these values when a job is transmitted or received through an NJE
network. Bypassing this code unconditionally exposes an installation to
mischief perpetrated by unknown persons at a foreign node. On the other
hand, if another node is controlled by the same Security management,
then userids may be presumed to be represent the same individual at
both nodes and security may be handled across nodes with the same
assurance as within a single node.

The SPAC mods allow an installation to define via initialization parms
which nodes are 'secure' and which are not. If a node is 'secure', then
the IBM zeroing code is bypassed; otherwise it is executed as supplied.
A User Table is provided for the node definition parms to include two
new parameters: SECAUTH and NOSECATH (default). Code is added to
HASPRDR and HASPNET to byass the IBM id-zeroing code only if the
'other' node is defined with the keyword 'SECAUTH'.

- SJEXDMY

This member defines 'dummy' exits that may be used as 'switches' to
govern functions contained in other exits or inline mods. Thus
functions may be turned on or off via operator commands that enable or
disable the appropriate dummy exit. A dummy exit may offer a simpler
technique than writing another exit routine to perform the desired
function.  See SPAC Exit 4 (SJEX004) for an example.

- SJEX001

This is an example of creating installation-specific separator pages.
The member contains code for both Exit 1 and Exit 15, which at SPAC are
contained in a single load module.

- SJEX004

This exit illustrates how to process installation-provided JECL cards.
When a SPAC JECL card (/*SPBPARM) is detected, it is scanned using the
standard JES2 $SCAN service, which sets flags or stores values in
user-defined control block extensions. This code should be used
primarily as an example, as the user-defined control block extensions
that record keyword values are not included here.

Another function illustrated is insertion of additional cards--in this
case // OUTPUT cards--into a job stream BEFORE a known point in the
input JCL. Exit 4 conventions provide for insertions AFTER the
'current' card. The SPAC code uses a 'recycling' technique to save the
'current' card, insert new cards, and finally 'reinsert' the original
card in its proper sequence.  Insertion is controlled by enabling or
disabling a 'dummy' exit which contains no functional code but serves
as a 'switch' for card insertion.  NOTE:  IMPROPER CODING OF THE
INSERTION FUNCTION MAY RESULT IN A LOOP IN HASPRDR THAT REQUIRES A JES2
ALL-SYSTEMS RESTART TO RECOVER.  The exit as presented here avoids the
loop condition.

- SJEX005

This command exit contains a lot of code borrowed from other
installations' mods.  The major original contribution is a facility to
display or dynamically modify the RDT to add or change DESTIDs without
the need for a JES2 restart.  Command syntax is summarized below:

   Display only:

       $DDESTID,{NAME=xxxxxx}
                {DEST=NxxRxx}

   Change and display:

       $TDESTID,NAME=xxxxxx,DEST=xxxxx,{ADD}
                                       {REPLACE}

       The operator must indicate whether a REPLACE or ADD is being
       done, and the current RDT is validated to be compatible with the
       intended update: for REPLACE, the DESTID must already exist; for
       ADD, it must not. For REPLACE, the appropriate RDT entry is
       altered in place.  For ADD, a new RDT is built and the old one
       FREEMAINed.

- SJEX008

This exit works in conjunction with exit 16 (SJEX016) to include in the
'job ended' notify an indication of ending status (abend code or max
condition code) as well as date and node information.  Exit 8 extracts
the status, exit 16 formats the message.

- SJEX013

This exit allows a TSO user to be notified of incoming TSO/E XMIT mail.
If the user is not currently logged on, it forces a 'notify logon' on
the current MAS member on the assumption that BRODCAST is shared. SPOOL
may or not be shared.  A LISTBC or relogon is required to actually
receive the notify if the user is not logged on in the current MAS
complex.  Default IBM processing will not issue the notify if the user
is not currently logged on.

The exit also forces netmail to class B, as VM/RSCS may use a print
rather than punch class, resulting in printed--i.e. lost--mail.

- SJEX016

This exit works in conjunction with exit 8 (SJEX008) to include in the
'job ended' notify an indication of ending status (abend code or max
condition code) as well as date and node information.  Exit 8 extracts
the status, exit 16 formats the message.

- SJSERV

Mod to HASPSERV to display updated buffer count for active receiver/
transmitter in response to $DU,LNEx. With this mod, the operator will
be able to distinguish a hung transmission from a slow one. Also,
although the buffer count may not equal the number of records reported
in message HASP530, the operator can get an idea of where the
transmission is at: first 10%, middle, last 10%.

- NCATLG22 and NCATLG31 (for MVS 2.2.0 or 3.1.0)

Although these are MVS rather than JES mods, they are included here.
Either mod causes message IEF287I 'NOT CATLG 2' and similar messages to
appear in the system and job logs where they are more readily apparent.
.pa
.nf
@FILE104-109@*******************************************************************
*                                                                              *
*         F I L E   1 0 4 - 1 0 9   W S O   M O D S   F O R   2 1 5            *
*                                                                              *
********************************************************************************

TO:      SHARE JES2 Modification Tape

FROM:    Dan Parsons/Jerry Travis

SUBJECT: JES2 Modifications

DATE:    March 10, 1988.


ABSTRACT

.ju left
The Washington State Data Processing Service Center (WDPSC) has made
many user modifications to JES2 version 2 release 1.5.  These changes
revolve around the topics of extended command support, extended tape
support, extended accounting support, ease of use and security.  The
modifications presented here are basically the same as those presented
earlier for JES2 1.3.4, but converted for JES2 2.1.5.

Enhancements which have been done since JES2 1.3.4 include a fully
functional system for tracking NJE transmissions, including a COBOL
program to process the generated SMF records.  Changes were made to the
JES2 Banner page routine to support on-line COM, including an automated
billing facility.

Extended Command Support

Commands Provided by SHARE

The $J_ commands in exit XJ05$J are basically the same as those provide
by SHARE.  The $QF command (exit XJ05$QF) has been expanded and
debugged.

Commands Written by WDPSC

Five commands have been added and one old WDPSC command that was useful
with JES2 1.3.4 has been deleted.  The $ST and $TT commands (exits
XJ05$ST and XJ05$TT) are used to modify entries in a table pointed to by
the User Control Table ($UCT).  These commands help control different
aspects of the extended tape support.  Command $QU (exit XJ05$Q) which
lists jobs by the ACF2 Logon ID (usually the TSO userid) was made
functional.  And two more commands, $AF and $NA (exits XJ05$AF and
XJ05$NA) were added to dynamically alter the rest of our parameter
tables in the $UCT.

With the total restructure of spool offload/reload in JES2 2.1.5, the
$UNDUMP command was no longer applicable.  So it has been removed.

Commands Modified by WDPSC

The commands; $A, $C, $DA, $DI, $DF, $DSPOOL, $LJ, $TI, $TJ and $TPRT
have been changed to some degree.  See the accompanying documentation
for the details of these changes.

Extended Tape Support

The SETUP Processor

The modifications for extended tape support consist of two separate
functions.  First, a new processor called the "SETUP" processor is is
attached to the JES2 main task.  Its purpose is to produce a "SETUP
SHEET" on a special hard copy log and then hold the job.  The setup
sheet contains information about any special resources needed by the
job, like a tape mount.  In this way, the operator can insure that all
such resources are available before the job is released.  The $ST
command is provided to turn Setup Sheet processing ON & OFF for each
member of the Multi Access Spool (MAS).  An enqueue facility has been
added to keep two processors from writing to the same hardcopy log at
the same time.

Tape Drive Affinity

The other part of extended tape support is a facility to keep jobs that
require tapes from running on certain members of the MAS.  This keeps
processors that do not have access to tape drives from selecting jobs
that need tape drives.  The $TT command is used to change the tape job
"affinity" on the various systems.

Extended Accounting Support

General Accounting Modifications

The four character account code in the JOB card accounting field has
long been inadequate at WDPSC.  Since early versions of JES2 a ten
character account code has been built using the last five characters of
the job name and the last character of the room number (which is used a
a bin number at WDPSC) in addition to the four character account code.
This is called the "old style" account code.  Since IBM has alleviated
the four character restriction, a provision is made for a "new style"
ten character account code, which is not currently implemented.  A
special form of the job initiation SMF record is created which contains
this ten character code for all jobs run at WDPSC.

The ten character accounting number along with the JES2 job number is
passed by the JES2 banner page to the on-line fiche processor for all
fiche output not requiring a special job setup.  This allows our billing
system to bill the specific job for the fiche produced based on the
accounting information created by the on-line COM device, and not by
estimates from SMF type 6 (job output) records.

NJE Accounting Modifications

Two exits were added to HASPNET to build SMF records for received sysout
and transmitted jobs.  These records contain the necessary information
to insure that the proper agency gets billed for these services.  Output
coming in over the NJE network (or jobs transmitted to other nodes)
without proper accounting information may be either cancelled, or
assigned a default account number on a node by node basis.

Changes have also been made to write out an SMF type 24 (Spool Offload)
record for all NJE activity.  This record has been slightly modified to
distinguish it from the regular spool offload record.  It contains the
actual count of transmitted/received records, which is used for billing
purposes.  We have found NJE activity to be extremely CPU intensive and
hence, costly.  It was real short sighted on IBM's part not to include
an adequate facility for tracking NJE transmissions.

The NJE SMF type 24 records are processed by a COBOL program (NSMFMRG)
which merges them with our installation generated SMF 129 records
(produced by XJ252SMF and the initiator mod).  It produces an output
record which is readable by our PACE billing system, and an error
report.

Modifications for Ease of Use

Separator Page

A special separator page is created displaying the job name, class, job
number, room number (bin) and programmer's name in large block letters.
This is followed by several lines repeating the standard information.
The repeating line is altered for COM sysout class "F" and the banner is
totally suppressed by COM class "I".

/*TITLE Card

/*TITLE, a new JES2 control statement, has been added to override the
programmer's name field on the separator page.  The characters that
follow the word "TITLE" (separated by one or more blanks) are used
instead of the programmer's name field in the banner page.  An "O="
parameter has been added to /*JOBPARM which will also override the
programmer's name.  /*TITLE overrides the "O=" parameter if both are
present.

The Trouble Flag

A facility to disable all JES2 exit routines from a single operator
command has been added.  This allows the system to come up even if some
faulty code in an installation installed exit is causing JES2 to abend.
Each exit checks a "trouble flag" before doing anything.  If it is on,
the exit immediately returns to JES2 with a return code of zero.

Initialization Parameter Changes

Several changes have been made to the JES2 initialization parameters.
WDPSC modifications are supported by extensions to existing parameters
and by making up totally new ones.  The syntax of the added parameters
has been changed to follow the lead of the new format adopted by JES2
2.1.5.

TSO Notify Message

The TSO notify message has been extended to display the ending program's
return code, abend or user code and date and time information.  Also, up
to 15 /*NOTIFY cards may be included in the JCL and each user specified
will be notified when the job is queued for output.

Security

Command Restrictions

Some of the remote operator commands have been restricted to a degree as
well as commands coming in over the NJE network.  See the accompanying
documentation.
.pa
.nf
@FILE110@***********************************************************************
*                                                                              *
*         F I L E   1 1 0   $ Q N E T   C O M M A N D                          *
*                                                                              *
********************************************************************************

(c) Copyright  1988,  Doron Shikmoni,  Bar-Ilan University

           +----------------------------------------+
           |                                        |
           | A Network Command Set for JES2 Systems |
           |                                        |
           |         February 15, 1988              |
           |                                        |
           |            Version 1.1                 |
           |                                        |
           |  Doron Shikmoni, Bar-Ilan University   |
           |                                        |
           +----------------------------------------+


o General
  -------

  The requirement for a more  comprehensive and user-oriented set of
  network related query  commands in JES2 has always  been a painful
  problem, whose implications  are only growing when  JES2 nodes are
  joining the backbone of EARN (and Bitnet, too).

  This  memo  will  propose  a  limited set  of  query  commands  to
  alleviate this problem,  and make life in a  JES2 environment less
  stressing for some types around the network.

  The rule of thumb here has been "no mods".  We want this set to be
  installed at as many JES2 sites as possible.  We will make it self
  contained, encapsulated within one exit module.


o Considerations
  --------------

  The first idea that comes to  mind when trying to outline a syntax
  for  a command set  for the  EARN/Bitnet community,  is  a set  of
  RSCS-like command, syntax-wise, i.e. commands like "Q SY Q" and "Q
  linkid F", "CPQ" etc.

  This  approach has  been examined,  and dropped.  A few  arguments
  given:

  (1) The  RSCS syntax  is not  extremely user-friendly itself.  The
      only benefit in using it is  the fact that it is already known
      among many users.  This, however, may lead to expectations for
      similar format of the returned output, which is undesired. The
      structure and design of the JES2 networking (sub-)subsystem is
      very different from that of RSCS,  thereby inducing  different
      output requirements.

  (2) In order to serve commands that do not begin with the good old
      dollar sign (the JES2 most common command character), JES2 has
      to be modified. As small as  this modification may be  (and it
      is small indeed), it will cause many site directors to  refuse
      to even  look at the proposed code.  If we want  to "sell" the
      product, we must not make this mistake.  Thus, the command set
      must be comprised of dollar-sign prefixed  commands ONLY. This
      already enforces a syntax quite different from that of RSCS.

  (3) Another  limitation  is the  "standard" JES2  command parsing,
      which  squeezes  out  all  blanks in  non-quoted  parts  of  a
      command.  Circumventing this, again, needs a mod  which is out
      of our ballpark.

  (4) JES2 has quite  a large set of commands of  its own. We should
      make all  possible attempts not  to collide with  existing IBM
      commands and POSSIBLE INSTALLATION-WRITTEN commands. This will
      be done best by selecting a hopefully-unique command prefix.

   All these arguments call for a unique syntax, rather than leaning
   on any previously known commands.


o Implementation
  --------------

  As mentioned,  the command  set is  implemented in  a JES2  exit 5
  (command processing exit).  There is also a small  exit 10 routine
  which   helps  in   message   formatting.  It   needs  no   source
  modifications whatsoever, just assembly  and specification in JES2
  startup parameters.

  Currently,  the module  will  assemble and  run  correctly on  the
  following JES2 releases:

     SP 1.3.3
     SP 1.3.4
     SP 1.3.6
     SP 2.1.5
     SP 2.2.0

  All commands start with the prefix $QNET.


o Command description
  -------------------

  In this description, we  will reference  output messages  that are
  defined in the next section.


  1. Line status:

         +-------------------------+
         |              N=<nodeid> |
         | $QNET,Active,<element>  |
         |              L=<lineid> |
         |              ALL        |
         +-------------------------+

     nodeid  - node name, e.g. TAUNIVM.
     lineid  - line name, e.g. LINE2.
     element - a line, then a node, by the name of <element>, is
               searched.
     ALL     - All connected NJE lines will be displayed. Supported
               only if issuer has NETWORK authorization (e.g, local
               operators).

     Output: MSG1 and then MSG3 for each active stream,  or
             MSG2 + MSG6 (latter only if a path exists), or
|            MSG4, or MSG7.

  2. Queue status:

         +------------------------+
         |             N=<nodeid> |
         | $QNET,Queue,<element>  |
         |             L=<lineid> |
         |              ALL       |
|        |              SUM       |
|        |              SUMMARY   |
|        |              TOTAL     |
         +------------------------+

     nodeid  - node name, e.g. TAUNIVM.
     lineid  - line name, e.g. LINE2.
     element - a line, then a node, by the name of <element>, is
               searched.
     ALL     - All connected NJE lines will be displayed. Supported
               only if issuer has NETWORK authorization (e.g, local
               operators).
|    SUMMARY - A summary of all non-empty queues will be displayed.
|    (or SUM)
|    TOTAL   - An accumulation of all files on  network queues will
|              be displayed.

|    Output: MSG5, or
|            MSG2, or
|            MSG4, or
|            MSG7.


| 3. Full NJE line status:
|
|        +-------------------------+
|        |            N=<nodeid>   |
|        | $QNET,Full,<element>    |
|        |            L=<lineid>   |
|        |            ALL          |
|        +-------------------------+
|
|    nodeid  - node name, e.g. TAUNIVM.
|    lineid  - line name, e.g. LINE2.
|    element - a line, then a node, by the name of <element>, is
|              searched.
|    ALL     - All connected NJE lines will be displayed. Supported
|              only if issuer has NETWORK authorization (e.g, local
|              operators).
|
|    Output: Output of ACTIVE;  then,  if line connected, output of
|            QUEUE.

  4. Full NJE network status:

         +-----------+
         |           |
         | $QNET,ALL |
         |           |
         +-----------+

     Output: MSG1 for each connected NJE line, or MSG7.


  5. Path information:

         +-----------------------+
         |            N=<nodeid> |
         | $QNET,PATH,           |
         |            <nodeid>   |
         +-----------------------+

     nodeid - node name, e.g. TAUNIVM.

     Output: MSG6, or MSG4.


o Output messages
  ---------------

  All the messages described below, take either of two formats:

  (a) When not destined to an interactive user (e.g., going to the
      operators console), the format is as shown below.

  (b) When destined  to an interactive  user, the message  id (the
      HASPxxx prefix) is be replaced  by "*Qnet: " and  message is
      re-aligned to squeeze out the normal JES2 "time" and "jobid"
      fields.

| When  ALL or SUMMARY is requested,  and the output  is non-null,
| MSG0 below ("Command complete") will follow the last line.  This
| may help automatic polling servers  determine when variable size
| output is complete.

  The following messages will be returned to the originating user:

MSG0: $HASP000 Command complete.

MSG1: $HASP941 LINEnn <drained>|<active>|<connected to node nnnnnnnn>|
                      <not NJE>.

MSG2: $HASP942 Node nnnnnnnn is not directly connected.

MSG3: $HASP943 Stream Lnn.ssn <receiving>|<sending> job nnnn
               to nnnn(uuuu) 999 recs (left 222).

MSG4: $HASP944 Node nnnn is not defined.

MSG5: $HASP945 nn files (totalling nn,nnn records) eligible for
|              <LINEnn(nnnnnnnn)>|<network transmission>.

MSG6: $HASP946 Node nnnnnnnn is <unreachable>|<reachable via:
               path1, path2,..>

|     ("pathn" may be a directly connected node, or *linename
|     if nnnnnnnn is directly connected, or "*Spool" if it is
|     connected to a different MAS member in the same node).

MSG7: $HASP947 <No connected NJE lines found.>  |
|              <No output generated.>           |
|              <No NJE queues found for active links.>




o Installation
  ------------

  1. Assemble and link-edit the module into your JES2 load library
     (or SYS1.LINKLIB).

  2. Assuming the module is named EX@$QNET, add the  following three
     statements to your JES2 startup deck:

     LOAD   EX@$QNET
     EXIT5  TRACE=NO,ROUTINE=($QNETX5)
     EXIT10 TRACE=NO,ROUTINE=($QNETX10)

     If your installation has its own  JES2 exits 5 and/or 10 coded,
     the $QNET code  can probably coexist with them  (unless they do
     something really weird). The  installation exits should also be
     included in the ROUTINE= operand of the EXITn parameter.

     For exit 5, the order of  the exits is probably immaterial. For
     exit  10, it  is recommended  that  the $QNET  exit routine  be
     placed first  (before installation routines).  Final evaluation
     is, of course, left to the installer.

  3. Warm start (hot start will not do) your JES2 system.


o Known Limitations
  -----------------

  There are some limitations to the accuracy of the details that can
  be displayed  in a command exit  that does not involve  any source
  mod.  The data  displayed  can  be accurate  only  insofar as  the
  control blocks from which the  information is extracted are. Thus,
  there might be case when  inaccurate information may be displayed.
  For example:

  (a) Some  network nodes  set NJHGNREC (total  record count  in job
      header) to 1, regardless. This, of course, will compromise the
      accuracy of our display.

  (b) The "running record count" in JES2 is an internal counter that
      includes  the  job/dataset  header records,  while  the  total
      (file)  record  count does  not.  Small  differences may  thus
      occur.

  At any rate,  the code should be smart enough  to handle all these
  anomalies, in a way that  will not compromise system integrity and
  will present output that makes sense. The cases are rare anyway.

  Also, at present, $QNET will not display multiple NJE trunks on the
  "ACTIVE" and "QUEUE" subcommands, when given with a node name. Only
  the FIRST connected line will be displayed.




o Disclaimer
  ----------

  The code is distributed on an as-is basis, with all the well known
  implications of this notion. It is  up to you to finally determine
  the  applicability   and  functionality   of  the  code   in  your
  environment.  Neither the  author nor  Bar-Ilan University  can be
  held  responsible  for  any  type of  damage  caused  directly  or
  indirectly by the code, or  for the accuracy of its documentation.
  Along  the same  lines,  there  is no  commitment  - expressed  or
  implied - to supply any kind of support.



o Acknowledgements
  ----------------

  I would like to express deep thanks to the following persons, for
  volunteering to test the program on their production systems  and
  for supplying invaluable input for correcting and enhancing it:

  Peter Sylvester, GMD.
  Jim Walker, TUCC.
  Jack Schudel, NERDC.

  Thanks also to  Eric Thomas  of  Ecole Centrale de Paris  for his
  comments and suggestions.
.pa
.nf
@FILE111@***********************************************************************
*                                                                              *
*         F I L E   1 1 1   S P A C   S D S F   M O D S   ( 1 . 1 . 0 )        *
*                                                                              *
********************************************************************************

.ju left
SECURITY PACIFIC AUTOMATION (SPB) SDSF MODS FOR 1.1.0 (HQX1102)

File added to SHARE JES2 Mods Tape July 1988.

The mods in this file have been updated for release 1.1.0, the first
Program Product version of SDSF, and are suitable for with JES2 2.2.0.
(HJE2221).  Because of the many structural changes in this release, the
use of these mods for any of the program offering releases will require
considerabe retrofitting.

Please note the standard disclaimer notice that covers all contributions
to the JES2 Mods Tape. Questions are welcome, but corrections cannot be
promised.

Inquiries or suggestions may be directed to:

                J. O. Skip Robinson
                Security Pacific Automation
                611 N. Brand Blvd.
                Mail Code G12-99
                Glendale, CA  91203
                (818) 507-3358

See File 130 for a description of the mods.
.pa
.nf
@FILE112@***********************************************************************
*                                                                              *
*         F I L E   1 1 2   U S C   P R O C L I B   E X T E N S I O N S        *
*                                                                              *
********************************************************************************

This PDS contains a slightly modified version of EX@PROC, the UBI
version of user proclib support.  The changes made at USC are:
  o  Examine dataset name, and insure that it ends with ".PROCLIB" .
Hindsight is that I probably should have put this check into the
security module instead.  "Future Objective."

Also included is EX@PROCR, an exit called by EX@PROC, to do RACF
authority checking.  EX@PROCR was created by copying EX@PROCA and
replacing all ACF2 code with corresponding RACF code.  Note that
JES2 earlyverify seems to not work here, so that EX@PROCR must check
the password!  And, since we run with list-of-groups active, I didn't
bother supplying the RACF GROUP to the RACINIT.  Anyone considering
using this code should READ IT FIRST.

Several miscellaneous mods are also included: CONS, TERMIO, and TAPEMAP.

     Leonard D. Woren
     University of Southern California
     Mail Code 0251
     University Park
     Los Angeles, CA   90089-0251
     E-mail:  LDW@USCMVSA.BITNET (preferred)
              LDW@MVSA.USC.EDU
     (213) 743-5391 (743-LDW1)   (direct -- good luck!)
     (213) 743-2957              (msgs)
     I prefer electronic mail.  If you call me long distance and
     leave a msg because you didn't get me, there's a good chance
     that I won't call back.  Moral:  don't call the message number
     unless you're in 213 or 818.  Note that my direct number rolls
     over to the message number after a few rings.

     SHARE installation code:  USC
     GUIDE installation code:  OUY
.pa
.nf
@FILE113@***********************************************************************
*                                                                              *
*         F I L E   1 1 3   M E L L O N   M O D S   F O R   3 . 1 . 1          *
*                                                                              *
********************************************************************************

.ju left
This file contains the Mellon shared spool abstract resource mods
updated for JES2 3.1.1.

The file also contains the Mellon batch spool format utility updated
for JES2 3.1.1. There are no functional changes over the 2.2.0 version.
this utility allows a spool volume to be formatted at user program
priority so as to avoid the device contention problems associated with
formatting by JES2.

The file also contains a batch mode external writer facility.
.nf

 $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
 $            ****  ****   ****  ****   ***                 $
 $           *    * *   * *    *    *     *                 $
 $           *      *   *      *    *     *                 $
 $            ****  ****   ****     *     *                 $
 $                * *          *    *     *                 $
 $           *    * *     *    *    *     *                 $
 $            ****  *      ****   ***** *****               $
 $                                                          $
 $                  * *****  ****   ****                    $
 $                  * *     *    * *    *                   $
 $                  * *     *           *                   $
 $                  * ***    ****   ****                    $
 $                  * *          * *                        $
 $              *   * *     *    * *                        $
 $               ***  *****  ****  *****                    $
 $                                                          $
 $          ****  *    * *****   ****  *****  *             $
 $         *    * *    * *    * *    * *    * *             $
 $         *      *    * *    * *      *    * *             $
 $          ****  ****** *****   ****  *****  *             $
 $              * *    * *  *        * *      *             $
 $         *    * *    * *  *   *    * *      *             $
 $          ****  *    * *   *   ****  *      ******        $
 $$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
 $                                                          $

  PLEASE SEE DESCRIPTION OF FILE 132 FOR A FULL ABSTRACT.
.pa
.nf
@FILE114@***********************************************************************
*                                                                              *
*         F I L E   1 1 4   N F I   M O D S   F O R   2 . 2 . 2                *
*                                                                              *
********************************************************************************

This file contains the NFI (now First Union National Bank) mods updated
for JES2 2.2.0. See File 30 of this tape.  In addtion, new function
is provided:

1. JES2 subtask support to allow access to a distribution VSAM file for
   comprehensive information on the JES2 separator page and STC default
   sysout class.

2. User work selection criteria to allow printer, punch, or offload job
   to select work based on whether the job is production or test.

3. Support for two additional types of job hold: SETUP hold when
   /*SETUP cards are used and USER hold when TYPRUN=HOLD is specified.

4. Preservation of RACF userid across an NJE link by saving the value
   in an NJE user header and restoring it at the receiving node.
.pa
.nf
@FILE115-116@*******************************************************************
*                                                                              *
*         F I L E   1 1 5 - 1 1 6   U N B   V T A M   P T R   F S S            *
*                                                                              *
********************************************************************************

   UNBCC User written Functional SubSystem (FSS) to support VTAM
printers.  Two files are distributed with the FSS, both are PDS
unloaded by IEBCOPY.

   Specifically supported are the HP LaserJet in transparent mode
through 7171 attachment, the 3287 in SCS mode, and ASCII printers
in general when attached to the 7171.

   The first file contains source and macros required to assemble the
FSS.  Also included in this file are sample job streams used to restore
and assemble the FSS at the author's installation in order to test the
completeness of the distributed tape.  This member (named #INSTFSS) may
be altered as necessary to assemble the program at the reader's
installation.  Other miscellaneous members provide sample JCL for the
FSS procedure and initialization file.

   The second file contains DCF script commands to format a more
comprehensive documentation for the FSS.  The member FSS contains some
history of the FSS and a little more detailed description of the
miscellaneous members of the first file.  Also documented are some
known shortcomings and problems.

Please refer any comments or suggestions to:

    BITNET:  JAF@UNB.CA
    POST:    J. Anthony Fitzgerald
             Computing Centre
             PO Box 4400
             Fredericton, NB
             Canada    E3B 5A3
.pa
.nf
@FILE117@***********************************************************************
*                                                                              *
*         F I L E   1 1 7 - S D S F   F O R   C I C S   1 . 6                  *
*                                                                              *
********************************************************************************

This file contains a user written adaptation of SDSF for use in a
CICS environment. It was written by Court Frick for CICS 1.6.1 but may
work with little or no modification in later releases. It was based on
a pre-Program Product version of SDSF. In particular, the ISFINIT
replacement routine might require a rewrite for compatibility with
the current SDSF version.

The contents of this file were provided to the SHARE JES2 Mods Tape
not by Mr. Frick but by William Smith of Syntex. His address appears
below because he represents, at this moment, the only known link to
the author of the mods.  Please keep this in mind if you wish to
contact Mr. Smith.

                 William J. Smith
                 Syntex (USA) Inc.
                 3401 Hillview Ave.
                 P.O. Box 10850
                 Palo Alto, CA 94303
                 (415) 852-1638
.pa
.nf
@FILE118@***********************************************************************
*                                                                              *
*         F I L E   1 1 8 - B F   G O O D R I C H   Q   3 . 1 . 1              *
*                                                                              *
********************************************************************************

This file contains the B. F. Goodrich version of the Queue Command,
which has an ISPF interface, updated to JES2 3.1.1 by Bill Balmer at
EG&G Idaho, SHARE code INC. Bill's phone number is (208) 526-9377.
.pa
.nf
@FILE119@***********************************************************************
*                                                                              *
*         F I L E   1 1 9 - N E R D C   Q U E U E       3 . 1 . 1              *
*                                                                              *
********************************************************************************

This file contains the NERDC version of the Queue Command updated to
JES2 3.1.1 by Bill Balmer at EG&G Idaho, SHARE code INC. Bill's phone
number is (208) 526-9377.
.pa
.nf
@FILE120@***********************************************************************
*                                                                              *
*         F I L E   1 2 0 - B F   G O O D R I C H   Q   2 . 2 . 0              *
*                                                                              *
********************************************************************************

Another version of the Queue command. It supports JES2 2.2.0 under
both ISPF 2.2 and 2.3. This version is based on the NERDC version from
Jack Schudel (NERDC) , and includes mods from Sam Golob of Newsweek and
Bill Balmer.

A version that supports JES2 2.1.5 is on another file on this tape.

See member $$BFGINS for installation instructions.

Guy L. Albertelli      216-374-4071
BF Goodrich (BFG)
3925 Embassy Parkway
Akron, Ohio   44313
.pa
.nf
@FILE121@***********************************************************************
*                                                                              *
*         F I L E   1 2 1 - P R U D E N T I A L   X W T R   X E R O X          *
*                                                                              *
********************************************************************************

THIS DATASET CONTAINS AN EXTERNAL WRITER WHICH WILL DRIVE XEROX 9700,
9790, 8700, 8790, AND 4050 PRINTERS. SOME OF THE FEATURES OF THIS
EXTERNAL WRITER ARE -

1) JCL PARAMETERS ARE TRANSLATED INTO XEROX DJDE'S IN ORDER TO CONTROL
   THE PRINTER AND TO SELECT ALL OF THE FANCY 9700 PRINTING OPTIONS.

2) NO MODIFICATIONS TO JES2.

3) OPERATOR COMMANDS TO CONTROL THE EXTERNAL WRITER.

4) MESSAGES TO THE USER AND THE OPERATOR TO INFORM THEM OF THE RESULTS
   OF THEIR REQUESTS.

5) OPTIONAL SECURITY PROCESSING TO CONTROL ACCESS TO SENSITIVE PAPER
   STOCK, FONTS ETC. USING RACF (OR EQUIVALENT).

6) SMF RECORDS WHICH RECORD PAPER USAGE TAKING INTO ACCOUNT THE SPECIAL
   FEATURES OF THE 9700 LIKE DUPLEX AND 2-UP PRINTING ETC.

THIS DATASET IS AN IEBCOPY UNLOADED PDS. IT REQUIRES APPROXIMATELY
150 TRACKS OF 3380 DISK SPACE AND 10 DIRECTORY ENTRIES. FOR MORE
INFORMATION READ THE MEMBER 'DOCUMENT' IN THIS DATASET.
.pa
.nf
@FILE122-128@*******************************************************************
*                                                                              *
*         F I L E   1 2 2 - 2 8 -  N A S   M O D S   W /  T S O / I S P F      *
*                                                                              *
********************************************************************************

.ju left
 ***********************************************************************
 *                                                                     *
 *         B.K.S  MODIFICATIONS/ENHANCEMENTS  TO  JES2/SP              *
 *                                                                     *
 ***********************************************************************

 The set of JES2 enhancements written while working in Kuwait by
Krzysztof (Chris) Bytnerowicz (Programs, Exits) and Marian Skupinski
(most of custom-made Macros)

 All of the JES2/SP release-dependent code has been used with JES2/SP
up to release 1.3.6, most of the source code was modified to properly
assemble with JES2/SP 2.2.0 but it was not tested with JES2 2.2.0. The
code will also work properly with JES2/SP 1.3.4.

Some subroutines (CONHEX,VPISZ,VCHEX) courtesy of Zbigniew Kosowski.

SHARE version prepared by:

           Krzysztof (Chris) Bytnerowicz
           Software Specialist
           Regional Technical Support Group Asia/Pacific
           National Advanced Systems, Installation Code:ICP
           11-17 Khartoum Rd, N.Ryde, NSW 2113, AUSTRALIA
           phone 61-2-8874455, fax 61-2-8874899

Marian Skupinski can be contacted by mail:

           Marian Skupinski
           POBox 36891, 24759 Al Raas
           KUWAIT

 The major part of the supplied code is an attempt to move JCL, JES2
Commands and Accouting Information scan and checking to JES2 Exits
(implemented in Exits 02,04), supported by Exits 05,24,26.  The
approach facilitates the detection of invalid jobs on the entry to the
system, reducing also the spool space occupied by the jobs awaiting for
later accounting information check.  The implementation is possibly too
much installation-oriented to be of immediate use to anybody else but
an effort has been made to make as much as possible of the code to be
table-driven, installation-dependent code is marked as so.  The
functions implemented enable dynamic reloading of the Accounting and
JCL tables without the need of restarting JES2 nor IPLing MVS.

 Exit 01 created for MVS/JES2 working under VM and providing spooling
services follows.

 Exit 04 is also used to scan incoming JES2 Commands from different
sources, checking the source and performing some screening. It
complements COMJES2 facility with some added security.

 Exit 05 is a byproduct of an operator action resutling from the
curiosity how $PQ,ALL would work, it worked! The other functions of the
Exit give some debugging/zapping facilities for all modules loaded in
the JES2 address space and control of Exit 02,04,24, changing their
mode of operation and dynamicaly reloading Accounting Table. It aslo
protects itself and Exits 02,04,24,26 from being deactivated.

 The facility is based on User-defined $UCT, pointed to from $HCT, $ACT
is pointed to from $UCT, $UCT is also serving as interexit
communication area and SAVE area holder.

 The next is the TSO/JES2 Command facility enabling TSO Users to send
JES2 commands and receive the replies from JES2, it needs Exit 255 to
be implemented in HASPRDR. The byproducts are the support of some MVS
Operator Commands and CP Commands of VM.  It is intended as the cheap
alternative for JES2 shops not having SDSF as the means of entering
JES2/MVS Commands from the TSO screen.

The set of JES2/SP SPOOL Servicing/Reporting programs consisting of:
   SPOOLANL - The program reporting the JES2/SP Checkpoint/Spool
              contents and parameters, preprocessed information for
              other programs of the group, monitoring critical spool
              parametrs under ISPF on request or in continous mode.
   SPOOLNET - The program reporting the contents of the JES2/NJE
              queues.
   SPOOLPRT - The program printing the data received from SPOOLANL
              in different forms (sorted by different criterions)
   SPOOLPUR - The program purging outputs from JES2/SP SPOOL using
              time of creation and current date/time as guidelines.
   SPOOLSEL - The program processing the SPOOL Offloaded Data Set
              (or tape) created by standard JES2 facility. It provides
              listing of the contents, optional hexadecimal dumps,
              direct output printing from the Data Set and editing
              facility enabling to create subsets of the original
              Data Set.

 The set is complemented with subroutines/table used to check the user
authorization (with and without RACF) and table prototype.

.nf
CONTENTS:

1.BKS.SOURCE

Contains source code and Waterloo Script/GML descriptions:

$$ABSTRA - This very text
$AUTHORZ - Authorization checking subroutines/tables description
$COMJES2 - COMJES2 description
$EXITS   - JES2 Exits/Macros/Tables description
$SPOOLPR - JES2 SPOOL Servicing Programs
ACCTDSPA - HX$ACT Account information listing to SYSPRINT
ACCTDSPL - HX$ACT Account information creation for Browse
ACCTDSPT - HX$ACT Account information display under ISPF Dialog
ACCTMAN  - HX$ACT Account information manager under ISPF Dialog
ACCTGEN  - HX$ACT Account information dynamic Assembly/Lked and
           reload
HEXIT001 - Exit 01, seprarator/spooler for MVS/JES2 working under VM
HEXIT002 - Exit 02, JOB scanner, accounting implementation
HEXIT004 - Exit 04, JCL/Command scanner, accounting implementation
HEXIT005 - Exit 05, JES2 Command processor, JES2/Exit debugger,
                    provides control/communications for 02,04,24,26
HEXIT024 - Exit 24, Exit environment initiator
HEXIT026 - Exit 24, Exit environment terminator
HEX$ACT  - $ACT Table prototype used by Exits 02,04,04,24,26
HEX$UCT  - $UCT Table prototype used by Exits 02,04,04,24,26
HEXIT255 - Exit 255 User defined exit: JES2 side of the TSO/JES Command
                    facility.
X255R134 -          HASPRDR R1.3.4 update inserting EXIT 255 definition
X255R136 -          HASPRDR R1.3.6 update inserting EXIT 255 definition
                    good for R2.2.0 as well
COMJES2  - TSO side of the above facility
AUTHSVC  - Primitive Authorization SVC needed to execute MVS and CP
           Commands, not needed for JES2 Commands
INTRALL  - Subroutine of the above (Internal Reader Dynamic Allocation)
AUTHCHK  - Subroutine checking user's authorization
AUTHINQ  - Test/example of AUTHCHK usage
AUTHCHKR - Subroutine checking user's authorization using RACF
AUTHTBL  - User authorization table prototype
SPOOLANL - Spool Analyzer
SPOOLPRT - Spool Reporter
SPOOLNET - NJE Spool Reporter
SPOOLPUR - Spool Purger
SPOOLSEL - Offloaded Spool Reporter/Editor/Printer

2.BKS.MACLIB:

Contains Macros necessary to compile all source modules

3.BKS.JCL

Contains JCL prototypes necessary to compile all source modules:

ACCTDSPT - JCL necessary to compile ACCTXXXX
ACCTDSPX - JCL necessary to run ACCTDSPA, ACCTDSPL
AUTHCHKX - AUTHCHK,AUTHCHKR/AUTHINQ assembly
AUTHTBL  - AUTHTBL assembly
COMJES2  - COMJES2 assembly (INTRALL should be assembled first)
EXITASHR - Exits/Tables assembly PROC, IFOX00 can be used as well but
           gives error indication due to the fact of scanning
           conditionally omitted Macros, errors can be neglected.
HEXITXXX - Exits assembly JCL, can be used to assemble Tables, with
           LKED PARM modified accordingly.
INTRALL  - INTRALL assembly
SPOOLXXX - JES2/SP Spool supporting programs assembly and link-edit
SPOOLANX - SPOOLANL run example
SPOOLPRX - SPOOLPRL run example
SPOOLSLX - SPOOLSEL run example

4.BKS.LOAD

Contains compiled and link-edited Programs/Exits as well as some
necessary subroutines not supplied in the source form.

5.BKS.CLIST

Contains the CLIST necessary to execute some of the programs.

6.BKS.PANELIB

Contains the ISPF Dialog Manager Panels definitions.

7.BKS.MSGLIB

Contains the ISPF Dialog Manager Messages.

              *************** N O T E **************
.ju left
Most of ACCTXXXX programs have the name of the JES2 Exit Library
hardcoded in the code and use the dynamic allocation to access HX$ACT
for security reasons. It will need the modification for the real
installation. The used name is 'STCBYTN.SHARE.BKS.LOAD'.  Authorization
checking of those modules was disabled, necessary
installation-dependent code should be used.  LKED complaining about
missing entry HX$TSOT should be disregarded during creating of HX$ACT.
.pa
.nf
@FILE129@***********************************************************************
*                                                                              *
*         F I L E   1 2 9   C A L I F   H E A L T H   &   W E L F A R E        *
*                                                                              *
********************************************************************************

.ju left
THESE MODS ARE IN USE AT THE CALIFORNIA HEALTH AND WELFARE DATA CENTER
INSTALLATION CODE HWC.   THEY HAVE BEEN GLEANED FROM A VARIETY OF
SOURCES INCLUDING THE JES2 MODS TAPE.  I HAVE ATTEMPTED TO GIVE CREDIT
WHERE DUE.

     WALT SAPP                                                           0000500
     HWDC MS#513                                                         0000600
     1651 ALHAMBRA BLVD                                                  0000700
     SACRAMENTO, CALIFORNIA 95816                                        0000800
     NODE NAME         HWDC                                              0000900
     TSO ID            HWSYS4                                            0000910
     TELEPHONE         (916) 739-7671                                    0000920
     FAX               (916) 739-7770                                    0000930
     SHARE CODE        HWC                                               0000940
     JES2 RELEASE      2.2.0                                             0000950
                                                                         0000960
 THIS IS A BRIEF EXPLANATION OF THE MEMBERS IN THIS DATASET.             0001000
                                                                         0001100
 MEMBER        DESCRIPTION                                               0002000
                                                                         0002100
 $JRT          THIS IS OUR (TRW'S) JOB RESOURCES CONTROL BLOCK           0006000
 $VAT          THIS DESCRIBES THE VATLST00 ENTRIES (NOT REALLY NEEDED    0007000
                BUT I HAVEN'T PULLED THE CODE OUT OF EXITXEQ1)           0007100
 APSUX01       THIS IS PSF EXIT 1 (COVER SHEET)                          0008000
 ASMEXIT       MY JCL FOR ASSEMBLING AN EXIT                             0009000
 ASMEXITA      MY JCL FOR ASSEMBLING ALL MY EXITS                        0010000
 BLDEXIT       MY JCL FOR LINKING AN EXIT                                0011000
 COMMJCL       MY JCL AND CONTROL CARDS TO PROCESS HASPCOMM TO BUILD     0012000
               EXITCOMM, MY MAIN EXIT 5.                                 0013000
  HWDCOMM3,4,6,7 THESE ARE COPY BOOKS FOR EXITCOMM                       0013100
  ECOMWORK       THIS IS A DSECT FOR EXITCOMM                            0013200
  XITCHWC2-5     MORE COPY BOOKS FOR EXITCOMM                            0013300
 EXIT$VJ       A STANDALONE EXIT 5 TO IMPLEMENT OUR VERSION OF $EJ       0015000
               WHICH IS ONLY ISSUED FOR JOBS IN INITIALIZATION WHICH     0015010
               HAVE AN ENQUEUE PROBLEM                                   0015020
 EXITCNJO      A STANDALONE EXIT 5 TO TRAP COMMANDS COMING FROM VM       0015100
 EXITHOPE      MY EXIT 255 (PROBABLY COULD BE DONE IN EXIT 7)            0016000
 EXITJCT       MY EXIT 7 TO WRITE AND READ THE JRT (THIS EXIT COULD      0017000
                BE ELIMINATED IF THE $MJ COMMAND IS ELIMINATED SINCE     0017100
                THAT IS THE ONLY THING WHICH NEEDS IT AFTER EXIT 6. OF   0017200
                COURSE EXIT 2 (EXITRDR) AND EXIT 14 (EXITRDRE) WOULD ALSO0017300
                NEED SOME REWORK)                                        0017400
 EXITPRCM      AN EXIT 1 FOR OUR MICRO-FICHE UNIT ONLY                   0018000
 EXITPRDS      AN EXIT 15 FOR OUR MICRO-FICHE UNIT                       0019000
 EXITPSF       AN EXIT 23 TO PASS INFO TO PSF                            0020000
 EXITQGET      AN EXIT 14 FOR WHILE AND AFTER PROCESSING                 0021000
 EXITRDR       EXITS 2, 3 AND 4 TO DO SOME SIMPLE SECURITY ON NJE JOBS,  0022000
                BUILD ROOM AND ACCT NUMBERS AND FOR STARTED TASKS,       0023000
                AND PROCESS LOCAL JECL                                   0024000
 EXITRDRE      AN EXIT 20 TO KILL RACF PROPOGATION FOR SELECTED GROUPS   0025000
 EXITTSOE      AN EXIT 13 FOR NOTIFY OF XMIT MAIL                        0026000
 EXITWTO       AN EXIT 10 TO MAKE RESP. TO $P NON-ROLLABLE               0027000
 EXITXEQ1      AN EXIT 6 TO GATHER JOB RESOURCE UTILIZATION.             0028000
 EXITXEQ2      AN EXIT 6 TO CLASS JOBS ACCORDING TO CPU AND TAPE USAGE.  0029000
  WRKDSECT      THIS IS A DSECT FOR EXITXEQ1&2                           0033000
  NULL          I LIKED THE OLD NULL MACRO SO I BUILT MY OWN             0033010
    THE FOLLOWING 4 MODS ARE IN-LINE MODS TO JES2 SOURCE PUT ON          0033020
    WITH SMP                                                             0033030
 HW00400       SMP MOD TO $JQE TO SUPPORT WHILE, AFTER AND OTHER MODS    0033100
 HW00401       SMP MOD TO INSTALL EXIT 255  REQ HW00400                  0033200
 HW00402       SMP MOD FOR NJE SYSOUT LIMIT REQ HW00400                  0033300
 HW00403       SMP MOD TO ALLOW S JES2XXXX AS PRIMARY                    0033400
    THE NEXT TWO MODS ARE VARIATIONS TO JUST INSTALL THE NJE SYSOUT      0033410
    LIMITATION CODE WITHOUT MY OTHER MODS                                0033420
 HW20400       SMP MOD FOR NJE SYSOUT LIMIT WITHOUT COLD START           0033500
 HW20401       SMP MOD FOR NJE SYSOUT LIMIT WITH COLD START              0033600
.pa
.nf
@FILE130@***********************************************************************
*                                                                              *
*         F I L E   1 3 0   S P A C   S D S F   M O D S   ( 1 . 2 . 0 )        *
*                                                                              *
********************************************************************************

.ju left
SECURITY PACIFIC AUTOMATION SDSF MODS FOR 1.2.0 (HQX1103)

File added to SHARE JES2 Mods Tape February 1990.

The mods in this file have been updated for release 1.2.0 and are
suitable for with JES2 2.2.0.  (HJE2221).  Because of the many
structural changes in this release, the use of these mods for any of
the program offering releases will require considerabe retrofitting.

Please note the standard disclaimer notice that covers all
contributions to the JES2 Mods Tape. Questions are welcome, but
corrections cannot be promised.

Inquiries or suggestions may be directed to:

                 J. O. Skip Robinson
                 Security Pacific Automation
                 611 N. Brand Blvd.
                 Mail Code G12-99
                 Glendale, CA  91203
                 (818) 507-3358

Following is a brief description of the SPAC mods, which are supplied
in SMPE format with REQ dependencies on other mods. PRE sysmods are
included to satisfy SMPE ID processing and to certify that the mod has
been verified to function properly with the indicated IBM maintenance.

- DEFAULT SCROLL SETTING (SSDSDP1 SSMAIN1 SSJDS01)

These mods change the default scroll amount from PAGE to CSR.  Note
that under ISPF, changes to scroll amount are retained in the user's
profile. Hence this mod is most useful for non-ISPF environments of
SDSF:  TSO command, TMP, or batch.

- NODE-BASED MULTIPLE ISFPARMS (SSINIT1 SSP$TB1 SSP$DEF SSP$001)

These mods implement a node-based ISFPARMS structure that allows an
installation to provide unique control parms for different JES2 nodes.
These mods were developed under a program offering version of SDSF that
required ISFPARMS to name the JES2 checkpoint volume.  Since our
checkpoint volser differed from one node to another, we had problems
keeping track of the right ISFPARMS module for each node.  SDSF 1.1.0
with JES2 2.2.0 no longer uses a checkpoint volser, so the value of
these mods is diminished somewhat. Nonetheless, we maintain several
VM/SF guests for R and D where we allow users far more SDSF authority
than would be appropriate for a production system.  Furthermore, some
kinds of IDs, such operator IDs, differ from one node to another: user
AAA01 may need full command authority at one node but be a 'normal' user
at another.

The mods create a set of parms CSECTS within the load module ISFPARMS.
At initialization, the appropriate parms CSECT is selected according the
current JES2 node number. A default CSECT is provided in case a tailored
definition is not found for the current node, with a warning message to
the user.  The actual lines of modification to ISFINIT are minimal. The
multiple-parms module is created through link edit of various parms
members, each created and maintained separately. A table is added to the
parms module to locate the appropriate CSECT. A single composite
ISFPARMS load module may be migrated freely to all nodes without danger
of implementing the wrong definitions.

- $OUTPUT QUEUE DISPLAY (SSIN001)

This mod defines the JES2 $OUTPUT queue to SDSF with the 'x' character.
When a job completes, it is placed in the $OUTPUT queue for processing
into the appropriate dispositon queue (print, xmit, etc.).  $OUTPUT
queue residence is normally very brief, but if a job has been held by
operator or SDSF command during execution, it remains in in the $OUTPUT
until it is explicity released. With this mod, SDSF will display jobs in
the $OUTPUT queue via 'ix'. The $OUTPUT queue is also displayed by
default if no queue is specified ('i')

- @ INPUT QUEUE DISPLAY BY DEFAULT (SSIN001)

This mod caused the @ (job transmit) queue to be display by default with
the 'i' command. Note that the 'o' command includes the output transmit
by default as distributed.

- SPECIAL HANDLING FOR HELD OUTPUT JOBS (SSMAIN1 SSUPRM1 SSUSER1)

This mod enables special handling for test jobs directed to 'held
output' classes reserved for development and never used for production.
A flag is set when any job is selected from the 'h' display. The user
exit ISFUSER checks this flag, and if it is on, allows the user greater
authority than he would otherwise have. In the example given here, a
user can display or manipulate any job from the 'h' display as long as
his 'group' owns the job, i.e. first three characters of jobname and
userid match. A job selected from another display, such as 'i', 'o', or
'st', is subject to more stringent rules. ISFPARMS does not provide for
this distinction.

- NULL PREFIX RESTRICTION (SSPARS1)

This mod prevents a 'normal' user from setting prefix to null and
displaying an entire queue. This mod was created to satify the objection
of operators who find that some users monitor input or output queues and
then call to complain about their progress toward the top of the queue.
Only users with 'log' privilege may set prefix to null. Others receive
an error message 'too few parms'.

- ISFPARMS GROUP MACROS (SSPMAC1 SSP$DEF SSP$001)

These mods simplify somewhat the management of multiple node-based parms
members. They are not required for node-based parms, but make changes to
multiple members somewhat easier, especially when a new SDSF release
includes new macro operands. Unless multiple-parms are implemented,
these mods provide no particular benefit.

- USER EXIT ISFUSER EXAMPLE (SSUSER1)

This mod is an example of the use of the user exit ISFUSER to provide
additional authority checking not provided for by ISFPARMS as
distributed. Here are some the features illustrated:

1. Disallow anyone, including system programmers, from viewing any
output in the secure class '9'.

2. Allow a user to display his own netmail file regardless of jobname.

3. Allow any user to display 'semi-public' message/utility/SYSUDUMP
ouput (classes A, D, E, T) only if the user's group (first three
characters) owns the job.

4. Use ABEND authority as an indicator to allow a restricted set of
system support personnel to view any class of output, not just the
semi-public classes.  Persons given this privilege might include system
programmers, security administrators, production support, etc.  By using
an ISFPARMS attribute (ABEND command authority), the user exit code is
not senstive to userids or groups. If node-based parms are implemented,
an ABEND-privileged user at one node may be a 'normal' user at another
node.

5. Implement a SAF (RACF, ACF2, etc.) interface to permit users to view
jobs on an ad hoc basis according to generic or discreet profiles
established by Security Administration.  The SAF interface simplifies
ISFPARMS administration and offloads much of the work to security
administrators, including the decision of whether to allow access in the
first place.  The mechanism illustrated employs a table of jobnames that
is continually updated with the result of each SAF call. Since the table
is checked first for authorization, actual SAF calls are minimized.  The
SAF check (table or external call) is made only if none of the ISFPARMS
or exit-specific rules has allowed access. If the table fills up,
entries are reused from the top. The table is created in extended
private above the line during SDSF initialization and freed at
termination.
.pa
.nf
@FILE131@***********************************************************************
*                                                                              *
*         F I L E   1 3 1   M E L L O N   M O D S   F O R   3 . 1 . 3          *
*                                                                              *
********************************************************************************

$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$            ****  ****   ****  ****    ****               $
$           *    * *   * *    *    *   *    *              $
$           *      *   *      *    *        *              $
$            ****  ****   ****     *    ****               $
$                * *          *    *        *              $
$           *    * *     *    *    *   *    *              $
$            ****  *      ****   *****  ****               $
$                                                          $
$                  * *****  ****   ****                    $
$                  * *     *    * *    *                   $
$                  * *     *           *                   $
$                  * ***    ****   ****                    $
$                  * *          * *                        $
$              *   * *     *    * *                        $
$               ***  *****  ****  *****                    $
$                                                          $
$          ****  *    * *****   ****  *****  *             $
$         *    * *    * *    * *    * *    * *             $
$         *      *    * *    * *      *    * *             $
$          ****  ****** *****   ****  *****  *             $
$              * *    * *  *        * *      *             $
$         *    * *    * *  *   *    * *      *             $
$          ****  *    * *   *   ****  *      ******        $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$                                                          $
$                                                          $
$ FUNCTIONAL CHANGES FOR RELEASE    SP3.1.3                $
$                                                          $
$ 1.) Interface to $SEAS routine to validate user commands $
$     in EXIT 005 through SAF.                             $
$                                                          $
$ 2.) Correct addressability errors when using all 64      $
$     resource names in the abstract resource table.       $
$                                                          $
$                                                          $
$ FUNCTIONAL CHANGES FOR RELEASE(S) SP2.2.0/SP3.1.1        $
$                                                          $
$ 1.) Performance enhancement for dependent job control    $
$     job select logic through the use of user hold        $
$     hold bits in the JQE.                                $
$                                                          $
$ 2.) $DN/DQ,HOLD commands enhanced to process jobs that   $
$     are held due to dependent job control conflicts.     $
$                                                          $
$ 3.) Enhancements made in the HASP608 job display message $
$     to show before/after/cntl specifications as well as  $
$     dependent job control hold/ownership information.    $
$                                                          $
$ 4.) New exit routine, MBJOBEND, added to release jobs    $
$     on dependent job control hold when an owning job     $
$     ends.                                                $
$                                                          $
$                                                          $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
 $                                                          $

  PLEASE SEE DESCRIPTION OF FILE 132 FOR A FULL ABSTRACT.
.pa
.nf
@FILE132@***********************************************************************
*                                                                              *
*         F I L E   1 3 2   M E L L O N   M O D S   F O R   4 . 2 . 0          *
*                                                                              *
********************************************************************************
.nf
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$                                                          $
$                                                          $
$           MODS TAPE VERSION SP420/1    07 apr 93         $
$                                                          $
$                                                          $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$                                                          $
$            ****  ****  *    *  ****   ****               $
$           *    * *   * *    * *    * *    *              $
$           *      *   * *    *      * *    *              $
$            ****  ****  ******  ****  *    *              $
$                * *          * *      *    *              $
$           *    * *          * *      *    *              $
$            ****  *          * ******  ****               $
$                                                          $
$                  * *****  ****   ****                    $
$                  * *     *    * *    *                   $
$                  * *     *           *                   $
$                  * ***    ****   ****                    $
$                  * *          * *                        $
$              *   * *     *    * *                        $
$               ***  *****  ****  *****                    $
$                                                          $
$          ****  *    * *****   ****  *****  *             $
$         *    * *    * *    * *    * *    * *             $
$         *      *    * *    * *      *    * *             $
$          ****  ****** *****   ****  *****  *             $
$              * *    * *  *        * *      *             $
$         *    * *    * *  *   *    * *      *             $
$          ****  *    * *   *   ****  *      ******        $
$                                                          $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$                                                          $
$                                                          $
$ FUNCTIONAL CHANGES FOR RELEASE    SP4.2.0                $
$                                                          $
$ 1.) Add a new dependent job control card, /*WITH jobname.$
$                                                          $
$ 2.) Permit $,@,# in jobname field of /*BEFORE, /*AFTER,  $
$     and /*WITH                                           $
$                                                          $
$ 3.) Delete $DRES command support.  Use IBM supplied      $
$     commands, i.e. $D CONDEF,BUFNUM,BUFFREE, etc.        $
$                                                          $
$ 4.) Delete /*ROUTE XEQ CPUn support.  Use /*JOBPARM      $
$     SYSAFF=(sid) card.                                   $
$                                                          $
$ 5.) Delete $KD/$KT command support.  Use IBM supplied    $
$     commands $D/$T MASDEF.                               $
$                                                          $
$ 6.) Re-format various command responses to include       $
$     MLWTO control lines to match JES2 command responses. $
$                                                          $
$ 7.) New command responses to $QA/$QD commands.           $
$                                                          $
$ 8.) Change $QD command to deny removal of a resource if  $
$     there are executing job in the given system.  Add    $
$     a third poistional $QD command operand, "FORCE", to  $
$     permit the resource to be removed even if there are  $
$     active jobs using the resource.                      $
$                                                          $
$ 9.) Enhance $DC command response to show count of        $
$     conflicts.                                           $
$                                                          $
$ 10.) Enhance $DB command.                                $
$                                                          $
$ 11.) Change $QJ, $QT, $QS, and add $Q'jobname' to        $
$      permit abstract resources to be added/delete from   $
$      a JOB/TSU/STC or release a JOB from a dependent     $
$      job control hold condition.  JECL cards and PR/PU   $
$      stats are no longer detailed by this command.  Use  $
$      IOF, SDSF, Q command for displaced function.        $
$                                                          $
$ 12.) Eliminate /*AFTER, /*BEFORE, /*CNTL order           $
$      dependency.  This cards can now appear in any order $
$      in the input stream.                                $
$                                                          $
$ 13.) Various $HASP9** series messages have been          $
$      eliminated or changed.                              $
$                                                          $
$ 14.) SAF entity names have changed for the $Q commands.  $
$                                                          $
$ 15.) Add front end intercept to $QACT service routine    $
$      in support of /*WITH JECL card.                     $
$                                                          $
$ 16.) Previously supplied Mellon Bank support for the     $
$      $DN/$DQ commands has been renamed to $LN/$LQ        $
$      and has been substantially enhanced.                $
$                                                          $
$ 17.) $HASP608 message text has been enhanced.            $
$                                                          $
$ 18.) Several Mellon Bank commands using the CONDEF       $
$      DISPLEN when building command responses.            $
$                                                          $
$ 19.) Add resource-equate definition macro - $RESEQU      $
$                                                          $
$ 20.) Enhance $LF command job selection by absence or     $
$      presence of job, operator, and error holds. Also    $
$      screen for held or non-held output dispostions.     $
$                                                          $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$                                                          $
$                                                          $
$ FUNCTIONAL CHANGES FOR RELEASE    SP3.1.3                $
$                                                          $
$ 1.) Interface to $SEAS routine to validate user commands $
$     in EXIT 005 through SAF.                             $
$                                                          $
$ 2.) Correct addressability errors when using all 64      $
$     resource names in the abstract resource table.       $
$                                                          $
$ 3.) Correct DJC hold problem by front ends place on      $
$     $QMOD and $QPUT established by EXIT024.              $
$                                                          $
$                                                          $
$ FUNCTIONAL CHANGES FOR RELEASE(S) SP2.2.0/SP3.1.1        $
$                                                          $
$ 1.) Performance enhancement for dependent job control    $
$     job select logic through the use of user hold        $
$     hold bits in the JQE.                                $
$                                                          $
$ 2.) $DN/DQ,HOLD commands enhanced to process jobs that   $
$     are held due to dependent job control conflicts.     $
$                                                          $
$ 3.) Enhancements made in the HASP608 job display message $
$     to show before/after/cntl specifications as well as  $
$     dependent job control hold/ownership information.    $
$                                                          $
$ 4.) New exit routine, MBJOBEND, added to release jobs    $
$     on dependent job control hold when an owning job     $
$     ends.                                                $
$                                                          $
$                                                          $
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
************************************************************
************************************************************
**************                                **************
************                                    ************
**********                                        **********
*                                                          *
*                                                          *
*             GENERAL DESCRIPTION OF MELLON BANK           *
*                  SHARED SPOOL MODS                       *
*                                                          *
**********                                        **********
************                                    ************
**************                                **************
************************************************************
************************************************************


************************************************************
*                                                          *
*                 D I S C L A I M E R                      *
*                                                          *
************************************************************

    THE MODS ON THIS TAPE HAVE BEEN USED SUCCESSFULLY AND TO THE
 BEST OF OUR KNOWLEDGE THEY ARE OPERATIONAL, HOWEVER NO WARRANTY
 IS MADE TO THE ACCURACY OF THE MODS AND NO RESPONSIBILITY IS
 ASSUMED FOR ANY MODIFICATION DIRECTLY OR INDIRECTLY CAUSED BY THE
 USE OF THE MODIFICATIONS.  IT IS THE USERS RESPONSIBILITY TO
 EVALUATE THE USEFULLNESS OF THE MATERIAL.

    WE DO NOT GUARANTEE TO KEEP ANY MATERIAL PROVIDED UP TO DATE
 NOR DO WE GUARANTEE TO PROVIDE ANY CORRECTIONS OR EXTENSIONS MADE
 IN THE FUTURE.

************************************************************
************************************************************

++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

    THE FOLLOWING IS A BRIEF EXPLANATION OF THE MELLON BANK MODS
MADE TO JES2.  IT IS INTENDED FOR THOSE WHO ARE UNFAMILIAR WITH
PREVIOUS VERSIONS OF HASP OR JES2 SHARED SPOOL SUPPORT AND IS
BEING PROVIDED IN LIEU OF THE FORMAL DOCUMENT ORIGINALLY
DISTRIBUTED WITH THE HASP V4 MELLON MODIFICATIONS.  IF THE WRITE-UP
LEAVES YOU WITH SOME UNANSWERED QUESTIONS, YOU MAY GIVE US A CALL.


+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

RESOURCE ROUTING CONTROL CARDS

     PROVIDES A FACILITY BY WHICH JOBS CAN BE ROUTED TO SPECIFIC
CPUS DEPENDING ON THE AVAILABILITY OF A PARTICULAR RESOURCE NAME
ASSIGNED TO A CPU.  RESOURCE NAMES ARE USER DEFINED (SYSTEMS PROGRAMMER)
AND SPECIFIED IN THE JES2 MACRO  $RESTABL.  ONCE DEFINED, THESE
RESOURCE NAMES ATTACHED TO A CPU REMAIN IN EFFECT UNTIL THEY ARE
DETACHED VIA THE $QD COMMAND, OR A COLD START IS DONE AND ALL
RESOURCES ARE THEN UNASSIGNED.

     RESOURCES SPECIFIED IN THE $RESTABL MACRO CAN DEFINE PHYSICAL
I/O GEAR WHICH MAY BE ATTACHED TO ONLY ONE CPU AT A TIME, OR
POSSIBLY A SOFTWARE NAME WHICH MAY ONLY PERTAIN TO ONE PARTICULAR CPU.


SPECIFICATION ... IN $RESTABL MACRO


ASSIGNMENT....... $QA,resource       attached a resource name from
                                     the table to this system.


                  $QD,resource       remove a resource name from this
                                     system if no jobs executing using
                                     specified resource.

                  $QD,resource,FORCE remove resource name from this
                                     system even if jobs executing are
                                     using the resource name.

USE............... /*ROUTE XEQ resource     ...  FOLLOWING JOBCARD

                   JOB WILL AUTOMATICALLY BE SCHEDULED TO THE CPU(S)
                   BEARING THIS RESOURCE NAME IN ITS QSE


EXAMPLE:    SYSTEM #       RESOURCES ATTACHED
            ________       __________________

               1           DUALD,IMS

               2           3525

               3           IMS,TSO,NOINQ


   //BSPROUT JOB (,,7551,429),'TEST RESOURCE',MSGLEVEL=(1,1),CLASS=A
   /*ROUTE XEQ IMS
   //S1 EXEC PGM=IEFBR14


THIS JOB WILL BE SCHEDULED TO EITHER SYSTEM #1 OR SYSTEM #3


     THE $DC COMMAND IS USED TO DISPLAY THOSE JOBS WHICH HAVE USED
THE /*ROUTE XEQ RESOURCE CONTROL CARD AND NO CPUS HAVE THAT RESOURCE
NAME ATTACHED....  FOR EXAMPLE, USING THE ABOVE LIST, IF A JOB WERE
SUBMITTED WITH A   /*ROUTE XEQ SCANNER   CONTROL CARD, THE JOB WOULD
NEVER EXECUTE NO MATTER HOW MANY INITIATORS WERE AVAILABLE UNTIL
A SYSTEM IN THE COMPLEX WOULD ISSUE A $QA,SCANNER.  THIS WOULD
BE DETECTABLE BY ISSUING A $DC COMMAND WHICH WOULD DISPLAY THOSE
JOBS WAITING FOR RESOURCE NAMES.


     THE $DR COMMAND WILL LIST THE RESOURCE ATTACHED TO EACH CPU.

 EXAMPLE

     $DR          NO OPERANDS  DEFAULTS THIS CPU

     $DR,&SID     LIST SPECIFIC CPU RESOURCES.


     OTHER /*ROUTE CONTROL CARD FORMATS.........

      /*ROUTE XEQ HERE
          JOB WILL BE SCHEDULED FOR EXECUTION ON THE CPU WHICH
          READ THE JCL.  (CONTROLLING THE CARD READER)



---------------------------------------------------------------


           .............. /*CNTL CARDS ..............


     THIS FEATURE PROVIDES THE ABILITY TO SINGLE-THREAD JOBS
THROUGH EXECUTION WHICH NEED A DEVICE OF WHICH THERE IS ONLY ONE
AND MUST BE USED SERIALLY.  SOME EXAMPLES WOULD BE THE 3525,
DUALD DENSITY DRIVE AND THE OCR SCANNER.


     BY USING THE /*CNTL CARD, YOU CAN DEFINE A RESOURCE NAME THAT
YOU NEED EXCLUSIVE CONTROL OF.  IF ANY OTHER JOBS COME INTO THE SYSTEM
WITH THE SAME CONTROL NAME, THEY WILL NOT EXECUTE SIMULTANEOUSLY ON
THE SAME OR OTHER CPUS IN THE COMPLEX.  THIS PROVIDES BETTER CONTROL
OVER THE RESOURCES WE HAVE THAT MUST BE USED SERIALLY.  THIS DOES NOT
AFFECT JOBS RUNNING WITHOUT THE /*CNTL CARD OR RUNNING IN A SYSTEM
WITHOUT SHARED SPOOL.
.pa
.nf
@FILE133@***********************************************************************
*                                                                              *
*         F I L E   1 3 3   N A S A / G S F C   Q U E U E    ( 4 . 2 . 0 )     *
*                                                                              *
********************************************************************************
.ju left

This file contains an update to the old NERDC QUEUE Command to bring it up
to the JES2 Version 4.2.0 level.

.nf
It was provided by:

   William G. Hecox
   NASA/GSFC
   Code 931, Bldg. 28 Rm S224
   Greenbelt, MD. 20771
   (301) 286-3993
   Z8WGH@GIBBS.BITNET
   Z8WGH@GIBBS.GSFC.NASA.GOV


See members $WGHDOC and $NCCSJCL for more information.
.pa
.nf
@FILE134@***********************************************************************
*                                                                              *
*         F I L E   1 3 4   M E L L O N   M O D S   F O R   4 . 3 . 0          *
*                                                                              *
********************************************************************************


  SunTrust Service Corp has updated the Mellon Bank Mods to work with JES2
  Version 4.3.0.

  The installation contact is:

  Frank Lawrence
  SunTrust Service Corp.
  250 Piedmont Ave.
  Mail Code 4030
  Atlanta, GA 30308
  404-588-8303


  PLEASE SEE DESCRIPTION OF FILE 132 FOR A FULL ABSTRACT.
.pa
.nf
@FILE135@***********************************************************************
*                                                                              *
*         F I L E   1 3 5   N E R D C   Q U E U E   ( 5 . x . 0 )              *
*                                                                              *
********************************************************************************
.ju left

This file contains an update to the old NERDC QUEUE Command to bring it up
to the JES2 Version 5.1.0 level.
It also works with JES2 Version 5.2.0.

It is not complete, especially regarding system affinity and more than
7 members in a shared spool.

Please fix whatever bugs you find, and send the fixes to:
.nf

   Jack Schudel
   Northeast Regional Data Center
   112 Space Sciences Research Building
   University of Florida
   Gainesville, FL 32611
   (904) 392-4601
   schudel@ufl.edu


See member $$$$$$$$ for more information.
.pa
.nf
@FILE136@***********************************************************************
*                                                                              *
*         F I L E   1 3 6   V . C . C .   M P F   E X I T                      *
*                                                                              *
********************************************************************************

When message:
  $HASP050 JES2 RESOURCE SHORTAGE OF ??? - ??% UTILIZATION REACHED
displays, WTO processing calls $HASP050 as an MPF exit.
If the $HASP050 message is for a TGS and utilization is
from 95 to 99 percent, this exit issues commands
     S SPOOL,MEMBER=SPOOL95  or
     S SPOOL,MEMBER=SPOOL96  or
     S SPOOL,MEMBER=SPOOL97  or
     S SPOOL,MEMBER=SPOOL98  or
     S SPOOL,MEMBER=SPOOL99  depending on the percent utilized,
     otherwise, no action is taken.
     SYS1.PARMLIB(MPFLST00) defines the exit to the operating system.
     SYS1.PARMLIB(CONSOL00) defines MPFLST00 to the system.

Sample SPOOL PROC:

 //COMMAND  EXEC PGM=COMMAND
 //SYSIN    DD  DSN=????.PARMLIB(&MEMBER),DISP=SHR

Sample SPOOL95 PARM:

 *
 *    This member used by MPF exit $HASP050,
 *       If SPOOL is at 95% in use
 *
 $DSPOOL,JOBS=5
 *
 $OQ,Q=X,CANCEL,A=2
 *
 $OQ,Q=R,CANCEL,A=15
 *
 $OQ,ALL,CANCEL,A=30
 *
 $PQ,ALL,A=30
 *

Sample MPFLST00 PARM:

 $HASP050,SUP(NO),USEREXIT($HASP050) Starts SPOOL purge PROC

To disable all MPF exits, enter operator command 'SET MPF=NO'.


Submitted by:

 Virginia Community College System
 101 N. 14th St., 14th. Floor
 Richmond, Va., 23219
 804-225-2048
 SOMITCW@SO.CC.VA.US

.pa
@FILE137@***********************************************************************
*                                                                              *
*         F I L E   1 3 7   M E L L O N   M O D S   F O R   5 . 1 . 0          *
*                                                                              *
********************************************************************************


  SunTrust Service Corp has updated the Mellon Bank Mods to work with JES2
  Version 5.1.0.

  The installation contact is:

  Frank Lawrence
  SunTrust Service Corp.
  250 Piedmont Ave.
  Mail Code 4030
  Atlanta, GA 30308
  404-588-8303


  PLEASE SEE DESCRIPTION OF FILE 132 FOR A FULL ABSTRACT.
.pa
.nf
@FILE138@***********************************************************************
*                                                                              *
*         F I L E   1 3 8   M E L L O N   M O D S   F O R   5 . 1 . 0          *
*                                                                              *
********************************************************************************


  SunTrust Service Corp has updated the Mellon Bank Mods to work with JES2
  Version 5.1.0.

  The installation contact is:

  Frank Lawrence
  SunTrust Service Corp.
  250 Piedmont Ave.
  Mail Code 4030
  Atlanta, GA 30308
  404-588-8303


  PLEASE SEE DESCRIPTION OF FILE 132 FOR A FULL ABSTRACT.
.pa
@FILE139@***********************************************************************
*                                                                              *
*         F I L E   1 3 9   M E L L O N   M O D S   F O R   1 . 2 . 0          *
*                                                                              *
********************************************************************************


  SunTrust Service Corp has updated the Mellon Bank Mods to work with OS/390
  JES2 Version 1.1.0 and 1.2.0.

  The installation contact is:

  Frank Lawrence
  SunTrust Service Corp.
  250 Piedmont Ave.
  Mail Code 4030
  Atlanta, GA 30308
  404-588-8303


  PLEASE SEE DESCRIPTION OF FILE 132 FOR A FULL ABSTRACT.
.pa
@FILE140@***********************************************************************
*                                                                              *
*         F I L E   1 4 0   $ A D D E X I T / $ R E P E X I T                  *
*                                                                              *
********************************************************************************

  JES2 exit 5 routine to process $REPEXIT and $ADDEXIT commands.

        $REPEXIT - Replace a JES2 exit module.
                   Command syntax is "$REPEXIT,modname".

        $ADDEXIT - Add a JES2 exit module.
                   Command syntax is "$ADDEXIT,modname,exit#".

  See the comment block in the code for a complete description.

  The installation contact is:

      BOB BREAK
      S.W. BELL TELEPHONE CO.
      801 CHESTNUT, RM 6-8-M3
      ST. LOUIS, MO. 63101
      OFFICE  314-340-9301
      IBMMAIL - USSWB2ZB
      MICROSOFT MAIL - CB7485@MOMAIL.SBC.COM

.pa
.nf
@END@***************************************************************************
*                                                                              *
*         E N D   O F   A B S T R A C T                                        *
*                                                                              *
********************************************************************************
