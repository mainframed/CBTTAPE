         TITLE 'P D S  --  PDS DYNAMIC AREA                    3/04/87'
         PRINT &PDSPRT
WORKAREA DSECT
MAINSAVE DS    18A
VALSAVE  DS    0A             SAVE AREA FOR VALIDITY CHECKING ROUTINES
ESDIDRSV DS    18A            SAVE AREA FOR READESD AND READIDR
R14SAVE  DS    A              FIRST LEVEL SAVE AREA
R6SAVE   DS    A              BASE REGISTER SAVE AREA         DRK AUG05
R8PARSE  DS    A              BASE REGISTER SAVE AREA
R14PARSE DS    A              SECOND LEVEL SAVE AREA
R14PUTT  DS    A              THIRD LEVEL SAVE AREA
R14PUTM  DS    A              THIRD LEVEL SAVE AREA
R14PUTL  DS    A              THIRD LEVEL SAVE AREA
R14PUTL2 DS    4A             SECONDARY SAVE AREA FOR LOGDATA
R14PTGT  DS    A              THIRD LEVEL SAVE AREA
R14EXCP  DS    A              THIRD LEVEL SAVE AREA
R8EXCP   DS    A              EXCP ROUTINE BASE SAVE
R148EXCP DS    11A            SAVE AREA FOR EXCP ROUTINE
R14READD DS    A              THIRD LEVEL SAVE AREA
BASES    DS    4A             PROGRAM BASE ADDRESSES
ADDRCBU2 DS    A              ORIGINAL CBUF ADDRESS
         SPACE 1
***      NOTE: KEEP THE FOLLOWING STATEMENTS TOGETHER AND IN THE
***            SAME PHYSICAL ORDER (FOR STM INSTRUCTIONS).
ADDRTEXT DS    A        * *    ADDRESS OF TEXT PASSED
ADDRUPT  DS    A        * *    ADDRESS OF THE UPT
ADDRPSCB DS    A        * *    ADDRESS OF THE PSCB
ADDRECT  DS    A        * *    ADDRESS OF THE ECT
ADDRCBUF DS    A        * *    ADDRESS OF THE COMMAND BUFFER
ADDRCPPL DS    A        * *    ADDRESS OF THE CPPL
ADDRPUTL DS    A        * *    ADDRESS OF IKJPUTL
ADDRPARS DS    A        * *    ADDRESS OF IKJPARS
ADDRPTGT DS    A        * *    ADDRESS OF IKJPTGT
ADDRGETL DS    A        * *    ADDRESS OF IKJGETL
ADDRSCAN DS    A        * *    ADDRESS OF IKJSCAN
ADDRSTCK DS    A        * *    ADDRESS OF IKJSTCK
ADDRDEFT DS    A        * *    ADDRESS OF IKJEHDEF
ADDRFF02 DS    A        * *    ADDRESS OF IKJEFF02
ADDRCNVT DS    A        * *    TTR --> MBBCCHHR CONVERT ROUTINE
ADDRRLTV DS    A        * *    MBBCCHHR --> TTR CONVERT ROUTINE
***
         SPACE 1
ADDRANSR DS    A
OPENLIST DS    2A
PARMLIST DS    12A            GENERAL PARAMETER LIST
PUTLPARM DS    4A             M$PUTLIN PARAMETER AREA
PTGTPARM DS    4A             M$PUTGT PARAMETER AREA
YESNOSV  DS    A              SAVED MESSAGE ADDRESS FOR YES/NO PROMPTS
SCANANSR DS    XL8
PUTOLD1  DS    3F
PAGESIZE DS    F              LINES/SCREEN
LINESIZE DS    F              CHARACTERS/LINE
         EJECT
SUBCMNDP DS    A              SUBCOMMAND ENTERED ON PRIMARY LINE
ATTNECB  DS    F
SUBSECB  DS    F
SUBSTCB  DS    F
RECOVER  DS    A
ADDRSUMR DS    A              ADDRESS OF A SUMMARY ROUTINE LIKE VERIFY
SPFECB   DS    F
SPFTCB   DS    A
ISPLINK  DS    A              ADDRESS OF THE SPF INTERFACE ROUTINE
DAIRRC   DS    F              DAIR RETURN CODE FROM REGISTER 15
RETURNCD DS    F              PROGRAM RETURN CODE
OUTMEMBS DS    A              SUBPOOL 22 ROOT OF DUPL MEMBER NAME LIST
SUBPDIAL DS    A              SUBPOOL 78 TSO CONTROL BLOCK DATA
         SPACE 1
UCBADDR  DS    A
EXCPBUFF DS    A                  ADDRESS OF LAST RECORD READ
TOTUSEDX DS    F
TOTALLOX DS    F
SUBLIST1 DS    C              SUBPOOL 23 DATA GETMAINED BEFORE SPF
SUBLIST2 DS    C              SUBPOOL 24 DATA GETMAINED AFTER  SPF
         SPACE 1
TOTBLOCK DS    F        **  --   THIS AREA IS CLEARED
TOTUSED  DS    F        **  --     VIA AN XC INSTRUCTION
TOTMEMR  DS    F        **  --     (LENGTH IS LTOT).
TOTMEMA  DS    F        **  --
***MAXM  DS    F        **  --
***THISM DS    F        **  --
TOTTRKS  DS    F        **  --
TOTCCHH  DS    XL4      **  --
LTOT     EQU   *-TOTBLOCK        LENGTH OF XC AREA
DSNTOTAL DS    F
DSNEMPTY DS    F
NUMEXT   DS    H              NUMBER OF EXTENTS
BYTEUCB  DS    H              UCB TYPE IS THE SECOND BYTE
         SPACE 1
LMEMBER1 DS    H              LENGTH OF MEMBER NAME ONE
MEMBER1  DS    CL8            FIRST MEMBER NAME   *** TOGETHER (RENAME)
MEMBER2  DS    CL8            SECOND MEMBER NAME  *** TOGETHER (RENAME)
LMEMBER2 DS    H              LENGTH OF MEMBER NAME TWO
         SPACE 1
MEMBERD  DS    XL1,XL2,CL8,CL8,XL2
***      SAVE  FLAGSAA,LMEMBER1,MEMBER1,MEMBER2,LMEMBER2 FOR (GROUP)
MEMBERP  DS    XL1,XL2,CL8,CL8,XL2
***      SAVE  FLAGSAA,LMEMBER1,MEMBER1,MEMBER2,LMEMBER2 FOR PATTERN
         SPACE 1
ERRORMSG DS    5CL3           HOLD AREA FOR ERROR MESSAGE IDENTIFIERS
OPTCD    DS    X              CURRENT DATA SET OPTCD
DSPALLOC DS    X              CURRENT DISPOSITION (SHARE OR OLD)
DSPREQST DS    X              INITIAL DISPOSITION (SHARE OR OLD)
RECFM    DS    X              DCBRECFM FOR THIS DATA SET
SUBPOOLT DS    X              SUBPOOL 21 (TEMP) FOR A PDS SUBCOMMAND
RESERVET DS    X              "R" WHEN A SPDSN RESERVE IS OUTSTANDING
TESTABEC DS    X              TESTABEND USE
CVDG     DS    D              FOR CVD GRANDE                  DRK AUG09
DOUBLE   DS    D
         DS    XL1            BYTE OVERRUN BY UNPK INSTRUCTION
         TITLE 'P D S  --  PDS DYNAMIC AREA -- CONTROL FLAGS   3/04/87'
FLAGSAA  DS    XL1   FLAG BYTE 1 (CLEARED FOR EACH SUBCOMMAND)
FAINUPD  EQU   X'80'          WRITE ISSUED TO BPAM INDCB       GP AUG05
FAIOERR  EQU   X'40'          I/O ERROR ENCOUNTERED BY CHECK   GP AUG05
FADSDIR  EQU   X'20'          READDIR CALLED BY DISPLAY        GP SEP05
FMEMASTR EQU   X'10'          ASTERISK PARTIAL MEMBER NAME
FMEMBER1 EQU   X'08'          FIRST MEMBER FLAG
FMEMBER2 EQU   X'04'          SECOND MEMBER FLAG
FMEMRANG EQU   X'02'          MEMBER RANGE DESIRED
FMEM#MEM EQU   X'01'          MEMBER GROUP IS IN PROGRESS
         SPACE 1
FLAGSBB  DS    XL1   FLAG BYTE 2
FNOTFILE EQU   X'80'          FILE(FILENAME) NOT ENTERED
FONESHOT EQU   X'40'          SUBCOMMAND ENTERED FROM PRIMARY LINE
FLINESET EQU   X'20'          OUTPUT LINE IN PROGRESS
FEXIST   EQU   X'10'          MEMBERS EXIST IN DATA SET
FRANPAT  EQU   X'08'          MEMBERS EXIST IN RANGE OR PATTERN
FCMD     EQU   X'04'          SUBCOMMAND BUFFER AVAILABLE
FQUOTE   EQU   X'02'          DATA SET NAME IS QUOTED
FNULL    EQU   X'01'          NULL LINE ENTERED
         SPACE 1
FLAGSCC  DS    XL1   FLAG BYTE 3
FPERMDS  EQU   X'80'          "PERM" DATA SET
FUPDATE  EQU   X'40'          THIS MEMBER IS OPEN FOR UPDATE
FIDR     EQU   X'20'          IDR RECORDS EXIST
F1IDR    EQU   X'10'          IDR TITLE PROCESSED
FVOLSET  EQU   X'08'          VOLSET IGNORE IN PROCESS
RECFMU   EQU   X'04'          RECORD FORMAT U
RECFMV   EQU   X'02'          RECORD FORMAT V
RECFMF   EQU   X'01'          RECORD FORMAT F
         SPACE 1
FLAGSDD  DS    XL1   FLAG BYTE 4
OVERLAP  EQU   X'80'          OUTPUT THE NEXT LINE (OVERLAPPED STRING)
DONONUM  EQU   X'40'          NUM --> NONUM FOR THE REST OF THE MEMBER
DUMP     EQU   X'20'          ** DUMP OUTPUT FORMAT
BLOCK    EQU   X'10'          ** BLOCK OUTPUT FORMAT
LDUMP    EQU   X'08'          ** LDUMP OUTPUT FORMAT
LBLOCK   EQU   X'04'          ** LBLOCK OUTPUT FORMAT
SNUM     EQU   X'02'          ** SNUM OUTPUT FORMAT
NONUM    EQU   X'01'          ** NONUM OUTPUT FORMAT
*NUM     EQU   X'00'          ** NUM (DEFAULT) IF NOT SNUM, NONUM,
*                                    LBLOCK, LDUMP, BLOCK OR DUMP
         SPACE 1
FLAGSEE  DS    XL1   FLAG BYTE 5
FDOUBCON EQU   X'80'          NODOUBLE
FFULLTRK EQU   X'40'          FULLTRACK
FMEMGRP  EQU   X'20'          MEMBER GROUP IS BEING DEFINED
FEDREC   EQU   X'10'          EDIT RECOVERY HAS BEEN ATTEMPTED
FBKGRND  EQU   X'08'          PDS IS EXECUTING IN BACKGROUND MODE
FNOTTERM EQU   X'04'          LAST RESPONSE WAS NOT FROM THE TERMINAL
FOUTASS  EQU   X'02'          SET ON TO GET ASSOCIATE MEMBERS TOO
FDIREND  EQU   X'01'          END OF MEMBERS IN DIRECTORY REACHED
***  X'C0' IS SINGLE
***  X'40' IS DOUBLE
***  X'00' IS MULTIPLE
         EJECT
FLAGSFF  DS    XL1   FLAG BYTE 6
FSPFDIAL EQU   X'80'          PDS WAS INVOKED BY SPF AS A DIALOG
FSPFERR  EQU   X'40'          SPF INITIALIZATION FAILED
FSPFOPT6 EQU   X'20'          EXECUTING UNDER SPF OPTION 6
FSPFCALL EQU   X'10'          SET AFTER SPF HAS BEEN CALLED ONCE
FCHANGE  EQU   X'08'          SET OFF WHEN DATA SET IS CHANGED
FNOECHO  EQU   X'04'          SET ON TO TERMINATE ECHO MODE IN OUTCOPY
FLOGWRT  EQU   X'02'          SET ON TO LOG PDS MESSAGES
FIEBUPDT EQU   X'01'          SET ON FORMAT OUTCOPY DATA FOR IEBUPDTE
         SPACE 2
FLAGSGG  DS    XL1   FLAG BYTE 7
FALINCON EQU   X'80'          NOALIASINFO (ATTRIB AND MAP)
FTRANCON EQU   X'40'          NOTRANSLATOR (HISTORY)
FLKEDCON EQU   X'20'          NOLKEDDATE (ATTRIB)
FPROMCON EQU   X'10'          NOPROMPT
FRECVCON EQU   X'08'          NORECOVER
FOUTSOME EQU   X'04'          OUTPUT GENERATED FOR THIS SUBCOMMAND
FOUTSUB  EQU   X'02'          SUBCOMMAND GAINED CONTROL
FISPMODE EQU   X'01'          ISPMODE IS TO GAIN CONTROL ON ENTRY
         SPACE 2
FLAGSHH  DS    XL1   FLAG BYTE 8 (CLEARED FOR EACH SUBCOMMAND)
FOPTIONS EQU   X'80'          OPTIONS PRESENT WITH COMMAND
FDELAYM  EQU   X'40'          DELAYMSG MESSAGE IS AVAILABLE
FMEMSTAR EQU   X'20'          * NOTATION USED FOR THE MEMBER NAME
FHEAD    EQU   X'10'          HEADER HAS BEEN WRITTEN
FLKEDYES EQU   X'08'          LKED DATE IS DESIRED
FLKEDNO  EQU   X'04'          LKED DATE IS NOT DESIRED
FMEMALLM EQU   X'02'          : NOTATION USED FOR THE MEMBER NAME
FHPGMOBJ EQU   X'01'          KNOWN TO BE PDSE PROGRAM LIBRARY GP SEP05
         SPACE 2
FLAGSII  DS    XL1   FLAG BYTE 9 (CLEARED FOR EACH SUBCOMMAND)
FDIRGRP  EQU   X'80'          DIRECTORY READ FOR GROUP OPERATIONS
FSINGLE  EQU   X'40'          FORCE SINGLE BUFFERING FOR SUBCOMMAND
FNOTDOUB EQU   X'20'          FORCE SINGLE OR MULTIPLE FOR RESTORE SCAN
FSUBLIST EQU   X'10'          IF/FIND THEN/ELSE(SUBLIST)
FATTNPRO EQU   X'08'          SET FOR ATTENTION PROCESSING
FMEMBERS EQU   X'04'          IF/FIND THEN/ELSE(MEMBERS) OR (SUBMIT)
FMEMLIST EQU   X'02'          IF/FIND THEN/ELSE(MEMLIST)
FMEMFRST EQU   X'01'          FIRST ELEMENT OF THE LIST IS INPUT
         SPACE 2
FLAGSJJ  DS    XL1   FLAG BYTE 10
FTSOCMD  EQU   X'80'          VERIFY TSO COMMAND
FSUBCMD  EQU   X'40'          VERIFY SUBCOMMAND
FCHANGEB EQU   X'20'          CHANGE DATA SET BUFFERING
FNOREAD  EQU   X'10'          EXCP CALLED FOR REOPEN ONLY
FSTACKED EQU   X'08'          STACKED DATA WAS INPUT
FDSNMSG  EQU   X'03'          DSN SUBCOMMAND USES MSG (OR TABLE) FORMAT
FDSNTSO  EQU   X'02'          DSN SUBCOMMAND USES TSO FORMAT
FDSNJCL  EQU   X'01'          DSN SUBCOMMAND USES JCL FORMAT
         SPACE 2
FLAGSSS  DS    XL1   FLAG BYTE 11 (MAINTAINED TO RE-INVOKE SPF SERVICE)
HFLAGSDD DS    XL1   FLAG BYTE 12 (HOLD AREA FOR FLAGSDD)
         SPACE 2
FLAGSZZ  DS    XL1   FLAG BYTE 13 (USED FOR DSLIST ZDLVOL RETRIEVAL)
FALLOCI  EQU   X'80'          INITIAL ALLOCATION FLAG         DRK NOV02
LIST#MSG EQU   X'40'          REPLACE NOWRITE MESSAGE         DRK NOV06
LOG#CMDS EQU   X'20'          LOG ALL COMMANDS TOGGLE SWITCH  DRK APR16
ATT#MSG  EQU   X'10'          PDS397 ATTRIB MESSAGE           DRK APR16
MBR#VAL  EQU   X'08'          VALIDATE MBR NAME TOGGLE SWITCH DRK APR16
TSO#8    EQU   X'04'          8-CHARACTER TSO USERID          DRK JUL17
ML#RES   EQU   X'02'          MEMLIST RESET TOGGLE SWITCH     DRK JAN18
         TITLE 'P D S  --  PDS DYNAMIC AREA                    3/04/87'
DSNLEN   DS    H
DSNAME   DS    CL44
DSNMEMQ  DS    CL8
PASSWORD DS    CL8
VOLUME   DS    CL8
SAVLEN   EQU   *-DSNLEN
         SPACE 1
SAVDSN   DS    XL1,XL2,XL44,XL8,XL8,XL8
*        DSN DISPOSITION, DSN LENGTH, DSN, ENQ MEMBER, PASSWORD, VOLUME
         SPACE 1
VOLSET   DS    CL8
PDSNAME  DS    CL8                      PDS ACTUAL COMMAND NAME
DDNAME   DS    CL8
DDNAMEH  DS    CL8                      DDNAME HOLD
DSNAMEH  DS    CL4                      FIRST FOUR DSNAME CHARACTERS
VOLALLOC DS    CL6                      ALLOCATED DISK VOLUME NAME
MODESAVE DS    CL1                      RMODE/AMODE WORK AREA
SHIFTSSI DS    CL1                      # SHIFTS FOR "IF GENSSI"
MSGENTDA DS    F                        ADDRESS OF ENTER OPTION MESSAGE
MSGENTPT DS    F                        WHERE MEM=... GOES
ATTRCNT2 DS    F                        ACCUMULATED ENTRIES
ATTRCNTA DS    F                        ACCUMULATED ENTRIES
ATTRTOT2 DS    CL8                      ACCUMULATED LENGTH
ATTRTOTA DS    CL8                      ACCUMULATED LENGTH
SETPROF  DS    XL8                      EDIT DEFAULT PROFILE NAME
SETMACRO DS    XL8                      EDIT DEFAULT INITIAL MACRO
         SPACE 1
         DS    0D
MSGTEXT1 DS    XL124,XL136       4 BYTE COUNT AND 256 BYTE DISPLAY
MSGTEXT2 DS    XL124,XL12
         SPACE 1
INSERT#1 EQU   MSGTEXT1+8,40     FIRST INSERT AREA
INSERT#2 EQU   MSGTEXT1+64,40    SECOND INSERT AREA
MSGLINE  EQU   MSGTEXT1+136,256  256 BYTES +4 BYTE LENGTH FIELD
MSGDS1   EQU   MSGLINE+100,64    OFFSET 1 FOR COMPARE
MSGDS2   EQU   MSGLINE+164,64    OFFSET 2 FOR COMPARE
MSGLAST  DS    XL80              PUTLINE AND PUTGET RECORD I/O BUFFER
         SPACE 2
FULLWORD DS    0D,F
ISPFTEXT DC    C'ISPF    PGM(12345678)    PARM(++12345678) NEWAPPL(ISR)X
                    '      COULD ZAP TO CHANGE "NEWAPPL(ISR)" OR "TEST"
         SPACE 1
         ORG   ISPFTEXT+12
WORKTBL  DS    XL256  ***      TRT TABLE (FIND FIRST BYTE) & WORK AREA
M99RBPTR DS    A      ***      REQUEST BLOCK POINTER
M99RB    DS    5A     ***      DYNALLOC REQUEST BLOCK
M99TUPL  DS    A      ***      TEXT UNIT POINTER
M99TUNIT DS    3A     ***      TEXT UNIT (MAY OVERFLOW BY 50)
WORKTMP  DS    XL50   ***      WORKAREA FOR RESTART PROCESSING
DAYTABLE DS    XL12
DELAYMSG DS    CL38
RLDCOUNT DS    X               RLD/CONTROL RECORDS AFTER FIRST TEXT
         SPACE 2
         ORG   WORKTBL
TIMEWRKW DS    F
TIMEDOUB DS    0D
TIMEINYR DS    0ZL6,ZL4             WEEKDAY ARGUMENT
TIMEINMT DS    ZL2
TIMEINDY DS    ZL2
TIMEDDAT DS    0D,XL4               BUCKET FOR PACKED DATE
TIMEDECC DS    0PL4                 MONTH AND YEAR 0YYYYMMS
TIMEDECY DS    PL3                  YEAR 0YYYYS
         ORG   TIMEDECY+2
TIMEDECM DS    0PL2                 MONTH 0MMS
TIMEYRSG DS    PL1,PL1
         ORG   ,
         SPACE 1
LASTMOD# DS    C               LAST MODULE(NAME) LENGTH
LASTMOD  DS    CL8             LAST MODULE(NAME)
FINDLTH  DS    H               ACTUAL STRING LENGTH
FINDSTR  DS    CL32            ACTUAL FIND STRING
REPLTH   DS    H               ACTUAL STRING LENGTH
REPLSTR  DS    CL32            ACTUAL REPLACEMENT STRING
PUTGETBF DS    XL256           M$PUTGT INPUT LINE STORAGE
CONTFORM DS    XL6             FORM HOLD AREA FOR CONTROL
CONTDEST DS    XL10            DEST HOLD AREA FOR CONTROL
CONTSYS  DS    XL1             SYSOUT HOLD AREA FOR CONTROL
CONTOPTN DS    XL1             CONTROL OPTION IN EFFECT
DSORG    DS    H
LRECL    DS    H
BLKSI    DS    H
LABLRECL DS    H
CONCATNM DS    H
DIRTRACK DS    F              NUMBER OF DIRECTORY BLOCKS PER TRACK
PDSENTRY DS    H              NUMBER OF ENTRIES TO PDS AFTER FIRST
DDNAMEN  DS    C              CURRENT DDNAME NUMBER
DDNAMEM  DS    C              MAXIMUM DDNAME NUMBER
         SPACE 3
         COPY  #SPWRKA         FIRST ISPMODE, MEMLIST WRK AREA SS JUL85
         SPACE 2
*  ALL EXLST REMOVED FROM DCBS IN THIS DSECT                   SS JUL85
SSIMASK  DS    CL4            USED FOR "IF ... SSI(123456)
         DS    CL4            RESERVED FOR BACK-LEVEL DCB MACROS
         AIF   ('&MVSLEV' LT 'MVS710').NOEAVD1                DRK JAN13
INDCB    DCB   DEVD=DA,DDNAME=X,MACRF=E,DCBE=*-*               JH DEC12
.NOEAVD1 ANOP                                                 DRK JAN13
         AIF   ('&MVSLEV' GE 'MVS710').EAVD1                  DRK JAN13
INDCB    DCB   DEVD=DA,DDNAME=X,MACRF=E
.EAVD1   ANOP                                                 DRK JAN13
         ORG   INDCB                                           GP AUG05
         DCB   DSORG=PO,DEVD=DA,DDNAME=X,MACRF=(R,W)           GP AUG05
         ORG
STOWDCB  DCB   DSORG=PO,DEVD=DA,DDNAME=X,MACRF=(R,W)
         DS    CL8            OVERFLOW FROM CMXDCB
BAMDCB   DCB   DDNAME=RESET,DSORG=PS,RECFM=FB,LRECL=256,BLKSIZE=256,   X
               MACRF=(W),KEYLEN=8,DEVD=DA
QAMDCB   DCB   DSORG=PS,DDNAME=PDSOUT,MACRF=(PM)
LOGDCB   DCB   DSORG=PS,DDNAME=PDSLOG,MACRF=(PM)
EXLSTX   DS    A
         TITLE 'P D S  --  PDS DYNAMIC AREA - POST-PROCESSING  3/04/87'
##SUBCOM DS    0F,CL8    ***  CURRENT FULL SUBCOMMAND NAME
         SPACE 1
##ADRCM# EQU   *,1            OFFSET FOR SUB OPERANDS, FLAGS
CONTINUE EQU   X'80'          SUBCOMMAND CONTINUES AFTER DATA SET OPEN
FIXOPEN  EQU   X'40'          SUBCOMMAND IS FIXPDS (SPECIAL OPEN FLAG)
EDITOR   EQU   X'20'          SUBCOMMAND - EDIT, BROWSE, TSOEDIT OR FSE
EXTERNAL EQU   X'10'          SUBCOMMAND IS EXTERNAL TO PDS
FABEND   EQU   X'01'          CONTINUE IS NOT CLEARED IN STAE
FATTRHDR EQU   X'0F'          HEADER FLAG FOR ATTRIB SUBCOMMAND
##ADRCMD DS    A         ***  SUBCOMMAND PROCESSING ROUTINE
         SPACE 1
##ADRPC# EQU   *,1            SUBCOMMAND FLAGS
@W       EQU   X'80'     GROUP HEADER DELAYED FLAG
@I       EQU   X'40'+@W  BROWSE, EDIT, AND VERIFY CHECK FOR :
@N       EQU   X'20'     OPERAND IS IGNORED IF PRESENT
@R       EQU   X'10'     OPERAND REQUIRED, PARSE IS ALWAYS CALLED
@S       EQU   X'08'     SUBCOMMAND WORKS FOR NON-PARTITIONED DATA SETS
@G       EQU   X'04'     MEMBER GROUP AND MEMBER DEFAULT ALLOWED
@B       EQU   X'02'     BLDL REQUIRED TO VERIFY FIRST MEMBER EXISTS
@C       EQU   X'01'     SUBCOMMAND INVALIDATES BLDL
@2       EQU   @S+@W     FOR COPY SUBCOMMAND
         SPACE 1
##ADRPCL DS    A         ***  PCL FOR THE SUBCOMMAND PARSE
         SPACE 1
##ADRPA# EQU   *,1            ADDITIONAL SUBCOMMAND FLAGS
$F       EQU   X'80'          FINDLIST -- CONVERTS TO LIST AFTER FIND
$D       EQU   X'40'          SUPPRESS DEFAULT MEMBER MESSAGE
$Q       EQU   X'20'          QUIET MODE PROCESSING FLAG
$M       EQU   X'10'          DISPLAY OR PATTERN SUBCOMMAND
$A       EQU   X'08'          DO NOT ACCEPT ATTENTIONS
$W       EQU   X'04'          DEFAULT MEMBER HEADER DELAYED FLAG
$P       EQU   X'02'          SPF PANEL NAME IN ##SUBCAL       SS NOV84
$J       EQU   X'01'+$P       SPF PANEL PARSE WITH NO MEMBERS  SS NOV84
##ADRPAR DS    A         ***  POST-PARSE PROCESSING ROUTINE
         SPACE 2
##SUBCAL DS    CL8       ***  EXTERNAL TSO PROCESSOR TO ATTACH
         SPACE 2
##HELOFF DS    AL2       ***  OFFSET TO HELP MESSAGE  (USED BY LIST)
         DS    AL2       ***  AVAILABLE               (USED BY LIST)
         SPACE 2
##ANSWER DS    XL132          PARSE CSECT WORKAREA
         EJECT
** ALIAS, COMPRESS, CONTROL, COPY, DELETE, ISPMODE
**        OUT, PRINTOFF, REPRO, RESTORE, SPFEDIT
**        SRCHFOR, XMIT, OFFLOAD, SMPGEN, LOAD AREA:
#OUT     EQU   ##ANSWER+0,80    OUT: LOGICAL RECORD AREA
#CMXFLAG EQU   ##ANSWER+0,1     COMPRESS, COPY: SUMMARY/LIST/NOLIST
#DELFLAG EQU   ##ANSWER+0,1     DELETE: ALIAS/NOALIAS
#RESFLAG EQU   ##ANSWER+0,1     RESTORE: REPEAT/DISPLAY/PROMPT
#DELSAVE EQU   ##ANSWER+1,1     DELETE, COPY: SAVE AREA FOR FLAGSAA
#MEMFLAG EQU   ##ANSWER+2,1     MEMBERS: BIT FLAGS
#CMXSHR  EQU   ##ANSWER+2,1     COMPRESS, COPY: SHR/OLD/NEW
#RESTERR EQU   ##ANSWER+2,2     RESTORE CONSECUTIVE I/O ERRORS
#COPREP  EQU   ##ANSWER+3,1     COPY: REPLACE/NOREPLACE
#XMIOUT  EQU   ##ANSWER+3,1     XMIT: SYSOUT CLASS
#SRCTYP  EQU   ##ANSWER+3,1     SRCHFOR: PREFIX/SUFFIX/WORD
#SULREV  EQU   ##ANSWER+3,1     SUBLIST: REVERSE              DRK MAY16
#COPALI  EQU   ##ANSWER+4,1     COPY: ALIAS/NOALIAS
#XMIALI  EQU   ##ANSWER+4,1     XMIT: ALIAS/NOALIAS
#SRCALI  EQU   ##ANSWER+4,1     SRCHFOR: ALIAS/NOALIAS
#OFLALI  EQU   ##ANSWER+4,1     OFFLOAD: ALIAS/NOALIAS
#SMPALI  EQU   ##ANSWER+4,1     SMPGEN:  ALIAS/NOALIAS
#LMAALI  EQU   ##ANSWER+4,1     LMA:     ALIAS/NOALIAS
#COBALI  EQU   ##ANSWER+4,1     COBANAL: ALIAS/NOALIAS
#MATONLY EQU   ##ANSWER+4,1     MATCH: NEONLY/EQONLY
#RESTTST EQU   ##ANSWER+4,1     RESTORE: TEST
#COPTO#  EQU   ##ANSWER+5,1     COPY: TO(NAME) TEXT LENGTH
#XMINOT  EQU   ##ANSWER+5,1     XMIT: NOTIFY/NONOTIFY
#SMPMAC  EQU   ##ANSWER+5,1     SMPGEN: MAC
#LMALOUD EQU   ##ANSWER+5,1     LMA: LOUD
#AMBLOUT EQU   ##ANSWER+5,1     AMBLIST: XREF/BOTH
#COBLIST EQU   ##ANSWER+5,1     COBANAL: LIST/NOLIST
#SRCHEX  EQU   ##ANSWER+5,1     SRCHFOR: HEX
#OFLDISP EQU   ##ANSWER+5,1     OFFLOAD: OLD/SHR/MOD/NEW
#PTSDISP EQU   ##ANSWER+5,1     PTSEXP:  OLD/SHR/MOD/NEW
#SEPDISP EQU   ##ANSWER+5,1     LOAD:    OLD/SHR/XXX/NEW
#VPELIST EQU   ##ANSWER+5,1     VPDSE: LIST/NOLIST
#MATCOMP EQU   ##ANSWER+5,1     MATCH: DATA/USER
#COPNCAL EQU   ##ANSWER+6,1     COPY: CALL/NOCALL
#SEPLIST EQU   ##ANSWER+6,1     LOAD: LIST/NOLIST
#VPEPPD  EQU   ##ANSWER+6,1     VPDSE: PERFORMPENDINGDELETE
#XMILOG  EQU   ##ANSWER+6,1     XMIT: LOG/NOLOG
#SMPSRC  EQU   ##ANSWER+6,1     SMPGEN: SRC
#LMASHOW EQU   ##ANSWER+6,1     LMA: SHOWLIB
#COBSUMM EQU   ##ANSWER+6,1     COBANAL: SUMMARY/NOSUMMARY
#SRCLST  EQU   ##ANSWER+6,1     SRCHFOR: SLIST/NOSLIST
#OFLSEP  EQU   ##ANSWER+6,1     OFFLOAD: IEBUPDTE/NOSEP
#PTSLIST EQU   ##ANSWER+6,1     PTSEXP: LIST/NOLIST
#MATPARM EQU   ##ANSWER+6,10    MATCH: PARM
#REPADD  EQU   ##ANSWER+6,1     REPRO: ADDZAP/NOADDZAP
#VPEMSG  EQU   ##ANSWER+6,3     VPDSE: IEBPDSE MESSAGE NUMBER
#COPTRCY EQU   ##ANSWER+7,1     COPY: TRK/CYL
#OFLTRCY EQU   ##ANSWER+7,1     OFFLOAD: TRK/CYL
#PTSTRCY EQU   ##ANSWER+7,1     PTSEXP: TRK/CYL
#SEPTRCY EQU   ##ANSWER+7,1     LOAD: TRK/CYL
#XMIWARN EQU   ##ANSWER+7,1     XMIT: WARN/NOWARN
#SMPMACU EQU   ##ANSWER+7,1     SMPGEN: MACUPD
#LMAOSVS EQU   ##ANSWER+7,1     LMA: OSVSONLY
#SRCPAK  EQU   ##ANSWER+7,1     SRCHFOR: CKPACKL
#COPEXST EQU   ##ANSWER+8,1     COPY: EXIST/NOEXIST/NOBLDL
#SMPSRCU EQU   ##ANSWER+8,1     SMPGEN: SRCUPD
#LMAFPRS EQU   ##ANSWER+8,1     LMA: CKVOLFPRS
#SRCCOB  EQU   ##ANSWER+8,1     SRCHFOR: COBOL
#XMIDSNL EQU   ##ANSWER+8,2     XMIT: OUTDSNAME LENGTH
#RESTNAM EQU   ##ANSWER+8,8     RESTORE: MODULE NAME
#ISPLIST EQU   ##ANSWER+9,1     ISPMODE: LIST KEYWORD
#MEMCNTK EQU   ##ANSWER+9,1     MEMBERS: COUNT KEYWORD
#SMPINLN EQU   ##ANSWER+9,1     SMPGEN: INLINE
#LMAINFO EQU   ##ANSWER+9,1     LMA: LEINFO
#SRCSEQ  EQU   ##ANSWER+9,1     SRCHFOR: SEQ/NOSEQ
#COPVOL  EQU   ##ANSWER+10,6    COPY: VOLUME(VOLSER)
#OFLVOL  EQU   ##ANSWER+10,6    OFFLOAD: VOLUME(VOLSER)
#PTSVOL  EQU   ##ANSWER+10,6    PTSEXP: VOLUME(VOLSER)
#SEPVOL  EQU   ##ANSWER+10,6    LOAD: VOLUME(VOLSER)
#CPKVOL  EQU   ##ANSWER+10,6    CPKMAP: VOLSER
#LMASCAN EQU   ##ANSWER+10,1    LMA: LESCAN
#SRCLPF  EQU   ##ANSWER+10,1    SRCHFOR: LPSF
#LMALD   EQU   ##ANSWER+11,1    LMA: LISTLD
#MEMCNTM EQU   ##ANSWER+12,4    MEMBERS: COUNT OF MEMBERS
#COPTON  EQU   ##ANSWER+16,8    COPY: TO(NAME) TEXT
#XMIDDN  EQU   ##ANSWER+16,8    XMIT: OUTDDNAME
#RESTNUM EQU   ##ANSWER+16,4    RESTORE: COUNT OF DISPLAY RECORDS
#MATSAML EQU   ##ANSWER+20,1    MATCH: SAMLIST/SUBLIST        DRK NOV15
#MATVOL  EQU   ##ANSWER+21,6    MATCH: VOLUME(VOLSER)         DRK DEC15
#MATCHG  EQU   ##ANSWER+27,1    MATCH: CHANGED/DIRCHANGE/..   DRK JAN16
#CMXSYS3 EQU   ##ANSWER+32,14   COMPRESS: REQUEST A DDNAME
#CMXLIST EQU   ##ANSWER+32,8    COMPRESS: IEBCOPY PARM LIST
#RESTAPF EQU   ##ANSWER+34,1    RESTORE: APF DATA FROM LIKE
#RESTDIR EQU   ##ANSWER+35,33   RESTORE: DIRECTORY USER DATA
#CMXDDNA EQU   ##ANSWER+42,2    COMPRESS: LENGTH OF DDNAME LIST
#COPDIR# EQU   ##ANSWER+48,4    COPY: DIR(NUM)
#SEPDIR# EQU   ##ANSWER+48,4    LOAD: DIR(NUM)
#SMPREGS EQU   ##ANSWER+48,12   SMPGEN: REGISTER R3:R5 SAVE AREA
#XMIADD  EQU   ##ANSWER+48,20   XMIT: ADDRESSEE LIST
#SRCSTR  EQU   ##ANSWER+48,50   SRCHFOR: STRING
#LMADATE EQU   ##ANSWER+48,8    LMA: DATEFMT
#COBPARM EQU   ##ANSWER+48,10   COBANAL: PARM
#COPSPAC EQU   ##ANSWER+52,4    COPY: SPACE(PRIMARY,SECONDARY)
#OFLSPAC EQU   ##ANSWER+52,4    OFFLOAD: SPACE(PRIMARY,SECONDARY)
#PTSSPAC EQU   ##ANSWER+52,4    PTSEXP: SPACE(PRIMARY,SECONDARY)
#SEPSPAC EQU   ##ANSWER+52,4    LOAD: SPACE(PRIMARY,SECONDARY)
#COPCONC EQU   ##ANSWER+56,4    COPY: CONCAT(NUMBER)
#COPTYPE EQU   ##ANSWER+60,8    COPY: DSNTYPE(LIBRARY/PDS)
#LMASORT EQU   ##ANSWER+56,8    LMA: SORTBY
#LMASRTL EQU   ##ANSWER+64,2    LMA: SORTBY LENGTH
#REPRMAX EQU   ##ANSWER+64,4    REPRO: MAXIMUM BLOCKSIZE
#LMAPARM EQU   ##ANSWER+66,62   LMA: PARM
#REPRBLK EQU   ##ANSWER+68,4    COPY/REPRO: MAXBLK(SIZE)
#RESTSSI EQU   ##ANSWER+68,4    RESTORE: LOAD MODULE SSI DATA
#XMIDSN  EQU   ##ANSWER+68,46   XMIT: OUTDSNAME
#XMIMSG  EQU   ##ANSWER+114,1   XMIT: MESSAGE                 DRK AUG19
#USADSN  EQU   ##ANSWER+68,46   USAGE: QUOTED DSNAME FOR DSINFO
#SMPDIST EQU   ##ANSWER+68,8    SMPGEN: DISTLIB
#COPMAXG EQU   ##ANSWER+72,4    COPY: MAXGENS(NUMBER)         DRK MAY18
#SMPSYSL EQU   ##ANSWER+76,8    SMPGEN: SYSLIB
#SMPTXL  EQU   ##ANSWER+84,8    SMPGEN: TXLIB
#SMPDMOD EQU   ##ANSWER+92,8    SMPGEN: DISTMOD
#SMPREL  EQU   ##ANSWER+100,8   SMPGEN: RELFILE
#SMPTYPE EQU   ##ANSWER+108,8   SMPGEN: TYPE
#SMPSSI  EQU   ##ANSWER+116,8   SMPGEN: SSI
#SMPDISP EQU   ##ANSWER+124,1   SMPGEN: OLD/SHR
#RESTLIK EQU   ##ANSWER+72,8    RESTORE: LIKE MODEL MEMBER NAME
#SPFMACR EQU   ##ANSWER+72,8    SPFEDIT: MACRO NAME
#REPRLEN EQU   ##ANSWER+72,4    REPRO: CURRENT BUFFER LENGTH
#REPRBUF EQU   ##ANSWER+76,4    REPRO: BUFFER START
#COMMDSZ EQU   ##ANSWER+76,2    EXTERNAL SUBCOMMAND OPERAND LENGTH
#CMXDDIN EQU   ##ANSWER+76,8    COMPRESS: SYSIN DDNAME
#SPFPROF EQU   ##ANSWER+80,8    SPFEDIT: PROFILE NAME
#OUTREGS EQU   ##ANSWER+80,28   OUTCOPY REGISTER R2:R8 SAVE AREA
#RESTSEQ EQU   ##ANSWER+80,4    SEQUENTIAL MEMBER NAME COUNT
#RESTLEN EQU   ##ANSWER+84,4    MACHINE LENGTH OF ENTERED NAME
#CMXDDPR EQU   ##ANSWER+84,8    COMPRESS: SYSPRINT DDNAME
#RESTNA# EQU   ##ANSWER+88,1    RESTORE: MODULE NAME LENGTH
#ALIAESD EQU   ##ANSWER+89,1    ALIAS   MVS/XA RMODE/AMODE ESD FLAGS
#RESTESD EQU   ##ANSWER+90,1    RESTORE MVS/XA RMODE/AMODE ESD FLAGS
#RESTMOD EQU   ##ANSWER+91,1    RESTORE MVS/XA RMODE ESD SUMMARY AREA
#RESTSTR EQU   ##ANSWER+98,2+32 RESTORE: STRING LENGTH AND STRING
#SRCSTRL EQU   ##ANSWER+98,2    SRCHFOR: STRING LENGTH
#CMXDDT1 EQU   ##ANSWER+100,8   COMPRESS: SYSUT1 DDNAME
#SRCCOLL EQU   ##ANSWER+100,2   SRCHFOR: COLUMN LENGTH
#SRCCOL  EQU   ##ANSWER+102,7   SRCHFOR: COLUMN
#CMXDDT2 EQU   ##ANSWER+108,8   COMPRESS: SYSUT2 DDNAME
#CMXDDT3 EQU   ##ANSWER+116,8   COMPRESS: SYSUT3 DDNAME
#CMXDDT4 EQU   ##ANSWER+124,8   COMPRESS: SYSUT4 DDNAME
#OUTOPTN EQU   ##ANSWER+131,1   OUTCOPY TEXT/NOTEXT
         EJECT
** DIRENTRY, FIND, LIST AND REPLACE AREA:
#IGNCASE EQU   ##ANSWER+0,1     FIND: IGNORE CASE
#DIRSTAT EQU   ##ANSWER+0,1     DIRENTRY: ISPF/DEBUG
#REPFLAG EQU   ##ANSWER+1,1     UPDATE: REPLACE/NOREPLACE
#REPCNT  EQU   ##ANSWER+2,2     UPDATE: COUNT OF RECORDS UPDATED
#LISTIDU EQU   ##ANSWER+4,2     UPDATE: ESDID FIRST UPDATED
#LISTWD  EQU   ##ANSWER+6,2     WIDTH (16 OR 64)
#LISTMFF EQU   ##ANSWER+8,4     LIST MODULE AND OFFSET TOGETHER
#LISTN0  EQU   ##ANSWER+12,4    LIST: NEXT MEMBER DISPLACEMENT
#LISTN1  EQU   ##ANSWER+16,4    LIST: DISPLACEMENT IN LOAD MODULE
#LISTN2  EQU   ##ANSWER+20,4    LIST: DISPLACEMENT IN CSECT
*#ESDPTR  EQU  ##ANSWER+24,4    ADDRESS OF ESD DATA CHAIN
#LISTE1  EQU   ##ANSWER+28,4    LIST: END OF CSECT OR EXTERNAL SYMBOL
*#ACTIONT EQU  ##ANSWER+32,4    ACTION AFTER A SUCCESSFUL FIND
*#ACTIONE EQU  ##ANSWER+36,4    ACTION AFTER AN UNSUCCESSFUL FIND
#LFSAVE2 EQU   ##ANSWER+40,8    LIST/FIND SAVE AREA FOR R14 AND R15
#LFSAVE4 EQU   ##ANSWER+48,16   LIST/FIND SAVE AREA FOR R3, R4, R5 & R6
#SKIPCOL EQU   ##ANSWER+64,2    COLUMNS TO SKIP FOR EACH RECORD
#REPINCR EQU   ##ANSWER+66,2    FIND/REPLACE INCREMENT (0,1,3,7,15,79)
#SKIPREC EQU   ##ANSWER+68,4    RECORDS TO SKIP AT THE BEGINNING
#BLKCNT  EQU   ##ANSWER+72,4    LIST RECORD/BLOCK COUNTER
#LISTOFF EQU   ##ANSWER+76,4    LIST OFFSET
#LISTBUF EQU   ##ANSWER+84,4    LIST: UPDATE READ BUFFER
#LISTFLG EQU   ##ANSWER+88,1    LIST CSECT FLAG
#DIRSHOR EQU   ##ANSWER+89,1    DIRENTRY: SHORT/LONG
#LISTID  EQU   ##ANSWER+90,2    LIST ESDID
#LISTVIR EQU   ##ANSWER+92,4    VIRTUAL LOAD MODULE START ADDRESS
#LISTENT EQU   ##ANSWER+96,4    CURRENT ESD ENTRY
#LUSAVE4 EQU   ##ANSWER+100,16  LIST: SAVE AREA FOR R14:R1
#MAXLEN  EQU   ##ANSWER+116,4   MAXIMUM RECORD LENGTH
#MAXFIND EQU   ##ANSWER+120,4   MAXIMUM RECORD LENGTH
#MAXIN   EQU   ##ANSWER+124,4   MAXIMUM RECORDS TO READ
#MAXOUT  EQU   ##ANSWER+128,4   MAXIMUM DATA LINES TO OUTPUT
         EJECT
** ATTRIB, IF, HISTORY AND MAP SUBCOMMAND AREA:
#ZAPOPT  EQU   ##ANSWER+0,1  ** ZAP(PARTNAME)             (LOAD ONLY)
#USEROPT EQU   ##ANSWER+1,1  ** USERDATA(PARTNAME)        (LOAD ONLY)
#TRANOPT EQU   ##ANSWER+2,1  ** TRANS(PARTNAME)           (LOAD ONLY)
#LKEDOPT EQU   ##ANSWER+3,1  ** LKED(PARTNAME)            (LOAD ONLY)
#MODOPT  EQU   ##ANSWER+4,1  ** MODULE(PARTNAME)          (LOAD ONLY)
#RLDERR  EQU   ##ANSWER+5,1  ** RLDERR/NORLDERR           (LOAD ONLY)
#ATTRYES EQU   ##ANSWER+6,2  ** BITS ON FOR ATTR/IF       (LOAD ONLY)
#ATTRNO  EQU   ##ANSWER+8,2  ** BITS OFF FOR ATTR/IF      (LOAD ONLY)
#AUTHOPT EQU   ##ANSWER+10,1 ** AUTH/NOAUTH               (LOAD ONLY)
#PAGEOPT EQU   ##ANSWER+11,1 ** PAGE/NOPAGE               (LOAD ONLY)
#RMODE   EQU   ##ANSWER+12,1 ** RMODE24/RMODEANY          (LOAD ONLY)
#AMODE   EQU   ##ANSWER+13,1 ** AMODE24/AMODE31/AMODEANY  (LOAD ONLY)
#VSLKED  EQU   ##ANSWER+14,1 ** VSLKED/NOVSLKED           (LOAD ONLY)
#LOADERR EQU   ##ANSWER+15,1 ** LOADERR/NOLOADERR         (LOAD ONLY)
#LKEDERR EQU   ##ANSWER+16,1 ** CONFLICT/NOCONFLICT       (LOAD ONLY)
#RLD0    EQU   ##ANSWER+17,1 ** RLDZERO/NORLDZERO         (LOAD ONLY)
#APFERR  EQU   ##ANSWER+18,1 ** APFERR/NOAPFERR           (LOAD ONLY)
#MODLEN  EQU   ##ANSWER+19,1    PARTNAME LENGTH FOR MODULE(..
#PACKED  EQU   ##ANSWER+19,1    IF: PACKED/NOPACKED           DRK APR18
#MAPOPT  EQU   ##ANSWER+20,1    SHORT/FULL/ENTRY
#LONGOPT EQU   ##ANSWER+20,1    ATTRIB: LONG
#XSTATS  EQU   ##ANSWER+20,1    IF: XSTATS/NOXSTATS (SPF XSTATS)
#MAPMCS  EQU   ##ANSWER+21,1    MAP: MCS
#ALIAOPT EQU   ##ANSWER+21,1    ALIAS/NOALIAS
#USERIDO EQU   ##ANSWER+22,1    ID(PUSER)/NOTID(PUSER)/NOID
#OPTOPT  EQU   ##ANSWER+23,1    PROCESSING OPTIONS SUMMARY
#ESDPTR  EQU   ##ANSWER+24,4    ADDRESS OF ESD DATA CHAIN
#IDRPTR  EQU   ##ANSWER+28,4    ADDRESS OF IDR DATA CHAIN
#ACTIONT EQU   ##ANSWER+32,4    ACTION AFTER A SUCCESSFUL FIND
#ACTIONE EQU   ##ANSWER+36,4    ACTION AFTER AN UNSUCCESSFUL FIND
#ATTRLO  EQU   ##ANSWER+40,3    LOWER TTR LIMIT FROM TTR(LOW:HIGH)
#ATTRHI  EQU   ##ANSWER+43,3    UPPER TTR LIMIT FROM TTR(LOW:HIGH)
#ZAPLEN  EQU   ##ANSWER+46,1 ** PARTNAME LENGTH FOR ZAP(..
#USERLEN EQU   ##ANSWER+47,1 ** PARTNAME LENGTH FOR USERDATA(..
#TRANLEN EQU   ##ANSWER+48,1 ** PARTNAME LENGTH FOR TRANS(..
#LKEDLEN EQU   ##ANSWER+49,1    PARTNAME LENGTH FOR LKED(..
#USERIDL EQU   ##ANSWER+50,1    ID(NAME) LENGTH
#UNALIAS EQU   ##ANSWER+50,1    ATTRIB: UNALIAS KEYWORD
#SSIOPT  EQU   ##ANSWER+51,1    SSI/NOSSI
#ADDSTAT EQU   ##ANSWER+52,1    ATTRIB: NONE/ADDSTATS
#EXTEND  EQU   ##ANSWER+53,1    ATTRIB: NOEXTEND/EXTEND (SPF STATS)
#IFABOVE EQU   ##ANSWER+52,4 ** ABOVE(COUNT)           (MAYBE READ)
#IFBELOW EQU   ##ANSWER+56,4 ** BELOW(COUNT)           (MAYBE READ)
#IOERROR EQU   ##ANSWER+60,1 ** IOERROR/NOIOERROR      (IMPLIES READ)
#BLOCKER EQU   ##ANSWER+61,1 ** BLOCKERR/NOBLOCKERR    (IMPLIES READ)
#LRECLER EQU   ##ANSWER+62,1 ** LRECLERR/NOLRECLERR    (IMPLIES READ)
#NULL    EQU   ##ANSWER+63,1 ** NULL/NONULL            (IMPLIES READ)
#AALIAS  EQU   ##ANSWER+64,1    APPARENTALIAS/NOAPPARENTALIAS
#ORPHAN  EQU   ##ANSWER+65,1    ORPHAN/NOORPHAN
#SPFEDIT EQU   ##ANSWER+66,1    SPFEDIT/NOSPFEDIT
#NAMEERR EQU   ##ANSWER+67,1    NAMEERR/NONAMEERR
#LKEDTXT EQU   ##ANSWER+68,10   LKED(NAME) TEXT
#IFLEN   EQU   ##ANSWER+68,4    LENGTH OF MODULE OR NUMBER OF LINES
#TRANTXT EQU   ##ANSWER+78,10   TRAN(NAME) TEXT
#HASALIA EQU   ##ANSWER+88,1    HASALIAS/NOHASALIAS  (1 -- AVAILABLE)
#MAXBLKI EQU   ##ANSWER+90,2    IF: MAXBLK(SIZE)
#SSITEXT EQU   ##ANSWER+92,4    SSI(ABCDABCD) CONVERTED TEXT
#MODTXT  EQU   ##ANSWER+96,8    MODULE(NAME) TEXT
#IFMODIF EQU   ##ANSWER+104,6   IF CHANGED(84047:84050)
#IFCREIF EQU   ##ANSWER+110,6   IF CREATED(84047:84050)
#ZAPTXT  EQU   ##ANSWER+116,8   ZAP(NAME) TEXT
#ATTROPT EQU   ##ANSWER+116,1   ATTRIB OPTIONS FOR SOURCE TEXT
#ATTRVER EQU   ##ANSWER+117,1   ATTRIB: VER NUMBER
#ATTRMOD EQU   ##ANSWER+118,1   ATTRIB: MOD NUMBER
#ATTRTIM EQU   ##ANSWER+90,2    ATTRIB: CHANGED TIME          DRK FEB01
#ATTRSEC EQU   ##ANSWER+88,1    ATTRIB: CHANGED TIME SECONDS  DRK FEB01
#USERTXT EQU   ##ANSWER+124,8   USERDATA(NAME)/ID(USERID7) TEXT
         EJECT
** EDIT, FIXPDS, FSE, RENAME, SPFEDIT AND VERIFY SUBCOMMAND AREA:
#FIXOPT  EQU   ##ANSWER+0,1     FIXPDS DCB/RESET/INITDIR/EXPAND/FREEDIR
#EDITOLD EQU   ##ANSWER+0,1     TSOEDIT OLD/NEW
#SPFOLD  EQU   ##ANSWER+0,1     EDIT    OLD/NEW
#VERLOAD EQU   ##ANSWER+0,1     VERIFY  LOAD/NOLOAD
#FIXOPT2 EQU   ##ANSWER+1,1     FIXPDS  RELEASE/RESERVE
#VERUPDT EQU   ##ANSWER+1,1     VERIFY  UPDATE/NOUPDATE
#EDITNON EQU   ##ANSWER+1,1     EDIT    NONUM
#EDITASI EQU   ##ANSWER+2,1     EDIT    ASIS
#VERREAD EQU   ##ANSWER+2,1     VERIFY  READ/NOREAD
#FIXCHK  EQU   ##ANSWER+2,1     FIXPDS  CHECK/NOCHECK
#VERSTND EQU   ##ANSWER+3,1     VERIFY  STANDARD/NOSTANDARD
#FIXRES  EQU   ##ANSWER+4,4     FIXPDS  RESERVE QUANTITY
#VERSTAT EQU   ##ANSWER+4,1     VERIFY  STATS/NOSTATS
#EDITTYP EQU   ##ANSWER+4,4     EDIT    TYPE (CNTL, ASM, OR ...)
#VERNLKD EQU   ##ANSWER+5,1     VERIFY  LKED/NOLKED
#VERSIZE EQU   ##ANSWER+6,1     VERIFY  SIZE/NOSIZE
#VERMBR  EQU   ##ANSWER+8,8     VERIFY  MEMBER NAME
#RECFM   EQU   ##ANSWER+8,4     RECORD FORMAT DESIRED FOR FIXPDS
#LRECL   EQU   ##ANSWER+12,4    LRECL DESIRED FOR FIXPDS
#BLKSI   EQU   ##ANSWER+16,4    BLKSIZE DESIRED FOR FIXPDS
#MAXBLKV EQU   ##ANSWER+16,2    VERIFY: MAXBLK(SIZE)
#RENREP  EQU   ##ANSWER+16,8    RENAME REPBY NAME
#NEWDIR  EQU   ##ANSWER+20,4    DIRECTORY BLOCKS DESIRED FOR FIXPDS
#MEMPTR  EQU   ##ANSWER+24,4    BASE FOR THE MEMBER NAME LIST
#MEMLAST EQU   ##ANSWER+28,4    END OF MEMBER LIST POINTER
#NOTEPTR EQU   ##ANSWER+28,4    BASE FOR THE NOTELIST
#RENSWAP EQU   ##ANSWER+28,1    SWAP/NOSWAP FOR RENAME
#RENRANG EQU   ##ANSWER+29,1    GROUP/NOGROUP FOR RENAME
#RENDEFT EQU   ##ANSWER+30,21   FLAGS, L1, M1, M2, L2 FOR RENAME
#MEMCNT  EQU   ##ANSWER+32,4    COUNT OF RECORDS IN THIS MEMBER
#FINDTTR EQU   ##ANSWER+32,4    LAST MEMBER TTR
#OPTCD   EQU   ##ANSWER+36,4    OPTCD DESIRED FOR FIXPDS
#SAVEREG EQU   ##ANSWER+36,4*7  REGISTER SAVE AREA
#FIXTTRI EQU   ##ANSWER+36,4    LAST INPUT TTR
#FIXTTRO EQU   ##ANSWER+40,4    LAST OUTPUT TTR
#EOF1TTR EQU   ##ANSWER+44,4    TTR OF ORIGINAL DIRECTORY EOF
#EOF2TT  EQU   ##ANSWER+48,4    TT OF NEW DIRECTORY EOF
#DIRFIX  EQU   ##ANSWER+52,12   TEMPORARY STOW AND DELETE MEMBER
#DIRBTRK EQU   ##ANSWER+64,4    NUMBER OF DIRECTORY BLOCKS PER TRACK
#VERCREC EQU   ##ANSWER+64,4    VERIFY COMPRESS TRACK RECORD NUMBER
#VERCTRK EQU   ##ANSWER+68,4    VERIFY COMPRESS TRACK NUMBER
#FIXOPT3 EQU   ##ANSWER+68,4    FIXPDS ADDTRK/ADDCYL AND NUMBER TO ADD
#VERCBAL EQU   ##ANSWER+72,4    VERIFY COMPRESS TRACK BALANCE
#VERCREG EQU   ##ANSWER+76,4    VERIFY COMPRESS REGISTER SAVE
#VERCLOG EQU   ##ANSWER+80,4    VERIFY COUNT LOGICAL RECORDS
#VERCBLK EQU   ##ANSWER+84,4    VERIFY COUNT PHYSICAL BLOCKS
#VERCBLC EQU   ##ANSWER+88,4    VERIFY COUNT PHYSICAL CHARACTERS
#VERMEM  EQU   ##ANSWER+92,8    VERIFY LAST MEMBER NAME CHANGED
#VERMAX  EQU   ##ANSWER+100,4   VERIFY MAXIMUM BLOCKSIZE READ
#VERR4   EQU   ##ANSWER+104,16  VERIFY WORK AREA
#RTYPE   EQU   ##ANSWER+120,1   FIXPDS DATA TYPE (LOAD/OBJECT/ ET AL)
#VERMAXV EQU   ##ANSWER+120,4   VERIFY MAXIMUM RECFM=V LRECL SIZE
##THEEND EQU   ##ANSWER         END OF PARSE WORKAREA EQUATES DRK JUN18
         SPACE 1
#LSUB    EQU   *-##SUBCOM     RESET LENGTH FOR SUBCOMMANDS
         SPACE 1
#SUBHOLD DS    CL8,3AL4,CL8,2AL2,CL132  RESET SAVE AREA FOR SUBCOMMANDS
         TITLE 'P D S  --  PDS DYNAMIC AREA                    3/04/87'
CCWS     DS    0D
CCW1A    CCW   X'31',IOBSEEK-IOBSEEK+3,X'60',5  SEARCH ID EQUAL (CCHHR)
CCW2A    CCW   X'08',*-8-(*-8),X'60',1          TIC
CCW3A    CCW   X'92',IOBSEEK-IOBSEEK+3,X'20',8  MT READ NEXT COUNT
*
CCW0     CCW   X'23',SNO-SNO,X'60',1            SET SECTOR
CCW1     CCW   X'31',IOBSEEK-IOBSEEK+3,X'60',5  SEARCH ID EQUAL (CCHHR)
CCW2     CCW   X'08',*-8-(*-8),X'60',1          TIC
CCW3     CCW   X'0E',*-*,X'60',32768            READ KEY AND DATA
CCW4     CCW   X'08',*+8-(*+8),X'60',1          TIC (OR MT READ CKD)
CCW5     CCW   X'92',IOBSEEK-IOBSEEK+3,X'60',8  MT READ NEXT COUNT
CCW6     CCW   X'22',SNO-SNO,X'20',1            READ SECTOR NUMBER
LCCWINIT EQU   *-CCWS
         SPACE 2
IOB      DC    X'C2000000'
IOBECB   DC    A(IOECB)
IOBCSW   DC    2A(0)
IOBCCW   DC    A(CCW0)
IOBDCB   DC    A(INDCB)
         DC    2A(0)
IOBSEEK  DC    2A(0)       *** NEXT MBBCCHHR ADDRESS
KEYLN    DS    X           *** NEXT KEYLENGTH
DATALN   DS    2X          *** NEXT RECORD LENGTH
SNO      DS    X           *** NEXT SECTOR NUMBER
IOECB    DS    F           *** ECB FOR EXCP
CUREXT   DS    F           *** CURRENT DATA SET EXTENT
LIOBDIR  EQU   *-IOBSEEK
         SPACE 2
IODIR1   DS    A,12C,2A        PRIMARY DIRECTORY GROUP INPUT CONTROL
IODIR2   DS    A 12C,2A********SECONDARY DIRECTORY GROUP INPUT CONTROL
IOBUFF1  DS    A,12C,2A        PRIMARY INPUT BUFFER CONTROL
IOBUFF2  DS    A 12C,2A********SECONDARY INPUT BUFFER CONTROL CONTROL
         SPACE 1
DIRPTRS  DS    3A              READDIR DIRECTORY POINTERS
DIRPTRS2 DS    3A              READDIR DIRECTORY POINTERS FOR GROUPS
EXCPWRK  DS    CL12            WORK AREA FOR EXCP ROUTINE
CURMBB   DS    XL8             CURRENT MBBCCHHR ADDRESS
CURDIR   DS    XL8             LAST DIRECTORY ADDRESS FOR A GROUP
LSTARMBB DS    XL8             DS1LSTAR IN MBBCCHHR FORMAT
EXCPCCWI DS    A               INITIAL CCW (CCW0 OR CCW1)
STARTTR  DS    F               INITIAL TTR TO READ
LS       DS    F               CURRENT RECORD LENGTH
         EJECT
***      KEEP THE NEXT THREE STATEMENTS TOGETHER    ***
IBUFPTR  DS    F  **********   POINTER TO CURRENT I/O CONTROL BLOCK
ISAVSEEK DS    F  **********   POINTER TO IODIR1+4 OR IOBUFF1+4
ICONTROL DS    F  **********   POINTER TO IODIRCUR OR IOBUFCUR
IODIRCUR DS    F               CURRENT LOGICAL INPUT RECORD
IODIRADD DS    F               CURRENT CCHH ADDRESS
IOBUFCUR DS    F               CURRENT LOGICAL INPUT RECORD
IOBUFADD DS    F               CURRENT CCHH ADDRESS
IBUFSAV  DS    3F              SAVEAREA FOR IBUFPTR, ISAVSEEK, ICONTROL
INUMSAV  DS    H               NUMBER OF ELEMENTS TO SAVE (1 TO 20)
INXTSAV  DS    H               NEXT AVAILABLE SAVE ELEMENT (1 TO 20)
         SPACE 2
MEMNAME  DS    CL8            DIRECTORY NAME FOR READDIR
MEMTTR   DS    XL3            TTR ADDRESS FOR READDIR
MEMFLAG  DS    X              FLAG BYTE FOR READDIR
         SPACE 2
PMEMMIN  DS    F              FIRST MEMBER LIST POINTER
PMEMCURR DS    F              CURRENT MEMBER LIST POINTER
PMEMMAX  DS    F              LAST MEMBER LIST POINTER
         SPACE 1
MMEMMIN  DS    F              SUBLIST: FIRST MEMBER LIST POINTER
MMEMCURR DS    F              CURRENT MEMBER LIST POINTER
MMEMMAX  DS    F              LAST MEMBER LIST POINTER
         SPACE 1
PMEMHOLD DS    F              MEMBER PROCESSING HOLD FOR ATTENTION
MMEMBERD DS    XL1,XL2,CL8,CL8,XL2,XL3
         SPACE 2
ENTRYPT  DS    CL8            MODULE ENTRY POINT NAME
LKEDDATE DS    XL3
LKEDTIME DS    XL4            LKED TIMESTAMP (APAR OW29593)   DRK MAY99
LKEDNAME DS    XL10
LKEDVVMM DS    XL4
COBTIME  DS    XL4            COBOL MVS, OS/390 TIMESTAMP     DRK MAY99
COBDATE  DS    XL6            COBOL MVS, OS/390 TIMESTAMP     DRK DEC02
         SPACE 3
IODONE   DS    H             **  INPUT ROUTINE ENTRIES
IODONEW  DS    H             **  NUMBER OF TTR CHANGES
IOLOGUSE DS    H             **  INITIATED SECOND BUFFER USES
IOPHYTRK DS    H             **  NUMBER OF READ MULTIPLES
IOEDIR   DS    H             **  NUMBER OF PDSE DIRECTORY BLKS
         SPACE 3
DEVTYPE  DS    F             **  UCBTYPE INFORMATION
DEVTBLK  DS    F             **  MAXIMUM BLOCKSIZE
         DS    H             **  PHYSICAL CYLINDERS
DEVTTRKS DS    H             **  TRACKS/CYLINDER
DEVTMAXT DS    H             **  MAXIMUM TRACK LENGTH
         DS    H             **  BLOCK OVERHEAD
         DS    F             **  BLOCK OVERHEAD
DEVRPS   DS    F             **  RPS DATA
         TITLE 'P D S  --  PDS DYNAMIC AREA -- MF=L MACROS     3/04/87'
         PRINT GEN
STAEPARM ESTAE *-*,CT,PARAM=*-*,TERM=YES,MF=L
         SPACE 1
STAXPARM STAX  *-*,REPLACE=YES,IBUF=0,OBUF=0,MF=L
         SPACE 1
         WRITE FIXPDSD,SF,*-*,*-*,'S',MF=L
         SPACE 1
         WRITE FIXPDS2,SF,*-*,*-*,'S',MF=L
         SPACE 1
*INKSFL  LINK   EPLOC=*-*,SF=L
         AIF   ('&PDSMAIN' EQ 'YES').PDSMAIN
* THE FOLLOWING BRANCH TO PDSMAIN USING THE SAME TARGET NAME
$TMSGRT  DS    A     1    ** KEEP THESE IN SYNC WITH PDSINIT
MESSAGE0 DS    A     2    ** KEEP THESE IN SYNC WITH PDSINIT
MESSTXT1 DS    A     3    ** KEEP THESE IN SYNC WITH PDSINIT
ATTACH   DS    A     4    ** KEEP THESE IN SYNC WITH PDSINIT
READDIR  DS    A     5    ** KEEP THESE IN SYNC WITH PDSINIT
NEWSTAX  DS    A     6    ** KEEP THESE IN SYNC WITH PDSINIT
NEWCMD   DS    A     7    ** KEEP THESE IN SYNC WITH PDSINIT
RESTART0 DS    A     8    ** KEEP THESE IN SYNC WITH PDSINIT
DEFGROUP DS    A     9    ** KEEP THESE IN SYNC WITH PDSINIT
EXIT8N   DS    A    10    ** KEEP THESE IN SYNC WITH PDSINIT
EXIT8M   DS    A    11    ** KEEP THESE IN SYNC WITH PDSINIT
M$PUTGT  DS    A    12    ** KEEP THESE IN SYNC WITH PDSINIT
CONVDATE DS    A    13    ** KEEP THESE IN SYNC WITH PDSINIT
SHUTSTW2 DS    A    14    ** KEEP THESE IN SYNC WITH PDSINIT
SHUTSTOW DS    A    15    ** KEEP THESE IN SYNC WITH PDSINIT
OPENSTOW DS    A    16    ** KEEP THESE IN SYNC WITH PDSINIT
ENQMTEST DS    A    17    ** KEEP THESE IN SYNC WITH PDSINIT
SPFRECUR DS    A    18    ** KEEP THESE IN SYNC WITH PDSINIT
CLOSEIT  DS    A    19    ** KEEP THESE IN SYNC WITH PDSINIT
RESTART2 DS    A    20    ** KEEP THESE IN SYNC WITH PDSINIT
M$PUTLIN DS    A    21    ** KEEP THESE IN SYNC WITH PDSINIT
DEALLDCB DS    A    22    ** KEEP THESE IN SYNC WITH PDSINIT
RESERVE  DS    A    23    ** KEEP THESE IN SYNC WITH PDSINIT
DEQ      DS    A    24    ** KEEP THESE IN SYNC WITH PDSINIT
ABEND0C1 DS    A    25    ** KEEP THESE IN SYNC WITH PDSINIT
YESNO    DS    A    26    ** KEEP THESE IN SYNC WITH PDSINIT
MEMSNEXT DS    A    27    ** KEEP THESE IN SYNC WITH PDSINIT
EXIT12O  DS    A    28    ** KEEP THESE IN SYNC WITH PDSINIT
DEALLOCZ DS    A    29    ** KEEP THESE IN SYNC WITH PDSINIT
CALLCMDZ DS    A    30    ** KEEP THESE IN SYNC WITH PDSINIT
YESNO1   DS    A    31    ** KEEP THESE IN SYNC WITH PDSINIT
ATTACH2  DS    A    32    ** KEEP THESE IN SYNC WITH PDSINIT
MFILTER  DS    A    33    ** KEEP THESE IN SYNC WITH PDSINIT
         AGO   .PDSSUBR
.PDSMAIN ANOP
COMMENTR DS    33A        ** NOTE CORRESPONDING NUMBER
.PDSSUBR ANOP
DIRHOLD  DS    CL8        ** HIGHEST NAME ENCOUNTERED FOR DELETE
         TITLE 'P D S  --  PDS DYNAMIC AREA                    3/04/87'
DIRLINK  DS    0F             ***   DIRECTORY AREA MAPPING  ***
BLDLLIST DS    XL4
DIRNAME  DS    CL8
DIRTTR   DS    XL3
DIRFLAG  DS    X
DIRALIAS EQU   X'80'          MEMBER IS AN ALIAS
DIR2TTR  EQU   X'40'          TWO TTR'S TO UPDATE
DIR1TTR  EQU   X'20'          ONE TTR TO UPDATE
DIRUSER  DS    XL62
         ORG   DIRUSER  FOLLOWING FOR LOAD MODULES
DIRSTART DS    XL4            TTR OF FIRST TEXT BLOCK
DIRNOTE  DS    XL3            TTR OF NOTELIST
DIRNOTE# DS    X              NUMBER OF NOTELIST ENTRIES
DIRATTR  DS    XL2            MEMBER ATTRIBUTES
DIRSTORE DS    XL3            SIZE OF LOAD MODULE
DIRTEXTL DS    XL2            LENGTH OF 1ST TEXT RECORD
DIREPA   DS    XL3            ENTRY POINT ADDRESS
DIRATTR2 DS    X          ADDITIONAL ATTRIBUTE BYTES:
DIRAOSLE EQU   X'80'          VS LINKAGE EDITOR CREATED THIS MODULE
DIR2BIG  EQU   X'40'          REQUIRES 16M OR MORE OF VIRTUAL STORAGE
DIR2PAGA EQU   X'20'          PAGE ALIGNMENT REQUIRED FOR THIS MODULE
DIR2SSI  EQU   X'10'          SSI INFORMATION IS PRESENT FOR MODULE
DIRAPFLG EQU   X'08'          APF INFORMATION FOR THIS MODULE IS VALID
DIR2LFMT EQU   X'04'          MODULE IS IN PROGRAM OBJECT FORMAT
DIRATTR3 DS    X          ADDITIONAL ATTRIBUTE BYTES:
DIRRMANY EQU   X'10'          RMODE=ANY
DIRRM64  EQU   X'20'          RMODE=64                        DRK APR18
DIRAA31  EQU   X'08'          AMODE=31 (ALIAS ENTRY)
DIRAA64  EQU   X'04'          AMODE=64 (ALIAS ENTRY)          DRK OCT02
DIRAA24  EQU   X'00'          AMODE=24 (ALIAS ENTRY)          DRK OCT02
DIRAM31  EQU   X'02'          AMODE=31 (MAIN ENTRY)
DIRAM64  EQU   X'01'          AMODE=64 (MAIN ENTRY)           DRK OCT02
DIRAM24  EQU   X'00'          AMODE=24 (MAIN ENTRY)           DRK OCT02
DIRATTR4 DS    X              COUNT OF RLD ENTRIES AFTER FIRST TEXT
         SPACE 1
DIRAPF   DS    0XL2           APF (IF NOT SCAT, SSI OR ALIAS)
DIREP    DS    XL3            ENTRY POINT (MAIN MEMBER)
DIRREAL  DS    CL8            REAL NAME OF MEMBER
DIRAPF2  DS    XL2            APF INFORMATION (ALIAS, NO SCAT OR SSI)
DIREND2  DS    0X             END OF ALIAS SECTION
         ORG   DIRAPF    FOLLOWING FOR SCATTER LOADED MEMBERS
DIRSCLL  DS    XL2            LENGTH OF SCATTER LIST
DIRSCTL  DS    XL2            LENGTH OF TRANSLATE TABLE
DIRSCET  DS    XL2            ESDID OF FIRST TEXT RECORD
DIRSCEP  DS    XL2            ESDID OF ENTRY POINT
DIRAPF3  DS    0XL2           APF (IF SCAT, NO SSI AND NO ALIAS)
DIREPSC  DS    XL3            ENTRY POINT (MAIN MEMBER)
DIRREALS DS    CL8            REAL NAME OF MEMBER
DIRAPF4  DS    XL2            APF INFORMATION (SCAT, NO SSI AND ALIAS)
DIREND3  DS    0X             END OF SCATTER, ALIAS SECTION
*
         ORG   DIRUSER   FOLLOWING FOR MODULES SAVED BY SPF EDIT
DIRSPFV  DS    XL1            VERSION NUMBER IN BINARY
DIRSPFR  DS    XL1            REVISION NUMBER IN BINARY
DIRSPFZ  DS    0XL2           NOT CURRENTLY USED
DIRSPFFL DS    XL1            FLAGS
DIRSPFSC EQU   X'80'          SCLM
DIRSPFXS EQU   X'20'          EXTENDED STATS
DIRSPFCS DS    XL1            LAST CHANGE TIME IN FORMAT SS
*
DIRSPFCR DS    XL4            CREATION DATE IN FORMAT 00YYDDDF
DIRSPFCD DS    XL4            LAST CHANGE DATE IN FORMAT 00YYDDDF
DIRSPFCT DS    XL2            LAST CHANGE TIME IN FORMAT HHMM
DIRSPFSI DS    XL2            CURRENT SIZE IN BINARY
DIRSPFIN DS    XL2            INITIAL SIZE IN BINARY
DIRSPFMD DS    XL2            MODIFIED LINES IN BINARY
DIRSPFID DS    CL8            ID OF LAST PERSON TO UPDATE
DIRSPXSI DS    XL4            CURRENT SIZE IN BINARY - EXTENDED STATS
DIRSPXIN DS    XL4            INITIAL SIZE IN BINARY - EXTENDED STATS
DIRSPXMD DS    XL4            MODIFIED LINES IN BINARY - EXTENDED STATS
*                             END OF SPF SECTION
         ORG   ,
DIREND   DS    0X             END OF DIRECTORY INFORMATION
         DS    XL2 (74 BYTES)  PADDING FOR:    MVC    DIRFLAG,DIRFLAG+2
         SPACE 3
         IKJEFFMT
         SPACE 3
         DS    0F             ***   FORMAT 1 DSCB  ***
         ORG   *-44
         IECSDSL1 (1)         FORMAT 1 DSCB
         ORG   ,
         SPACE 2
         AGO   .NMVS12B                                       DRK JUN01
         AIF ('&MVSLEV' GT 'MVS12X').NMVS12B
DS1DSGIS EQU   X'80'          ISAM
DS1DSGPS EQU   X'40'          SEQUENTIAL
DS1DSGDA EQU   X'20'          DIRECT
DS1DSGPO EQU   X'02'          PARTITIONED
DS1DSGU  EQU   X'01'          UNMOVEABLE
DS1ACBM  EQU   X'08'          VSAM
.NMVS12B ANOP
         TITLE 'P D S  --  PDS DYNAMIC AREA -- GENERAL FAIL    3/04/87'
GFPARMP  DS    F              POINTER TO START OF GENERAL FAIL PARMS
         IKJEFFGF
         TITLE 'P D S  --  PDS DYNAMIC AREA -- DEFAULT RTN.    3/04/87'
PARMPARS DS    F     AD.XDC.XDCCMDS(PDS86)PARAMETERS (OVERLAY DFPARMS)
         IKJEFFDF
         ORG   DFBUFS         NO CALLER-SUPPLIED BUFFERS NEEDED
         SPACE 3
PARMSTAK DS    F              START CURRENT GETLINE STACK ADDRESS
DEVLISTP DS    A              SUBPOOL 25 EDTINFO DEVICE LIST  DRK JUN98
*XMITBUF DS    A              SUBPOOL 26 XMIT COMMAND BUFFER  DRK APR06
*PDSEDIR DS    A              SUBPOOL 19 QSAM GET PDSE BUFFER  GP SEP05
*DESERVB DS    A              SUBPOOL 18 DESERV GET_ALL BUFFER GP JUL10
*BINDAPI DS    A              SUBPOOL 21 BINDER API WORK AREA  GP SEP05
NUMDASD  EQU   &MAXDASD       MAX NUM OF DASD FOR LV GENERIC  DRK JUN98
DEVLISTH EQU   8              DEVICE NUMBER LIST HEADER       DRK JUN98
DEVLISTL EQU   NUMDASD*4+DEVLISTH  LENGTH OF DEVICE LIST AREA DRK JUN98
GENERIC  DS    CL8            EDTINFO UNITNAME                DRK JUN98
#CONDLVL DS    CL1            CONDEND LEVEL WARNINGS/ERRORS   DRK APR08
#CONDRC  DS    CL1            CONDEND RC    4=WARN, 8=ERR     DRK APR08
SWEPAPTR DS    A              POINTER TO SWAREQ EPA           DRK AUG99
EPA      DS    CL28           SWAREQ EXTERNAL PARAMETER AREA  DRK AUG99
XSIZE    EQU   SWEPAPTR,6     EXTENDED SPF STATS WORKAREA     DRK AUG09
XSORTKEY EQU   SWEPAPTR+6,1   EXTENDED SPF STATS SORTKEY      DRK AUG09
DIRSAVE  EQU   SWEPAPTR,30    REGULAR  SPF STATS SAVEAREA     DRK SEP09
COBVERS  EQU   SWEPAPTR       LE-COMPLIANT COBOL VERSION/RLSE DRK NOV18
XMIBUFFP EQU   SWEPAPTR       XMIT COMMAND BUFFER             DRK APR06
HHMMSS   EQU   SWEPAPTR       IPL TIME                        DRK NOV06
PAGEUSED EQU   SWEPAPTR,26    PDSE PAGES USED, PCT USED       DRK FEB07
PDSEFORM EQU   SWEPAPTR,20    PDSE VERSION, MAXGENS           DRK JUN16
PACK     EQU   SWEPAPTR,7     FIELDS TO CONVERT TIME AND DATE THG MAR06
UNPACK   EQU   SWEPAPTR+7,13   FOR LCS COMMAND                THG MAR06
NUMTSU   EQU   1024           NUMBER OF TSO USERS FOR GETMAIN DRK FEB10
TSUADDR  EQU   SWEPAPTR,4     SUBPOOL 27 TSO USERS TABLE      DRK FEB10
TSUWIDTH EQU   SWEPAPTR+4,4                                   DRK FEB10
TSUEND   EQU   SWEPAPTR+8,4                                   DRK FEB10
FAMSADDR EQU   SWEPAPTR,4     SUBPOOL 28 FAMS WORK AREA       DRK SEP10
SAVELSTC EQU   SWEPAPTR,12    SAVEAREA FOR LISTC SUBRTN       DRK SEP10
LOCVOL   EQU   SWEPAPTR,6     VOLSER RETURNED FROM LOCATE     DRK DEC15
#DSMPGM  EQU   SWEPAPTR,8     RESOURCE PGM NEEDED FOR PDSE    DRK JAN16
IEWBIND  DS    A              ADDRESS OF IEWBIND               GP APR18
FIRST4K  DS    CL(WORKAREA+4096-DFBUFS)   *** RESERVED TO 4K BOUNDARY
**NOTE: IF YOU HAVE ADDED STORAGE IN THE DYNAMIC AREA AND YOU RECEIVE
**      AN ERROR ON THE ABOVE STATEMENT, IT INDICATES THAT YOU HAVE
**      ADDED MORE STORAGE THAN CAN BE ACCOMMODATED IN THE FIRST 4K OF
**      STORAGE.  CONSIDER RELOCATING SOME PROGRAM VARIABLES INTO THE
**      FOLLOWING AREA AFTER LABEL $TMSGWRK.
         SPACE 3
PDSEDCB  DCB   DSORG=PS,RECFM=F,LRECL=256,BLKSIZE=256,DDNAME=X,        X
               MACRF=(GL),DEVD=DA                             DRK AUG05
         SPACE 3
DMEMAREA DS    2CL28          SPACE FOR 2 MEMBER LIST ENTRIES
         SPACE 3
$TMSGWRK DS    CL124          MESSAGE WORK AREA
         SPACE 3
         AIF   ('&MVSLEV' LT 'MVS710').NOEAVD2                DRK JAN13
         DS    0D                                              JH DEC12
INDCBE   DS    XL(C_DCBEL)     DCBE AREA                       JH DEC12
.NOEAVD2 ANOP                                                 DRK JAN13
MSGENTDS DS    CL115           ENTER OPTION MESSAGE
SPFDSNMG EQU   MSGENTDS+26,79  PORTION BEGINNING:  -  DSN=...
RECALLST DS    XL256           RECALL TEXT AREA
RECALLDS DS    XL132           RECALL TEXT AREA
ATTNSAVE DS    18A             SAVE AREA FOR ATTENTION EXIT
STAESAVE DS    18A             SAVE AREA FOR ESTAE EXIT
SPFMAIN  DS    18A             SECONDARY SAVE AREA FOR SPF
CONTDSN  DS    XL60            DSNAME FORMATTED AREA FOR CONTROL
LOGREGS  DS    XL44            REGISTERS R14:R8 SAVED FOR LOGDATA
SAVEOUT  DS    XL40            SAVE TEXT FOR OUTCOPY
PUTGETST DS    XL256           M$PUTGT STORAGE FOR STACKED DATA
PMSGDS2  DS    XL64            SAVED DATA SET NAME AND LENGTH
         SPACE 1
@4K      EQU   FIRST4K                                        DRK NOV02
TSOUID   DS    CL8                                            DRK JUL17
TSOUIDL  DS    XL1                                            DRK JUL17
*LISTGRP  DS    CL256          IKJIDENT LIST  (A,B,C,D)       DRK APR18
CSIFIELD DS    0F             CSI SELECTION CRITERIA FIELDS
CSIFILTK DC    CL44' '        GENERIC FILTER KEY
CSICATNM DC    CL44' '        CATALOG NAME OR BLANKS
CSIRESNM DC    CL44' '        RESUME NAME OR BLANKS
CSIDTYPS DS    0CL16' '       ENTRY TYPES
CSISTYPS DC    16CL1' '       ENTRY TYPES TO BE RETURNED
CSIOPTS  DC    0CL4' '        CSI OPTIONS
CSICLDI  DC    CL1' '         RETURN DATA OR INDEX, Y OR BLANK
CSIRESUM DC    CL1' '         RESUME, Y OR BLANK
CSIS1CAT DC    CL1' '         SEARCH 1 CATALOG ONLY, Y OR BLANK
CSIOPTNS DC    CL1' '         OPTION FLAG FIELD
CSINUMEN DC    X'0000'        NUMBER OF ENTRIES IN TABLE
CSIFLDNM DC    CL8'STORCLAS'  UP TO 100 FIELD NAMES
         DC    CL8'MGMTCLAS'
         DC    CL8'DATACLAS'
*
         DS    0F
CSIRSN   DC    XL4'00'        REASON CODES FROM CSI CALL
         DS    0F
CSIWORK  DS    1024C          CSI WORK AREA
         ORG   CSIWORK+0
CAIUSRLN DS    F'0'       TOTAL LENGTH WORK AREA
CSIREQLN DS    F'0'       MINIMUM REQUIRED LENGTH
CDIUSDLN DS    F'0'       TOTAL LENGTH USED RETURNING ENTRIES
CSINUMFD DS    H'0'       NUMBER OF FIELD NAMES + 1
CSICFLG  DS    X'00'      CATALOG FLAG INFORMATION
CSINTICF EQU   X'80'      NON-ICF CATALOG
CSINOENT EQU   X'40'      NO ENTRY FOUND FOR THIS CATALOG
CSINTCMP EQU   X'20'      DATA GOTTEN NOT COMPLETE
CSICERR  EQU   X'10'      WHOLE CATALOG NOT PROCESSED
CSICERRP EQU   X'08'      CATALOG PARTIALLY PROCESSED
*
CSICTYPE DS    X'00'      CATALOG TYPE - X'F0'
CSICNAME DS    CL44' '    CATALOG NAME
CSICRETM DS    2X'00'     CATALOG RETURN MODULE ID
CSICRETR DS    X'00'      CATALOG RETURN REASON CODE
CSICRETC DS    X'00'      CATALOG RETURN CODE
*
CSIEFLAG DS    X'00'
CSIPMENT EQU   X'80'      PRIMARY ENTRY
CSIENTER EQU   X'40'      ERROR INDICATOR
CSIEDATA EQU   X'20'      DATA IS RETURNED FOR THIS ENTRY
CSIETYPE DS    C' '       ENTRY TYPE - SEE DOC FOR VALUES
CSIENAME DS    CL44' '    ENTRY NAME
CSIERETM DS    2X'00'     ENTRY RETURN MODULE ID
CSIERETR DS    X'00'      ENTRY RETURN REASON CODE
CSIERETC DS    X'00'      ENTRY RETURN CODE
         ORG   CSIERETM
CSITOTLN DS    H'0'       TOTAL LENGTH OF RETURNED INFO
         DS    H'0'       RESERVED
         ORG   ,
         SPACE 1
ATTACHS1 ATTACH EPLOC=*-*,ECB=*-*,SZERO=NO,SHSPV=78,SF=L
         SPACE 1
ATTACHS2 ATTACH EPLOC=*-*,ECB=*-*,SZERO=NO,SHSPV=78,                  XX
               TERM=YES,ESTAI=(*-*,*-*),SF=L
         SPACE 3
**NOTE: KEEP THE VARIABLES BETWEEN IOBUFN AND IOBUFEND TOGETHER;
**      IOBUF99 MUST START WITHIN 4096 BYTES OF FIRST4K
IOBUFN   DS    A       ***     POINTER TO ASSOCIATED BUFFER
IOBUFCN  DS    A       ***     CURRENT LOGICAL INPUT ADDRESS
IOBUFAN  DS    A       ***     CURRENT CCHH ADDRESS
IOBUFSN  DS    XL8     ***     NEXT IOBSEEK ADDRESS
IOBUFRM  DS    XL8     ***     KEYLN, DATALN, SNO, IOECB
IOBUFXT  DS    XL4     ***     CUREXT (CURRENT EXTENT POINTER)
IOBUF99  DS    99XL32  ***     OTHER 99 ELEMENTS
IOBUFEND DS    0H      ***     END OF INPUT TRACK CONTROLS
         SPACE 3
LENWORK  EQU   *-WORKAREA
         PRINT ON
