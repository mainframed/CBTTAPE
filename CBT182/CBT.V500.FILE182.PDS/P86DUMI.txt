)Attr Default(%+_)
   ` area(SCRL) Extend(ON)
   ¢ type(text) intens(high) color(yellow)
)Body expand(\\)
%Tutorial+-\-\-¢PDS for Dummies+-\-\-%Tutorial+
%Command ===>_zcmd
+
                                                                  %Up F10 Dn F11
`sam --------------------------------------------------------------------------`
)Area Sam


%Learn to:+

¢o+ Expand a PDS directory without reorganizing
¢o+ Use PDS under TSSO for emergency situations
¢o+ Search and replace strings across any members of a PDS
¢o+ Change RECFM, LRECL, and BLKSIZE values without reorganizing
¢o+ Resurrect a previously deleted member
¢o+ Verify the validity of a member or entire PDS
¢o+ Compare two PDS's for differences in data or directory userdata
¢o+ Use PDS to determine the optimal blocksize (PDB)
¢o+ Identify members with extended ISPF statistics
¢o+ Identify members with ISPF packed data
¢o+ Identify load modules zapped in a date range



%Introduction:+

 In this book, I will introduce some basic concepts to new users of the
 PDS TSO command processor.  The evolution of the PDS dataset format began
 with the early IBM operating systems in the mid-1960's.  A Partitioned Data
 Set (PDS) consists of a directory and members.  This concept is similar to
 a Unix file directory.  The members are sequential data sets terminated
 by an End of File (EOF) marker and pointed to by an entry in the
 alphabetically organized directory.

 With the advent of OS/360, IBM batch utility programs were available
 to update and organize a PDS. When TSO was introduced in 1971,
 users were able to a access files using an interactive time-sharing
 environment with IBM 3270 Display System terminals.  In today's world,
 these 3270 green screens have been replaced with emulator software in
 the PC environment.  TSO command processors format data streams that are
 sent to and received from a 3270 terminal.

 In 1972, programmers¹ from Security Pacific National Bank wrote the PDS
 command processor to enable the manipulation of PDS directories and data.
 The first version of the PDS command had 12 subcommands and operated
 in TSO line mode.  The current version has over 65 subcommands and can
 operate in TSO line or ISPF dialog (ISPMODE) mode.

.-----------------------------------------------------------------------------.
|  ISPMODE: This book assumes that you will be running PDS in dialog mode     |
|  which is the most powerful and easy way to use it.                         |
.-----------------------------------------------------------------------------.



%Dialog Mode Function Displays:+

                       .----------------------.
                       |     MEMLIST (ML)     | <--- PDS member list
                       |     Session Log (8)  | <--- Subcommand output
                       .----------------------.
                                  |
                                  |
                       .----------------------.
                       |        LISTF (LF)    | <--- List files
                       .----------------------.
                       |        LISTA (LA)    | <--- List allocations
                       .----------------------.
                       |        LISTV (LV)    | <--- List volumes
                       .----------------------.
                       |        CAX           | <--- List catalogs
                       .----------------------.



%Invoking PDS for the first time:+

 When you invoke PDS in dialog mode from the PDS Primary Menu or from
 ISPF DSLIST, the first display is the%Session Log.+  Unlike ISPF Edit,
 there is no member list displayed, so it may seem like something
 is missing.

 For new users, I suggest you become familiar with the drop-down lists on
 each function display.  The majority of the function control commands
 are in the lists.

 To begin, enter a%ML :+dialog command in the Session Log display.
 This will display all members of the PDS in the MEMLIST dialog function.
 To return to the Session Log, View Log can be selected from the Function
 or Special drop-down lists or just enter%8.+  To return back to the
 MEMLIST display, enter%ML.+

 MEMLIST displays can also be generated by using the MEMLIST drop down list
 in the Session Log screen.  You can build a MEMLIST based on when the
 members were last updated.  Building a MEMLIST based on the last update
 is what will become standard practice as you become a PDS Master.

 Once the member list is displayed, you may be thinking, what do I do now?
 You can enter a PDS subcommand at the PDS command prompt or you can enter
 a PDS line command.



%Subcommand Prompting Panels:+

 Enter an%O+in the Command area and you will see a screen full of
 subcommands that can be executed.  Enter an%O+in the line command area
 left of the member name and you will see another screen full of
 subcommands that can be executed for that member.

 After subcommands are executed, you will see the results in the Session
 Log.  The log output can be written to a dataset or SYSOUT file
 at any time.

 Tip:  There are 9 Session Logs that can be written to in PDS.
 "SHOW n" will switch to logs 1-9.  The default is log 1.



%Member Groups:+

 When entering most subcommands in the command field, you have to
 specify a "member group" to be acted upon.

 These subcommands can have a "member group" specification:

¢AMBLIST  ATTRIB   BROWSE   COBANAL  COPY     DCF      DELETE   DIRENTRY
 DSPRINT  EDIT     FIND     FSE      HISTORY  IF       LIST     LMA
 MAP      MEMBERS  MEMLIST  OFFLOAD  OUTCOPY  PRINTOFF REPLACE  REPRO
 REVIEW   SMPGEN   SRCHFOR  SUBLIST  SUBMIT   TSOEDIT  TSOLIST  VERIFY
 VIEW     VPSPRINT XMIT
+
 Member groups in PDS can be a difficult subject to learn, but they also
 enable actions on a variety of members with a single subcommand.  This is
 what makes the PDS command so powerful.

 There is a lot of documentation  about member groups in the ISPF tutorials
 and the PDS TSO Help member, but here are some examples to get you started.


 Member Group      Member Result Set

%:+                all member names in the PDS (same as a:z)
%a:c+              all member names that start with "a" or "b" or "c"
%p86/+             all members with "p86" anywhere in the name
%pdshelp+          member PDSHELP (one member)
%*+                current member group (last member group specified)
%(m$: #: @:)+      all member names that start with "m$", "#", and "@"

 A parenthesized list containing member and member group specifications
 separated by commas may be used as demonstrated in the example above.


%MEMLIST and SUBLIST:+

By design, MEMLIST is cumulative.  Each MEMLIST command or THEN(MEMLIST
will add rows to the memlist table.  The member names are not saved in
memory by the PDS command; they are saved as rows in an ISPF table.
You can manually add the RESET operand to any MEMLIST command to clear
the table before adding to it.  The NEWML operand of FIND/IF THEN/ELSE
also clears the table before adding new rows.

You can enter "2" or  X ALL" to clear the table.  The table is set to
empty status, but the member group does not change.

SUBLIST is used to define a new member group, so by definition it is not
cumulative.  You can make it cumulative if you run a series of commands
like below (* is the current member group designation).

find : 'string' then(sublist
sublist (* pan/ exec/ tbl/)
sublist (* mbr1, mbr2, mbr3)
members *



%ISPMODE session control codes are as follows:+

  %1+- Suspend ISPMODE: this control code terminates ISPMODE,
       retains the session log and enters line mode processing.
       ISPMODE can be restarted using the previous session log
       with another ISPMODE subcommand.  At the end of PDS
       processing, the session log is always discarded.

       Note:  XISPMODE is an alias for this control code.

  %2+- Clear log: discards all lines of the session log.

  %4+- Sublist = Memlist:  creates a sublist from the entries
       in the member list display.  This also sets the current
       group, which is addressable by using "*" in a subsequent
       subcommand.

  %5+- Alias check: performs a validity check for all aliases
       in the directory.

  %6+- MEMLIST (all members): invokes a scrollable member list
       for all members.  PDS line commands can be entered on
       individual member lines.

  %7+- Output ISPMODE table: invokes a panel which prompts for
       a SYSOUT class or data set name which is to contain a
       copy of the ISPMODE table.

  %8+- View log: switch to the Session Log display.

       Note:  SHOW is an alias for this control code.

  %9+- Swap panels (Norm--> Alt--> Dual):  most function displays
       have 3 different panels.  Each "9" entry will cycle through
       the different panels.  This can also be accomplished with
       PF10 (Left) and PF11 (Right) function keys if your Sysprog
       has set this up in the ISPF command table.

  %L+- Locate: locate name in table display.

  %F+- Find in table: find string in the table display.
       This is not the same as the FIND subcommand which can be
       abbreviated as FI or FIN.

  %X+- Exclude lines: to delete portions of a dialog display.

       X ABOVE or UP    -  delete all lines above the current line
       X BELOW or DOWN  -  delete all lines below the current line
       X ALL            -  delete all lines
       X -nnn           -  delete nnn lines above the current line
       X nnn            -  delete nnn lines below the current line

%SORT+- Sort table: sort table by column; ascending or descending
       sequence.  Column headers that are point-and-shoot can be
       clicked on to sort in both directions.

 %FN+- ISPMODE function selection:

       FUNCTION - Display function status
       SHOW     - View log prompt
       8        - View log
       MEMLIST  - Member list  (ML for short)
       LISTA    - List allocation prompt
       LISTC    - List file prompt
       LISTF    - List file prompt
       LISTV    - List volume prompt
       LA       - Switch to LISTA display
       LC       - Switch to LISTC/LISTF display
       LF       - Switch to LISTC/LISTF display
       LV       - Switch to LISTV display
       CAX      - Switch to CAX display  (Active catalog list)
       TCT      - Switch to TCT display  (TSO command table)

    Note:

   %fn.lista+can be used to jump to list allocation prompt
   %fn.listc+can be used to jump to list file prompt
   %fn.listf+can be used to jump to list file prompt
   %fn.listv+can be used to jump to list volume prompt

 %FU+- ISPMODE function status display:

       Option     Function     -- Description --     ---- Status -----
         8      - View Log     View session log       ACTIVE
         ML     - MEMLIST      Member list            ACTIVE
         LA     - LISTA        Allocation list        INACTIVE
         LF     - LISTF        File list              INACTIVE
         LV     - LISTV        Volume list            INACTIVE
         CAX    - CAX          Active catalog list    INACTIVE
         TCT    - TCT          TSO command table      INACTIVE

%SET+- ISPMODE set defaults:

       SETENV   - Set default environmental options
       SETSEL   - Set default select alias commands
       SETLOG   - Set default Log limit values
       SETML    - Set default member list options
       SETV     - Set default LISTV options
       SETLF    - Set default LISTFILE/LISTC options
       SETTRAP  - Set default TRAP options



%Learn to (explained):+

¢o+ Expand a PDS directory without reorganizing
   %fixpds expand(10)+
    ... the PDS directory is expanded with 10 more blocks

¢o+ Use PDS under TSSO for emergency situations
   %#pds 'sys1.proclib' list net+
    ... the VTAM net proc is listed out on the console.
   %#pds 'sys1.proclib' replace net 'sys1.vtamlst' 'sys2.vtamlst' write+
    ... PDS command changes the member.

¢o+ Search and replace strings across any members of a PDS
   %replace s2k: 'dsn=s2k.load' 'dsn=s2k.load2' write+
    ... System 2000 JCL procs are updated with a new load library

¢o+ Change RECFM, LRECL, and BLKSIZE values without reorganizing
   %fixpds recfm(u) lrecl(80) blksize(80)+
    ... recfm(f) doc file changed to undefined

¢o+ Resurrect a previously deleted member
   %restore xxxx repeat noprompt nodisplay find('sysout=t')+
    ... deleted members are restored with xxxx0001-xxxx000n names

¢o+ Verify the validity of a member or entire PDS
   %verify :+
    ... all members of PDS verified for validity

¢o+ Compare two PDS's for differences in data or directory userdata
   %match 'ad.file182.pds484.nov2515' changed sublist+
    ... each member of current PDS is compared for changed data

¢o+ Use PDS to determine the optimal blocksize (PDB)
   %fixpds blksize(99999)+
    ... PDS changes the blocksize to half-track blocking

¢o+ Identify members with extended ISPF statistics
   %if : xstats then(memlist)+
    ... members with extended ISPF statistics are added to the MEMLIST

¢o+ Identify members with ISPF packed data
   %if : packed then(sublist)+
    ... members with ISPF packed data form a new member group

¢o+ Identify load modules zapped in a date range
   %memlist : changed(05/20/14:03/30/16)+
    ... load modules zapped from May 20, 2014 to March 30, 2016
        are added to the MEMLIST



%ISPF Help Panels:+

 There are hundreds of ISPF tutorial panels for the PDS command.  You can
 press PF1 to display this help system.


%When all else fails, RTFM (Read The Freaking Manual):+

 Member %PDSHELP+ on the installation file by Bruce Leland and Steve Smith.
 Member %$$$PROSE+on the installation file by Bruce Leland and Steve Smith.
 Member %$$$PROS2+on the installation file by John Kalinich.
 Member %$$$UNDOC+on the installation file by Bruce Leland and Steve Smith.
 Members%$PDSARTn+on the installation file by Sam Golob.

%¹Tom Springer, Steve Smith, and William Finkelstein (PDS Command)+
+
+Copyleft® Dr K
)Init
&zhtop = P86DUMI
&zup = P86DUMI
&zcont = P86DUMI
)Proc
)End
