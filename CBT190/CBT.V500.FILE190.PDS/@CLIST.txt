PROC 0 DIAGNOSE TEST ATEST N LPA NOLPA PRINT NOPRINT CDE NOCDE FQE NOFQE
/* THIS IS CLISET VSAMDATA
IF &DIAGNOSE. ¬=   -
   THEN CONTROL   PROMPT   LIST   CONLIST   SYMLIST MSG END(ENDD)
   ELSE CONTROL NOPROMPT NOLIST NOCONLIST NOSYMLIST MSG END(ENDD)
%ALLOCDS FI(PRINT) DA(PRINT.DATA&N)
%ALLOCDS FI(OUTPUT) DA('QC22505.OUTPUT.DATA&N')
SET LOAD=QC22505.VSMDUMP.LOAD(VSMDATA&N)
IF &TEST ¬=   -
THEN -
   TSOEXEC TEST '&LOAD' +
 'QC22505.OUTPUT.DATA&N &NOLPA &NOPRINT &NOCDE &CDE &PRINT &LPA &FQE &NOFQE'
ELSE -
   DO
    CALL '&LOAD' +
 'QC22505.OUTPUT.DATA&N &NOLPA &NOPRINT &NOCDE &CDE &PRINT &LPA &FQE &NOFQE'
      FREE FI(PRINT OUTPUT)
   ENDD
