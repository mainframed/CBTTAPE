..SEC * JES2 EXITS FOR XEROX FORMS CONTROL



    ABSTRACT:         BENJ. FRANKLIN HAS DEVELOPED EXITS TO MVS/SP JES2

                      TO PROVIDE TABLE DRIVEN FORMS CONTROL FOR XEROX

                      8700/9700 LASER PRINTERS.  THE EXITS INSERT XEROX

                      DJDE COMMANDS BETWEEN REPORTS GOING TO THE

                      PRINTERS BASED ON THE SYSOUT CLASS AND FORMS ID

                      SPECIFIED IN STANDARD JCL.





    CURRENT AUTHOR:   MIKE SHEEDY, SENIOR SYSTEMS SPECIALIST

                      BENJ. FRANKLIN FEDERAL SAVINGS AND LOAN ASSN.

                      PORTLAND, OREGON



    PHONE:            503-275-1229



    SHARE INSTALLATION CODE:  BFS



    MAILING ADDRESS:  BENJ. FRANKLIN FINANCIAL CENTER

                      P.O. BOX 6400

                      PORTLAND, OREGON  97228-6400



    SHIPPING ADDRESS: BENJ. FRANKLIN FINANCIAL CENTER

                      501 S.E. HAWTHORNE BLVD.

                      PORTLAND, OREGON  97214



    ORIGINAL AUTHOR:  NARM TCHUN, LEAD SYSTEMS PROGRAMMER

                      GATX NETWORK SERVICES, GATX CORPORATION

                      120 SOUTH RIVERSIDE PLAZA

                      CHICAGO, ILLINOIS  60606

               NOTE:  NARM TCHUN NO LONGER WORKS THERE.



      DOCUMENTATION:  SYS2.JES2136.EXITSRC($DESC)
..PAGE
..SEC *.* DISCLAIMER


         BENJ. FRANKLIN FEDERAL SAVINGS AND LOAN ASSOCIATION


                           DISCLAIMER



 WE INTEND TO MAKE THE XEROX FORMS CONTROL JES2 EXITS WE'VE DEVELOPED

 AVAILABLE TO THE PUBLIC DOMAIN ON AN "AS IS" BASIS, PROBABLY THROUGH

 SHARE (EITHER THE JES2 MODS TAPE, OR THE CBT MODS TAPE).  WE MAY ALSO

 SUPPLY COPIES OF THE EXITS TO INTERESTED SHOPS DIRECTLY.  WE MAKE NO

 WARRANTY OR GUARANTEE THAT THE EXITS WILL FUNCTION CORRECTLY IN YOUR

 ENVIRONMENT, NOR CAN WE BE HELD LIABLE FOR ANY ERRORS OR LOSSES

 RESULTING FROM THEIR IMPLEMENTATION AND/OR USAGE.



 WHILE YOU USE THESE EXITS AT YOUR OWN RISK AND MUST SUPPORT THEM BY

 YOURSELF, I WILL BE HAPPY TO ANSWER A REASONABLE NUMBER OF QUESTIONS

 BY PHONE CONCERNING THEIR INSTALLATION.  I ALSO WELCOME COMMENTS AND

 SUGGESTIONS FOR IMPROVEMENTS.


..PAGE


    JUSTIFICATION:    WE DECIDED TO REPLACE OUR IBM 1403 IMPACT PRINTERS

                      WITH A XEROX 8700 LASER PRINTER.  A REQUIREMENT

                      WAS THAT WE IMPLEMENT THE PRINTING OF DUPLEX ON

                      WHITE 3-HOLE PAPER AS OUR DEFAULT IN AS SHORT A

                      TIME AS POSSIBLE.  THE JES2 USER EXIT APPROACH

                      APPEARED TO BE THE FASTEST SOLUTION.



    BENEFITS DERIVED FROM USING JES2 USER EXITS:

                      1) REDUCES OPERATOR INTERVENTION FOR FORM SETUPS.

                      2) JES2 SUPPORT FOR DUPLEX PRINTING.

                      3) SIMPLIFIES FORMS SPECIFICATION THRU JCL.

                         IE:  //DDNAME  DD  SYSOUT=(C,,FORM)

                      4) STANDARDIZES AND CENTRALIZES FORMS CONTROL.

                      5) PROVIDES OUTPUT DESTINATION FLEXABILITY.

                      6) RECOVERY FROM PRINT INTERRUPTIONS.

                      7) EASE OF IMPLEMENTATION AND TESTING.




    HISTORY:          A) ORIGINALLY DEVELOPED AT GREAT AMERICAN

                         INSURANCE COMPANY IN CINCINNATI, OHIO AS A SET

                         OF DIRECT USER MODIFICATIONS TO JES2.


                      B) LATER REWRITTEN BY NARM TCHUN OF GATX

                         CORPORATION IN CHICAGO, ILLINOIS AS AN MVS/SP

                         JES2 1.3.2 USER EXIT (EXIT 1).  GATX MADE IT

                         PUBLIC DOMAIN BY PLACING IT ON THE SHARE JES2

                         USER MODS TAPE.


                      C) FINALLY, ENHANCED BY MIKE SHEEDY OF BENJ.

                         FRANKLIN SAVINGS AND LOAN FOR OPERATION ON

                         MVS/SP JES2 1.3.6 WITH THE ADDITION OF SUPPORT

                         FOR DUPLEX AND SUPPRESSION OF JES2 FORMS SETUP

                         MESSAGES.  THIS FINAL VERSION USES JES2 USER

                         EXITS 1, 5, 15, AND 250 (USER DEFINED).
..PAGE
..SEC *.* JES2 USER EXITS AND MODULES



 THE JES2 USER EXITS WHICH MAKE UP OUR XEROX FORMS CONTROL SYSTEM ARE

 ASSEMBLED AND LINKED TOGETHER INTO ONE MODULE CALLED EXIT1MIT.  THIS

 MODULE IS LOADED BY JES2 WHEN IT COMES UP.  THE FOLLOWING IS A

 DESCRIPTION OF THE MODULES WHICH MAKE UP EXIT1MIT:




 EXIT1MIT - JES2 MODULE INFORMATION TABLE FOR THE EXITS INVOLVED IN OUR

            XEROX FORMS CONTROL SYSTEM.  MERGES ALL OF THE EXITS INTO

            ONE LOAD MODULE.



 EXIT1REG - REGISTER DEFINITIONS AND OTHER SYMBOLICS USED IN THE EXITS.



 EXIT1A   - JES2 EXIT 1 PRINT SEPARATOR EXIT DEVELOPED TO PROVIDE XEROX

            FORMS CONTROL BY INSERTING DJDE COMMANDS IN FRONT OF THE

            PRINT SEPARATOR PAGES.  USES SYSOUT CLASS AND FORM ID TO

            REFERENCE TABLES CONTAINED IN EXIT1TAB.  SEPDS=Y IDENTIFIES

            A PRINTER AS A XEROX 8700/9700.



 EXIT1TAB - VARIOUS TABLES USED BY THE EXITS, PRINCIPALLY EXIT1A, TO

            DEFINE AND MANAGE XEROX FORMS CONTROL.



 EXIT1B   - ORIGINAL JES2 EXIT 1 BF PRINT SEPARATOR EXIT MODIFIED TO

            PRODUCE SLIGHTLY DIFFERENT SEPARATOR PAGES FOR XEROX

            DESTINED OUTPUT DEPENDING ON ORIENTATION

            (LANDSCAPE/PORTRAIT) AND PAGE SIZE.  JDE AT XEROX EXTRACTS

            DATA FROM GENERATED SEPARATOR PAGES FOR DETERMINING JOB

            BOUNDARIES AND STATUS DISPLAYS.
..PAGE



 EXIT5    - JES2 EXIT 5 COMMAND PREPROCESSOR EXIT USED TO FORCE FORM

            SETUP MESSAGES ON THE XEROX CONSOLE WHENEVER THE XEROX

            PRINTER IS STOPED OR HALTED AND RESTARTED FROM JES2.

            IMPLEMENTED TO AVOID USING WRONG STOCK OR DUPLEX/SIMPLEX

            ORIENTATION AFTER XEROX MAINTENANCE.



 EXIT15   - JES2 EXIT 15 OUTPUT DATASET/COPY SELECT SEPARATOR EXIT USED

            TO PROVIDE DUPLEX AND MULTIPLE LOGICAL PAGE PER PHYSICAL

            PAGE SUPPORT BY INSERTING A SKIP TO NEW FRONT DJDE COMMAND

            BETWEEN SEPARATE DATASETS AND COPIES OF DATASETS WITHIN THE

            SAME SYSOUT JOB.



 EXIT250  - JES2 USER EXIT USED TO SUPPRESS JES2 FORMS SETUP MESSAGES

            WHENEVER A FORMS CHANGE OCCURS FOR A XEROX PRINTER.  EXIT1A

            CREATES FORMS SETUP MESSAGES THRU DJDE'S WHICH DISPLAY ON

            THE XEROX CONSOLE WHEN THE OUTPUT PRINTS.  EXIT250 REQUIRES

            THAT USERMOD ZZ03821 BE APPLIED TO HASPPRPU IN ORDER TO

            DEFINE ITS CALL.
..PAGE
..SEC *.* TABLES IN EXIT1TAB


    EXIT1TAB:    XEROX 8700/9700 FORMS CONTROL TABLES


    FUNCTIONS:   TO PROVIDE JES2 EXIT1A, EXIT1B, EXIT5, EXIT15 AND

                 EXIT250 WITH THE INTERNAL REFERENCE DATA TO CONTROL

                 ONE OR MORE XEROX 8700/9700 PRINTERS.


    DESCRIPTION: THESE TABLES ARE AN ADOPTION OF THE FORMS CROSS

                 REFERENCE TABLES WHICH WERE DESIGNED BY THE GREAT

                 AMERICAN INSURANCE COMPANY, CINCINNATI, OHIO.

                 THE TABLES CONSISTS OF THE FOLLOWING SEVEN ENTRY

                 GROUPS:



    .  PRNTRTAB  PRINTER TABLE ENTRY            (12 BYTES).


                 EACH ENTRY NAMES A JES2 PRINTER AND SPECIFIES ITS

                 TYPE.  FIELDS ARE USED TO CONTAIN DATA NEEDED BY

                 THE JES2 EXITS DURRING THEIR OPERATION.



    .  SCTE   :  SYSOUT CLASS TABLE ENTRY       (8 BYTES).


                 EACH ENTRY NAMES A SYSOUT CLASS, SPECIFIES WHICH

                 JES2 PRINTER IT SHOULD PRINT ON, AND WHICH FORMS

                 CROSS REFERENCE TABLE TO USE.



    .  FCRTE  :  FORMS CROSS REFERENCE TABLE ENTRY (16 BYTES).


                 EACH ENTRY CONTAINS A FORM NAME, THE ADDRESS OF THE

                 DJDE FORMS IMAGE TABLE ENTRY (DFITE), THE ADDRESS OF

                 ITS DJDE VFU IMAGE TABLE ENTRY (DVITE), A MODE BYTE,

                 AND A PAPER STOCK NUMBER.

                      NOTE THAT THERE ARE ACTUALLY TWO TABLES:

                 FFRMTABF IS FOR SYSOUT CLASS 'F' (OPERATOR SETUP).

                 XFRMTABX IS FOR SYSOUT CLASSES OTHER THAN 'F'

                      (NO OPERATOR SETUP - STD 3-HOLE DUPLEX).
..PAGE



    .  DFITE  :  DJDE FORMS IMAGE TABLE ENTRY   (80 BYTES).


                 EACH ENTRY CONTAINS A FORM(S), FORMAT, DATA

                 LENGTH, OR SHIFT REQUIREMENT.



    .  DVITE  :  DJDE VFU IMAGE TABLE ENTRY     (80 BYTES).


                 EACH ENTRY CONTAINS A VFU IMAGE, PRECEDED BY

                 A HALF WORD WHICH COUNTS THE NUMBER OF LINES

                 IN THE ENTRY.



    .  PTMTE  :  PAPER TRAY MESSAGE TABLE ENTRY (80 BYTES).


                 EACH ENTRY CONTAINS A MESSAGE TEXT TO BE SHOWN

                 ON THE 8700/9700 CONSOLE TELLING THE OPERATOR

                 WHAT PAPER STOCK TO LOAD INTO THE PRINTER.



    .  PSMTE  :  PAGE SETUP MESSAGE TABLE ENTRY (80 BYTES).


                 SOME ENTRIES CONTAIN MESSAGE TEXT TO BE SHOWN

                 ON THE 8700/9700 CONSOLE TELLING THE OPERATOR

                 ABOUT THE JOB THAT IS PROCESSED.  THESE ENTRIES

                 HELP OPERATOR KEEP TRACK OF THE JOBS THAT ARE

                 PURGED OFF JES2, AND ALSO PROCESSED BY THE

                 8700/9700 PRINTER.  OTHER ENTRIES SET THE PRINTER

                 FOR DUPLEX OR SIMPLEX OPERATION, OR PERFORM OTHER

                 PRINTER SETUP FUNCTIONS.
..PAGE



    THE FORMS CROSS REFERENCE TABLE (FCRTE) IS FUNDAMENTAL TO THE

    SELECTION OF APPROPRIATE DJDE COMMANDS FOR CONTROL OF THE XEROX

    PRINTER.  FORMS CROSS REFERENCE TABLE ENTRY:



              FORMS NAME (4 BYTES)
              |
              |        COPY COUNT (1 BYTE - NOT CURRENTLY SUPPORTED)
              |        |
              |        | ADDRESS(DFITE) (3 BYTES)
              |        | |
              |        | |      MODE FLAGS (1 BYTE - SEE BELOW)
              |        | |      |
              |        | |      | RESERVED (3 BYTES)
              |        | |      | |
              |        | |      | |      STOCK INDEX (1 BYTE)
              |        | |      | |      |
              |        | |      | |      | ADDRESS(DVITE) (3 BYTES)
              |        | |      | |      | |
              |        | |      | |      | |
             +|--------|-|------|-|------|-|-----+
             |FORMNAME|NN......|DD......|II......|
             +-----------------------------------+




    MODE FLAGS (BIT SETTINGS):


 MFSUPFCT EQU   B'10000000'  80  SUPPRESS FORMS CONTROL

 MFSHORTL EQU   B'01000000'  40  SHORTLINE FORMAT (LIKE 1-UP PORTRAIT)

 MFSIXLPI EQU   B'00100000'  20  SIX LINES PER INCH

 MFNUFRNT EQU   B'00010000'  10  SUPPLY NUFRONT BETWEEN DATASETS/COPIES

 MFDUPLEX EQU   B'00001000'  08  DUPLEX MODE

 MFFOURLP EQU   B'00000100'  04  FOUR LOGICAL PAGES PER SIDE

 MFTWOLPS EQU   B'00000010'  02  TWO LOGICAL PAGES PER SIDE

 FONELPS  EQU   B'00000001'  01  ONE LOGICAL PAGE PER SIDE
..PAGE
..SEC *.* SAMPLE EXIT1TAB


    WHAT FOLLOWS IS A MODIFIED VERSION OF THE EXIT1TAB WE USE AT

    BENJ. FRANKLIN SAVINGS AND LOAN:


EXIT1TAB DS    0D

**********************************************************************
* +----------------------------------------------------------------+ *
* |            P R N T R T A B   T A B L E   E N T R Y             | *
* +----------------------------------------------------------------+ *
**********************************************************************

PRNTRTAB DS    0D          PRINTER TABLE (SEE PTBDSECT)

*        +--PRINTER NUMBER (1,2,3,4,5,6,7,8,9,0) (0 MUST BE LAST)
*        |
*        |+-PRINTER TYPE (X-XEROX, M-MEMOREX, F-FICHE, P-PUNCH, S-SAR)
*        ||
*        ||     LEAVE ALL OTHER FIELDS ALONE
*        ||
*        ||                                +--COMMENT
*        ||                                |
  DC CL2'1 ',XL2'00FF',CL4'????',CL4' N  ' IBM 1403 (NONEXISTANT)
  DC CL2'2 ',XL2'00FF',CL4'????',CL4' N  ' IBM 1403 (NONEXISTANT)
  DC CL2'3 ',XL2'00FF',CL4'????',CL4' N  ' IBM 1403 (NONEXISTANT)
  DC CL2'4X',XL2'00FF',CL4'????',CL4' N  ' XEROX 8700
  DC CL2'5F',XL2'00FF',CL4'????',CL4' N  ' DATAGRAPHIX 2275 (FICHE)
  DC CL2'6M',XL2'00FF',CL4'????',CL4' N  ' MEMOREX 4303
  DC CL2'7X',XL2'00FF',CL4'????',CL4' N  ' XEROX 9700 (TEMPORARY)
  DC CL2'8M',XL2'00FF',CL4'????',CL4' N  ' MEMOREX (TEMPORARY)
  DC CL2'9X',XL2'00FF',CL4'????',CL4' N  ' XEROX 8700 (TEMPORARY)
  DC CL2'PP',XL2'00FF',CL4'????',CL4' N  ' IBM 2540 CARD PUNCH
  DC CL2'DD',XL2'00FF',CL4'????',CL4' N  ' DUMMY OUTPUT (BIT BUCKET)
* THE FOLLOWING ENTRY '0' MUST ALWAYS BE PRESENT AND BE LAST:
  DC CL2'0S',XL2'00FF',CL4'????',CL4' N  ' SAR (SYSOUT ARCHIVAL & RET.)
*                                          DUMMY PRINTER TO TERMINATE
*                                          THE TABLE (DEFAULT FOR > 9)


**********************************************************************
*                                                                    *
*   PRINTER TABLE DSECT                                              *
*                                                                    *
*   THE FIELDS IN THIS DATA AREA ARE MEANT TO BE PASSED BETWEEN      *
*   EXECUTIONS OF THIS EXIT.  THEY ARE USED TO DETERMINE WHEN        *
*   THE XEROX DUPLEX/SIMPLEX MODE AND/OR STOCK PAPER NEEDS TO BE     *
*   CHANGED, AND THE OPERATOR SO NOTIFIED ON THE XEROX CONSOLE.      *
*                                                                    *
**********************************************************************

PTBDSECT DSECT

PTBENTRY DS    CL1           * PRINTER NUMBER (0-9)
PTBTYPE  DS    CL1           * PRINTER TYPE: X - XEROX
PREVMODE DS    XL1           * MODE OF PREVIOUS JOB
PREVSTOC DS    XL1           * STOCK PAPER FOR PREVIOUS JOB
PREVFORM DS    CL4           * FORM ID FOR PREVIOUS JOB
PREVCLAS DS    CL1           * SYSOUT CLASS OF PREVIOUS JOB
HOLDSW   DS    CL1           * HOLD MESSAGE SWITCH:  Y - SEND MESSAGE
         DS    CL2           * DUMMY
..PAGE

**********************************************************************
* +----------------------------------------------------------------+ *
* |        S Y S O U T   C L A S S   T A B L E   E N T R Y         | *
* +----------------------------------------------------------------+ *
**********************************************************************


SCTE  DS 0D                  SYSOUT CLASS TABLE


*        +--SYSOUT CLASS (A-Z,0-9)
*        |
*        |+-PRINTER NUMBER (0-9,P=PUNCH)
*        ||
*        ||      +-ADDRESS OF APPROPRIATE FORMS CROSS REF TABLE
*        ||      |
*        ||      |
  DC CL4'A4  ',A(XFRMTABX)   CLASS A ---> XEROX PRINTER
  DC CL4'BP  ',A(0)          CLASS B ---> IBM 2540 CARD PUNCH
  DC CL4'C4  ',A(XFRMTABX)   CLASS C ---> XEROX PRINTER
  DC CL4'D4  ',A(XFRMTABX)   CLASS D ---> XEROX PRINTER
  DC CL4'E4  ',A(XFRMTABX)   CLASS E ---> XEROX PRINTER
  DC CL4'F4  ',A(FFRMTABF)   CLASS F ---> XEROX PRINTER - SETUP FORMS
  DC CL4'G4  ',A(XFRMTABX)   CLASS G ---> XEROX PRINTER
  DC CL4'H4  ',A(XFRMTABX)   CLASS H ---> XEROX PRINTER
  DC CL4'I4  ',A(XFRMTABX)   CLASS I ---> XEROX PRINTER
  DC CL4'J4  ',A(XFRMTABX)   CLASS J ---> XEROX PRINTER
  DC CL4'K4  ',A(XFRMTABX)   CLASS K ---> XEROX PRINTER
  DC CL4'L4  ',A(XFRMTABX)   CLASS L ---> XEROX PRINTER
  DC CL4'M6  ',A(0)          CLASS M ---> MEMOREX PRINTER
  DC CL4'N4  ',A(XFRMTABX)   CLASS N ---> XEROX PRINTER
  DC CL4'O4  ',A(XFRMTABX)   CLASS O ---> XEROX PRINTER
  DC CL4'P4  ',A(XFRMTABX)   CLASS P ---> XEROX PRINTER
  DC CL4'Q4  ',A(XFRMTABX)   CLASS Q ---> XEROX PRINTER
  DC CL4'R4  ',A(XFRMTABX)   CLASS R ---> XEROX PRINTER
  DC CL4'S4  ',A(XFRMTABX)   CLASS S ---> XEROX PRINTER
  DC CL4'T5  ',A(0)          CLASS T ---> DATAGRAPHIX FICHE FILMER
  DC CL4'U4  ',A(XFRMTABX)   CLASS U ---> XEROX PRINTER
  DC CL4'V4  ',A(XFRMTABX)   CLASS V ---> XEROX PRINTER
  DC CL4'W4  ',A(XFRMTABX)   CLASS W ---> XEROX PRINTER
  DC CL4'X4  ',A(XFRMTABX)   CLASS X ---> XEROX PRINTER
  DC CL4'Y4  ',A(XFRMTABX)   CLASS Y ---> XEROX PRINTER
  DC CL4'ZD  ',A(0)          CLASS Z ---> DUMMY OUTPUT
  DC CL4'00  ',A(0)          CLASS 0 ---> SAR
  DC CL4'10  ',A(0)          CLASS 1 ---> SAR
  DC CL4'20  ',A(0)          CLASS 2 ---> SAR
  DC CL4'30  ',A(0)          CLASS 3 ---> SAR
  DC CL4'45  ',A(0)          CLASS 4 ---> DATAGRAPHIX FICHE FILMER
  DC CL4'50  ',A(0)          CLASS 5 ---> SAR
  DC CL4'64  ',A(XFRMTABX)   CLASS 6 ---> XEROX PRINTER
  DC CL4'70  ',A(0)          CLASS 7 ---> SAR
  DC CL4'84  ',A(XFRMTABX)   CLASS 8 ---> XEROX PRINTER
  DC CL4'95  ',A(0)          CLASS 9 ---> DATAGRAPHIX FICHE FILMER

* THE FOLLOWING ENTRY 'FF' MUST ALWAYS BE PRESENT AND BE LAST:

DEFTCLAS DC XL1'FF',CL3'4  ',A(XFRMTABX)  END OF TABLE (AND DEFAULT).
..PAGE

**********************************************************************
* +----------------------------------------------------------------+ *
* | F O R M S  C R O S S  R E F E R E N C E  T A B L E  E N T R Y  | *
* +----------------------------------------------------------------+ *
**********************************************************************
*                                                                    *
*             FORMS NAME (4 BYTES)                                   *
*             |        COPY COUNT (1 BYTE - NOT CURRENTLY SUPPORTED) *
*             |        | ADDRESS(DFITE) (3 BYTES)                    *
*             |        | |      MODE FLAGS (1 BYTE - SEE BELOW)      *
*             |        | |      | RESERVED (3 BYTES)                 *
*             |        | |      | |      STOCK INDEX (1 BYTE)        *
*             |        | |      | |      | ADDRESS(DVITE) (3 BYTES)  *
*             |        | |      | |      | |                         *
*            +|--------|-|------|-|------|-|-----+                   *
*            |FORMNAME|NN......|DD......|II......|                   *
*            +-----------------------------------+                   *
**********************************************************************


*        MODE FLAGS (BIT SETTINGS)

MFSUPFCT EQU   B'10000000'  80  SUPPRESS FORMS CONTROL
MFSHORTL EQU   B'01000000'  40  SHORTLINE FORMAT (LIKE 1-UP PORTRAIT)
MFSIXLPI EQU   B'00100000'  20  SIX LINES PER INCH
MFNUFRNT EQU   B'00010000'  10  SUPPLY NUFRONT BETWEEN DATASETS/COPIES
MFDUPLEX EQU   B'00001000'  08  DUPLEX MODE
MFFOURLP EQU   B'00000100'  04  FOUR LOGICAL PAGES PER SIDE
MFTWOLPS EQU   B'00000010'  02  TWO LOGICAL PAGES PER SIDE
MFONELPS EQU   B'00000001'  01  ONE LOGICAL PAGE PER SIDE



FCRTE    DS    0D


XFRMTABX DS    0D ** BEGINNING OF SYSOUT=(X,,FORM) FORMS TABLE **


*                 SYSOUT=(X,,FORM) IS USED FOR NO OPERATOR SETUP FORMS.
*                 WHERE X IS ANY OUTPUT CLASS EXCEPT 'F'.
*                 MODE AND STOCK SHOULD INDICATE STD 3-HOLE DUPLEX.


* NOTE:  FIRST ENTRY IS DEFAULT IF NO FORM ID SUPPLIED:


XSTDP  DC  C'STD.',X'01',AL3(DXXLL8),X'19',AL3(0),X'01',AL3(VFU1)
XDLL8  DC  C'DLL8',X'01',AL3(DXXLL8),X'19',AL3(0),X'01',AL3(VFU1)
XDLB8  DC  C'DLB8',X'01',AL3(DXXLB8),X'19',AL3(0),X'01',AL3(VFU1)
XDLS8  DC  C'DLS8',X'01',AL3(DXXLS8),X'19',AL3(0),X'01',AL3(VFU1)
XDEB8  DC  C'DEB8',X'01',AL3(DXXEB8),X'19',AL3(0),X'01',AL3(VFU1)
XDPB8  DC  C'DPB8',X'01',AL3(DXXPB8),X'59',AL3(0),X'01',AL3(VFU2)
XDPW8  DC  C'DPW8',X'01',AL3(DXXPW8),X'59',AL3(0),X'01',AL3(VFU2)
XD2B8  DC  C'D2B8',X'01',AL3(DXX2B8),X'1A',AL3(0),X'01',AL3(VFU1)
XQDEF  DC  C'QDEF',X'01',AL3(DXQDEF),X'59',AL3(0),X'01',AL3(VFU4)
XDEFC  DC  C'DEFC',X'01',AL3(DXDEFC),X'19',AL3(0),X'01',AL3(VFU1)
XCPI   DC  C'CPI ',X'01',AL3(DXCPI),X'19',AL3(0),X'01',AL3(VFU1)
XICL   DC  C'ICL ',X'01',AL3(DXICL),X'19',AL3(0),X'01',AL3(VFU1)
XAP    DC  C'AP  ',X'01',AL3(DXAP),X'19',AL3(0),X'01',AL3(VFU1)
XFA    DC  C'FA  ',X'01',AL3(DXFA),X'19',AL3(0),X'01',AL3(VFU1)
XHEAD  DC  C'HEAD',X'01',AL3(DXHEAD),X'19',AL3(0),X'01',AL3(VFU1)
XUSR1  DC  C'USR1',X'01',AL3(DXXLL8),X'09',AL3(0),X'01',AL3(VFU1)
XUSR2  DC  C'USR2',X'01',AL3(DXXLL8),X'09',AL3(0),X'01',AL3(VFU1)
XUSR3  DC  C'USR3',X'01',AL3(DXXLL8),X'80',AL3(0),X'00',AL3(VFU1)

XFFFF  DC  16X'FF'    ** END OF SYSOUT=X FORMS TABLE **
..PAGE


FFRMTABF DS    0D ** BEGINNING OF SYSOUT=(F,,FORM) FORMS TABLE **

*                 SYSOUT=(F,,FORM) IS USED FOR OPERATOR SETUP FORMS.


* NOTE:  FIRST ENTRY IS DEFAULT IF NO FORM ID SUPPLIED:


FSTDP  DC  C'STD.',X'01',AL3(DXXLL8),X'19',AL3(0),X'01',AL3(VFU1)
FSLL8  DC  C'SLL8',X'01',AL3(DXXLL8),X'01',AL3(0),X'01',AL3(VFU1)
FSLB8  DC  C'SLB8',X'01',AL3(DXXLB8),X'01',AL3(0),X'01',AL3(VFU1)
FSLS8  DC  C'SLS8',X'01',AL3(DXXLS8),X'01',AL3(0),X'01',AL3(VFU1)
FSEB8  DC  C'SEB8',X'01',AL3(DXXEB8),X'01',AL3(0),X'01',AL3(VFU1)
FBLL8  DC  C'BLL8',X'01',AL3(DXXLL8),X'19',AL3(0),X'02',AL3(VFU1)
FBLB8  DC  C'BLB8',X'01',AL3(DXXLB8),X'19',AL3(0),X'02',AL3(VFU1)
FBLS8  DC  C'BLS8',X'01',AL3(DXXLS8),X'19',AL3(0),X'02',AL3(VFU1)
FBEB8  DC  C'BEB8',X'01',AL3(DXXEB8),X'19',AL3(0),X'02',AL3(VFU1)
FNLL8  DC  C'NLL8',X'01',AL3(DXXLL8),X'01',AL3(0),X'02',AL3(VFU1)
FNLB8  DC  C'NLB8',X'01',AL3(DXXLB8),X'01',AL3(0),X'02',AL3(VFU1)
FNLS8  DC  C'NLS8',X'01',AL3(DXXLS8),X'01',AL3(0),X'02',AL3(VFU1)
FNEB8  DC  C'NEB8',X'01',AL3(DXXEB8),X'01',AL3(0),X'02',AL3(VFU1)
FSPB8  DC  C'SPB8',X'01',AL3(DXXPB8),X'41',AL3(0),X'01',AL3(VFU2)
FSPW8  DC  C'SPW8',X'01',AL3(DXXPW8),X'41',AL3(0),X'01',AL3(VFU2)
FS2B8  DC  C'S2B8',X'01',AL3(DXX2B8),X'12',AL3(0),X'01',AL3(VFU1)
FBPB8  DC  C'BPB8',X'01',AL3(DXXPB8),X'59',AL3(0),X'02',AL3(VFU2)
FBPW8  DC  C'BPW8',X'01',AL3(DXXPW8),X'59',AL3(0),X'02',AL3(VFU2)
FB2B8  DC  C'B2B8',X'01',AL3(DXX2B8),X'1A',AL3(0),X'02',AL3(VFU1)
FNPB8  DC  C'NPB8',X'01',AL3(DXXPB8),X'41',AL3(0),X'02',AL3(VFU2)
FNPW8  DC  C'NPW8',X'01',AL3(DXXPW8),X'41',AL3(0),X'02',AL3(VFU2)
FN2B8  DC  C'N2B8',X'01',AL3(DXX2B8),X'12',AL3(0),X'02',AL3(VFU1)
FNOW   DC  C'NOW ',X'01',AL3(DXNOW),X'41',AL3(0),X'03',AL3(VFU3)
FREG   DC  C'REG ',X'01',AL3(DXREG),X'41',AL3(0),X'03',AL3(VFU3)
FQDEF  DC  C'QDEF',X'01',AL3(DXQDEF),X'41',AL3(0),X'03',AL3(VFU4)
FCPIS  DC  C'CPIS',X'01',AL3(DXCPIS),X'01',AL3(0),X'01',AL3(VFU1)
FEAA1  DC  C'EAA1',X'01',AL3(DXEAA1),X'19',AL3(0),X'02',AL3(VFU5)
FBFLH  DC  C'BFLH',X'01',AL3(DXBFLH),X'41',AL3(0),X'04',AL3(VFU2)
FUSR1  DC  C'USR1',X'01',AL3(DXXLL8),X'09',AL3(0),X'01',AL3(VFU1)
FUSR2  DC  C'USR2',X'01',AL3(DXXLL8),X'01',AL3(0),X'01',AL3(VFU1)
FUSR3  DC  C'USR3',X'01',AL3(DXXLL8),X'80',AL3(0),X'00',AL3(VFU1)

FFFFF  DC  16X'FF'    ** END OF SYSOUT=F FORMS TABLE **
..PAGE

**********************************************************************
* +----------------------------------------------------------------+ *
* |   D J D E    F O R M S    I M A G E    T A B L E    E N T R Y  | *
* +----------------------------------------------------------------+ *
**********************************************************************

DFITE  DS 0D

DXXLL8 DC CL80'  DJDE FORMS=STD,FORMAT=PDE2,DATA=(0,132),;'  DEFAULT
DXXLB8 DC CL80'  DJDE FORMS=NONE,FORMAT=PDE2,;'    1UP,LAND,BLANK,8LP
DXXLS8 DC CL80'  DJDE FORMS=88SH,FORMAT=PDE2,;'    1UP,LAND,SHADED,8LPI

DXXEB8 DC CL80'  DJDE FORMS=NONE,FORMAT=PD9,DATA=(0,200),;'   EXTENDED

DXX2B8 DC CL80'  DJDE FORMS=NONE,FORMAT=PDE3,;'    2UP,PORT,BLANK,8LPI

DXXPB8 DC CL80'  DJDE FORMS=NONE,FORMAT=PORPDE,DATA=(0,77),;'   PORT

DXXPW8 DC CL80'  DJDE FORMS=NONE,FORMAT=PORT1,DATA=(0,100),;'   WIDE

DXNOW  DC CL80'  DJDE FORMS=NONE,FORMAT=PDE9,DATA=(1,95),MODIFY=FNT1,;'
DXREG  DC CL80'  DJDE FORMS=NONE,FORMAT=PDE9,DATA=(1,95),MODIFY=FNT1,;'
DXQDEF DC CL80'  DJDE FORMS=NONE,FORMAT=PDE10,DATA=(1,95),MODIFY=FNT3,;X
               '
DXDEFC DC CL80'  DJDE JDE=SVM337,;'   DEFERRED COMP DUPLEX REPORTS
DXCPI  DC CL80'  DJDE JDE=CPIJDE,;'   CPI DUPLEX
DXCPIS DC CL80'  DJDE JDE=CPISDE,;'   CPI SIMPLEX
DXICL  DC CL80'  DJDE JDE=ICLJDE,;'   ICL
DXAP   DC CL80'  DJDE JDE=APJDE,;'    AP
DXFA   DC CL80'  DJDE JDE=FAJDE,;'    FA
DXHEAD DC CL80'  DJDE JDE=HEDJDE,;'   HEADLINE (DEPOSIT SYSTEM)
DXEAA1 DC CL80'  DJDE FORMS=EAA1,BFORM=EAA2,FORMAT=PDE5,SHIFT=NO,;'
DXBFLH DC CL80'  DJDE FORMS=NONE,FORMAT=PORPDE,DATA=(0,77),;' X LETTER




**********************************************************************
* +----------------------------------------------------------------+ *
* |    D J D E    V F U    I M A G E    T A B L E    E N T R Y     | *
* +----------------------------------------------------------------+ *
**********************************************************************

DVITE DS 0D

VFU1 DC H'2'                     * ALL LANDSCAPE / PORTRAIT - 2 UP
      DC CL80'  DJDE ASSIGN=(1,1),ASSIGN=(12,88),;'
      DC CL80'  DJDE TOF=1,BOF=88,COPIES=1,END;'

VFU2 DC H'2'                     * PORTRAIT - 1 UP
      DC CL80'  DJDE ASSIGN=(1,1),ASSIGN=(12,84),;'
      DC CL80'  DJDE TOF=1,BOF=84,COPIES=1,END;'

VFU3 DC H'2'                     * STATEMENTS - 1 UP
      DC CL80'  DJDE ASSIGN=(1,15),ASSIGN=(10,82),;'
      DC CL80'  DJDE TOF=15,BOF=88,COPIES=1,END;'

VFU4 DC H'2'                     * STATEMENTS - 1 UP
      DC CL80'  DJDE ASSIGN=(1,19),ASSIGN=(10,80),;'
      DC CL80'  DJDE TOF=19,BOF=88,COPIES=1,END;'

VFU5 DC H'2'                     * ESCROW ACCOUNT ANALYSIS 1
      DC CL80'  DJDE ASSIGN=(1,6),ASSIGN=(12,60),;'
      DC CL80'  DJDE TOF=6,BOF=60,COPIES=1,END;'
..PAGE

**********************************************************************
* +----------------------------------------------------------------+ *
* |   P A P E R   T R A Y   M E S S A G E   T A B L E   E N T R Y  | *
* +----------------------------------------------------------------+ *
**********************************************************************


PTMTE    DS    0D

STKINDX  DS    0H

PSTOCK00 DC    CL80'  DJDE OTEXT=(''-*-LOAD UNKN STOCK PAPER-- CCPLEX MX
               ODE''),;'   NOTE: 00 MUST ALWAYS REMAIN UNKNOWN

PSTOCK01 DC    CL80'  DJDE OTEXT=(''-*-LOAD STD 3-HOLE PAPER-- CCPLEX MX
               ODE''),;'

PSTOCK02 DC    CL80'  DJDE OTEXT=(''-*-LOAD WHT NOHOLE PAPER-- CCPLEX MX
               ODE''),;'   !!! SEE NOTE BELOW !!!

* NOTE: 02 MUST ALWAYS REMAIN WHITE NOHOLE BECAUSE OF SPECIAL LOGIC IN
*       EXIT1A WHICH RECOGNIZES NO NEED TO SWITCH ORIENTATION BETWEEN
*       DUPLEX AND SIMPLEX FOR WHITE NOHOLE PAPER.

PSTOCK03 DC    CL80'  DJDE OTEXT=(''-*-LOAD STATEMENT FORMS--- CCPLEX MX
               ODE''),;'

PSTOCK04 DC    CL80'  DJDE OTEXT=(''-*-LOAD B.F. LETTERHEAD--- CCPLEX MX
               ODE''),;'




**********************************************************************
* +----------------------------------------------------------------+ *
* |  P A G E    S E T U P   M E S S A G E   T A B L E   E N T R Y  | *
* +----------------------------------------------------------------+ *
**********************************************************************


PSMTE    DS    0D                *


HOLDMSG  DC    CL80'  DJDE OTEXT=(''-*-*-CHANGE PAPER NOW-*-*-'',WAIT),X
               ;'


DPLXDJDE DC    CL80'  DJDE DUPLEX=YES,;'


SPLXDJDE DC    CL80'  DJDE DUPLEX=NO,;'


NUFRDJDE DC    CL80'  DJDE SIDE=(NUFRONT),;'


JOBMSG   DC    CL80'  DJDE OTEXT=(''-0- JNNNN XXXXXXXX C-FFFF  CCPLEX''X
               ),;'


MODECHG  DC    CL80'  DJDE OTEXT=(''-*- PRINT SWITCHING TO  CCPLEX MODEX
               ''),;'
..PAGE
..SEC *.* SAMPLE EXIT1A OPERATION


 HOW EXIT1A USES TABLES IN EXIT1TAB TO SELECT DJDES TO SEND:



 JCL USED TO INDICATE DESIRED XEROX FORMS CONTROL:


     //DDNAME   DD  SYSOUT=(Y,,DPB8)      EACH DD STATEMENT DEFINES A
                            |    |        REPORT.  JES2 GROUPS REPORTS
                            |    |        FROM THE SAME JOB TOGETHER
  EXIT1A FINDS ENTRY FOR <--+    |        AS LONG AS SYSOUT CLASS AND
  CLASS Y IN SYSOUT CLASS        |        FORM ID ARE THE SAME.
  TABLE (SCTE) WHICH             |
  INDICATES TO USE FORMS         |
  CONTROL TABLE (FCRTE)          |
  XFRMTABX.                      |
                                 |
                                 V
                      TELLS EXIT1A TO USE ENTRY
               +----- XDPB8 IN XFRMTABX FORMS
               |      CONTROL TABLE.
               |
               |
               |  FORMS CONTROL TABLE (FCRTE) XFRMTABX ENTRY XDPB8:
               V
XDPB8  DC  C'DPB8',X'01',AL3(DXXPB8),X'59',AL3(0),X'01',AL3(VFU2)
                      |        |        |      |    |          |
                      |        |        |      |    |          |
                      V        |        |      V    |          V
                  IGNORED      |        |  IGNORED  |  TELLS EXIT1A TO
                               |        |           |  USE ENTRY VFU2 IN
                               |        |           |  DJDE VFU IMAGE
  TELLS EXIT1A TO USE ENTRY <--+        |           |  TABLE (DVITE).
  DXXPB8 IN DJDE FORMS IMAGE            |           |          |
  TABLE (DFITE).                        |           |          |
   |                                    |           |          |
   |                                    |           |          |
   |                                    |           |          |
   |   TELLS EXIT1A WE'LL BE PRINTING <-+           |          |
   |   THIS REPORT IN DUPLEX MODE                   |          |
   |   (MODE FLAG BIT SETTINGS).                    |          |
   |                                                |          |
   |                                                |          |
   |       TELLS EXIT1A WE'LL BE PRINTING THIS <----+          |
   |       REPORT ON STANDARD 3-HOLE PAPER                     |
   |       (PAPER TRAY MESSAGE TABLE PTMTE                     |
   |       ENTRY PSTOCK01).                                    |
   |                                                           |
   |                                                           |
   |   DJDE FORMS IMAGE TABLE (DFITE) ENTRY DXXPB8:            |
   V                                                           |
DXXPB8 DC CL80'  DJDE FORMS=NONE,FORMAT=PORPDE,DATA=(0,77),;'  |
                                                               |
                                                               |
   +-----------------------------------------------------------+
   |
   |   DJDE VFU IMAGE TABLE (DVITE) ENTRY VFU2:
   V
VFU2 DC H'2'                     * PORTRAIT - 1 UP
      DC CL80'  DJDE ASSIGN=(1,1),ASSIGN=(12,84),;'
      DC CL80'  DJDE TOF=1,BOF=84,COPIES=1,END;'
..PAGE



 HOW EXIT1A USES THE PRINTER TABLE (PRNTRTAB) IN EXIT1TAB TO PASS
 INFORMATION ABOUT THE REPORT BEING PRINTED TO THE OTHER JES2 EXITS
 AND TO ITSELF (FOR NEXT REPORT):


 ASSUME OUTPUT IS DIRECTED TO JES2 PRINTER 4 (A XEROX 8700 PRINTER).


 JCL USED TO INDICATE DESIRED XEROX FORMS CONTROL:


     //DDNAME   DD  SYSOUT=(Y,,DPB8)      JES2 WILL PRINT ALL OUTPUT
                            |    |        OF A SELECTED FORM ID BEFORE
                            |    |        GOING ON TO PRINT OUTPUT OF
  EXIT1A FINDS ENTRY FOR <--+    |        A DIFFERENT FORM ID.  THIS
  CLASS Y IN SYSOUT CLASS   |    |        MINIMIZES OPERATOR SETUPS.
  TABLE (SCTE) WHICH        |    |
  INDICATES TO USE FORMS    |    |
  CONTROL TABLE (FCRTE)     +----|-----------------------------------+
  XFRMTABX.                      |                                   |
                                 |                                   |
                                 V                                   |
                      TELLS EXIT1A TO USE ENTRY                      |
               +----- XDPB8 IN XFRMTABX FORMS                        |
               |      CONTROL TABLE.                                 |
               |                                                     |
               |                                                     |
               |  FORMS CONTROL TABLE (FCRTE) XFRMTABX ENTRY XDPB8:  |
               V                                                     |
XDPB8  DC  C'DPB8',X'01',AL3(DXXPB8),X'59',AL3(0),X'01',AL3(VFU2)    |
               |                        |           |                |
               |                        |           |                |
               +-------------+          |           |                |
                             |          |           |                |
                  +----------|----------+           |                |
                  |          |                      |                |
                  | +--------|----------------------+                |
  PRINTER TABLE   | |        |                                       |
  (PRNTRTAB)      | |        |       +-------------------------------+
  ENTRY FOR       | |        |       |
  PRINTER 4:      | |        |       |
                  V V        V       V
  DC CL2'4X',XL2'5901',CL4'DPB8',CL4'YN  ' XEROX 8700
         ||       | |        |       |
         ||       | |        |       |
PRINTER<-+|       | |        |       +---> SYSOUT CLASS OF REPORT
NUMBER 4. |       | |        |             BEING PRINTED.
          |       | |        |
          |       | |        |
          V       | |        +------> FORM ID OF REPORT BEING PRINTED.
     THIS IS      | |
     A XEROX      | |
     PRINTER.     | +-------> PAPER STOCK OF REPORT BEING PRINTED.
                  |
                  |
                  +-----> MODE BIT SETTINGS OF REPORT BEING PRINTED.
                          USED BY EXIT15 TO DETERMINE IF DJDE FOR
                          A SKIP TO NEW FRONT OF CUT SHEET SHOULD BE
                          GENERATED BETWEEN DATASETS (FOR DUPLEX).
..PAGE
..SEC *.* SAMPLE EXIT OUTPUT



 RESULTING DJDE COMMANDS GENERATED BY EXIT1A IN FRONT OF BEGINNING

 BANNER PAGES FOR REPORT IF A PAPER STOCK SWITCH IS NECESSARY:



      DJDE FORMS=NONE,FORMAT=PORPDE,DATA=(0,77),;                 DFITE

      DJDE OTEXT=('-0- JNUM  JOBNAME  Y-DPB8  DUPLEX'),;          PSMTE

      DJDE DUPLEX=YES,;                                           PSMTE

      DJDE SIDE=(NUFRONT),;                                       PSMTE

      DJDE OTEXT=('-*-LOAD STD 3-HOLE PAPER-- DUPLEX MODE'),;     PTMTE

      DJDE OTEXT=('-*-*-CHANGE PAPER NOW-*-*-',WAIT),;            PSMTE

      DJDE ASSIGN=(1,1),ASSIGN=(12,84),;                          DVITE

      DJDE TOF=1,BOF=84,COPIES=1,END;                             DVITE





 RESULTING DJDE COMMANDS GENERATED BY EXIT1A IN FRONT OF BEGINNING

 BANNER PAGES FOR REPORT IF A PAPER ORIENTATION SWITCH IS NECESSARY:



      DJDE FORMS=NONE,FORMAT=PORPDE,DATA=(0,77),;                 DFITE

      DJDE OTEXT=('-0- JNUM  JOBNAME  Y-DPB8  DUPLEX'),;          PSMTE

      DJDE DUPLEX=YES,;                                           PSMTE

      DJDE SIDE=(NUFRONT),;                                       PSMTE

      DJDE OTEXT=('-*- PRINT SWITCHING TO  DUPLEX MODE'),;        PSMTE

      DJDE OTEXT=('-*-*-CHANGE PAPER NOW-*-*-',WAIT),;            PSMTE

      DJDE ASSIGN=(1,1),ASSIGN=(12,84),;                          DVITE

      DJDE TOF=1,BOF=84,COPIES=1,END;                             DVITE
..PAGE



 RESULTING DJDE COMMANDS GENERATED BY EXIT1A IN FRONT OF BEGINNING

 BANNER PAGES FOR REPORT IF NO PAPER SWITCH IS NECESSARY:



      DJDE FORMS=NONE,FORMAT=PORPDE,DATA=(0,77),;                 DFITE

      DJDE OTEXT=('-0- JNUM  JOBNAME  Y-DPB8  DUPLEX'),;          PSMTE

      DJDE DUPLEX=YES,;                                           PSMTE

      DJDE SIDE=(NUFRONT),;                                       PSMTE

      DJDE ASSIGN=(1,1),ASSIGN=(12,84),;                          DVITE

      DJDE TOF=1,BOF=84,COPIES=1,END;                             DVITE





 RESULTING DJDE COMMAND GENERATED BY EXIT15 IN FRONT OF EACH DATASET

 AND/OR DATASET COPY WITHIN A REPORT:



      DJDE SIDE=(NUFRONT),END;                                   EXIT15





 RESULTING DJDE COMMANDS GENERATED BY EXIT1A IN FRONT OF ENDING

 BANNER PAGES FOR REPORT:



      DJDE FORMS=STD,FORMAT=PDE2,DATA=(0,132),;                   DFITE

      DJDE DUPLEX=YES,;                                           PSMTE

      DJDE SIDE=(NUFRONT),;                                       PSMTE

      DJDE ASSIGN=(1,1),ASSIGN=(12,88),;                          DVITE

      DJDE TOF=1,BOF=88,COPIES=1,END;                             DVITE

    <PAGE EJECT>
..PAGE
..SEC *.* EXIT INSTALLATION GUIDELINES

 THE FOLLOWING GUIDELINES WILL BE USEFUL TO THOSE INTERESTED IN
 INSTALLING OUR JES2 EXITS FOR XEROX FORMS CONTROL.


 1) READ THIS DOCUMENT IN ITS ENTIRETY BEFORE ATTEMPTING THE
    INSTALLATION.  NOTE OUR DISCLAMER REGARDING THE CONDITIONS
    UNDERWHICH WE MAKE THESE EXITS AVAILABLE.


 2) LOAD THE MODULES, JCL, AND DOCUMENTATION WHICH MAKE UP THE EXIT
    INSTALLATION INTO A PDS.  IF THE EXITS ARE COMING FROM A SHARE MODS
    TAPE, FOLLOW THE MODS TAPE INSTRUCTIONS FOR LOADING THE EXIT FILE
    TO DISK (YOU'VE PROBABLY ALREADY DONE THIS SO YOU COULD READ THIS
    DOCUMENT).

    IF YOU HAVE RECEIVED THE EXITS ON TAPE DIRECTLY FROM US, USE THE
    FOLLOWING SAMPLE JCL TO LOAD THE EXIT FILE TO DISK.  THERE WILL BE
    ONLY ONE FILE ON THE LABELLED TAPE WE SUPPLY, A PDS IN MVS IEBCOPY
    UNLOADED FORMAT.  CHANGE THE JCL TO SUIT YOUR SHOP'S REQUIREMENTS:

    //JOBNAME  JOB (ACCOUNT),'NAME',CLASS=A,MSGCLASS=A  <------
    //IEBCOPY  EXEC PGM=IEBCOPY
    //SYSPRINT DD  SYSOUT=*
    //SYSUDUMP DD  SYSOUT=*
    //SYSUT3   DD  UNIT=WORK,SPACE=(CYL,(1,1))       <------
    //SYSUT4   DD  UNIT=WORK,SPACE=(CYL,(1,1))       <------
    //TAPE     DD  DSN=BKUP.SYS2.JES2136.EXITSRC,
    //             DISP=OLD,
    //             UNIT=TAPE,                        <------
    //             VOL=SER=JES2EX,
    //             LABEL=(1,SL,EXPDT=98000)
    //DISK     DD  DSN=SYS2.JES2136.EXITSRC,         <------
    //             DISP=(NEW,CATLG,DELETE),
    //             UNIT=SYSALLDA,                    <------
    //             VOL=SER=??????,                   <------
    //             SPACE=(3120,(390,,10),,,ROUND),
    //             DCB=(DSORG=PO,RECFM=FB,BLKSIZE=3120,LRECL=80)
    //SYSIN    DD  *
    EXITFILE COPY  OUTDD=DISK,INDD=TAPE
    /*


 3) REVIEW THE MEMBERS OF SYS2.JES2136.EXITSRC THOROUGHLY.  GAIN AN
    UNDERSTANDING OF HOW THE EXITS WORK.  IT WILL BE UP TO YOU TO
    SUPPORT THEM.


 4) DETERMINE THE IMPACT OF IMPLEMENTING THE JES2 EXITS:

    A) DO YOU USE ANY OF THE FOLLOWING JES2 EXITS CURRENTLY:
       1, 5, 15, OR 250?  IF SO, YOU MAY NEED TO REWORK OR COMBINE
       YOUR EXITS WITH THE NEW ONES.  ON THE OTHERHAND, YOUR EXITS
       MAY COEXIST JUST FINE WITH THE NEW ONES.  SOME SPECIFIC POINTS:

       EXIT1A WAS CONSTRUCTED IN SUCH A WAY THAT EXISTING EXIT1'S CAN
       BE CONCATENATED BEHIND IT (AS EXIT1B IS).

       EXIT1B MIGHT BE REPLACED WITH YOUR EXISTING EXIT1 WITH
       MODIFICATIONS TO ALLOW THE XEROX PRINTER TO RECOGNIZE JOB
       BOUNDARIES.

       EXIT5 CAN BE SKIPPED IF NECESSARY, ALTHOUGH IT PROVIDES VALUABLE
       PROTECTION TO INSURE OUTPUT GETS PRINTED ON THE CORRECT PAPER
       STOCK AFTER PRINTER MAINTENANCE.


       EXIT15 CAN BE SKIPPED IF YOU DO LITTLE OR NO DUPLEX OR MULTIPLE
       LOGICAL PAGES PER PHYSICAL PAGE PRINTING.  IF YOU HAVE YOUR OWN
       EXIT15, THEN YOU USE SEPDS TO GET TO IT.  YOU'LL HAVE TO REWORK
       THE NEW EXITS TO NOT USE SEPDS AS THE MEANS FOR DETERMINING
       WHICH ARE THE XEROX PRINTERS (YOU COULD DEPEND SOLELY ON THE
       PRINTER TABLE IN EXIT1TAB).

       EXIT250 CAN BE SKIPPED IF YOU HAVE VERY FEW FORMS DEFINED, DON'T
       CARE IF THE OPERATORS HAVE TO RESPOND TO THE JES2 FORMS SETUP
       MESSAGES, SET YOUR PRINTER WORK SELECTION CRITERIA SO THAT THE
       OPERATORS CONTROL WHICH FORMS PRINT WHEN, OR HAVE SOME OTHER
       MEANS OF SUPPRESSING THE JES2 FORMS SETUP MESSAGES (SUCH AS TSSO
       OR SOME OTHER AUTOMATIC MVS CONSOLE MESSAGE TRAPPER/RESPONDER).
       THE USERMOD ZZ03821 WILL PROBABLY HAVE TO BE REWORKED DEPENDING
       ON YOUR MAINTENANCE LEVEL OF JES2.  MAKE SURE IT GETS INSERTED
       INTO HASPPRPU AT THE RIGHT PLACE.

    B) THE EXITS ASSUME THAT ONLY ONE JDE WILL EVER BE STARTED ON THE
       XEROX PRINTER (THE DEFAULT).  DJDE'S GENERATED BY THE EXITS
       HANDLE ALL FORMS CONTROL.  IF YOUR PRESENT SYSTEM IS TO HAVE
       THE OPERATORS START AND END JDE'S FOR INDIVIDUAL JOBS OR FORMS
       (PERHAPS VIA JES2 SYSOUT CLASSES, FORMS, SETUP MESSAGES) THEN
       IMPLEMENTING THIS NEW SYSTEM WILL BE QUITE A CHANGE (FOR THE
       BETTER, HOPEFULLY).  A WAY TO MIGRATE INTO IT WOULD BE TO USE
       SEPATATE SYSOUT CLASSES FOR JCL CONVERTED TO THE NEW SYSTEM
       AND CONTROL WHETHER THE PRINTER USES THE EXITS VIA THE SEPDS
       OPERAND.  SWITCH BACK AND FORTH ON A SET SCHEDULE.

    C) YOU MUST BUILD YOUR NEW FORMS TABLES IN EXIT1TAB TO REFLECT YOUR
       SHOP'S PRINT NEEDS.  YOU MUST BUILD DEFAULT AND GLOBAL JSE'S TO
       CORRESPOND TO THE DJDE'S DEFINED IN YOUR UPDATED EXIT1TAB.  I
       RECOMMEND USING AN ALTERNATE JES2 FOR TESTING YOUR CHANGES (SEE
       DOCUMENT).

    D) NOTE THAT OUR DJDE'S ARE RECOGNIZED BY THE JDE AS HAVING THE
       FORMAT "  DJDE ...;".  THERE ARE TWO SPACES IN FRONT OF THE
       CONSTANT "DJDE".  YOU MAY HAVE TO MODIFY THE DJDE DEFINITIONS
       IN THE TABLES, AND LOGIC IN EXIT1A WHICH MODIFIES THEM, TO
       CONFORM WITH THE DJDE'S YOUR PROGRAMS GENERATE.  ALSO EXIT15.

    E) NOTE THAT EXIT15 CANNOT INSURE THAT REPORTS PRINTING DUPLEX THAT
       ORIGINATE FROM THE SAME DD STATEMENT WILL ALWAYS HAVE THEIR
       FIRST PAGE PRINT ON THE FRONT SIDE OF A CUT SHEET.  SWITCHING
       FROM A SIMPLEX TO A DUPLEX ENVIRONMENT, YOU MAY HAVE TO DO AS WE
       DID AND DEFINE SPECIAL FORMS FOR WHICH THE JDE DETERMINES THE
       REPORT BREAKS.

    F) JES2 INITIALIZATION OUTDEF OPERANDS DMNDSET AND USERSET MUST BE
       SET EQUAL TO 'NO'.  IF YOU HAVE THEM SET TO 'YES' THEN SWITCHING
       THEM TO 'NO' WILL CAUSE YOUR PRINTOUT TO BE PRINTED BY FORM ID
       INSTEAD OF BY JOB.  THIS WILL MEAN LESS WORK FOR THE OPERATORS
       (FEWER FORMS CHANGES) AND POSSIBLY MORE WORK FOR DATA CONTROL
       (FINDING ALL OF THE DIFFERENT SYSOUTS OF A JOB).  MAKING THIS
       SWITCH DID NOT CAUSE OUR SHOP MUCH OF AN IMPACT.

    G) THE OPERATORS MUST RESPOND TO PAPER STOCK MESSAGES DISPLAYED ON
       THE XEROX CONSOLE.  ON THE OTHER HAND, THEY'LL NO LONGER HAVE TO
       RESOND TO JES2 FORMS SETUP MESSAGES FOR THE XEROX PRINTERS ON
       THE MVS CONSOLE (WITH EXIT250 IN PLACE).  THE NON-XEROX PRINTERS
       WILL CONTINUE TO PRESENT JES2 FORMS SETUP MESSAGES.

    H) THE JES2 EXITS WERE DEVELOPED AND IMPLEMENTED UNDER MVS/SP JES2
       RELEASE 1.3.4.  LATER THEY WERE MODIFIED TO RUN UNDER MVS/SP
       JES2 RELEASE 1.3.6.  THEY WILL PROBABLY NEED TO BE REWORKED IF
       YOU ARE ON A DIFFERENT RELEASE OR LEVEL OF JES2.  ANY JES2 OLDER
       OR NEWER THAN RELEASE 1.3.6 IS BOUND TO HAVE CHANGES TO THE JES2
       $ MACROS AND INITIALIZATION PARAMETERS.  EXIT1MIT CAN BE
       ESPECIALLY AFFECTED BY THIS.

    I) IF YOUR APPLICATION PROGRAMS GENERATE THEIR OWN DJDE'S, IT MAY
       BE NECESSARY TO SUPPRESS THE SKIP TO NEW FRONT DJDE GENERATED
       IN JES2 EXIT15 FOR DUPLEX.  OTHERWISE, THE APPLICATION GENETATED
       DJDE'S AT THE FRONT OF THE PRINTOUT MAY GET SKIPPED.  DO SO VIA
       THE MODE BIT ENTRIES IN THE FORMS TABLES.

    J) IF YOU USE A SPOOL ARCHIVER AND/OR REPORT DISTRIBUTION SYSTEM,
       SPECIAL PROVISIONS MAY BE NECESSARY TO PROVIDE XEROX FORMS
       CONTROL THRU THEM, ESPECIALLY THE DATASET SEPARATION FUNCTION
       PERFORMED BY JES2 EXIT15.  YOU MAY HAVE TO COPY LOGIC FROM
       EXIT1A AND/OR EXIT15 INTO YOUR SPECIAL SYSTEM.  BEWARE OF
       SOLUTIONS WHICH CAUSE EXCESSIVE OPERATOR INTERVENTION FOR FORMS
       SETUPS.


 5) INSTALL THE EXIT MODULES, USERMOD, AND JDE'S UNCHANGED INTO AN
    ALTERNATE JES2.  $ASM1 CONTAINS JCL TO ASSEMBLE THE EXITS, BUT IT
    MUST BE MODIFIED TO REMOVE SOME BENJ. FRANKLIN ONLY STEPS AT THE
    END.  ALSO SEE SECTION ON JES2 INITIALIZATION PARAMETER
    REQUIREMENTS.


 6) TEST THE EXITS TO VERIFY CORRECT INSTALLATION AND GAIN FAMILIARITY.
    A NON-XEROX PRINTER CAN BE USED TO DISPLAY THE DJDE'S GENERATED, OR
    USE A GTF CCW TRACE.


 7) MODIFY THE EXIT MODULES, USERMOD, AND JDE'S AS NEEDED TO SUPPORT
    YOUR REQUIREMENTS AND TEST VIA THE ALTERNATE JES2.


 8) PROVIDE OPERATOR AND USER DOCUMENTATION AND TRAINING.  SEE EXAMPLES
    IN THIS DOCUMENT.



 FOR THOSE LOOKING FOR WAYS TO IMPROVE THE XEROX FORMS CONTROL SYSTEM,
 THE BIGGEST IMPROVEMENT I CAN THINK OF WOULD BE TO MAKE THE FORMS
 CONTROL DEFINITIONS DYNAMIC, THUS AVOIDING THE NEED TO REASSEMBLE THE
 EXITS AND DO THE JES2 HOT START.

 ANOTHER IMPROVEMENT WOULD BE TO SPECIFY THE FORM DIMENSIONS IN THE
 FORMS CROSS REFERENCE TABLE (FCRTE) SO THAT THE BEGINNING BANNER PAGES
 CAN BE FORMATTED TO FIT THE FORM.  THIS CAN SOLVE PAGE OVERFLOW
 PROBLEMS WHICH MAY CAUSE THE JDE TO LOOSE TRACK OF THE BANNER PAGES.

..PAGE
..SEC *.* INDEX OF INSTALLATION MEMBERS

 THE FOLLOWING IS AN INDEX OF THE MEMBERS OF SYS2.JES2136.EXITSRC:


 MEMBER     -------------------- DESCRIPTION --------------------------

 $ASM1    - JCL TO ASSEMBLE AND LINK ALL OF THE JES2 EXITS INVOLVED IN
            XEROX FORMS CONTROL INTO ONE LOAD MODULE NAMED EXIT1MIT
            RESIDING IN SYS2.JES2136.EXITLOAD.  NOTE STEPS AT END WHICH
            SHOULD BE REMOVED IF NOT BENJ. FRANKLIN.

 $ASM4    - JCL TO ASSEMBLE AND LINK JES2 EXIT4MIT INTO
            SYS2.JES2136.EXITLOAD.  THIS IS A JCL SCAN EXIT WHICH HAS
            NOTHING TO DO WITH XEROX FORMS CONTROL.  IT CAN BE IGNORED
            BY MOST SHOPS.

 $BACK1   - JCL TO BACKOUT NEW JES2 EXIT1MIT FROM PRODUCTION.  IT
            RENAMES SYS1.PLINKLIB(EXIT1MIT) TO EXIT1MIN,
            RENAMES SYS1.PLINKLIB(EXIT1MIB) TO EXIT1MIT,
            RENAMES SYS2.TECH.LINKLIB(TEC021) TO TEC021N, AND
            RENAMES SYS2.TECH.LINKLIB(TEC021B) TO TEC021.
            THIS JOB IS ONLY APPLICABLE TO BENJ. FRANKLIN.

 $BACK4   - JCL TO BACKOUT NEW JES2 EXIT4MIT FROM PRODUCTION.  IT
            RENAMES SYS1.PLINKLIB(EXIT4MIT) TO EXIT4MIN, AND
            RENAMES SYS1.PLINKLIB(EXIT4MIB) TO EXIT4MIT.
            THIS JOB IS ONLY APPLICABLE TO BENJ. FRANKLIN.

 $COMP    - JCL TO COMPRESS SYS2.JES2136.EXITSRC.

 $COPY    - JCL TO COPY SYS2.JES2136.EXITSRC TO TAPE FOR SENDING TO
            ANOTHER SHOP.

 $DESC    - DESCRIPTION OF THE XEROX 8700/9700 FORMS CONTROL SYSTEM,
            JES2 USER EXITS, AND TABLES.  SOME IS IN LOWER-CASE.

 $DISCLMR - BENJ. FRANKLIN SAVINGS AND LOAN DISCLAIMERS.

 $PRINT   - JCL TO PRINT THE DOCUMENTATION IN $DESC.  THIS USES A BF
            PROGRAM TO FORMAT THE DOCUMENTATION.  YOU WILL HAVE TO
            SUPPLY YOUR OWN MEANS OF DOING THIS.

 $PREP1   - JCL TO PREPARE TO TURNOVER NEW JES2 EXIT1MIT.
            FIRST IT COMPRESSES SYS1.PLINKLIB AND SYS2.TECH.LINKLIB.
            THEN IT COPIES SYS2.JES2136.EXITLOAD(EXIT1MIT) TO
            SYS1.PLINKLIB(EXIT1MIN), AND COPIES
            SYS2.JES2136.EXITLOAD(TEC021) TO SYS2.TECH.LINKLIB(TEC021N).
            THIS JOB IS ONLY APPLICABLE TO BENJ. FRANKLIN.

 $PREP4   - JCL TO PREPARE TO TURNOVER NEW JES2 EXIT4MIT.
            FIRST IT COMPRESSES SYS1.PLINKLIB.  THEN IT COPIES
            SYS2.JES2136.EXITLOAD(EXIT4MIT) TO SYS1.PLINKLIB(EXIT4MIN).
            THIS JOB IS ONLY APPLICABLE TO BENJ. FRANKLIN.

 $TEST1   - JCL TO TEST JES2 EXIT1TAB AND EXIT1MIT CHANGES.

 $TEST4   - JCL TO TEST JES2 EXIT4MIT CHANGES.

 $TURN1   - JCL TO TURNOVER NEW JES2 EXIT1MIT TO PRODUCTION.  IT
            RENAMES SYS1.PLINKLIB(EXIT1MIT) TO EXIT1MIB,
            RENAMES SYS1.PLINKLIB(EXIT1MIN) TO EXIT1MIT,
            RENAMES SYS2.TECH.LINKLIB(TEC021) TO TEC021B, AND
            RENAMES SYS2.TECH.LINKLIB(TEC021N) TO TEC021.
            THIS JOB IS ONLY APPLICABLE TO BENJ. FRANKLIN.
..PAGE

 $TURN4   - JCL TO TURNOVER NEW JES2 EXIT4MIT TO PRODUCTION.  IT
            RENAMES SYS1.PLINKLIB(EXIT4MIT) TO EXIT4MIB, AND
            RENAMES SYS1.PLINKLIB(EXIT4MIN) TO EXIT4MIT.
            THIS JOB IS ONLY APPLICABLE TO BENJ. FRANKLIN.

 $XFER    - JCL TO TRANSFER FORM DESIGN SOURCE MEMBERS (JSL'S) OVER
            TO THE XEROX 8700/9700 PRINTER FOR COMPILATION.

 DFAULT   - SAMPLE DEFAULT JSL USED AT BENJ. FRANKLIN.

 END      - $$$END STATEMENT USED BY SYS2.JES2136.EXITSRC($XFER).

 EXIT1A   - JES2 EXIT 1 PRINT SEPARATOR EXIT DEVELOPED TO PROVIDE XEROX
            FORMS CONTROL BY INSERTING DJDE COMMANDS IN FRONT OF THE
            PRINT SEPARATOR PAGES.  USES SYSOUT CLASS AND FORM ID TO
            REFERENCE TABLES CONTAINED IN EXIT1TAB.  SEPDS=Y IDENTIFIES
            A PRINTER AS A XEROX 8700/9700.

 EXIT1B   - ORIGINAL JES2 EXIT 1 BF PRINT SEPARATOR EXIT MODIFIED TO
            PRODUCE SLIGHTLY DIFFERENT SEPARATOR PAGES FOR XEROX
            DESTINED OUTPUT DEPENDING ON ORIENTATION
            (LANDSCAPE/PORTRAIT) AND PAGE SIZE.  JDE AT XEROX EXTRACTS
            DATA FROM GENERATED SEPARATOR PAGES FOR DETERMINING JOB
            BOUNDARIES AND STATUS DISPLAYS.

 EXIT1MIT - JES2 MODULE INFORMATION TABLE FOR THE EXITS INVOLVED IN OUR
            XEROX FORMS CONTROL SYSTEM.  MERGES EXITS 1 (A AND B), 5,
            15, AND 250 INTO ONE LOAD MODULE.

 EXIT1REG - REGISTER DEFINITIONS AND OTHER SYMBOLICS USED IN THE EXITS.

 EXIT1TAB - VARIOUS TABLES USED BY THE EXITS, PRINCIPALLY EXIT1A, TO
            DEFINE AND MANAGE XEROX FORMS CONTROL.

 EXIT15   - JES2 EXIT 15 OUTPUT DATASET/COPY SELECT SEPARATOR EXIT USED
            TO PROVIDE DUPLEX AND MULTIPLE LOGICAL PAGE PER PHYSICAL
            PAGE SUPPORT BY INSERTING A SKIP TO NEW FRONT DJDE COMMAND
            BETWEEN SEPARATE DATASETS AND COPIES OF DATASETS WITHIN THE
            SAME SYSOUT JOB.

 EXIT250  - JES2 USER EXIT USED TO SUPPRESS JES2 FORMS SETUP MESSAGES
            WHENEVER A FORMS CHANGE OCCURS FOR A XEROX PRINTER.  EXIT1A
            CREATES FORMS SETUP MESSAGES THRU DJDE'S WHICH DISPLAY ON
            THE XEROX CONSOLE WHEN THE OUTPUT PRINTS.  EXIT250 REQUIRES
            THAT USERMOD ZZ03821 BE APPLIED TO HASPPRPU IN ORDER TO
            DEFINE ITS CALL.

 EXIT4MIT - JES2 EXIT 4 JCL SCAN USED BY BENJ. FRANKLIN TO COMMENT OUT
            //JOBCAT STATEMENTS.  THIS EXIT HAS NOTHING TO DO WITH
            XEROX FORMS CONTROL AND CAN BE IGNORED BY MOST SHOPS.

 EXIT5    - JES2 EXIT 5 COMMAND PREPROCESSOR EXIT USED TO FORCE FORM
            SETUP MESSAGES ON THE XEROX CONSOLE WHENEVER THE XEROX
            PRINTER IS STOPED OR HALTED AND RESTARTED FROM JES2.
            IMPLEMENTED TO AVOID USING WRONG STOCK OR DUPLEX/SIMPLEX
            ORIENTATION AFTER XEROX MAINTENANCE.

 GLOBAL   - SAMPLE GLOBAL JSL USED AT BENJ. FRANKLIN.

 SH88     - SAMPLE FSL USED AT BENJ. FRANKLIN.

 STD      - SAMPLE FSL USED AT BENJ. FRANKLIN.

 ZZ03821  - SMP USERMOD AGAINST JES2 MODULE SYS1.HASPSRC(HASPPRPU)
            WHICH DEFINES THE CALL TO EXIT250.  THIS USERMOD MUST BE
            APPLIED BEFORE EXIT250 WILL FUNCTION.

..PAGE
..SEC *.* JES2 INITIALIZATION PARAMETERS


  THE FOLLOWING JES2 INITIALIZATION PARAMETERS ARE REQUIRED FOR THE
  EXITS TO FUNCTION CORRECTLY (MVS/SP JES2 1.3.6):


    LOAD     =EXIT1MIT   /* EXIT1A, EXIT1B, EXIT5, EXIT15, EXIT250 */

    EXIT001  ROUTINE=(EXIT1A,EXIT1B),ENABLE  /* OUTPUT SEPERATORS  */
    EXIT005  ROUTINE=EXIT5,ENABLE    /* JES2 COMMAND PREPROCESSOR  */
    EXIT015  ROUTINE=EXIT15,ENABLE   /* OUTPUT DATASET/COPY SELECT */
    EXIT250  ROUTINE=EXIT250,ENABLE  /* FORMS SETUP SUPPRESSION    */

    OUTDEF   DMNDSET=NO,             /* NO DEMAND SETUP            */
             USERSET=NO              /* NO USER DEMAND-SETUP       */

    SPECIFY SEP AND SEPDS ON XEROX 8700/9700 PRINTER DEFINITIONS
    SPECIFY NOSEPDS ON NON-XEROX PRINTER DEFINITIONS


  THE EXITS MUST BE INITIALLY IMPLEMENTED VIA A JES2 WARM-START.
  CHANGES TO CODE IN THE EXITS (SUCH AS FORMS TABLE CHANGES) CAN BE
  IMPLEMENTED VIA JES2 HOT-STARTS.  I RECOMMEND USING AN ALTERNATE
  (SECONDARY) JES2 FOR TESTING CHANGES.


  NOTE: TO VERIFY THAT PROPER DJDE'S ARE BEING GENERATED, HAVE THE
        OPERATOR ISSUE $TPRTN,SEPDS=Y TO A NON-XEROX PRINTER AND SEND
        SOME TEST OUTPUT TO IT.  WHEN DONE, ISSUE $TPRTN,SEPDS=N

..PAGE
..SEC *.* OPERATIONAL DOCUMENTATION

 THIS SECTION CONTAINS DOCUMENTATION FOR EXPLAINING THE NEW XEROX FORMS
 CONTROL SYSTEM TO YOUR OPERATIONS STAFF.  MODIFY TO SUIT YOUR
 REQUIREMENTS.

..SEC *.*.* XEROX FORMS CONTROL PHILOSOPHY
..SPACE
 We will use JES2 exits to manage the forms used by the XEROX laser
 printer.  JES2 exit 1 (Print/Punch Separator) gets control at the
 beginning of each sysout group (job) and will examine sysout class and
 form name specified in the SYSOUT operand.  It will use the sysout
 class and form name to select XEROX DJDE commands from a set of tables
 for insertion into the print stream going to the printer.  These DJDE
 commands will setup the printer for the type of form required.
 General and special forms will be included in the tables.  New forms
 types can be tested outside of this process and placed in the tables
 during periodic maintenance.  One time form needs and special printer
 control is not precluded by this technique.  An additional advantage
 is that forms control is maintained through print interruptions (such
 as $IPRTn, printer failures, and system crashes).

 Specifying forms for the XEROX printer is similar to other printers:

 Code JCL as follows:  //ddname   DD  SYSOUT=(x,,abcd)

 Where 'x' is the sysout class and 'abcd' represents XEROX forms
 control.

 General form types have been defined for which each character of the
 form name (abcd) has a meaning:



   For 'a':
                        Blank white stock paper
       Print mode         3 Hole      No hole
..NOSPACE
       __________      _________________________
                       |           |           |
         Duplex        |     D     |     B     |
         Simplex       |     S     |     N     |
..NOSPACE              _________________________



   For 'b':
                             Orientation
       Page frames       Landscape    Portrait
..NOSPACE
       ___________     _________________________
                       |           |           |
         One up        |     L     |     P     |
         Two up        |           |     2     |
         Four up       |     4     |           |
         Extended type |     E     |           |
..NOSPACE              _________________________



   For 'c':

       Form flash
..NOSPACE
       __________         _____________
                          |           |
         Narrow lines     |     L     |
         Blank (no flash) |     B     |
         Shaded bars      |     S     |
         Wide lines       |     W     |
..NOSPACE                 _____________




   For 'd':

       Carrage control
..NOSPACE
       _______________    _____________
                          |           |
         6 lines per inch |     6     |
         8 lines per inch |     8     |
..NOSPACE                 _____________

 Special forms are assigned unique names for which the name as a whole
 has a meaning:

     Form name          Special form
..NOSPACE
     _________          ____________

        NOW           Now account forms
        REG           Regular account forms
        QDEF          Quarter-end deferred comp account forms
        AP            AP report separation
        CPI           CPI report separation - duplex
        CPIS          CPI report separation - simplex
        DEFC          Deferred Compensation - duplex
        EAA1          Escrow Account Analysis
        FA            FA report separation
        HEAD          HEADLINE report separation
        ICL           ICL report separation
        USR1          User forms control 1
        USR2          User forms control 2
        USR3          User forms control 3
        etc.


 If forms are not specified they default to our standard (STD.), which
 is equal to DLL8 (duplex, 3-hole paper, landscape, 1-up, narrow lines,
 8 lines per inch).  This should be the most commonly used form.


 With the insertion of a special user defined exit into JES2 (which
 we'll name exit 250) we eliminate JES2 form setup messages on the
 operator's MVS console.  Instead, forms setup messages will appear on
 the operator's XEROX console when actual changes must be made at the
 XEROX printer, such as for print mode (duplex or simplex) or paper
 stock (3 hole, no hole, or special form).  The operator makes the
 indicated forms change and responds to the message to continue.  We
 will make white 3-hole paper printing duplex be our standard for all
 sysout classes except 'F', and use sysout class 'F' for all operator
 setup forms.


 We will use JES2 exit 15 (Output data set / Copy select) to insert a
 XEROX DJDE command in front of each sysout dataset and copy to cause
 the XEROX printer to skip to the front of a new cut sheet when in
 duplex mode and/or printing multiple logical pages per physical page.
 This will help keep reports from beginning on the back or same side of
 the last page of the previous report.  For this to work, each report
 must be output on its own unique DD statement and multiple copies must
 be designated through JCL (such as COPIES=n on the DD statement).
 Those reports which follow one another on the same DD statement will
 require special attention to keep separate.  Some solutions are:

    1)  Print 1-up in simplex mode (example:  SYSOUT=(F,,SLL8) )

    2)  Use a special form which instructs the XEROX printer to scan
        the print stream for report breaks (example:  SYSOUT=(P,,ICL) ).
        This will be implemented in special forms AP, CPI, DEP, FA, and
        ICL.

    3)  Modify the application to separate the reports to separate DD
        statements (and use the COPIES operand on the DD statements).
..PAGE

    4)  Modify the application to insert DJDE commands between reports
        (and copies) to instruct the XEROX printer to skip to a new
        cut sheet.


 We will use JES2 exit 5 (JES2 command preprocessor) to reset the forms
 control in exit 1 to force a setup message on the next print output
 anytime the XEROX printer is stopped or halted from JES2.  This is to
 insure that the operator checks the paper setup after service is
 performed on the XEROX printer.


 Modifications will be made to the MVS POWER proc and program TEC021 to
 support printing reports transferred from the DOS system to MVS JES2
 printed on the XEROX 8700 in duplex mode and/or multiple logical pages
 per physical page.  A XEROX DJDE command will be inserted in front of
 each DOS report as needed to cause the XEROX printer to skip to the
 front of a new cut sheet.


 With modifications to SAR (Sysout Archival and Retrieval) user exit
 SARPRTUX, SAR will support the JES2 exit 1 and the user inserted exit
 descibed above, but not the JES2 exit 15.  We have been in contact
 with Essential Software discussing ways SAR could be modified to
 support the JES2 exit 15.  They have been receptive to doing this in a
 future release of SAR.  As we currently process very few, if any, user
 reports through SAR we can probably go on with our implementation
 plans and figure that the SAR support will not be required until
 later.
..PAGE
..SEC *.*.* XEROX FORMS DEFINED
..SPACE
 The following forms have been defined for the XEROX printer.  Sysout
 class 'F' is reserved for forms requiring operator setup.  All
 non-class 'F' sysout should print on 3-hole stock in duplex mode and
 not require operator setup.  All undefined forms default to the
 standard, which is DLL8.  If a form which should be specified with
 sysout class 'F' is specified with a class other than class 'F', it
 will be printed on 3-hole stock in duplex mode.  If no form is
 specified, DLL8 is assumed.


..ULIN
 CLASS  FORM  STOCK      MODE    UP   ORIENT  LINES  CHARS  LC   FLASH

 non-F        3-HOLE     DUPLEX   1  LANDSCAPE  88    132   NO   LINES
 non-F  DLL8  3-HOLE     DUPLEX   1  LANDSCAPE  88    132   NO   LINES
 non-F  DLB8  3-HOLE     DUPLEX   1  LANDSCAPE  88    132   NO   BLANK
 non-F  DLS8  3-HOLE     DUPLEX   1  LANDSCAPE  88    132   NO   SHADED
 non-F  DEB8  3-HOLE     DUPLEX   1  LANDSCAPE  88    200   NO   BLANK
 non-F  DPB8  3-HOLE     DUPLEX   1  PORTRAIT   84     77   YES  BLANK
 non-F  DPW8  3-HOLE     DUPLEX   1  PORTRAIT   84    100   YES  BLANK
 non-F  D2B8  3-HOLE     DUPLEX   2  PORTRAIT   88    132   NO   BLANK
   F    SLL8  3-HOLE     SIMPLEX  1  LANDSCAPE  88    132   NO   LINES
   F    SLB8  3-HOLE     SIMPLEX  1  LANDSCAPE  88    132   NO   BLANK
   F    SLS8  3-HOLE     SIMPLEX  1  LANDSCAPE  88    132   NO   SHADED
   F    SEB8  3-HOLE     SIMPLEX  1  LANDSCAPE  88    200   NO   BLANK
   F    SPB8  3-HOLE     SIMPLEX  1  PORTRAIT   84     77   YES  BLANK
   F    SPW8  3-HOLE     SIMPLEX  1  PORTRAIT   84    100   YES  BLANK
   F    S2B8  3-HOLE     SIMPLEX  2  PORTRAIT   88    132   NO   BLANK
   F    BLL8  NO-HOLE    DUPLEX   1  LANDSCAPE  88    132   NO   LINES
   F    BLB8  NO-HOLE    DUPLEX   1  LANDSCAPE  88    132   NO   BLANK
   F    BLS8  NO-HOLE    DUPLEX   1  LANDSCAPE  88    132   NO   SHADED
   F    BEB8  NO-HOLE    DUPLEX   1  LANDSCAPE  88    200   NO   BLANK
   F    BPB8  NO-HOLE    DUPLEX   1  PORTRAIT   84     77   YES  BLANK
   F    BPW8  NO-HOLE    DUPLEX   1  PORTRAIT   84    100   YES  BLANK
   F    B2B8  NO-HOLE    DUPLEX   2  PORTRAIT   88    132   NO   BLANK
   F    NLL8  NO-HOLE    SIMPLEX  1  LANDSCAPE  88    132   NO   LINES
   F    NLB8  NO-HOLE    SIMPLEX  1  LANDSCAPE  88    132   NO   BLANK
   F    NLS8  NO-HOLE    SIMPLEX  1  LANDSCAPE  88    132   NO   SHADED
   F    NEB8  NO-HOLE    SIMPLEX  1  LANDSCAPE  88    200   NO   BLANK
   F    NPB8  NO-HOLE    SIMPLEX  1  PORTRAIT   84     77   YES  BLANK
   F    NPW8  NO-HOLE    SIMPLEX  1  PORTRAIT   84    100   YES  BLANK
   F    N2B8  NO-HOLE    SIMPLEX  2  PORTRAIT   88    132   NO   BLANK
   F    BFLH  BF LETTER  SIMPLEX  1  PORTRAIT   66     80   NO   BLANK
   F    NOW   STATEMENT  SIMPLEX  1  PORTRAIT   73     95   NO   BLANK
   F    REG   STATEMENT  SIMPLEX  1  PORTRAIT   73     95   NO   BLANK
   F    QDEF  STATEMENT  SIMPLEX  1  PORTRAIT   73     95   NO   BLANK
 non-F  AP    3-HOLE     DUPLEX   1  LANDSCAPE  88    132   NO   LINES
 non-F  CPI   3-HOLE     DUPLEX   1  LANDSCAPE  88    132   NO   LINES
   F    CPIS  3-HOLE     SIMPLEX  1  LANDSCAPE  88    132   NO   LINES
 non-F  DEFC  3-HOLE     DUPLEX   1  LANDSCAPE  88    132   NO   LINES
 non-F  FA    3-HOLE     DUPLEX   1  LANDSCAPE  88    132   NO   LINES
 non-F  HEAD  3-HOLE     DUPLEX   1  LANDSCAPE  88    132   NO   LINES
 non-F  ICL   3-HOLE     DUPLEX   1  LANDSCAPE  88    132   NO   LINES
   F    EAA1  NO-HOLE    DUPLEX   1  PORTRAIT   88     80   NO   EAA1/2
 non-F  USR1  3-HOLE     DUPLEX   1  LANDSCAPE  88    132   NO   LINES
   F    USR2  3-HOLE     SIMPLEX  1  LANDSCAPE  88    132   NO   LINES
   F    USR3  unkwown    unknown  1  LANDSCAPE  88    132   NO   LINES

..ULIN
 Definitions:

   CLASS  - Sysout print class:  'non-F' is any class other than 'F'.
   FORM   - Sysout form id, as in SYSOUT=(x,,form).
   STOCK  - Paper stock (3-hole, no-hole, statements, etc.)
   MODE   - SIMPLEX prints on one side, DUPLEX prints on both sides.
   UP     - Logical pages per side (each skip to channel 1 is a logical
            page).
   ORIENT - Orientation:  LANDSCAPE runs across, PORTRAIT runs down.
   LINES  - Maximum lines per logical page.
   CHARS  - Maximum characters per line.
   LC     - Font capable of printing lower case characters (YES or NO).
   FLASH  - Forms flash:  LINES are narrow lines, BLANK is no flash,
            SHADED are shaded bars.


 Special forms NOW, REG, and QDEF are used to print deposit system
 account statements.  NOW is for NOW accounts, REG is for regular
 accounts, and QDEF is for quarter-end deferred comp accounts.  NOW and
 REG support AIMS machine bar codes in the upper right-hand corner,
 while QDEF does not.  Specify sysout class 'F' when using forms NOW,
 REG, and QDEF.


 Special forms AP, CPI, DEFC, FA, HEAD, and ICL invoke special
 processing in the XEROX printer to cause skips to new cut sheets at
 report breaks.  They are used on certain DD statements in their
 respective applications where multiple reports come out on the same DD
 statement.  Other than that they are similar to DLL8 (3-hole stock,
 duplex) and should not be specified on sysout class 'F'.  The
 applications are:

   AP     - Accounts Payable.
   CPI    - New loan system.
   DEFC   - Deferred Compensation.
   FA     - Fixed Assets.
   HEAD   - Applications using HEADLINE (such as the Deposit system).
   ICL    - Installment Credit Loans.

 In addition to the above, special form CPI causes each report group
 separator page to be printed on a colored sheet.

 Special form CPIS is similar to form CPI in that each report group
 separator page is printed on a colored sheet, but it prints in simplex
 mode.  Specify sysout class 'F' when using form CPIS.


 Special forms USR1, USR2, and USR3 are used when the user wants more
 control over the printer than the other form types provide.  Use them
 as follows:

   USR1   - Same as standard DLL8 except no skip to new cut sheet DJDE
            commands are inserted between datasets.  User can send own
            DJDE commands except change paper stock or mode, which must
            remain 3-hole duplex.  User must control skipping to new
            cut sheets as needed.  Specify with any sysout class except
            class 'F'.

   USR2   - Same as SLL8.  No skip to new cut sheet DJDE commands are
            inserted between datasets.  User can send own DJDE commands
            except change paper stock or mode, which must remain 3-hole
            simplex.  Specify only with sysout class 'F'.

   USR3   - User must control all aspects of XEROX printer forms
            control thru DJDE commands.  User must supply DJDE commands
            to specify paper stock, mode (SIMPLEX or DUPLEX), format
            (PDE), flash (FORM), carrage control (VFU), etc.  If no
            control is specified, print defaults to USR2 with whatever
            stock and mode was last printed on the printer.  Specify
            only with sysout class 'F'.


 Special form EAA1 is used to print the Escrow Account Analysis.  It
 invokes a special flash for each side of the paper (white no-hole).
 Specify sysout class 'F' when using form EAA1.
..PAGE
..SEC *.*.* XEROX FORMS OPERATOR INSTRUCTIONS
..SPACE
 The implementation of our XEROX forms control system modifies how the
 operator manages print going to the XEROX printer.  With the exception
 of the initial setup message after the XEROX printer is started from
 JES2, setup messages for paper stock changes will appear on the XEROX
 operator console instead of the MVS operator console.  Our standard
 print will be on white 3-hole paper in duplex mode, which is forced
 for all sysout classes except class 'F'.  Print output requiring
 stock other than white 3-hole, and/or requiring simplex mode will be
 limited to sysout class 'F', thus letting the operator control when
 print setups will occur.  Stopping, draining, or halting the XEROX
 printer from JES2 will cause a setup message on the XEROX console for
 the next print output sent to it, thus insuring that the operator
 check the stock and mode after service is performed on the printer.

 JES2 determines that a printer is a XEROX laser printer (and requires
 special forms control) by checking the state of SEPDS (as displayed by
 a $DU,PRTn command).  SEPDS=Y indicates this is a XEROX printer, while
 SEPDS=N indicates this is not a XEROX printer.  The state of SEPDS is
 set when JES2 comes up, but can be changed by the operator if
 necessary (such as testing XEROX forms control with the MEMOREX
 printer, when a printer is moved, or when a problem is encountered
 with the JES2 exits performing the forms control function).  Contact
 Technical Support when permanent changes should be made to the SEPDS
 state of any particular printer.

 Note:  Always have S=Y and SEPDS=Y set for the XEROX printer.  All
 other printers should have SEPDS=N set.

..SEC *.*.*.* CONTROLLING XEROX OUTPUT PRIORITY

 JES2 will print all of the output for a given forms id in one class
 before going on to print sysout with a different forms id.  Because
 sysout class F is the only class which allows operator setup form ids,
 it is important to not change a report's sysout class from or to class
 F.  If you wish to cause a report to print ahead of another report,
 use the following procedure:

     1) Increase the report's print priority:  $TOJnnnn,ALL,P=255

     2) If the report's sysout class is different from the one
        currently being printed, then change the printer to print the
        desired sysout class next:  $TPRTn,Q=c...

     3) If the report's form id is different from the one currently
        being printed, then change the printer to print the desired
        form id next:  $TPRTn,F=form

..SEC *.*.*.* XEROX FORMS EXCEPTIONS

 If the operator encounters print setups for standard white 3-hole
 paper, duplex mode, while printing sysout class 'F' only, he or she
 should direct an incident report to the person submitting the job
 creating the output instructing them to use a different sysout class
 or form (refer them to the standards).

 If the operator encounters print setups for other than standard white
 3-hole paper, duplex mode, while printing sysout classes other than
 'F', he or she should direct an incident report to Mike Sheedy to
 correct the situation.
..PAGE
..SEC *.*.*.* XEROX FORMS OPERATOR MESSAGES

 The following messages will display on the XEROX operator console to
 inform the operator of what is printing and what setup is required:

 -0- j nnn jobname  c-form xxxPLEX

     Message occurs at the time output is to actually start to print
     on the printer.  'j nnn' is the JES2 job number, 'jobname ' is
     the name of the job creating the output,  'c' is the sysout class,
     'form' is the specified form id, and 'xxxPLEX' is the print mode
     (SIMPLEX, DUPLEX, or ??-PLEX).  This message is informative only.
     No operator action is required.

 -*- PRINT SWITCHING TO SIMPLEX MODE

     The printer is switching to SIMPLEX mode.  The operator must
     change the paper around for SIMPLEX operation (front facing down,
     top on your left).  In the case of standard white 3-hole paper,
     the holes point into the printer.

 -*- PRINT SWITCHING TO  DUPLEX MODE

     The printer is switching to DUPLEX mode.  The operator must change
     the paper around for DUPLEX operation (front facing up, top on
     your left).  In the case of standard white 3-hole paper, the holes
     point out of the printer.

 -*-LOAD STD 3-HOLE PAPER--xxxPLEX MODE

     The printer is preparing to print on standard white 3-hole paper
     in the indicated mode (DUPLEX or SIMPLEX).  The operator must
     load the printer with standard white 3-hole paper stock in the
     indicated mode.

 -*-LOAD WHT NOHOLE PAPER--xxxPLEX MODE

     The printer is preparing to print on standard white nohole paper
     in the indicated mode (DUPLEX or SIMPLEX).  The operator must
     load the printer with standard white nohole paper stock.  The
     mode doesn't matter with standard white nohole paper.

 -*-LOAD STATEMENT FORMS---xxxPLEX MODE

     The printer is preparing to print on statement paper stock in the
     indicated mode (DUPLEX or SIMPLEX).  The operator must load the
     printer with statement paper stock in the indicated mode.

 -*-LOAD B.F. LETTERHEAD---xxxPLEX MODE

     The printer is preparing to print on Benj. Franklin letterhead
     stock in the indicated mode (DUPLEX or SIMPLEX).  The operator
     must load the printer with Benj. Franklin letterhead stock in the
     indicated mode.

 -*-*-CHANGE PAPER NOW-*-*-

     The printer is waiting for the operator to perform the setup
     specified in the previous message.  Perform the indicated setup
     and hit the 'CONTINUE' key ('CONTINUE 0').


 If the XEROX printer is waiting for the operator to perform a setup
 operation and JES2 has output it wants to send to the printer, an
 intervention required message will be displayed on the MVS console.
 This message will go away after the operator performs the necessary
 setup on the XEROX printer and printing resumes.
..PAGE
..SEC *.*.*.* XEROX PRINTER SERVICING

 If service needs to be performed on the XEROX printer the operator
 should follow this procedure:

   1) Stop the XEROX printer from JES2:

          Enter on MVS console:  V 60A,OFFLINE
                                 $P PRT4
          Wait for printer status to be 'DRAINED'
             (can check status by enterring:  $DU,PRT4 )

   2) Print all output remaining in the XEROX printer (if possible):

          Enter on the XEROX console:  END
          Perform print setups as needed.
          Empty the output hoppers:  @U

   3) Take the XEROX printer offline (if possible):

          Enter on the XEROX console:  OFF
          Receive:  OS2570 VARY SYSTEM OFFLINE AT THE HOST AND
                    ENTER "CONTINUE I"
          Enter on the MVS console:    V 60A,OFFLINE
                                       S S
          Receive either:  IEF281I 60A NOW OFFLINE
                      or:  IEE303I 60A      OFFLINE
          Hit the 'CONTINUE' key on the XEROX console.

   4) Perform the required XEROX servicing.

 When the servicing is done and the printer is ready to resume printing
 JES2 output do the following:

   1) If you were not able to print all of the output remaining in the
      printer prior to servicing it, make sure that the paper stock in
      use prior to servicing is put back in the printer in the same
      mode (DUPLEX or SIMPLEX) as before.

   2) Place the printer online:

          Enter on the XEROX console:  ONL

   3) Start the default program:

          Enter on the XEROX console:  STA

   4) Select the JES2 sysout classes to be printed (if a change is
      desired):

          Enter on MVS console:  $T PRT4,Q=ccc...

   5) Start the XEROX printer to JES2:

          Enter on MVS console:  V 60A,ONLINE
                                 $S PRT4
          You will receive a forms setup message from JES2.
          Enter on MVS console:  $S PRT4

   6) When the first new output sent to the XEROX printer is ready to
      print you will recieve a print setup message on the XEROX
      console:

          Perform the indicated print setup (if needed) and hit the
          'CONTINUE' key on the XEROX console.
..PAGE
..SEC *.*.*.* XEROX TESTING WITH ALTERNATE JESA

 An alternate version of JES2 (named JESA) can be used to test
 modifications the JES2 exits and tables used in XEROX printer forms
 control.  Other than requiring that JES2 be up and running, JESA runs
 independent of JES2, and has its own spool, initiators, readers, and
 unit record devices.  JESA can abend without affecting operation
 outside of its control (although it can cause a system dump which may
 tie up operations for up to 30 seconds).

 The alternate version of JES2 cannot interface with TSO, SDSF, or the
 MVS SYSLOG.  Jobs to be run under JESA must be submitted either by a
 started task running under the control of JESA (see AUTA below), or
 via cards entered thru a card reader allocated to JESA (alternate JESA
 card readers must be re-started for each job read).  Note that all
 JESA operator messages and commands are prefixed with a slash (/)
 instead of a dollar sign ($).  The following instructions describe how
 to bring up, use, and take down JESA:

 Bring JESA up:

    Confirm with Technical Support that JESA is available for testing.
    Enter on MVS console:  S JESA
    Receive:  *nn $HASP426 SPECIFY OPTIONS - JES2 SP v.r.m
    Enter on MVS console:  nn,U
    Receive:  /HASP400 ENTER REQUESTS
    Enter on MVS console:  /S

 Bring JESA job submitter up:

    Enter on MVS console:  S AUTA,SUB=JESA

 Submit jobs to run under JESA control (note JESA spool is small):

    Enter on MVS console:  F AUTA,jobname,D=07  for jobs out of
                                                SYS2.JES2136.EXITSRC

 Controlling JESA:

    All JESA operator messages start with a slash (/) instead of a
    dollar sign ($).
    All JESA operator commands start with a slash (/) instead of a
    dollar sign ($).

 Transfer printer n from JES2 to JESA:

    Stop printer n from JES2:  $P PRTn
    Wait for printer status to be 'DRAINED'
       (can check status by enterring:  $DU,PRTn )
    Print all output remaining in the XEROX printer:
       Enter on the XEROX console:  END
       Perform print setups as needed.
       Empty the output hoppers:  @U
       Enter on the XEROX console:  STA
    Modify JESA printer options as needed:  /T PRTn,Q=ccc... etc.
    Start printer n to JESA:   /S PRTn

 Return printer n from JESA back to JES2:

    Stop printer n from JESA:  /P PRTn
    Wait for printer status to be 'DRAINED'
       (can check status by enterring:  /DU,PRTn )
    Print all output remaining in the XEROX printer:
       Enter on the XEROX console:  END
       Perform print setups as needed.
       Empty the output hoppers:  @U
       Enter on the XEROX console:  STA
    Modify JES2 printer options as needed:  $T PRTn,Q=ccc... etc.
    Start printer n to JES2:   $S PRTn

 Take JESA down normally:

    Take JESA job submitter down (if up):  P AUTA
    Stop any printers JESA has started:    /P PRTn
    Stop any initiators JESA has started:  /PI
    Wait for all active JESA jobs and output to complete.
    Receive:  /HASP099 ALL AVAILABLE FUNCTIONS COMPLETE
    Drain JESA:  /P
    Receive:  /HASP623 SYSTEM DRAINING
    Stop JESA:   /P JES2
    Receive:  /HASP085 JES2 TERMINATION COMPLETE

 Take JESA down abnormally:

    Attempt normal JESA take down if possible.
    Force JESA down with JES command if possible:  /P JES2,ABEND
      (Note: If JESA won't come down with /P JES2,ABEND command then it
       may be necessary to force it down with OMEGAMON or LOOK.)
    Receive:  */HASP095 JES2 CATASTROPHIC ERROR.  CODE = $PJ2  ...
               /HASP088 ...
               /HASP088 ...
              *nn /HASP098 ENTER TERMINATION OPTION
    If a system dump is desired enter:   nn,DUMP    (takes 30 seconds)
    Purge JESA from system if possible:  nn,PURGE
    Receive:  */HASP086 WARNING - JES2 CHECKPOINT LOCK NOT RELEASED
               /HASP085 JES2 TERMINATION COMPLETE
               IEF450I JESA JESA - ABEND S02D U0000 - TIME=hh.mm.ss

    After JESA comes down abnormally, it may be desirable to bring it
    up again ('hot start') and take it down normally to clear out any
    JESA initiators or the JESA job submitter.

 JESA hot start:

    Same as bringing JESA up normally (but done after a JESA abend and
    prior to an MVS IPL).

..PAGE
..SEC *.*.* JES2 EXIT1TAB FORMS TABLES CHANGES

 This section outlines the procedures used to create, modify, test, and
 turnover changes to the JES2 XEROX Forms Control Tables.  Use the
 following checklist to assist you in making XEROX forms changes:

    1) Set a tentative implementation date for your changes.  If it
       will be within the next week or so, you may want to schedule the
       change with the Change Board prior to developement to make their
       tuesday change submission deadline.  JES2 exit changes are
       always Severity Code 1 changes.

    2) Design your new form or plan your modifications/corrections.
       Determine the changes to be made to the default and global JSLs
       in SMNP.ZM041.XEROXLIB.  Determine the changes to be made to the
       JES2 XEROX Froms Control Tables in
       SYS2.JES2136.EXITSRC(EXIT1TAB).

    3) Run the changes passed Mike Sheedy in Technical Support and
       Linda Clifton in Operations Scheduling for system impact
       verification.

    4) Make the necessary changes to the default and global JSLs in
       SMNP.ZM041.XEROXLIB to support your new form.

    5) Make the necessary changes to SYS2.JES2136.EXITSRC(EXIT1TAB) to
       support your new form.  If it is necessary to compress
       SYS2.JES2136.EXITSRC use job SYS2.JES2136.EXITSRC($COMP).

    6) Run SYS2.JES2136.EXITSRC($ASM1) to assemble JES2 EXIT1MIT with
       your changes in SYS2.JES2136.EXITSRC(EXIT1TAB).  Verify that the
       assembly completes without errors (if errors, return to step 2).

    7) Bring up the secondary JESA and test your forms changes through
       it.  Run and print SYS2.JES2136.EXITSRC($TEST1) under JESA and
       verify that standard forms print ok (if errors, return to step
       2).

    8) Run SYS2.JES2136.EXITSRC($PREP1) to prepare the production
       libraries for turnover of the modified JES2 exits.  Verify that
       the preparation job completes without errors (if errors, contact
       Mike Sheedy).  Note: It is ok for the first step to not be able
       to scratch EXIT1MIB and/or TEC021B if they don't already exits.

    9) Schedule the implementation date for the JES2 exit changes with
       the Change Board.  The JES2 exit changes are Severity Code 1
       changes.  Note that the Change Board meets on Tuesdays.

   10) Inform Operations if new paper stock is involved.

   11) Submit a Documentation Update Request (IS-1259) to the ISD
       Administration Department to update section 6.9.1 XEROX LASER
       PRINTER FORM IDs within the JCL STANDARDS online manual, chapter
       6, with the changes you are making to the XEROX forms.

   12) Schedule the JES2 EXIT1MIT turnover with Operations.  See the
       next two sections for sample turnover and backout procedures for
       the operator to follow.  Basically, you run
       SYS2.JES2136.EXITSRC($TURN1) to turnover EXIT1MIT and perform a
       JES2 hot-start (do at night with IMS down).  To backout EXIT1MIT
       after it has been turned over you run
       SYS2.JES2136.EXITSRC($BACK1) and perform another JES2 hot-start.

   12) Inform requestor and update the Change Calendar when the
       turnover completes and the new forms are in production.

..PAGE
..SEC *.*.* JES2 EXIT1MIT CHANGE TURNOVER PROCEDURE

 Operator Procedure to Turnover New JES2 EXIT1MIT:

 This procedure is performed from MVS.

 Perform this procedure early into Graveyard (say 1:00 am) to allow
 plenty of time for possible backout.  IMS should be down.


 1) Queue and run job SYS2.JES2136.EXITSRC($TURN1):

      A) Enter on MVS console:      F AUTO,$TURN1,D=07

      B) Wait for TSMASETO to successfully complete.


 2) Stop all printing and job submission.  Jobs currently executing may
    continue to run, but the printers must be drained.


 3) Force JES2 down with an abend:

      A) Enter:    $P JES2,ABEND

         Receive: *$HASP095 JES2 CATASTROPHIC ERROR.  CODE = $PJ2 ...
                   $HASP088 ...
                   $HASP088 ...
                  *nn $HASP098 ENTER TERMINATION OPTION

      B) Enter:    R nn,PURGE

         Receive: *$HASP086 WARNING - JES2 CHECKPOINT LOCK NOT RELEASED
                   $HASP085 JES2 TERMINATION COMPLETE
                   IEF450I JES2 JES2 - ABEND S02D U0000 - TIME=hh.mm.ss


 4) Hot Start JES2:

      A) Enter:    S JES2

         Receive: *nn $HASP426 SPECIFY OPTIONS - JES2 SP v.r.m


      B) Enter:    R nn,U

         Receive:  $HASP400 ENTER REQUESTS

      C) Enter:    $S


 5) Resume normal operations, but be alert for problems with JES2
    spooling and printing, particularly in the XEROX 8700.



 If you have any problems with this procedure notify the submitter of
 this schedule request or the Technical Support person on call.


 This document is stored in SYS2.JES2136.EXITSRC($DESC).

..PAGE
..SEC *.*.* JES2 EXIT1MIT CHANGE BACKOUT PROCEDURE

 Operator Procedure to Backout the New JES2 EXIT1MIT:

 Notify the submitter of this schedule request that there is a need to
 back out the JES2 EXIT1MIT change.  If the submitter is not available
 notify the Technical Support person on call.

 This procedure is performed from MVS.

 Perform this procedure as soon as necessary to allow plenty of time
 for possible problems.  Note that MVS may need to be IPL'ed if this
 procedure fails (but only IPL under the direction of Tech. Support).

 If the following steps fail, or cannot be performed, call the
 submitter of this schedule request or the Technical Support person on
 call immediately.  Someone will probably have to come in and review
 the alternate backout procedures documented in SYS2.TECH.CHG1987.


 1) Queue and run job SYS2.JES2136.EXITSRC($BACK1):

      A) Enter on MVS console:      F AUTO,$BACK1,D=07

      B) Wait for TSMASEBO to successfully complete.


 2) Stop all printing and job submission.  Jobs currently executing may
    continue to run, but the printers must be drained.


 3) Force JES2 down with an abend:

      A) Enter:    $P JES2,ABEND

         Receive: *$HASP095 JES2 CATASTROPHIC ERROR.  CODE = $PJ2 ...
                   $HASP088 ...
                   $HASP088 ...
                  *nn $HASP098 ENTER TERMINATION OPTION

      B) Enter:    R nn,PURGE

         Receive: *$HASP086 WARNING - JES2 CHECKPOINT LOCK NOT RELEASED
                   $HASP085 JES2 TERMINATION COMPLETE
                   IEF450I JES2 JES2 - ABEND S02D U0000 - TIME=hh.mm.ss

 4) Hot Start JES2:

      A) Enter:    S JES2

         Receive: *nn $HASP426 SPECIFY OPTIONS - JES2 SP v.r.m

      B) Enter:    R nn,U

         Receive:  $HASP400 ENTER REQUESTS

      C) Enter:    $S


 5) Resume normal operations, but be alert for problems with JES2
    spooling and printing, particularly in the XEROX 8700.


 6) Fill out an IR on the reason for performing this backout.


 If you have any problems with this procedure notify Technical Support.
..PAGE
..SEC *.* SAMPLE TSO NOTICE

 THIS SECTION CONTAINS SAMPLE NOTICES FOR EXPLAINING THE NEW XEROX
 FORMS CONTROL SYSTEM TO YOUR PROGRAMMING STAFF.  MODIFY TO SUIT YOUR
 REQUIREMENTS.

||||||  30 12MAR86 10:58 25MAR86   Preparation for Switching to DUPLEX

    Date: March 12, 1986
    To:   Informations Systems Staff and EDP Auditing
    From: Mike Sheedy, ext 229
    Re:   Preparation for Switching to Duplex Print

    When printing output via the XEROX 8700 Laser Printer, we currently
    default to 'simplex' mode, which is to print on only the front side
    of each cut sheet of paper.  In a few weeks we will be changing our
    default to 'duplex' mode, which is to print on both front and back
    of each cut sheet of paper.  We are making modifications to MVS
    JES2 to insure that each sysout file created on a separate DD
    statement will have its first page begin on the front side of a new
    cut sheet.  The same goes for multiple copies of sysout files
    specified via the COPIES operand in MVS JCL.  Unfortunately, we
    cannot insure that multiple reports within a single sysout file
    (ie: on a single DD statement) will have their first pages begin on
    the front sides of new cut sheets unless special provisions are
    made for each occurance.

    Besides the problem of multiple reports printing through a single
    DD statement, there may be reports which should continue to print
    simplex after we change the default to duplex (such as pages filed
    by customer or branch, or sent to customers).  In order to minimize
    disruptions to our report users, we are asking that you review the
    applications you support and note which jobs and sysout files will
    need special consideration, either because multiple reports are
    being produced on a single DD statement, or the sysout needs to
    continue to print in simplex mode.  I have been in contact with
    programmers supporting the following applications in performing
    this task: AP, CPI, FA, GMT, and ICL.  Please contact me or send me
    a note if we have missed you, or you know of production jobs
    needing the special sysout considerations described above.  We will
    work out the changes needed with Scheduling and Operations.

    Also, watch for a NEWS update which will give instructions you can
    use to make necessary test output print in simplex mode after we
    switch the default to duplex mode.  While duplex will be preferred
    and have higher priority, we recognize that there will be special
    instances where simplex may be required in test.

    Do not hesitate to contact me if you have any questions or concerns
    regarding printing on the XEROX Laser Printer and/or duplex mode.
    Thank you.

||||||  50 15APR86 10:30 05MAY86   Switch to DUPLEX PRINT on XEROX 8700

    Effective April 22, 1986, the default print mode for the XEROX
    8700 Laser Printer will be changed to 'duplex' mode.  This will
    cause standard output to print on both front and back of each cut
    sheet of paper.

    Modifications have been made to MVS/JES2 to insure each sysout file
    created with a separate DD statement will have its first page begin
    on the front side of a new cut sheet.  The same goes for multiple
    copies of sysout files specified via the COPIES operand in MVS JCL.
    Special JCL provisions have been made for those production applica-
    tions which have multiple reports being produced with a single DD
    statement, or whose sysout needs to continue to print in 'simplex'
    mode, as identified to us by Systems and Programming (see past
    NEWS bulletin #30).

    ISD users may have questions or problems regarding their reports
    printing duplex.  If a duplex-printed production report is not
    being properly separated from the previous report, or a report is
    not being printed in simplex mode when it should be, ISD Scheduling
    will need to be informed to correct the production JCL.

    New documentation regarding Sysout classes and forms IDs for use
    with the XEROX printer will soon be added to the Standards and Pro-
    cedures Manual, sections 6.9 and 6.9.1 (available online via
    =U.D.1;6).  Please review this documentation.  Some use recommend-
    ations follow below:

    WHAT THE PAPER HARDCOPY PRINT CLASSES ARE FOR:

    Sysout classes A, O, P, and Y route output to the XEROX 8700 laser
    printer, which prints 8-1/2 x 11 cut, 3-hole, white sheet paper
    in duplex mode.  Classes A, O, and P are reserved for production
    reports; Sysout class Y should be used for tests, compiles, and
    documentation.

    Sysout class F also routes output to the XEROX 8700 and is used for
    any test or production output requiring operator setup. This can be
    output which needs to print in simplex mode, or must print on cut
    sheet paper other than 3-hole white, such as statement forms. When
    choosing form IDs for your output, use the Sysout class and form ID
    combinations soon to be documented in the JCL chapter of the
    Standards manual, section 6.9.1.

    Sysout class M routes output to the MEMOREX 4303 impact printer,
    which prints continuous fan-fold paper (11x14) and labels.

    NOTE:  Do not use form IDs with XEROX printer Sysout classes
           not defined to the XEROX printer, such as 11NH, 11AA, etc.
           These will be ignored, and your output will print as if no
           form id had been specified.  Use FCBs on output directed
           to the MEMOREX printer only. The XEROX printer ignores all
           specified FCBs.


    HOW TO PRINT PORTRAIT ORIENTATION:

    To print documentation generated by program TEC250 in portrait
    orientation (ie: narrow side of paper at top), use Sysout class Y
    and form ID DPB8.  By using this form ID, it is no longer necessary
    to send your own DJDE command to the XEROX printer.  DPB8 prints
    in duplex mode on 3-hole white cut sheet paper.  Lower-case charac-
    ters print as lower-case characters. Below is a JCL example to use:

          //SYSUT2   DD  SYSOUT=(Y,,DPB8)


    HOW TO PRINT 2-UP:

    To print output 2-up (ie: two logical pages on each side of a
    physical cut sheet), use Sysout class Y and form ID D2B8. This will
    print duplex mode on 3-hole white cut sheet paper, portrait orient-
    ation.  Much paper can be saved printing ABEND dumps 2-up. The
    following is an example of the JCL to use:

          //SYSUDUMP DD  SYSOUT=(Y,,D2B8)


    HOW TO PRINT MULTIPLE REPORTS DUPLEX MODE ON A SINGLE DD STATEMENT:

    Uses the COPIES=n operand on the DD statement if you are printing
    multiple copies of the same report with one DD statement. If working
    with an application which prints more than one different report with
    the same DD statement, special duplex form IDs have been set up.
    Refer to the special form IDs AP, CPI, DEFC, FA, HEAD, and ICL soon
    to be documented in the JCL chapter of the Standards Manual, section
    6.9.1.  The following is an example of the JCL to use to print two
    reports created by the HEADLINE subroutine printing on the same DD
    statement:

          //ddname   DD  SYSOUT=(Y,,HEAD)


    HOW TO PRINT SIMPLEX MODE:

    Duplex printing is preferred and has higher priority, but there
    will be special instances where simplex mode is required in testing.
    Use Sysout class F and form ID SLL8 to print standard output in
    simplex mode (the default prior to April 22, 1986).  The following
    is an example of the JCL to use:

          //ddname   DD  SYSOUT=(F,,SLL8)

    To print documentation generated by program TEC250 in simplex mode,
    use sysout class F and form id SPB8.  Sample JCL would be:

          //SYSUT2   DD  SYSOUT=(F,,SPB8)

    To have your JCL listings also print simplex, specify MSGCLASS=F
    on your JOB statement and add the following JCL statement after
    your JOB statement:

          //OUTJCL   OUTPUT JESDS=ALL,CLASS=F,FORMS=SLL8

    To get an entire job to print simplex, including JCL listings,
    specify MSGCLASS=F on your JOB statement, Sysout class=F without
    any form IDs on all of your Sysout DD statements, and add the
    following two JCL statements after your JOB statement:

          //OUTJCL   OUTPUT JESDS=ALL,CLASS=F,FORMS=SLL8
          //OUTDEF   OUTPUT DEFAULT=YES,CLASS=F,FORMS=SLL8


    Contact Mike Sheedy in Technical Support if you have any questions
    or concerns regarding printing on the XEROX Laser Printer and/or
    duplex mode.  To get a hardcopy printout of this (or any) NEWS
    item, hit PF Key 4 or 16.  Thank you.

..PAGE
..SEC *.* SAMPLE DEFAULT JSL


   THE FOLLOWING IS A SAMPLE OF THE DEFAULT JSL WE USE WITH OUR
   XEROX FORMS CONTROL THRU JES2 EXITS SYSTEM:



$$$START DFAULT.JSL
DFAULT:  JDL;

/*               FIRST JSL FOR BEN FRANKLIN             */
/*               01/15/86    DAVID C. LEETCH            */

VFU1:    VFU      ASSIGN=(1,1),ASSIGN=(12,88)
                  TOF=1,BOF=88;
VFUPOR:  VFU      ASSIGN=(1,1),ASSIGN=(12,84)
                  TOF=1,BOF=84;
VFU2:    VFU      ASSIGN=(1,15),ASSIGN=(10,82)
                  TOF=15,BOF=88;
VFU3:    VFU      ASSIGN=(1,19),ASSIGN=(10,80)
                  TOF=19,BOF=88;
VFU4:    VFU      ASSIGN=(1,6),ASSIGN=(12,60)
                  TOF=6,BOF=60;

T1:      TABLE    MASK=('&','#','@'),
                  CONSTANT=('*& START @@@','*& END   @@@',
                  '*& CONT  @@@');
T2:      TABLE    CONSTANT=('O3151-RDR');
T3:      TABLE    CONSTANT=('PAGE     1');
T4:      TABLE    CONSTANT=('PAGE    1');
C1:      CRITERIA CONSTANT=(0,12,EQ,T1),LINENUM=(60,20); /* BANNER */
C2:      CRITERIA CHANGE=(90,12,NE,LAST),LINENUM=(1,1);   /* ICL */
C3:      CRITERIA CHANGE=(0,7,NE,LAST),LINENUM=(2,1);    /* FA */
C4:      CRITERIA CHANGE=(0,9,NE,LAST),LINENUM=(1,1);    /* CPI */
C5:      CRITERIA CONSTANT=(0,9,EQ,T2),LINENUM=(1,1);    /* CPI */
C6:      CRITERIA CHANGE=(0,8,NE,LAST),LINENUM=(2,1);    /* AP */
C7:      CRITERIA CHANGE=(123,10,NE,LAST),LINENUM=(3,1);    /* HEAD */
C8:      CRITERIA CONSTANT=(122,10,EQ,T3),LINENUM=(1,1);    /* CPI */
C9:      CRITERIA CHANGE=(71,28,NE,LAST),LINENUM=(5,1);  /*DEF COMP */
C10:     CRITERIA CONSTANT=(123,9,EQ,T4),LINENUM=(1,1);    /* HEAD */

FNT1:    CME      LINE=(15,4),POS=1,FONT=1,POS=74,FONT=2,
                  LINE=(19,4),POS=1,FONT=1,POS=74,FONT=4,
                  LINE=(23,1),POS=1,FONT=1,POS=74,FONT=3,
                  LINE=(24,-),FONT=1;
FNT2:    CME      LINE=(1,2),FONT=3,LINE=(3,2),FONT=1,LINE=(5,2),FONT=3,
                  LINE=(7,25),FONT=2,LINE=(33,1),FONT=3;
FNT3:    CME      LINE=(19,3),POS=1,FONT=1,
                  LINE=(22,1),POS=1,FONT=2,
                  LINE=(23,-),FONT=1;

PDE1:    PDE      PMODE=LAN,FONTS=L0312A,BEGIN=(.35,.66);
PDE2:    PDE      PMODE=LAN,FONTS=((L0312A,11.26)),
                  BEGIN=(.51 IN,.66 IN);
PDE3:    PDE      PMODE=POR,FONT=((P1012B,16)),BEGIN=(.05,.26),
                  BEGIN=(5.4,.26);
PDE4:    PDE      PMODE=POR,FONTS=(PR214B,PR111E,P0812C),
                  BEGIN=(3.5,.66);
PDE5:    PDE      PMODE=POR,FONTS=P07TYA,BEGIN=(.5,.5);
PDE9:    PDE      PMODE=POR,FONTS=((P06BOA,7.9),(P08TBA,10.07),
                  (P08TBA,7.885),(P08TBA,10)),BEGIN=(0,.8);
PDE10:   PDE      PMODE=POR,FONTS=((P06BOA,7.9),(P06BOA,2)),
                  BEGIN=(0,.8);
PORPDE:  PDE      PMODE=PORTRAIT,FONT=((P08TAC,7.6)),BEGIN=(0.00,.58);
PORT1 :  PDE      PMODE=PORTRAIT,FONT=(P0612C,7.9);


/*       CODE     DEFAULT=EBCDIC, */
/*                ASSIGN=('#A',('A','B','C','D','E','F','G','H','I')) */
/*                ASSIGN=('#J',('J','K','L','M','N','O','P','Q','R')) */
/*                ASSIGN=('#S',('S','T','U','V','W','X','Y','Z')); */

         VOLUME   HOST=IBMONL,
                  OPTIMIZE=(NCC,NDC,NPR);

         RECORD   LENGTH=201;

         LINE     PCCTYPE=IBM3211,VFU=VFU1,DATA=(0,200),
                  UCSB=IGNORE,FCB=IGNORE;

         OUTPUT   FORMAT=PDE2,DUPLEX=YES,SHIFT=YES,COVER=FRONT
                  FORM=STD;

         ACCT     USER=NONE;

         BANNER   TEST=C1,HCOUNT=2,TCOUNT=1,HJOBNO=(13,4),
                  HRPTNA=(18,16);

         IDEN     PREFIX='DJDE',OFFSET=2,SKIP=7;

CAT1:    CAT;     OUTPUT DUPLEX=NO,FORM=NONE,FORMAT=PDE9;
                  LINE VFU=VFU2,DATA=(1,95),FCB=IGNORE;
DFLT:    JDE;
               /* VOLUME CODE=USER; */

SIM:     JDE;     OUTPUT DUPLEX=NO;
STMT:    JDE      INCLUDE=CAT1; OUTPUT MODIFY=FNT1;
STM445:  JDE;     OUTPUT DUPLEX=NO,FORM=NONE,FORMAT=PDE10,MODIFY=FNT3;
                  LINE VFU=VFU3,DATA=(1,95),FCB=IGNORE;
S272:    JDE;     OUTPUT SHIFT=NO,FORM=EAA1,FORMAT=PDE5,BFORM=EAA2;
                  LINE VFU=VFU4;
POR:     JDE;     OUTPUT FORMAT=PORPDE,FORM=NONE;
                  LINE VFU=VFUPOR;
PORT:    JDE;     OUTPUT FORMAT=PORT1,FORM=NONE;
2UP:     JDE;     OUTPUT FORMAT=PDE3,FORM=NONE;
NOF:     JDE;     OUTPUT FORMAT=PDE2,FORM=NONE;
SH88:    JDE;     OUTPUT FORMAT=PDE2,FORM=88SH;
DOC:     JDE;     OUTPUT FORMAT=PDE4,FORM=NONE,MODIFY=FNT2,
                  COVER=NONE,DUPLEX=NO;
ICLJDE:  JDE;     RPAGE TEST=C2;
FAJDE:   JDE;     RPAGE TEST=C3;
CPIJDE:  JDE;     RPAGE TEST=C4;RAUX TEST=(C5 AND C8);
CPISDE:  JDE;     RAUX TEST=(C5 AND C8);
APJDE:   JDE;     RPAGE TEST=C6;
HEDJDE:  JDE;     RPAGE TEST=(C7 OR C10);
SVM337:  JDE;     RPAGE TEST=C9;
END;END;
..PAGE
..SEC *.* SAMPLE GLOBAL JSL


   THE FOLLOWING IS A SAMPLE OF THE GLOBAL JSL WE USE WITH OUR
   XEROX FORMS CONTROL THRU JES2 EXITS SYSTEM:


$$$START GLOBAL.JSL
PD1 :    PDE      PMODE=LAN,FONTS=(L0112C,L01BOB,L01ITA),
                  BEGIN=(.18,.66);
         END;
PD2 :    PDE      PMODE=LAN,FONTS=(L0212A,L02BOA,L02ITA),
                  BEGIN=(.18,.50);
         END;
PD3 :    PDE      PMODE=LAN,FONTS=(L0312A,L03BOA,L03ITA),
                  BEGIN=(.14,.66);
         END;
PD4 :    PDE      PMODE=LAN,FONTS=(L0412A,L04BOA,L04ITA),
                  BEGIN=(.14,.50);
         END;
PD5 :    PDE      PMODE=LAN,
                  FONTS=(L05ITA,L05TYA,L05SCA,L05TAC,L05TBC,L0512C),
                  BEGIN=(.17,.50);
         END;
PD6 :    PDE      PMODE=POR,
                  FONTS=(P0612C,P06BOB,P06ITB),
                  BEGIN=(.57,.58);
         END;
PD7 :    PDE      PMODE=POR,
                  FONTS=(P07ITA,P07TYA,P07SCA,P07TCC,P07TDC),
                  BEGIN=(1.4,1.5);
         END;
PD8 :    PDE      PMODE=POR,
                  FONTS=(P08ITA,P08TYA,P08SCA,P08TAC,P08TBC,P0812C),
                  BEGIN=(.50,.50);
         END;
PD9 :    PDE      PMODE=LAN,
                  FONTS=((L0912A,12),(L09BOA,10),(L09ITA,10)),
                  BEGIN=(.5,.6);
         END;
PD10:    PDE      PMODE=LAN,
                  FONTS=L1012B,
                  BEGIN=(.22,.51);
         END;
PD11:    PDE      PMODE=LAN,
                  FONTS=L1112A,
                  BEGIN=(.22,.50);
         END;
PDE1:    PDE      PMODE=LAN,FONTS=L0312A,BEGIN=(.35,.66);
         END;
PDE2:    PDE      PMODE=LAN,FONTS=((L0312A,11.26)),
                  BEGIN=(.51 IN,.66 IN);
         END;
PDE3:    PDE      PMODE=POR,FONT=((P1012B,16)),BEGIN=(.15,.46),
                  BEGIN=(5.50,.46);
         END;
PDE4:    PDE      PMODE=POR,FONTS=(PR214B,PR111E,P0812C),
                  BEGIN=(3.5,.66);
         END;
PDE5:    PDE      PMODE=POR,FONTS=P07TYA,BEGIN=(.5,.5);
         END;
PDE9:    PDE      PMODE=POR,FONTS=((P06BOA,7.9),(P08TBA,10.07),
                  (P08TBA,7.885),(P08TBA,10)),BEGIN=(0,.8);
         END;
PDE10:   PDE      PMODE=POR,FONTS=((P06BOA,7.9),(P06BOA,2)),
                  BEGIN=(0,.8);
         END;

PORPDE:  PDE      PMODE=PORTRAIT,FONT=((P08TAC,7.6)),BEGIN=(0.00,.58);
        END;
PORT1 :  PDE      PMODE=PORTRAIT,FONT=((P0612C,7.9));
        END;
FNT1:    CME      LINE=(15,4),POS=1,FONT=1,POS=74,FONT=2,
                  LINE=(19,4),POS=1,FONT=1,POS=74,FONT=4,
                  LINE=(23,1),POS=1,FONT=1,POS=74,FONT=3,
                  LINE=(24,-),FONT=1;
        END;
FNT2:    CME      LINE=(1,2),FONT=3,LINE=(3,2),FONT=1,LINE=(5,2),FONT=3,
                   LINE=(7,25),FONT=2,LINE=(33,1),FONT=3;
        END;
FNT3:    CME      LINE=(19,3),POS=1,FONT=1,
                  LINE=(22,1),POS=1,FONT=2,
                  LINE=(23,-),FONT=1;
        END;
FT1:     CME      LINE=(1,-),POS=1,FONT=1;
        END;
FT2:     CME      LINE=(1,-),POS=1,FONT=2;
        END;
FT3:     CME      LINE=(1,-),POS=1,FONT=3;
        END;
FT4:     CME      LINE=(1,-),POS=1,FONT=4;
        END;
FT5:     CME      LINE=(1,-),POS=1,FONT=5;
        END;
FT6:     CME      LINE=(1,-),POS=1,FONT=6;
        END;
..PAGE
..SEC *.* EXIT1A LOGIC
..SEC *.*.* EXIT1A DESCRIPTION

    EXIT1A FUNCTIONS:

        .  TELLS XEROX PRINTER AS REGARDS WHAT FORM AND WHAT
           PDE'S ARE REQUIRED FOR THIS OUTPUT VIA DJDE FORMS
           IMAGE TABLE ENTRY (DFITE).

        .  SETS THE MODE OF PRINTER OPERATION (DUPLEX OR SIMPLEX)
           AND TELLS OPERATOR WHEN TO SWITCH PAPER AROUND (PSMTE).

        .  PAPER TRAY MESSAGE TABLE ENTRY (PTMTE) USED TO TELL
           OPERATOR WHAT TYPE OF STOCK PAPER TO LOAD INTO XEROX
           PRINTER.

        .  DISPLAYS JOBNAME ASSOCIATED WITH THIS OUTPUT AT THE
           XEROX PRINTER CONTROL CONSOLE VIA PAGE SETUP MESSAGE
           TABLE ENTRY (PSMTE).

        .  SPECIFIES ADDITIONAL CONTROL VIA DJDE VFU IMAGE
           TABLE ENTRY (DVITE).

        .  PASSES PRINTER AND FORMS SETUP INFORMATION ON TO OTHER
           JES2 USER EXITS, AND TO ITSELF FOR ITS NEXT INVOCATION
           (PRNTRTAB).

    ENVIRONMENT:

        EXTENSION OF JES2 MAIN TASK SERVING HASPPRPU.

    DEPENDENCIES:

           THIS EXIT IS COPIED INTO EXIT1MIT AT ASSEMBLY TIME.

           REQUIRES EXIT1MIT, EXIT1REG, EXIT1A, AND EXIT1TAB BE
           ASSEMBLED TOGETHER.  EXIT1B, EXIT5, EXIT15, AND
           EXIT250 ARE RECOMMENDED BE ASSEMBLED WITH IT ALSO.

           IF THIS EXIT IS DISABLED, JES2 CONTINUES WITH THE
           STANDARD HASPPRPU.


    RESTRICTIONS:

           -  THIS EXIT SHOULD CONFORM TO JES2 RE-ENTRANCY
              REQUIREMENTS (I.E., NOT THE OS/VS RE-ENTRANCY
              REQUIREMENTS).

           -  NO OS/VS IO/EXCP ALLOWED IN THIS EXIT.  THE I/O
              ACTIVITIES SHOULD BE LIMITED ONLY TO HAM/RTAM, AND
              NO OTHER ACCESS METHOD.

           -  NO OS/VS MACRO ALLOWED IN THIS EXIT. THE MACROS
              SHOULD BE LIMITED ONLY TO THOSE STARTING WITH $
              SIGN, E.G., STANDARD JES2 MACROS.


    CONSTRAINTS:

        .  SEPARATOR TRUNCATION:  THE SEPARATOR (BANNER PAGE)
                  GETS TRUNCATED ON PORTRAIT FORM. TO AVOID
                  THIS PROBLEM, THE USERS SHOULD PROVIDE THEIR
                  OWN LOGIC (ANOTHER 500 - 600 LINES OF CODE).
                  OUR SOLUTION TO THIS IS IN BF EXIT1B.


        .  MULTIPLE COPY SEPARATOR:  THIS MODULE DOES NOT
                  PROVIDE SEPARATOR FOR MULTIPLE COPY SYSOUT.
                  OUR SOLUTION IS IN BF EXIT15.

        .  DUPLEXING:  THIS MODULE SUPPORTS DUPLEXING WHEN USED
                  WITH BF EXIT15.

        .  MODULE SIZE:  THIS MODULE USES ONLY ONE REGISTER
                  TO BASE ADDRESS THE PROGRAM. THOSE WHO USE
                  A LARGE NUMBER OF FORMS MAY HAVE TO HAVE
                  ANOTHER REGISTER FOR BASE ADDRESSING.

        .  RECOVERY TERMINATION:  THIS MODULE DOES NOT HAVE
                  ESTAE LOGIC, BUT RUNS ERROR FREE. NEVERTHELESS
                  THE RECOVERY/TERMINATION LOGIC SHOULD BE
                  PROVIDED (USE $ESTAE).
..PAGE
..SEC *.*.* EXIT1ADR ALGORITHM

    EXIT1ADR (DRIVER) ALGORITHM:

    <1>.  IF A PUNCH DEVICE ?
            TELL JES2 TO FOLLOW STANDARD PROCEDURE,

    <2>.    IF NOT A PRINTER ?
              TELL JES2 TO FOLLOW STANDARD PROCEDURE,

    <3>.      IF PRINTER TABLE NOT ADDRESSABLE ?
                TELL JES2 TO FOLLOW STANDARD PROCEDURE,

    <4>.        FIND PRINTER TABLE ENTRY.

    <5>.        IF NOT A XEROX PRINTER (SEPDS=N) ?
                  CORRECT THE PRINTER TABLE ENRTY AND
                  TELL JES2 TO FOLLOW STANDARD PROCEDURE.

    <6>.          IS A XEROX PRINTER (SEPDS=Y), SO
                  CORRECT THE PRINTER TABLE ENTRY,
                  SAVE SEPARATOR CONTROL INFORMATION,
                  OBTAIN WORKING STORAGE FOR DATA BUFFERRING,
                  AND RELOCATE THE BUFFER ADDRESS TO IT.

    <7>.          INSURE A PERIPHERAL DATA INFORMATION RECORD
                  FOR SNA.  OBTAIN THE WORK-JOE ADDRESS.

    <8>.          IF END-OF-JOB PRINT SEPARATOR ?
                    SETUP TO USE DEFAULT FORMS CROSS REFERENCE
                    TABLE AND BRANCH TO <10> FOR TRAILER PROCESSING.

                  ENDIF
                ENDIF
              ENDIF
            ENDIF
          ENDIF.

    <9>.  LOCATE FORMS CROSS REFERENCE TABLE BASED ON SYSOUT CLASS,
            USE DEFAULT IF NONE FOUND.
          PERFORM 'SENDDJDE', AND FREE THE BUFFER OBTAINED EARLIER.

   <10>.  USE DEFAULT FORMS CROSS REFERENCE TABLE.
          PERFORM 'SENDTRLR', AND FREE THE BUFFER OBTAINED EARLIER.

   <11>.  FREE THE BUFFER ACQUIRED IN STEP <6>. (NOTE: THIS SECTION
          IS PERFORMED BY STEP <9> AND STEP <10>.)

   <12>.  TELL JES2 TO PRODUCE STANDARD SEPARATOR.
..PAGE
..SEC *.*.* SENDDJDE ALGORITHM
   SENDDJDE (START/CONTINUE BANNER) ALGORITHM:

    <1>.  SAVE THE FORMS CROSS REFERENCE TABLE (FCRT) ADDRESS.
          RESET STOCK AND MODE SWITCHES IF THE PREVIOUS FORM USED ON
          THIS PRINTER IS UNKNOWN (FORCES OPERATOR SETUP).

    <2>.  RETRIEVE THE ADDRESS OF THE 'CJOE'.

    <3>.  DOWHILE FORMS CROSS REFERENCE TABLE ENTRY(FCRTE) NOT END ?
            IF NO MORE 'FCRTE' ?
              RETRIEVE 'FCRT' ADDRESS, PASS THE DEFAULT 'STD.'
            ELSE

    <4>.      IF CURRENT 'FCRTE' NOT MATCH WITH SYSTEM DATASET FORM?
                GET NEXT 'FCRTE'
              ENDIF
            ENDIF
          ENDDO.

    <5>.  MOVE DJDE FORMS IMAGE TABLE ENTRY (DFITE) TO JES2 BUFFER.
          SEND THAT 'DFITE' TO XEROX CONSOLE VIA 'E1$PRPUT' ROUTINE.

    <6>.  BUILD JOBMSG WITH JOBNAME AND ITS SYSOUT FORM TO BUFFER.
          SEND THAT MESSAGE TO XEROX CONSOLE VIA 'E1$PRPUT' ROUTINE.

    <7>.  INITIALIZE HOLD SWITCH.
          IF FORM IS DUPLEX,
            PERFORM <8> SENDDPLX,
          ELSE
            PERFORM <9> SENDSPLX.

    <8>.  SENDDPLX: SEND DJDE TO SWITCH TO DUPLEX MODE VIA 'E1$PRPUT'
          SEND DJDE TO SKIP TO NEW CUT SHEET VIA 'E1$PRPUT'.
          IF PREVIOUS OUTPUT TO THIS PRINTER WAS DUPLEX, GO TO <10>.
          IF SUPPRESSING FORMS CONTROL, GO TO <12>.
          IF THE NEW STOCK IS BLANK NOHOLE, ORIENTATION DOESN'T
            MATTER, SO GO TO <10>.
          INDICATE SETUP MESSAGE TO OPERATOR REQUIRED.
          IF THE NEW STOCK IS DIFFERENT FROM THE OLD STOCK GO TO <10>
            AS MODE WILL BE INDICATED ON STOCK LOAD MESSAGE.
          SEND DJDE MESSAGE TO OPERATOR TO SWITCH PAPER FOR DUPLEX.
          GO TO <10>.

    <9>.  SENDSPLX: SEND DJDE TO SWITCH TO SIMPLEX MODE VIA 'E1$PRPUT
          SEND DJDE TO SKIP TO NEW CUT SHEET VIA 'E1$PRPUT'.
          IF PREVIOUS OUTPUT TO THIS PRINTER WAS SIMPLEX, GO TO <10>.
          IF SUPPRESSING FORMS CONTROL, GO TO <12>.
          IF THE NEW STOCK IS BLANK NOHOLE, ORIENTATION DOESN'T
            MATTER, SO GO TO <10>.
          INDICATE SETUP MESSAGE TO OPERATOR REQUIRED.
          IF THE NEW STOCK IS DIFFERENT FROM THE OLD STOCK GO TO <10>
            AS MODE WILL BE INDICATED ON STOCK LOAD MESSAGE.
          SEND DJDE MESSAGE TO OPERATOR TO SWITCH PAPER FOR SIMPLEX.
          GO TO <10>.

   <10>.  IF THE NEW STOCK IS SAME AS THE OLD STOCK, GO TO <11>.
          IF SUPPRESSING FORMS CONTROL, GO TO <12>.
          INDICATE SETUP MESSAGE TO OPERATOR REQUIRED.
          MOVE DJDE PAPER TRAY MESSAGE TABLE ENTRY (PTMTE) TO JES2
            BUFFER.  MODIFY WITH MODE (DUPLEX OR SIMPLEX).
          SEND THAT 'PTMTE' TO XEROX PRINTER VIA 'E1$PRPUT' ROUTINE.
          GO TO <11>.

   <11>.  IF OPERATOR SETUP MESSAGES HAVE BEEN SENT, SEND DJDE TO
            HOLD THE PRINTER UNTIL OPERATOR PERFORMS ACTION AND
            RESPONDS 'CONTINUE 0'.
          RESET PREVIOUS STOCK, MODE, SYSOUT CLASS, AND FORM ID FIELD
            FOR THIS PRINTER WITH CURRENT VALUES (FOR NEXT REPORT).
          GO TO <13>.

   <12>.  RESET PREVIOUS STOCK, MODE, AND SYSOUT CLASS ID FIELDS FOR
            THIS PRINTER WITH CURRENT VALUES.  RESET PREVIOUS FORM ID
            FOR THIS PRINTER TO UNKNOWN TO FORCE OPERATOR SETUP ON
            NEXT REPORT.
          GO TO <13>.

   <13>.  POINT R4 TO HEAD OF DJDE VFU IMAGE TABLE (DVIT).
          LOAD  R5 WITH ITS ENTRY COUNT.

   <14>.  DOWHILE DJDE VFU IMAGE TABLE ENTRY (DVITE) NOT END ?
            SEND NEXT 'DVITE' TO XEROX PRINTER
          ENDDO.
          GO TO <15>.

   <15>.  RETURN TO THE CALLER
..PAGE
..SEC *.*.* SENDTRLR ALGORITHM

   SENDTRLR (END BANNER) ALGORITHM:

    <1>.  SAVE THE FORMS CROSS REFERENCE TABLE (FCRT) ADDRESS.
          MOVE DJDE FORMS IMAGE TABLE ENTRY (DFITE) TO JES2 BUFFER
            (NOTE THAT THIS IS FROM THE DEFAULT ENTRY).
          SEND THAT 'DFITE' TO XEROX PRINTER VIA 'E1$PRPUT' ROUTINE.

    <2>.  IF FORM IS DUPLEX,
            SEND DJDE TO SWITCH TO DUPLEX MODE VIA 'E1$PRPUT',
          ELSE
            SEND DJDE TO SWITCH TO SIMPLEX MODE VIA 'E1$PRPUT'.
          SEND DJDE TO SKIP TO NEW CUT SHEET VIA 'E1$PRPUT'.

    <3>.  POINT R4 TO HEAD OF DJDE VFU IMAGE TABLE (DVIT)
            (NOTE THAT THIS IS FROM THE DEFAULT ENTRY).
          LOAD  R5 WITH ITS ENTRY COUNT.

    <4>.  DOWHILE DJDE VFU IMAGE TABLE ENTRY (DVITE) NOT END ?
            SEND NEXT 'DVITE' TO XEROX PRINTER
          ENDDO.

    <5>.  MOVE PAGE EJECT COMMAND TO JES2 BUFFER.
          SEND PAGE EJECT TO XEROX PRINTER.
          GO TO <6>.

    <6>.  RETURN TO THE CALLER

