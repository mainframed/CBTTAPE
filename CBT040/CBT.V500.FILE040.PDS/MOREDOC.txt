BOOK PEOPLES NATIONAL BANK UTILITIES
COVR1                  P E O P L E S B A N C O R P
COVR2                       U T I L I T I E S
COVR3                   D O C U M E N T A T I O N
DATE 043087
SECTN030.000.000 SUBROUTINES
HEAD .010 DBACONSL- WTO/WTOR AID
          DBACONSL CONTAINS TWO ENTRY POINTS.  DBAWTO SUPPORTS WRITE TO
     OPERATOR.  DBAWTOR SUPPORTS WRITE TO OPERATOR WITH REPLY.  EACH
     ENTRYPOINT WILL TAKE THE TEXT SUPPLIED BY THE CALLING PROGRAM
     AND INSERT IT INTO A PROTOTYPE WTO/WTOR MESSAGE.  THE TEXT WILL
     WILL BE AUTOMATICALLY PREFIXED WITH THE JOB NAME AND TIME (HH.MM).
     IN THE CASE OF DBAWTOR A REPLY WILL BE REQUESTED.  THIS REPLY WILL
     BE RETURNED TO THE CALLING PROGRAM.

          TO USE DBAWTO:

            CALL  DBAWTO,(MSGBUF),VL

     MSGBUF DC    AL2(L'MSG)
     MSG    DC    C'MESSAGE'

     MSG SHOULD BE 80 OR LESS BYTES LONG.  MSGBUF STRUCTURE IS HALF
     WORD LENGTH FOLLOWED BY MESSAGE.

          TO USE DBAWTOR:

            CALL  DBAWTOR,(MSGBUF,ANSBUF),VL

     MSGBUF DC    AL2(L'MSG)
     MSG    DC    C'MESSAGE'
     ANSBUF DC    AL2(L'ANS)
     ANS    DC    C'       '

     MSG SHOULD BE 80 OR LESS BYTES LONG.  ANS SHOULD BE 80 OR LESS
     BYTES LONG.  MSGBUF STRUCTURE IS HALF WORD LENGTH FOLLOWED BY
     MESSAGE.  ANSBUF STRUCTURE IS HALF WORD LENGTH FOLLOWED BY AREA FOR
     ANSWER.  MSGBUF AND ANSBUF DO NOT NEED TO BE CONTIGUOUS.
HEAD .020 HEXDUMP - HEX DUMP
          HEXDUMP IS A SUBROUTINE THAT ALLOWS THE USER TO DUMP
     SELECTED PORTIONS OF STORAGE.  OPTIONAL TITLE AND HEADING
     INFORMATION MAY BE PROVIDED.  HEXDUMP PROVIDES FIVE PARAMETERS.

          OPTION                 OPTION
          START                  START
          END          OR        LENGTH
          TITLE                  TITLE
          HEADING                HEADING

     IF HEXDUMP IS CALLED THE END OPTION IS USED.  IF HEXDUMP2 IS
     CALLED THE LENGTH OPTION IS USED.  THE HEADING OR THE TITLE AND
     THE HEADING MAY BE OMITTED.

          THE OPTIONS ARE

               ASIS - PRINT ADDRESSES AS IS (ACTUAL ADDRESS)
               RELO - RELOCATE THE ADDRESSES SO THAT THE FIRST BYTE
                      HAS ADDRESS 0.
               DATA - START POINTS TO 132 BYTES OF CHARACTER DATA
                      WHICH SHOULD BE PRINTED AS IS (EG NOT TRANSLATED
                      TO CHAR AND HEX).  THIS ALLOWS THE USER TO PUT
                      OUT A 'RECORD NOT FOUND' ERROR MESSAGE WHERE
                      THE RECORD ITSELF WOULD GO.
               CLOS - WILL CLOSE THE VDBS$HEX PRINT DCB (USEFUL AT
                      END OF JOB).
               PAGE - SKIP TO THE TOP OF THE PAGE FOR THE NEXT
                      SET OF PRINTOUT (NO PRINTOUT FROM THIS
                      COMMAND).

          START IS THE ADDRESS OF THE FIRST BYTE OF DATA TO BE
     DUMPED.  END IS THE ADDRESS OF THE LAST BYTE OF DATA TO BE
     DUMPED.  LENGTH IS PROCESSED AS IF END = START+LENGTH-1.
     TITLE IS PRINTED AT THE TOP OF EACH PAGE OF OUTPUT (132 BYTES
     LONG).  HEADING IS PRINTED JUST ABOVE THE HEX AND CHARACTER DATA
     (132 BYTES LONG).

          ALL OUTPUT IS ROUTED TO

               //HEXDUMP  DD  SYSOUT=A

     THE HEXDUMP DD NAME CAN BE OVERRIDDEN.  THE ENTRY POINT HEXDCB
     POINTS TO THE HEXDUMP DCB.  THE DD NAME OF THIS DCB MAY BE
     CHANGED BEFORE THE FIRST CALL TO HEXDUMP OR HEXDUMP2.  IT
     IS LOCATED AT HEXDCB+40.
EJECT
          IN ASSEMBLY

                    CALL HEXDUMP,(OPTN,REC,RECEND,TITLE,HDNG1),VL
                    CALL HEXDUMP2,(OPTN,REC,RECLEN,TITLE,HDNG2),VL
                    .
                    .
                    .
          OPTN     DC    C'ASIS'
          REC      DS    XL100
          RECEND   EQU   *-1
          RECLEN   DC    A(L'REC)
          TITLE    DC    CL132'ASM RECORD DUMP OF REC'
          HDNG1    DC    CL132'DUMP WITH HEXDUMP'
          HDNG2    DC    CL132'DUMP WITH HEXDUMP2'

     IN COBOL USE

          77  HEXDUMP-OPT       PIC X(4) VALUE 'RELO'.
          77  HEXDUMP-TITLE     PIC X(132) VALUE
                                'COBOL RECORD DUMP OF HEXDUMP-REC'.
          77  HEXDUMP-REC       PIC X(100).
          77  HEXDUMP-LENGTH    PIC S9(8) COMP SYNC VALUE +100.
          .
          .
          .
          CALL 'HEXDUMP2' USING HEXDUMP-OPTN,
                                HEXDUMP-REC,
                                HEXDUMP-LENGTH,
                                HEXDUMP-TITLE.

     NOTE THAT THE COBOL EXAMPLE CONTAINS NO DETAIL HEADING.
HEAD .030 VDBS$DDF- DD FIND
          VDBS$DDF IS A SUBROUTINE THAT LOCATES THE TIOT ENTRY FOR
     A PARTICULAR DD NAME.  IN ASSEMBLY

                   CALL  VDBS$DDF,(DDNAME,TIOT),VL
                   .
                   .
                   .
          DDNAME   DC    CL8'DDNAME  '
          TIOT     DS    A

     THE OS TIOT (TASK INPUT/OUTPUT TABLE) WILL BE SCANNED AND THE
     ADDRESS OF THE TIOT ENTRY FOR THE DD NAME WILL BE RETURNED.
     IF THE DDNAME IS NOT FOUND IN THE TIOT NO DD STATEMENT OF THAT
     NAME WAS PROVIDED IN THE JCL.  IN THIS CASE THE RETURN CODE
     IN REG15 WILL BE SET TO 4.  IF THE DD NAME IS LOCATED THE
     RETURN CODE IN REG15 WILL BE SET TO 0.

          IT IS UNLIKELY THAT A COBOL PROGRAM WOULD WANT TO
     PROCESS TIOT INFORMATION BUT IT MIGHT BE USEFUL TO DETERMAINE
     IF A DD STATEMENT EXISTS FOR A PRATICULAR DD NAME.  USE THE
     FOLLOWING CODE TO CHECK FOR THE DD NAME 'DDNAME'.

          77  DD-NAME       PIC X(8) VALUE 'DDNAME  '.
          77  TIOT-ADDR     PIC S9(8) COMP SYNC.
          .
          .
          .
          CALL 'VDBS$DDF' USING DD-NAME TIOT-ADDR.
          IF RETURN-CODE EQUAL ZERO THEN GO TO DD-FOUND.
          MOVE ZERO TO RETURN-CODE.
          GO TO DD-NOT-FOUND.
SECTN040.000.000 UTILITIES
HEAD .010 PDSCLEAN - EMPTY A PDS UTILITY
          PDSCLEAN WILL DELETE ALL MEMBERS OF A PDS AND RESET THE EOF TO
     THE BEGINNING OF THE FILE.  THIS SAVES A DELETE/ALLOCATE WHEN
     EMPTYING A PDS OR CHANGING THE NUMBER OF DIRECTORY BLOCKS.  IT CAN
     BE EXECUTED IN EITHER FOREGROUND OR BACKGROUND.  IT SCANS THE TIOT
     FOR DDS THAT BEGIN CLEAN AND END WITH ANY THREE LETTERS (SPACES ARE
     OK).  SAMPLE JCL FOR BATCH EXECUTION WOULD BE:

     //S1      EXEC PGM=PDSCLEAN
     //CLEAN    DD  DISP=SHR,DSN=FILE1            OK
     //CLEANXXX DD  DISP=SHR,DSN=FILE2            OK
     //CLEAN1   DD  DISP=SHR,DSN=FILE3,           OK (SEE BELOW)
     //             SPACE=(TRK,(PRIM,ALT,DIR))
     //ANYTHING DD  DISP=SHR,DSN=ANYTHING         IGNORED
               ETC.

     IF A SPACE PARAMETER IS INCLUDED THEN THE NUMBER OF DIRECTORY
     BLOCKS IS ADJUSTED TO MATCH THE NEW NUMBER FROM THE JCL.
     THE 'DIR' AMOUNT WOULD BE PICKED UP ON CLEAN1 IN THE EXAMPLE.
     EXTRA DDS FOR OTHER PURPOSES MAY BE INCLUDED.  PDSCLEAN WILL
     IGNORE THEM.

          PDSCLEAN MAY BE RUN UNDER TSO IN FOREGROUND BY SIMPLY
     ENTERING 'PDSCLEAN' PROVIDED THE PROGRAM IS IN LNKLST OR STEPLIB.
     ALL OF THE NORMAL TSO DDS WILL BE IGNORED AS NONE OF THEM
     STARTS WITH CLEAN.  JUST 'ALLOC' WHATEVER PDSS NEED CLEANING
     OUT.

          PDSCLEAN IS WRITTEN USING EXCP.  CAREFUL USE OF THE DEVTYP AND
     TRKCALC MACROS RESULTS IN COMPLETELY DEVICE INDEPENDENT LOGIC.
     THUS, THIS PROGRAM PROVIDES A BASIC TUTORIAL ON DEVICE INDEPENDENT
     EXCP FOR DASD.
HEAD .020 PDSPDS   - PDS UPDATE UTILITY
SPAC2THE 'XPDS' CLIST CMD AND 'PDSPDS' PROC ALLOW A USER TO MANIPULATE
     THE CONTENTS OF A PARTITIONED DATASET IN BATCH OR FOREGROUND MODE.

     REFER TO SYNTAX OPERANDS AND SUBCOMMANDS FOR DETAILS

SPAC2SYNTAX

     CONTROL CARD IMAGES ARE CHECKED FOR DATA IN COLUMNS 1-71.  MEMBER
     RECORDS MAY BE CHANGED IN COLUMNS 1-71 UNLESS OVERRIDDEN WITH A
     -OPTION NUM=81, WHICH ALLOWS COLUMNS 1-80 TO BE MODIFIED.

     LINE NUMBER DEFAULTS ARE:     (MODIFIED WITH A '-OPT NUM=,INCR=')

     MEMBER LINE NUMBERS ARE ASSUMED TO BE IN COLUMNS 73-80 FOR 80 BYTE
     RECORDS AND COLUMNS 1-8 FOR VARIABLE RECORDS.  FIXED LENGTH RECORDS
     THAT ARE NOT 80 BYTES USE INTERNALLY GENERATED LINE NUMBERS.


     ALL COMMANDS ARE VALID FOR RECFM=F OR FB.
     THE -ADD/-UPDATE COMMANDS ARE NOT SUPPORTED FOR RECFM=U,V OR VB.

     THE MAXIMUM RECORD SIZE IS 256.

     THE TSO CLIST NAME IS 'XPDS  DSNAME'
              E.G. KEY IN:  XPDS PDS.CNTL  (YOUR USERID IS ASSUMED)

     THE PROC NAME IS PDSPDS:  SYMBOLICS ARE DSN,OUT,PDSPARM
                                  (DEFAULT:  OUT=A)

     EXAMPLE1-JCL:

     //PDSPDS  EXEC PDSPDS,DSN='PDS.TO.EDIT'
     //SYSIN     DD   *

             THE EXPANDED PROC IS:

     //PDSPDS  EXEC PGM=PDSPDS,PARM='...OPTIONAL PARM...'
     //SYSUT1    DD   DSN=PDS.TO.EDIT,DISP=SHR      INPUT/-EDIT/-LIST
     //SYSUT2    DD   DSN=PDS.TO.EDIT,DISP=SHR      OUT FOR -ADD/-UPDATE
     //SYSPRINT  DD  SYSOUT=A (RECFM=FBA,LRECL=133)
     //SYSPUNCH  DD   SYSOUT=B (RECFM=FB,LRECL=80)   OPTIONAL
     //SYSWRK    DD   DSN=&&WORK,UNIT=SYSDA,SPACE=(TRK,(5,1)) OPTIONAL
     //SYSIN     DD   *
        ( --CONTROL CARD IMAGES-- )
     //

     FUNCTION:

         ACCESS ALL OR SELECTED MEMBERS OF A PDS. MEMBERS MAY BE LISTED,
         PUNCHED, UPDATED, UPDATED IN PLACE,SEARCHED FOR CHARACTER
         STRINGS. CONTROL STATEMENTS MAY BE CREATED USING THE THE
         DIRECTORY AS THE DRIVER TO GENERATE MEMBERNAME DEPENDENT
         STATEMENTS.
SPAC1  NOTE:  NO ALIAS OF A MEMBER IS PROCESSED EXCEPT FOR A DIRECTORY
              LISTING.

SPAC2COMMAND SYNTAX:

        ALL COMMANDS AND OPTIONS MAY BE ABBREVIATED TO THE MINIMUM
        REQUIRED TO DISTINGUISH ONE FROM THE OTHER. FOR EXAMPLE, -EDIT
        MAY BE -EDI, OR -ED . SINCE NO OTHER COMMAND STARTS WITH 'ED'
        THERE IS NO CONFLICT.

        SIMILARLY, '-O E=Y' REPRESENTS '-OPTION EJECT=Y'

        ALL COMMANDS READ FROM SYSIN START WITH '-' (DASH) IN COLUMN 1.
        ALL COMMANDS FROM THE EXEC 'PARM=' DO NOT HAVE A '-'.

        MULTIPLE COMMANDS MAY FOLLOW ONE ANOTHER (SEE EXAMPLE6 ).

     MEMBER NAME SYNTAX IN COMMANDS:

         COMMANDS THAT CAN SELECT MULTIPLE MEMBERS WILL BE NOTED AS
         -COMMAND  MEMBERS    -COMMAND REPRESENTS A COMMAND,E.G, '-EDIT'
         AND 'MEMBERS' IS DEFINED AS:
             A. MEMBER   -EXPLICIT NAME OF MEMBER TO ACCESS.
             B. MEM.ALL -ACCESS ALL MEMBERS THAT START WITH THE
                          CHARACTERS 'MEM' WHERE MEM REPRESENTS ANY
                          CHARACTER STRING.
             C. ALL.ALL -ACCESS ALL MEMBERS.

          A '-' (DASH) MAY BE SUBSTITUTED ANYWHERE IN 'MEMBER' OR 'MEM'
          AS DEFINED IN (A) AND (B) ABOVE. EVERYWHERE A '-' APPEARS  THE
          POSITION IS IGNORED IN SEARCHING FOR A MEMBER. FOR EXAMPLE
          -SEARCH IL---P.ALL WILL ACCESS ALL MEMBERS THAT HAVE 'IL' IN
          POSITIONS ONE AND TWO AND A 'P' IN POSITION SIX.

          MULTIPLE 'MEMBERS' MAY BE CODED ON ONE COMMAND CARD EACH
          SEPARATED BY A COMMA, E.G, -SCAN IL.ALL,PB.ALL WILL ACCESS ALL
          MEMBERS THAT START WITH IL AND PB.

          CAUTION:  WHEN USING GLOBAL ACCESS COMMANDS (WITH '.ALL' AND
          '-') INADVERTANT MULTIPLE ACCESS OF THE SAME MEM MAY OCCUR,
          E.G., -LIST IL---P,IL--1 WILL RESULT IN SOME MEMBERS BEING
          ACCESSED TWICE (E.G.IL001P10).

          SOME COMMANDS ALLOW THE ACCESS TO THE MEMBER(S) TO BE RESTRICT
          BY LINE NUMBERS. THIS WILL BE NOTED AS:

          MEMBERS,LINE1,LINE2

              LINE1 AND LINE2        OPTIONAL-DEFAULT IS ALL
              LINE1        -BEGINNNING LINE NUMBER
              LINE2        -ENDING LINE NUMBER (DEFAULT=LINE1)


SPAC2PARM FIELD SYNTAX:  (PDSPARM)

         PARM FIELD INFORMATION IS PROCESSED BEFORE SYSIN DATA.

         ALL COMMANDS MAY BE ENTERED VIA THE PARM FIELD.  NO '-' (DASH)
         PRECEEDS THE COMMAND.

         MULTIPLE COMMANDS ARE SEPARATED FROM EACH OTHER BY A ':' COLON.
         FOR EXAMPLE PARM='L TP.ALL:L IL.ALL'
         REPRESENTS TWO COMMANDS: -L TP.ALL
                                  -L IL.ALL

SPAC2OPTIONS

        -OPTION SCAN=N/Y,     -FORCE ALL -EDIT CMDS TO -SCAN FUNCTION

                FIND=N/Y,     -FIND WILL LIST DATA EVEN IF ALL '-C' S
                               ARE NOT MATCHED.       SEE '-FIND'

                LIST=N/Y,     -LIST -INC'D MEMBERS

                DIR=N/Y,      -LIST DIRECTORY FOR EACH PDS ACCESSED

                EJECT=N/Y,    -PAGE EJECT FOR EACH MEMBER ON -LIST

                INDD=DDNAME,  -DDNAME THAT POINTS TO PDS-DEFAULT=SYSUT1

                LINES=60,     -# LINES/PAGE

                NUM=(73,8),   -73=STARTING COLUMN FOR LINE NUMBER
                              -8=LENGTH OF LINE NUMBER.  A VALUE OF 81
                              FORCES INTERNAL NUMBERING WHICH MAY BE
                              USED TO ACCESS THE DATA.

                INCR=10,      -10=AMOUNT BY WHICH EACH SUCCEEDING LINE
                              NUMBER IS TO BE INCREMENTED.

                CONTROL=-,    '-' (DASH)REPRESENTS THE CONTROL CHARACTER
                              IN CC1., E.G., CODING   -OPT CONTROL=+
                              IMPLIES ALL COMMANDS START WITH A '+'.

                ASIS=N,       LISTS UP TO 80 BYTES OF A MEMBER WITH
                              REFERENCE LINE NUMBERS LISTED ON THE LEFT
                              AND/OR RIGHT.  THE MEMBERNAME IS PRINTED
                              ON THE RIGHT.  A HEADING IS PROVIDED
                              CONTAINING THE
                              / DDNAME / VOLSER / LRECL-BLKSIZE /
                              / DATASET NAME / DATE-TIME /
                              / MEMBER NAME / PAGE NO /

                     =Y,      LISTS UP TO 132 BYTES OF A MEMBER WITH A
                              HEADING AS WITH 'N', BUT NO LINE NUMBERS
                              OR MEMBER NAME PRINTED ON THE LEFT/RIGHT.

                     =Y+1     SAME AS 'Y' EXCEPT THE FIRST POSITION OF
                              THE MEMBER IS SKIPPED OVER, E.G., IT IS A
                              CARRIAGE CONTROL CHARACTER.
                     =Y+0     LIST UP TO 132 BYTES OF A MEMBER USING THE
                              FIRST POSITION OF EACH RECORD AS ASA.  NO
                              HEADING IS PROVIDED.

            STOWCLOSE=N/Y,    CLOSES SYSUT2 AFTER EACH -ADD/-UPDATE

            USER=N/Y,        SAVE YOUR 'INCR=, AND NUM=' IN DIRECTORY
                             SUBSEQUENT '-LIST' WILL THEN USE THE INFO.

     EXAMPLE2:
      //PDSOPTNS EXEC PDSPDS,DSN='SOME.PDS',PDSPARM='O=Y'
      -LIST ALL.ALL

SPAC2SUBCOMMANDS

     COMMANDS:  (IN ALPHABETICAL SEQUENCE -MINIMUM ABBREVIATION LISTED
                FIRST)

     -AD
     -ADD MEMBER

     USED TO ADD A -NEW- MEMBER TO THE PDS REFERENCED BY SYSUT2.  THE
     MEMBER WILL CONSIST OF STATEMENTS FOLLOWING THIS CARD AND ANY
     -INCLUDE'D MEMBERS.  ANY STATEMENT WITH A '-' (DASH) IN CC1 THAT IS
     NOT '-INC' SIGNIFIES THE END OF INPUT FOR THIS NEW MEMBER.  USE
     -REPLACE TO REPLACE A MEMBER THAT ALREADY EXISTS.

     EXAMPLE3:

         THIS IS THE FIRST CARD
         -ADD ASAMPLE
         THIS IS THE SECOND CARD
         -INC AMEMBER,20,40      INCLUDE LINES 20-40 FROM AMEMBER.
         THIS IS SOME MORE DATA
         -INC INDD(ANAME),80,560 INCLUDE LINES 80-560 FROM ANAME POINTED
                                 TO BY DDNAME-INDD
         -END  ---------END OF COMMAND (OPTIONAL)


     -AL
     -ALIAS NAME,ALIASNAM

     CREATES AN ALIAS FOR A MEMBER. THE ALIASNAM MUST NOT ALREADY  EXIST
     IN THE PDS POINTED TO BY THE DDNAME SYSUT1 (OR INDD=).


     -CO
     -COPY OLDMEM,NEWMEM

     COPIES OLDMEM AND GIVES IT THE NAME NEWMEM. NEWMEM MAY NOT  ALREADY
     EXIST IN THE PDS POINTED TO BY THE DDNAME SYSUT2.  LINE NUMBERS ARE
     GENERATED IN THE COPIED MEMBER AS PER-OPT NUM/INCR VALUES IN EFFECT
     AT THE TIME.


     -C
     -CHANGE LINE1,LINE2,(COL1,COL2) /SEARCH-STRING/ REPLACEMENT-STRING
        (THIS IS A SUBCOMMAND OF: -EDIT,-SCAN,-SEARCH,-FIND)
        (UP TO 150 -CHANGE CARDS PER CMD ARE SUPPORTED.)

      A. LINE1,LINE2     -OPTIONAL LINE NUMBERS -DEFAULT IS ALL CARDS.

          LINE1     -STARTING LINE NUMBER.

          LINE2     -ENDING LINE NUMBER. DEFAULT IS LINE1.

      B. (COL1,COL2)   -OPTIONAL COLUMN NUMBERS TO SCAN -DEFAULT IS 1-71

          COL1      -STARTING COLUMN.

          COL2      -ENDING COLUMN. DEFAULT IS COL1.

      C. '/' = ANY DELIMITER CHARACTER EXCEPT A NUMBER.

      D. SEARCH-STRING    -CHARACTER STRING TO SEARCH FOR.

      E. REPLACEMENT-STRING   -CHARACTER STRING TO REPLACE SEARCH-STRING
          IF DELETION IS DESIRED OMIT THIS FIELD. THIS FIELD IS NOT  USE
          BY -SEARCH,-FIND SO THE '/' MAY BE OMITTED.

     -DI
     -DIRECTORY MEMBER

     LISTS THE DIRECTORY. NAME AND TTR AND WHETHER IT'S AN ALIAS  LISTED
     MEMBER IS OPTIONAL AND LIMITS THE LIST TO NAMES THAT START WITH THE
     CHARACTERS CODED.


     -ED
     -EDIT MEMBERS,LINE1,LINE2    (-CHANGE/-FILL CARDS FOLLOW)

     LINE1,LINE2 ARE OPTIONAL LINE NUMBER LIMITS-REFER TO INTRODUCTION.

     EXAMINE THE MEMBERS AND PROCESS THEN ACCORDING TO -CHANGE/-FILL
     CARDS THAT FOLLOW   AN UPDATE IN PLACE IS PERFORMED FOR ALL -C
     'HITS'. ONLY THE FIRST OCCURANCE OF THE SPECIFIED  SEARCH-STRING
     IS REPLACED PER RECORD. IF A CONTROL ERROR OCCURS THE MEMBER IS
     RESTORED TO IT'S INITIAL VALUE ONLY IF A //SYSWRK DD STATEMENT IS
     SUPPLIED.

     A LISTING OF THE ORIGINAL STATEMENT AND THE REPLACEMENT RECORD IS
     PRODUCED.


     -EN
     -END       (OPTIONAL)

     SIGNIFIES THE END OF THE CURRENT COMMAND, E.G., FOR A -EDIT
     -C/-F SUBCMDS FOLLOW. A -END SIGNALS THE END OF THE '-C' S
     AND THE -EDIT WILL PROCEED.

     WHEN EXECUTING PDSPDS INTERACTIVELY THIS IS USED TO GET PDSPDS TO
     PERFORM THE COMMAND WITHOUT KEYING IN A '/*' IF FOR INSTANCE ONLY
     -EDIT IS TO BE DONE OR YOU WANT THE CURRENT CMDS TO BE PERFORMED
     WITHOUT GOING TO A NEW COMMAND.


     -F
     -FILL LINE1,LINE2,(COL1) / STRING-TO-USE-AS-FILL /
        (A SUBCOMMAND OF -EDIT)

     A. LINE1,LINE2    OPTIONAL LINE NUMBERS-DEFAULT IS ALL CARDS.

         LINE1      -STARTING LINE NUMBER.

         LINE2      -ENDING LINE NUMBER. DEFAULT LINE1.

     B. COL1        -OPTIONAL COLUMN NUMBER TO START 'FILL' AT.DEFAULT=1
     C. '/' IS A DELIMITER AS IN -C.
     D. STRING-TO-USE-AS-FILL   IS ANY CHARACTER STRING TO PLACE IN THE
         RECORD.


     -FIN
     -FIND MEMBERS,LINE1,LINE2      (-CHANGE CARDS FOLLOW)

     LISTS DATA THAT MATCHES THE /SEARCH-STRINGS/ OF ALL -CHANGE CARDS,
     THAT IS,ALL OF THE SEARCH ARGUMENTS MUST HAVE A HIT BEFORE THE DATA
     IS PRINTED. (NOTE: SHOULD ONLY BE USED ON JCL OR DATA FOLLOWING THE
     CONVENTIONS BELOW.)

     ALL 'CONTINUED DATA' IS EXAMINED AND LISTED FROM FIRST TO LAST
     STATEMENT. WHEN THE SEARCH ARGUMENTS IN ALL -C CARDS MATCH.

     CONTINUATION  OF STATEMENTS IS THE FIRST 'NONBLANK,COMMA,BLANK'
     SEQUENCE, E.G., JCL CONTINUATION SYNTAX.

     THE 'ALL' CONDITION MAY BE MODIFIED WITH '-OPT FIND=Y', WHICH WILL
     THEN LIST THE COMPLETE STATEMENT IF 1 OR MORE 'HITS' OCCUR.


     -INC
     -INCLUDE MEMBER,LINE1,LINE2
     -INCLUDE DDNAME(MEMBER),LINE1,LINE2

     INCLUDES THE LINE NUMBERS REFERENCED WHERE CODED, E.G., AFTER A
     -ADD CMD OR AFTER -REP, -INS USED IN A -UPDATE CMD.

     A. MEMBER    THE MEMBER THE INCLUDE.

     B. LINE1     REQUIRED-THE FIRST LINE NUMBER TO INCLUDE.

     C. LINE2     THE LAST LINE NUMBER TO INCLUDE. DEFAULT LINE1.

     D. DDNAME    DDNAME TO INCLUDE MEMBER FROM. DEFAULT SYSUT1 OR
             -OPT INDD=VALUE.



     -L
     -LIST MEMBERS,LINE1,LINE2

     LIST THE CONTENTS OF THE SELECTED MEMBERS ON SYSPRINT IN SORTED
     SEQUENCE. (IF PAGE EJECTION IS DESIRED SEE -OPTION.)

     LINE NUMBERS ARE PRINTED ON THE LEFT. REFER TO -OPT NUM=,ASIS=, FOR
     FORMAT AND OVERRIDES.

SPAC3
     -P
     -PUNCH MEMBERS,LINE1,LINE2

     PUNCH THE CONTENTS OF THE SELECTED MEMBERS TO SYSPUNCH. OUTPUT IS
     CONTINUOUS WITH NO SEPARATION BETWEEN MEMBERS.


     -REN
     -RENAME OLDNAME,NEWNAME

     RENAM THE MEMBER CALLED OLDNAME TO NEWNAME ON THE PDS POINTED TO BY
     SYSUT1 (OR INDD=). THE NEWNAME MUST NOT ALREADY EXIST.


     -REPL
     -REPLACE MEMBER

     REPLACE THE MEMBER NAMED. FUNCTIONS JUST LIKE -ADD EXCEPT THAT AN
     OLD MEMBER WITH THAT NAME IS REPLACED WITH THE NEW DATA.  IF IT
     DOESN'T EXIST YET IT IS ADDED.


     -SC
     -SCRATCH MEMBER

     SCRATCH THE MEMBER ON THE PDS POINTED TO BY SYSUT1 (OR INDD=).


     -SC
     -SCAN MEMBERS,LINE1,LINE2     (-CHANGE/-FILL CARDS FOLLOW)

     SAME AS -EDIT EXCEPT NO ACTUAL UPDATE TAKES PLACE.


     -SE
     -SEARCH  MEMBERS,LINE1,LINE2   (-CHANGE CARDS FOLLOW)

     SEARCHES THE MEMBERS FOR ALL OCCURRENCES OF THE /SEARCH-ARGUMENT/
     ON -CHANGE CARDS. EACH MATCH IS LISTED.


     -UP
     -UPDATE MEMBER

     UPDATES THE MEMBER ON SYSUT1 (OR INDD=). OUTPUT IS SYSUT2.  THREE
     CONTROL CARDS FOLLOWING THIS CMD CONTROL THE UPDATE.  THEY ARE:
     (-DEL,-INS,-REP)

     A. -DEL LINE1,LINE2      DELETE THE LINE NUMBERS CODED.

       LINE1        THE FIRST LINE NUMBER TO DELETE.

       LINE2        THE LAST LINE TO DELETE. DEFAULT LINE1.

      B. -INS LINE1   INSERT THE DATA FOLLOWING THIS CARD AFTER THE LINE
                      NUMBER REFERENCED BY LINE1.  -INCLUDE CMD(S) MAY
                      FOLLOW AND/OR BE INTERMIXED WITH OTHER DATA.

      C. -REP LINE1,LINE2     REPLACE THE LINE NUMBERS CODED.

         LINE1        THE FIRST LINE NUMBER TO REPLACE.

         LINE2        THE LAST LINE NUMBER TO REPLACE. DEFAULT LINE1.

                      DATA FOLLOWING THE CMD REPLACES LINE1/LINE2 LINE
                      NUMBERS.
                     -INCLUDE CMD(S) MAY FOLLOW AND/OR BE MIXED IN WITH
                      OTHER DATA.

     EXAMPLE4:

      //PDSPDS EXEC PDSPDS,DSN='PDS.TO.UPDATE'
      //INDD2       DD  DSN=PDS.TO.INCLUDE.FROM,DISP=SHR
      //SYSIN       DD  *

      -UPDATE ASAMPLE
      -INS 0      YES YOU MAY INSERT BEFORE THE FIRST LINE#.
              SOME---- DATA----- TO INSERT
      -REP 10,70
              THIS----- REPLACES ------SOMETHING
      -INC ASMLE,40,130          THIS ALSO REPLACES
      -INC INDD2(OTHERNAM),150         JUST ONE FROM HIM
      -END             ---JUST TO END IT (NOT EOF JUST END OF CMD)


     -US
     -USAGE

     CALCULATES THE NUMBER OF DIRECTORY BLKS ALLOCATED VS USED, THE
     NUMBER OF MEMBERS AND ALIASES, AND THE NUMBER OF TRKS ALLOCATED VS
     UNUSED.


     -UT
     -UTILITY  MEMBERS,LINE1,LINE2

     ACCEPTS UP TO 100 MODEL STATEMENTS FOLLOWING THIS CARD. THE MODEL
     STATEMENTS ARE REPRODUCED ONCE ON SYSPUNCH FOR EACH MEMBER ACCESSED
     EVERY OCCURRENCE OF THE KEYWORK &NAME IS REPLACED WITH THE CURRENT
     MEMBER NAME. MULTIPLE '&NAME' S ARE ALLOWED AND SUBSTITUTED WITH
     THE MEMBER NAME PER CARD IMAGE.

     A % (PERCENT) IN CC72 COPIES THE STATEMENT TO SYSPUNCH ONLY ONCE AN
     REPLACES THE % WITH A BLANK.
     A $ (DOLLAR) IN CC 72 COPIES THE STATEMENT TO SYSPUNCH ONLY ONCE AN
     LEAVES THE $ AS IS.

     EXAMPLE5:
          //PDSUTIL EXEC PDSPDS,DSN='PDS.FOR.UTILITY'
          //SYSIN DD DATA
          -UTILITY RD.ALL
          //XXX123IN JOB (..JOB STUFF..),NAME,       CC72->       $
          //         CLASS=X                                      %
          //&NAME EXEC ASMFC
          //ASM.SYSIN DD DSN=PDS.FOR.UTILITY(&NAME),DISP=SHR
          /*
     ALL STATEMENTS FOLLOWING -UTILITY ARE 'MODELS', THAT IS, NO FUTHER
     SCANNING FOR COMMANDS OCCURS.

     OPERAND EXAMPLES
     EXAMPLES6:

          //PDSPDS  EXEC PDSPDS,DSN='PDS.TO.EDIT',OUT=T
          //INDD1 DD DNS=OTHER.PDS.FOR.INCS,DISP=SHR
          //SYSIN   DD   *
          -LIST ALL.ALL   LIST ALL MEMBERS

          -SCAN ABC.ALL   EXAMINE MEMBERS THAT START WITH ABC
          -C /DSN=ABC.X/DSN=ABC.Y/    NO ACTUAL UPDATE
          -C /VOL=SER=PNB707/VOL=SER=PNB807/
          -END    -----------SIGNIFY END OF CMD (OPTIONAL IN ALL CASES)

          -LIST PB.ALL    LIST ALL MEMBERS THAT START WITH PB

          -LIST THISMEM,10,50       LIST LINES 10-50

          -EDIT IL020P10,IL010P02       EDIT TWO MEMBERS
          -C /UNIT=3350/UNIT=SYSDA/   UPDATE TO NEW VALUE
          -END    -----------SIGNIFY END

          -SEARCH ALL.ALL
          -C /SPACE=/       LIST ALL OCCURRENCES OF SPACE=
          -END    -----------SIGNIFY END

          -FIND XY--Z.ALL      SEARCH ALL MEMBERS WITH 'XY' IN CC1 AND
          -C /DSN=MYDATA/      'Z' IN CC5.
          -C /VOL=SER=PNBXYZ/     MATCH HAS TO OCCUR TO ALL -C CARDS.
          -C /SPACE=/
          -END    -----------SIGNIFY END

EJECT
          -EDIT SAMPLE
          -F 163,230,(1) /*/      PUT A '*' IN CC1 IN LINES 163-230
          -F 163,230,(71) /*/     AND THE SAME IN CC71
          -F 10,(30)  /*************/    SOME ASTERS IN CC30-42
          -C 50,80,(40,50) /SOMETHING/ANYTHING/
          -END    -----------SIGNIFY END
          //
EJECT
HEAD .030 SUPERGEN - FILE SCAN/DUMP UTILITY
SPAC1OVERVIEW
SPAC11. LIST DATA IN HEX
                <-INPUT  DD SYSUT1 OR 'INDD=..'
                ->OUTPUT DD SYSPRINT
        TWO TYPES OF HEX FORMATS-EITHER LIKE A DUMP OR A CHARACTER ON
        TOP OF HEX.

     2. COPY A DATASET
                <-INPUT  DD SYSUT1 OR 'INDD=..'
                ->OUTPUT DD SYSUT2 OR 'OUTDD=..'
        THIS COPIES LIKE IEBGENER.  THE OUTPUT IS A COPY OF THE INPUT.
        THE RECORDS MAY BE REARRANGED BY YOU TO A NEW FORMAT.

     ** (1) AND (2) MAY BE COMBINED. THE OUTPUT PRODUCED IS CONTROLLED
        BY VARIOUS SELECTION COMMANDS.

     DEFAULT USES THE DSORG,RECFM,BLKSIZE DEFINED IN THE OUTPUT DATASET
     IF CODED OR THE INFORMATION IS COPIED FROM THE INPUT DATASET IF
     OMITTED. THE LRECL AND BLKSIZE OF 'INDD' AND 'OUTDD' MAY BE
     DIFFERENT.
SPAC3CLIST AND BATCH SYNTAX

      THE PROGRAM RUNS IN BOTH FOREGROUND AND BACKGROUND. REFER END OF
      THIS DOCUMENTATION FOR EXECUTION IN BACKGROUND.  REFER TO
      'EXAMPLES'  FOR EXAMPLES.
SPAC2
      TSO USE : %SPGEN  DSNAME    |VOL(..) PRINT(..) SYSUT2(..)|

      BG  USE : //SUPERGEN EXEC SPGEN,OUT=T,GENPARM='OPTIONAL CMDS'
                //SYSUT1 ---- INPUT DD AS REQUIRED.
                //SYSUT2 ---- OUTPUT DD AS REQUIRED.
                //SYSIN DD *- OPTIONAL INPUT COMMANDS.
SPAC3TSO CLIST CMD SYNTAX

      DSNAME    - NAME OF DATASET.

      VOL(..)   - VOLUME SERIAL NUMBER. OVERRIDES SYSTEM CATALOG OR
                  SPECIFIES THE DSNAME LOCATION IF NOT CATALOGED.  THE
                  DATASET MUST EXIST ON SPECIFIED VOLUME.

      PRINT(..) - AFFECTS THE 'SYSPRINT' ALLOCATION STATEMENT.  DEFAULT
                  IS TO THE TUBE.  SPECIFY 'PRINT(SYSOUT)' TO DIRECT THE
                  SYSPRINT TO HARDCPY INSTEAD OF THE TUBE. YOU MUST
                  RE-LOGON OR LOGOFF TO OBTAIN PRINTOUT.  'SYSIN' IS
                  STILL TO THE TUBE.

                  ** PLEASE NOTE THAT NO MESSAGES ARE PRINTED TO THE
                     TUBE. IT IS NOW 'SYSOUT' SO BEWARE.

      SYSUT2(.) - AFFECTS THE 'SYSUT2' ALLOCATION STATEMENT.  DEFAULT
                  IS TO THE TUBE.  SPECIFY 'SYSUT2(SYSOUT)' TO DIRECT
                  SYSUT2 TO HARDCPY INSTEAD OF THE TUBE. YOU MUST
                  RE-LOGON OR LOGOFF TO OBTAIN PRINTOUT.
SPAC3SPECIAL FEATURE

     THE ATTENTION INTERRUPT (PA2) FEATURE IS SUPPORTED IN THIS CLIST
     AND IS NORMALLY USED WHILE DUMPING A DATASET.  TO USE:

     1. PRESS THE PA2 KEY.

     2. IF THE SCREEN IS FULL (END OF PAGE) PRESS THE 'ENTER' KEY TO
        RECEIVE THE MESSAGE IN RESPONSE TO THE PRESSING OF THE PA2 KEY.

     3. KEY IN THE INDICATED RESPONSE AND PRESS 'ENTER'.

     4. IF 'Y' WAS ENTERED THE EXECUTING PROGRAM IS RE-EXECUTED,
        RE-USING YOUR CURRENT OPTIONS AND ALLOCATIONS.

     5. 'N' IS TREATED THE SAME AS '/*' AND ALL ALLOCATIONS ARE FREED.
SPAC3SYNTAX

       ALL COMMANDS APPLY TO BOTH 'FG' AND 'BG' EXECUTION.

       MOST COMMANDS MAY BE ABBREVIATED TO THE MINIMUM REQUIRED TO
       DISTINGUISH ONE FROM THE OTHER. THE ABBREVIATED FORM IS LISTED
       FIRST FOLLOWED BY A COMPLETE SPELLING OF THE COMMAND.  THE
       '=','(', AND ')' MAY BE REPLACED WITH BLANKS WHERE THEY APPEAR.

       'SPECIAL' COMMANDS MUST BE ENTERED IN THEIR ENTIRETY.  (E.G.,
        'EXCP=Y'. REFER TO 'SPECIAL' AT END OF OPERANDS)
SPAC3OPERANDS (SUMMARY)   SUBCOMMANDS FOLLOW:
SPAC1SUBCOMMANDS FOLLOW:
SPAC1MULTIPLE SUBCOMMANDS MAY BE ENTERED ON ONE LINE, SEPARATED BY A
     DELIMITER (A BLANK OR COMMA).  THE SUBCOMMAND 'GO' STARTS THE
     EXECUTION OF THE PROGRAM ACCORDING TO THE COMMAND OPTIONS CHOSEN.
     IF NO SUBCOMMANDS ARE ENTERED AND 'GO' IS ENTERED, YOU GET A
     HEXDUMP OF THE DATA ON TSO AND A COPY OF THE DATA IN 'BG'.  AT THE
     COMPLETION OF THE 'TASK', CONTROL RETURNS TO 'SYSIN FOR MORE INPUT.
     A '/*' ENTERED WITHOUT ANY PRIOR 'GO' IS SIMILAR, EXCEPT THAT THE
     PROGRAM ENDS WHEN THE TASK IS COMPLETED.

     **********************************************************
     *          HERE IS A SUMMARY OF ALL SUBCOMMANDS          *
     **********************************************************

     DUMP=N/Y,HC,ALL                GET A HEXDUMP OF INPUT
     INDD=SYSUT1                    THE INPUT DDNAME
     OUTDD=SYSUT2                   THE OUTPUT DDNAME
     FIND(S,E) CC SKIP/STOP X/C' '  TO FIND DATA
     AND                            COMBINE ALL 'FIND'S
     OR                             ANY FIND WILL DO.
     BLKSIZE=N                      OVERRRIDE THE BLKSIZE (RECFM=U)
     COUNT=N        (DEFAULT=ALL)   # OF OUTPUT RECORDS TO PROCESS
     SKIP=N         (DEFAULT=NONE)  # OF INPUT RECORDS TO SKIP.
     PUNCH(S,E) X/C' '              CREATE AN OUTPUT RECORD.
     MOVE(S,E,I) OR (S,E) X/C' '    SPECIFY WHICH COLUMNS TO COPY
     RESET                          RESET EVERYTHING BACK TO NOTHING
     KEEP=N/Y                       SAVE CMDS FOR REUSE.
     GO                             PERFORM FUNCTIONS
     END                            END EXECUTION
     /*       (PLEASE READ BELOW)   END EXECUTION
     ***  THE FOLLOWING ARE SPECIAL REFER TO SPECIAL PLEASE ***
     DSN=                           DSNAME TO PROCESS
     EXCP=N/Y                       USE EXCP
     VTOC=N/Y                       PROCESS THE VTOC
     CCHHR=CCCCHHHHR
     CYL=C
     HEAD=H
     REC=R
     TTR=TTR
     EOF=N/Y
     DEB=N/Y
EJECT
SPAC2OPERANDS (INDIVIDUALLY EXPLAINED)
SPAC2* COMMENT, ALL INFO AFTER '*' IS TREATED AS COMMENT.

     D DUMP=N/Y     LIST OUTPUT IN 'DUMP' FORMAT.(DDNAME=SYSPRINT)
                    DUMP=Y IS THE DEFAULT IF EXECUTED IN 'FG' TSO.
       DUMP=HC      LIST OUTPUT IN HEX FORMAT WITH TRANSLATION ON TOP
                    OF THE HEX PRINTOUT OF EACH POSITION.
       DUMP=ALL     SPECIAL FORMAT FOR 'EXCP=Y'.READS ALL EXTENTS.

     I INDD=SYSUT1  INPUT DDNAME. EACH TIME 'INDD' IS CODED, THE OLD
                    'INDD' IS CLOSED AND THE NEW 'INDD' IS OPENED.
                    NORMALLY THE INPUT IS LEFT POSITIONED AT THE LAST
                    RECORD READ + 1, UNLESS AN END-OF-FILE IS READ,
                    THEN THE FILE IS CLOSED AND PROCESSING STARTS AT
                    THE BEGINNING AGAIN.

     O OUTDD=SYSUT2 OUTPUT DDNAME. DCB INFORMATION IS COPIED FROM THE
                    'INDD' DATASET IF NOT PRESENT IN THE JCL.  EACH TIME
                    'OUTDD' IS SPECIFIED' THE OLD 'OUTDD' IS CLOSED AND
                    THE NEW 'OUTDD' IS OPENED.  IF THE DDNAME IS MISSING
                    OR THE FILE CANNOT BE SUCCESSFULLY OPENED, A MESSAGE
                    IS ISSUED AND PROCESSING CONTINUES. (E.G. DUMP THE
                    DATA IN HEX)

                    'OUTDD' OR SYSUT2 IS NOT REQUIRED WHEN LISTING WITH
                    DUMP=Y.
SPAC1               **  THIS DATASET REPRESENTS A 'COPY' OF THE 'INDD'
                        DATA AS CONTROLLED BY THE OTHER COMMANDS.

     =N             A SPECIAL FORM IMPLIES NO OUTPUT TO GO TO 'OUTDD'.
                    'N' IS THE DEFAULT WHEN EXECUTED IN 'FG' TSO.

     F FIND  X'----' X=HEX , 2 CHARACTERS PER BYTE.
             C'----' C=CHARACTER.
                     '/' IS ALSO A VALID DELIMITER.
                      DEFINES THE SEARCH STRING.
                      SEARCHES THE WHOLE RECORD FOR THE 'STRING'.

     F FIND(N)=       SAME AS ABOVE-- 'C' OR 'X'.
                      N=COLUMN NUMBER TO SEARCH.
                      COUNTING STARTS AT 1. ADD +4 TO N FOR
                      RECFM=V,VB.  VBS FOR THE RDW.

     F FIND(S,E)=     SAME AS ABOVE-- 'C' OR 'X'.
                      S=STARTING COLUMN
                      E=ENDING COLUMN (DEFAULT IS 'S'.)

     F FIND(S,E) CC SKIP C'----'
                         X'----'
     F FIND(S,E) CC STOP C'----'
                         X'----'
SPAC1                 S=OPTIONAL-STARTING COLUMN (DEFAULT IS COL 1.)
                      E=OPTIONAL-ENDING COLUMN (DEFAULT IS 'S',
                      IF 'S,E' IS NOT CODED, THE WHOLE RECORD IS
                      SEARCHED.
                      CC=OPTIONAL-TYPE OF LOGICAL COMPARISON.
SPAC2                 COMPLETE SPELLING FOR 'CC', 'STOP' AND 'SKIP'.
SPAC1                 EQ= STRING EQUAL (THIS IS DEFAULT.)
                      NE= NOT EQUAL.
                      LT= LESS THAN.
                      GT= GREATER THAN.
                      LE= LESS THAN OR EQUAL TO.
                      GE= GREATER THAN OR EQUAL TO.
                      SKIP=OPTIONAL  THIS 'FIND' WILL START PROCESSING
                      THE INPUT WHEN A MATCH OCCURS. THIS IS THE
                      FIRST RECORD TO PROCESS.
                      STOP=OPTIONAL  THIS 'FIND' WILL STOP PROCESSING
                      THE INPUT WHEN A MATCH OCCURS. THIS IS THE
                      LAST RECORD TO PROCESS.

     AS MANY 'FINDS' AS DESIRED MAY BE ENTERED. EACH 'HIT' WILL BE
     DUMPED TO SYSPRINT OR COPIED TO 'OUTDD' WHEN 'GO' OR '/*' IS
     ENTERED.  REFER TO 'AND' AND 'OR' FOR COMBINING MULTIPLE FINDS.

     USE 'SKIP' TO START PROCESSING THE INPUT DATASET AT THE PLACE WHERE
     THE DATA IS EQUAL TO ANY/ALL OF THE 'FIND..SKIP' SEARCH STRINGS.
     'SKIP=N' MAY BE COMBINED WITH 'SKIP=FIND' (I.E., YOU MAY SKIP 'N'
     RECORDS BEFORE YOU START LOOKING FOR STRING MATCHES).
SPAC3AND/OR APPLY TO ALL 'FIND'S

     AND            IF CODED, ALL OF THE 'FIND' STRINGS MUST COMPARE
                    BEFORE A RECORD IS SELECTED.

     OR             DEFAULT VALUE. IF ANY ONE OF THE 'FIND' STRINGS
                    COMPARE THE RECORD IS SELECTED.

     B BLKSIZE=N    N=MAX BLKSIZE TO READ. IMPLIES RECFM=U. READS
                    '1' PHYSICAL BLOCK ' L.E.' N  BYTES.  ALSO USED
                    WITH 'EXCP=Y'.

     C COUNT=N      N=NUMBER OF OUTPUT RECORDS TO PROCESS. THE COUNT
                    IS INCREMENTED BY 1 EACH TIME A RECORD IS
                    SELECTED.  DEFAULT IS ALL RECORDS.

     S SKIP=N       N=NUMBER OF RECORDS TO SKIP. DEFAULT=NONE.

     P PUNCH(S,E)   X'---'  X=HEX, 2 CHARACTERS PER BYTE.
                    C'---'  C=CHARACTER.
                    S=OPTIONAL-STARTING COLUMN (DEFAULT IS COLUMN 1.)
                    E=OPTIONAL-ENDING COLUMN (DEFAULT IS 'S'),
                    IF 'S,E' IS NOT CODED, THE WHOLE RECORD IS FILLED
                    WITH THE FIRST BYTE OF THE STRING CODED.
                    (PUNCH C'*' WILL FILL AN OUTPUT LINE WITH '*'
                    DO NOT CODE 'E' UNLESS YOU WANT THE FIRST CHARACTER
                    PROPAGATED. FOR EXAMPLE: CODING PUNCH(1,16) C'*DATA
                    WILL GENERATE  '****************DATA'.
SPAC1  NOTE: THIS COMMAND REQUIRES THE DEFAULT 'OUTDD=' OR YOUR OWN.

       ONE (1) OUTPUT RECORD IS CREATED FROM ALL THE 'PUNCH' STATEMENTS
       UP TO THE 'GO' COMMAND. IT IS YOUR RESPONSIBILITY TO SPECIFY EACH
       OUTPUT POSITION. (USE PUNCH WITHOUT 'S,E' AS THE FIRST STATEMENT
       TO FILL THE LINE WITH A DEFAULT CHARACTER.)  IF NO INPUT RECORDS
       ARE TO BE READ AND  YOU JUST WANT TO PUNCH A RECORD, CODE:

               YOUR 'PUNCH' COMMANDS, COUNT=0,GO

       POSITIONS ARE FILLED IN THE ORDER OF THE 'PUNCH' STATEMENTS.  YOU
       MAY USE 'KEEP=Y' TO KEEP THE CMDS ENTERED, THEN EACH 'GO' WILL
       CREATE ONE NEW OUTPUT RECORD BEFORE IT SELECTS FROM THE INPUT AND
       STARTS COPYING IT TO THE 'OUTDD'.  REFER TO 'EX10' FOR AN
       EXAMPLE.

     M MOVE(S,E,I)
                    S=REQD-OUTPUT STARTING COLUMN.
                    E=REQD-OUTPUT ENDING COLUMN.
                    I=REQD-INPUT STARTING COLUMN.
                    THE (S,E) POSITIONS CODED ARE FILLED
                    WITH THE DATA FROM INPUT LOCATION 'I'.
                    NO MOVE IS DONE IF THE DATA DOESN'T FIT.
                    THE OUTPUT SHOULD BE FILLED WITH A DEFAULT FILL
                    CHARACTER (SEE THE NEXT 'M' FORMAT) THEN FOLLOWED BY
                    AS MANY MOVE'S AS REQUIRED TO CREATE A NEW OUTPUT
                    RECORD.
                    M(1,80) C' ',MOVE(1,72,9) WILL COPY
                    COLUMNS 8,80 OF THE INPUT TO COLUMNS 1-72 IN THE
                    OUTPUT WITH BLANKS IN COLUMNS 73,80.

        MOVE(S,E)  X'---'  X=HEX, 2 CHARACTERS PER BYTE.
                   C'---'  C=CHARACTER.
                    S=REQD-OUTPUT STARTING COLUMN.
                    E=OPTIONAL-OUTPUT ENDING COLUMN (DEFAULT=S).
                    THE (S,E) POSITIONS CODED ARE FILLED
                    WITH THE STRING CODED. IF THE STRING IS SHORTER
                    THAN THE OUTPUT LENGTH, THE FIRST BYTE IS PROPAGATED
                    TO FILL OUT THE REMAINDER.
                    E.G. M(1,80) C'*' WILL FILL AN OUTPUT LINE WITH '*'
                    FOR EXAMPLE: CODING MOVE(1,16) C'*DATA'
                    WILL GENERATE  '****************DATA'.
SPAC1  NOTE: THIS COMMAND REQUIRES THE DEFAULT 'OUTDD=' OR YOUR OWN.

       IT IS YOUR RESPONSIBILITY TO SPECIFY EACH OUTPUT POSITION.
       POSITIONS ARE FILLED IN THE ORDER OF THE 'MOVE' STATEMENTS.  YOU
       MAY USE 'KEEP=Y' TO KEEP THE CMDS ENTERED, THEN EACH 'GO' WILL
       CREATE OUTPUT RECORDS FROM THE INPUT ACCORDING TO 'MOVE' S.
       REFER TO 'EX11' FOR AN EXAMPLE.

       THIS COMMAND MAY BE COMBINED WITH ANY OTHER COMMAND TO LIMIT THE
       NUMBER AND TYPE OF DATA.


     R RESET        RESET EVERYTHING BACK TO WHAT IT WAS WHEN PROGRAM
                    'INDD' AND 'OUTDD' NAMES REMAIN AS MODIFIED. THE
                    INPUT FILE IS ALSO CLOSED AND REPOSITIONED AT THE
                    BEGINNING OF THE FILE. THE OUTPUT IS NOT CLOSED.
SPAC1  NOTE: 'DUMP,INDD,OUTDD,DSN' REMAIN IF CODED.

     K KEEP=N/Y     DO NOT RESET SELECTION CMDS ENTERED AT END OF TASK.
                    IF YOU CODE 'KEEP=Y' YOU CAN REPEAT THE LAST SET OF
                    COMMANDS WITHOUT HAVING TO KEY THEM IN AGAIN.  FOR
                    EXAMPLE IF YOU CODE :  FIND X'02',COUNT=1 THEN EACH
                    TIME YOU KEY IN 'GO' IT WOULD TRY TO FIND 1 RECORD
                    AT A TIME THAT HAD A X'02' ANYWHERE IN THE RECORD.
SPAC1  NOTE: THIS DOES NOT APPLY TO 'SKIP=N'. IT RESETS TO '0'.

     G GO           GO AND PERFORM THE FUNCTIONS DEFINED BY PRIOR
                    CONTROL PARAMETERS.

     E END          END EXECUTION.

     /*             SIMILAR TO END BUT WILL PROCESS THE INPUT DATASET
                    ACCORDING TO THE DEFAULT VALUES 'FG'=DUMP,'BG'=COPY.
                    IF NO PREVIOUS 'GO' WAS ENTERED AND END THE PROGRAM
                    IF A 'GO' WAS PREVIOUSLY ENTERED.

     SPECIAL        THE FOLLOWING CMDS MUST BE ENTERED AS SHOWN.
                    PREVIOUS COMMANDS SUCH AS 'DUMP,OUTDD,COUNT,FIND'
                    STILL APPLY, AND MAY BE USED TO LIMIT THE 'READS'.

     DSN=DATA.SET.NAME
                    NAME OF DATASET YOU WANT TO PROCESS. DATASET IS ON
                    VOL POINTED TO BY 'INDD'. DEFAULT IS THE JCL DSN.

     EXCP=N/Y       USE EXCP TO READ THE DATA, MAY BE FOLLOWED BY A
                    BLKSIZE=N, WHERE 'N' IS THE MAXIMUM BLKSIZE TO READ.
                    THE BLKSIZE MAY BE LESS THAN THE ACTUAL SIZE, AND
                    COULD SHORTEN THE OUTPUT IF ITS JUST LOOKING
                    'AROUND'.

                    WILL READ ANY NONVSAM DATASET.
                    CCHHR,KEYLEN,BLKSIZE,TTR AND EOF ARE LISTED.
                    UNLESS A CCHHR,CYL,HEAD,REC, OR TTR IS SPECIFIED,
                    READING STARTS AT THE BEGINNING OF THE DATASET AND
                    STOPS AT THE FIRST 'EOF'.

                    IF 'DUMP=ALL' IS ALSO ENTERED, THE WHOLE EXTENT IS
                    READ AND ALL 'EOFS' OR I/O ERRORS ARE LISTED.  IF
                    EOF=Y IS ALSO ENTERED, ONLY EOF(S) ARE LISTED.

     VTOC=N/Y       PROCESS THE VTOC OF THE PACK POINTED TO BY SYSUT1
                    (INDD) USING EXCP. THE DATA IS PROCESSED 'AS IS'.

     CCHHR=CCCCHHHHRR
                    C,H,R ARE HEXADECIMAL DIGITS REPRESENTING THE DISK
                    ADDRESS TO START AT. MAY BE USED WITH VTOC AND EXCP.
SPAC3OPTIONAL CMDS
SPAC1THE FOLLOWING CMDS FOLLOW EXCP OR VTOC AND ARE OPTIONAL

     CYL=N          N=HEX NUMBER, LEADING ZEROES NOT REQD.
                    BEGIN DISK CYL.

     HEAD=N         N=HEX NUMBER,LEADING ZEROES NOT REQD.
                    BEGIN HEAD.

     REC=N          N=HEX NUMBER,LEADING ZEROES NOT REQD.
                    BEGIN RECORD.

     TTR=NRR        N=HEX NUMBER,LEADING ZEROES NOT REQD.
                    BEGIN RELATIVE TRACK. RR=2 DIGIT HEX NUMBER,
                    GIVING THE BEGINNING RECORD.

     EOF=N/Y        USED WITH EXCP=Y TO LIST ONLY 'EOF' RECORDS.
                    NO DATA RECORDS ARE LISTED.

     DEB=N/Y        BYPASS DEBCHK.
SPAC3EXAMPLES     SOME EXAMPLES OF SUPERGEN IN 'FG' AND 'BG'.
SPAC2EXAMPLES (FOREGROUND)
SPAC2***************************************************
     ******** EXAMPLES OF RUNNING THIS ON 'TSO' ********
     **************************************************

     ALL EXAMPLES FOR 'TSO' ASSUME YOU HAVE KEYED IN 'SPGEN DSNAME'

     EX1:   FIND(3)=C'CHARS TO LOOK FOR'  *  COLUMN 3 FOR LNGTH STRING.
            FIND(1,80)=X'090612'   * SEARCH COLUMNS 1,80 FOR HEX STUFF.
            COUNT=1          * DO IT FOR ONLY 1 RECORD.
            KEEP=Y,GO        * KEEP THIS INFORMATION AND 'GO' AND DO IT
            GO               * AND GO DO IT AGAIN FOR THE SAME.

            THE ABOVE WILL GIVE A 'HEXDUMP' OF ANY 'HIT' ON THE SCREEN
            EACH TIME 'GO' IS ENTERED (DEFAULT IS DUMP=Y FOR TSO).

     EX2:   DUMP=N,OUTDD=SYSUT2,SKIP=6,COUNT=2,GO
            D=N,O=SYSUT2,S=6,C=2,G * SAME AS ABOVE EXCEPT ABBREVIATED.
            D N,O SYSUT2,S 6,C 2,G * SAME AS ABOVE EXCEPT MORE SO.

            THIS WOULD RESULT IN A 'CHARACTER' DISPLAY OF RECORDS 7 AND
            8 ON SYSUT2 WHICH IS DIRECTED TO THE SCREEN.

     EX3:   BLKSIZE(4560),COUNT(5),GO

            NOTICE THE USE OF '(' AND ')' WHICH IS OK.
            THIS DUMPS 5 BLOCKS OF DATA EACH A MAXIMUM OF 4560 BYTES.
            THE DATA IS NOT DEBLOCKED.

     EX4:   DUMP=N,OUTDD=SYSUT2,GO

            THIS WOULD LIST ON THE SCREEN (SYSUT2) THE DATA IN
            'CHARACTER' AS IT APPEARS IN THE FILE.
SPAC3EXAMPLES (BACKGROUND)
SPAC2***************************************************
     ******** EXAMPLES OF RUNNING THIS IN BATCH ********
     ***************************************************

     THE JCL DEFINING THIS JOB IS IN A PROC CALLED 'SPGEN'. IT HAS
     SYMBOLICS :    OUT=A   FOR SYSPRINT OUTPUT CLASS
                    GENPARM=  FOR PARM FIELD ENTRY OF ANY COMMANDS.

     EX5:   //SPGEN EXEC SPGEN,OUT=T
            //SYSUT1  DD  DSN=YOUR.IN.DATA,DISP=SHR  (INPUT DSN)
            //SYSUT2  DD  DSN=YOUR.OUT.DATA,DISP=SHR (OUTPUT DSN)

            IF NO COMMANDS ARE ENTERED THE DEFAULT IS TO COPY THE
            DATASET TO SYSUT2 AS IN A IEBGENER.

     EX6:   //SPGEN EXEC SPGEN,OUT=T
            //SYSUT1  DD  DSN=INPUT,DISP=SHR
            //SYSUT2  DD  DSN=OUTPUT,DISP=SHR
            //SYSIN   DD  *
            DUMP=Y,SKIP=23,COUNT=78,GO

            THIS WILL GIVE A DUMP OF 78 RECORDS (24-101) AND COPY THEM
            TO SYSUT2.

     EX7:   //SUPERGEN EXEC SPGEN,OUT=T
            //INDD1   DD  DSN=SOME.INDATA,DISP=SHR
            //INDD2  DD  DSN=SOME.INDATA2,DISP=SHR
            //OUTDD  DD  DSN=OUT.DATA.SET,DISP=NEW,...
            //SYSIN  DD  *
            INDD=INDD1,OUTDD=OUTDD,GO
            INDD=INDD2,GO
            /*

            THE ABOVE MERGES INDD1+INDD2 AND PLACES IT IN OUTDD.  YOU
            COULD HAVE CONTROLLED THE NUMBER AND TYPE OF RECORDS WITH
            SKIP,COUNT, AND FIND.
            E.G. INDD=INDD1,SKIP=5,FIND(1)=C'THISONE',OUTDD=OUTDD,GO

     EX8:   //SUPERGEN EXEC SPGEN,OUT=T
            //SYSUT1  DD  DSN=INPUT.TO.SEARCH,DISP=SHR
            //SYSUT2  DD  DSN=SELECTED.OUTPUT,DISP=SHR
            //SYSIN  DD  *
            DUMP=Y          * HEXDUMP OF DATA ON SYSPRINT
            FIND(1,80) SKIP X'0571AC'  * START AT THIS HEX STRING.
            FIND(3)=X'65'   * AND PROCESS ALL THESE TYPE OF RECORDS.
            FIND(20) NE STOP X'95' * BUT STOP WHEN COLUMN 20 NE X'95'.
            COUNT=500       * OR WHEN 500 RECORDS HAVE BEEN PROCESSED.
            GO              * GO AND DO IT

            THE ABOVE LOOKS FOR X'0571AC', IT THEN START SELECTING THAT
            RECORD AND 499 MORE RECORDS (=500) OR UNTIL X'95' IS FOUND
            IN COLUMN 20. IT THEN LISTS THE FILE IN HEX AND COPIES  IT.

     EX9:   //SPGEN EXEC SPGEN,OUT=T
            //SYSUT1  DD  DSN=YOUR.DATA.SET,DISP=SHR
            DUMP=Y,OUTDD=N   * DUMP ONLY
            AND              * ALL OF THE 'FIND'S MUST BE TRUE.
            FIND(3) LT X'0010'  * COLUMN 3 LESS THAN '0010'
            FIND(3) GT X'0006'  * AND GREATER THAN '0006'.
            GO                  * GO AND DO

     EX10:  //SPGEN EXEC SPGEN,OUT=T
            //SYSUT1  DD  DSN=INPUT.DATA.SET,DISP=SHR
            //SYSUT2  DD  DSN=OUTPUT.DATA.SET,DISP=SHR
            PUNCH C' '    * DEFAULT FILL IS A BLANK.
            PUNCH 1 C'//JOBNAME JOB (...ETC...) * A JOB CARD
            COUNT=0,GO    * CREATE A RECORD.
            PUNCH C' ',PUNCH 1 C'//STEP1 EXEC PGM=SOMEPROG
            COUNT=0,GO    * CREATE A RECORD.
            PUNCH X'00'      * DEFAULT X'00' FILL.
            PUNCH 3 X'231896'   * THESE HEX STARTING IN POSITION 3.
            PUNCH 15 C'SOME DATA'    * SOME CHARACTER DATA.
            PUNCH 35 X'574123'   * AND SOME MORE HEX.
            COUNT=0,GO    * CREATE A RECORD WITH THE ABOVE DATA.
            GO       *   NOW COPY THE REST OF THE INPUT TO OUTPUT.

            THE ABOVE ASSUMES OUTDD=SYSUT2. IF SYSUT1/2 HAD AN
            LRECL=80 THEN THE FOLLOWING IS CREATED IN SYSUT2:
            //JOBNAME JOB (...ETC...)             RECORD 1.
            //STEP1 EXEC PGM=SOMEPROG             RECORD 2.
            ...THIRD RECORD WITH HEX AND CHAR... RECORD 3.
            ....THE REST OF INPUT...              RECORDS 4 ...ETC.

     EX11:  //SPGEN EXEC SPGEN,OUT=T
            //SYSUT1  DD DSN=DATA.TO.BE.COPIED,DISP=SHR
            //SYSUT2  DD  DSN=OUTPUT.DATA,DISP=SHR
            MOVE(1,80) C' ' * FILL WITH BLANKS
            MOVE(1,4,10)    * MOVE COLUMN 10-13 TO COLUMN 1-4.
            MOVE(5,13,1)    * MOVE COLUMN 1-9 TO COLUMN 5-13.
            GO         * CREATE THE NEW FORMAT OUTPUT.
