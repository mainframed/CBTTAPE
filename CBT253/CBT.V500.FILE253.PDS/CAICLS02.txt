/*   REXX EXEC :  CA-DYNAM/TLMS 5.3 TSO ONLINE TRANSACTION  INTERFACE   */

TRACE O
/*     */
HOUSE_KEEPING:
ADDRESS TSO
CAIVMF   = 'SYSS.TLMS.V5R3M0.VMF'
CAIVMFI  = 'SYSS.TLMS.V5R3M0.VMF'
CAIVMFXI = 'SYSS.TLMS.V5R3M0.VMFINDEX.CLUSTER'
CAIHELP  = 'SYSS.TLMS.V5R3M0.HELPLIB'
"ALLOC F(CAIVMFI) DA('"CAIVMF"') SHR"
"ALLOC F(CAIVMF)  DA('"CAIVMF"') SHR"
"ALLOC F(CAIVMFXI) DA('"CAIVMFXI"') SHR"
"ALLOC F(CAIHELP) DA('"CAIHELP"') SHR"
/*     */
DISPLAY_MAIN_PANEL:
ADDRESS ISPEXEC
"CONTROL DISPLAY LINE START(1)"
ADDRESS TSO "TLTPTSO"
"CONTROL DISPLAY REFRESH"
IF SRC > 8 THEN DO
   "FREE F(CAIVMF)"
   "FREE F(CAIVMFI)"
   "FREE F(CAIVMFXI)"
   "FREE F(CAIHELP)"
   SAY '*** PANEL ERROR: ERROR DISPLAYING PANEL ( CATLMSP1 ). ***'
   SAY '*** CATLMS TSO ONLINE TRANSACTION CANCELLED - RC = 'SRC'. ***   '
END
/*     */
EXIT_TLMS:
ADDRESS TSO
"FREE F(CAIVMF)"
"FREE F(CAIVMFI)"
"FREE F(CAIVMFXI)"
"FREE F(CAIHELP)"
EXIT 0
