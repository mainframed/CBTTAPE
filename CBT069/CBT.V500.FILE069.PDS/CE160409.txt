*
* CODING EXAMPLE 16.4.9
*
*
         AMODE 24                   DEFAULT AMODE
         RMODE 24                   DEFAULT RMODE
         ...
         USING R12,DSAREA           DEFINE GPR FOR DSECT ADRSBLTY
         ...
         SAC   512                  \ SET UP AR ENVIRONMENT
         SYSSTATE ASCENV=AR         /
         ...
         L     R12,DS02ORGN         SET UP ADRSBLTY FOR DSP FIELDS
         LA    R10,DSAREA01         \ LOAD BEG ADDR1 TO BE DUMPED
         ST    R10,DMBGADR1         /
         LA    R10,DSAREA02         \ LOAD END ADDR1 TO BE DUMPED
         ST    R10,DMEDADR1         /
         LA    R10,DSAREA05         \ LOAD BEG ADDR2 TO BE DUMPED
         ST    R10,DMBGADR2         /
         LA    R10,DSAREA06         \ LOAD END ADDR2 TO BE DUMPED
         ST    R10,DMEDADR2         /
         OI    DMENADR2,X'80'       INDICATE END OF PARM-LIST
         MVC   DMTOKEN1,DS02STOK    LOAD STOKEN OF DSP INTO ENTRY1
         MVC   DMTOKEN2,DS02STOK    LOAD STOKEN OF DSP INTO ENTRY2
         ...
         OPEN  (SNAPDCB,(OUTPUT))
         SNAPX DCB=SNAPDCB,DSPSTOR=DUMPLST
         ...
*
DS02ORGN DS    F         BEG ADDR OF DATA SPACE FROM DSPSERV MACRO
DS02STOK DS    D         STOKEN OF DATA SPACE FROM DSPSERV MACRO
*
DUMPLST0 DS    0D        \
DMBGADR1 DS    F          \
DMENADR1 DS    F           \  REQUIRED PARAMETER-LIST TO DUMP
DMTOKEN1 DS    D            | TWO SPECIFIC DATA SPACE AREAS
DMBGADR2 DS    F           /
DMENADR2 DS    F          /
DMTOKEN2 DS    D         /
*
DUMPLST  SNAPX SDATA=SUM,DSPSTOR=DUMPLST0,MF=L
SNAPDCB  DCB   DSORG=PS,MACRF=W,BLKSIZE=1632,LRECL=125,RECFM=VBA,  -
               DDNAME=SNAPDUMP
*
DSAREAS  DSECT
DSAREA01 DS    CL100
DSAREA02 DS    CL150
DSAREA03 DS    CL250
DSAREA04 DS    CL200
DSAREA05 DS    CL500
DSAREA06 DS    CL150
DSAREAX  EQU   *
